/*! For license information please see Layout.worker.js.LICENSE.txt?1bec06f30be79ea1b5d2 */
!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="/dist/",__webpack_require__(__webpack_require__.s=165)}([function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(167)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return __extends})),__webpack_require__.d(__webpack_exports__,"a",(function(){return __assign})),__webpack_require__.d(__webpack_exports__,"e",(function(){return __values})),__webpack_require__.d(__webpack_exports__,"c",(function(){return __read})),__webpack_require__.d(__webpack_exports__,"d",(function(){return __spread}));var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(process,global){__webpack_require__.d(__webpack_exports__,"d",(function(){return dynamicRequire})),__webpack_require__.d(__webpack_exports__,"j",(function(){return isNodeEnv})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getGlobalObject})),__webpack_require__.d(__webpack_exports__,"n",(function(){return uuid4})),__webpack_require__.d(__webpack_exports__,"l",(function(){return parseUrl})),__webpack_require__.d(__webpack_exports__,"e",(function(){return getEventDescription})),__webpack_require__.d(__webpack_exports__,"c",(function(){return consoleSandbox})),__webpack_require__.d(__webpack_exports__,"b",(function(){return addExceptionTypeValue})),__webpack_require__.d(__webpack_exports__,"a",(function(){return addExceptionMechanism})),__webpack_require__.d(__webpack_exports__,"h",(function(){return getLocationHref})),__webpack_require__.d(__webpack_exports__,"i",(function(){return htmlTreeAsString})),__webpack_require__.d(__webpack_exports__,"m",(function(){return timestampWithMs})),__webpack_require__.d(__webpack_exports__,"k",(function(){return parseRetryAfterHeader})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getFunctionName}));var _is__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);function dynamicRequire(mod,request){return mod.require(request)}function isNodeEnv(){return"[object process]"===Object.prototype.toString.call(void 0!==process?process:0)}var fallbackGlobalObject={};function getGlobalObject(){return isNodeEnv()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:fallbackGlobalObject}function uuid4(){var global=getGlobalObject(),crypto=global.crypto||global.msCrypto;if(void 0!==crypto&&crypto.getRandomValues){var arr=new Uint16Array(8);crypto.getRandomValues(arr),arr[3]=4095&arr[3]|16384,arr[4]=16383&arr[4]|32768;var pad=function(num){for(var v=num.toString(16);v.length<4;)v="0"+v;return v};return pad(arr[0])+pad(arr[1])+pad(arr[2])+pad(arr[3])+pad(arr[4])+pad(arr[5])+pad(arr[6])+pad(arr[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)}))}function parseUrl(url){if(!url)return{};var match=url.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!match)return{};var query=match[6]||"",fragment=match[8]||"";return{host:match[4],path:match[5],protocol:match[2],relative:match[5]+query+fragment}}function getEventDescription(event){if(event.message)return event.message;if(event.exception&&event.exception.values&&event.exception.values[0]){var exception=event.exception.values[0];return exception.type&&exception.value?exception.type+": "+exception.value:exception.type||exception.value||event.event_id||"<unknown>"}return event.event_id||"<unknown>"}function consoleSandbox(callback){var global=getGlobalObject();if(!("console"in global))return callback();var originalConsole=global.console,wrappedLevels={};["debug","info","warn","error","log","assert"].forEach((function(level){level in global.console&&originalConsole[level].__sentry_original__&&(wrappedLevels[level]=originalConsole[level],originalConsole[level]=originalConsole[level].__sentry_original__)}));var result=callback();return Object.keys(wrappedLevels).forEach((function(level){originalConsole[level]=wrappedLevels[level]})),result}function addExceptionTypeValue(event,value,type){event.exception=event.exception||{},event.exception.values=event.exception.values||[],event.exception.values[0]=event.exception.values[0]||{},event.exception.values[0].value=event.exception.values[0].value||value||"",event.exception.values[0].type=event.exception.values[0].type||type||"Error"}function addExceptionMechanism(event,mechanism){void 0===mechanism&&(mechanism={});try{event.exception.values[0].mechanism=event.exception.values[0].mechanism||{},Object.keys(mechanism).forEach((function(key){event.exception.values[0].mechanism[key]=mechanism[key]}))}catch(_oO){}}function getLocationHref(){try{return document.location.href}catch(oO){return""}}function htmlTreeAsString(elem){try{for(var currentElem=elem,out=[],height=0,len=0,sepLength=" > ".length,nextStr=void 0;currentElem&&height++<5&&!("html"===(nextStr=_htmlElementAsString(currentElem))||height>1&&len+out.length*sepLength+nextStr.length>=80);)out.push(nextStr),len+=nextStr.length,currentElem=currentElem.parentNode;return out.reverse().join(" > ")}catch(_oO){return"<unknown>"}}function _htmlElementAsString(el){var className,classes,key,attr,i,elem=el,out=[];if(!elem||!elem.tagName)return"";if(out.push(elem.tagName.toLowerCase()),elem.id&&out.push("#"+elem.id),(className=elem.className)&&Object(_is__WEBPACK_IMPORTED_MODULE_0__.k)(className))for(classes=className.split(/\s+/),i=0;i<classes.length;i++)out.push("."+classes[i]);var attrWhitelist=["type","name","title","alt"];for(i=0;i<attrWhitelist.length;i++)key=attrWhitelist[i],(attr=elem.getAttribute(key))&&out.push("["+key+'="'+attr+'"]');return out.join("")}function timestampWithMs(){return(new Date).getTime()/1e3}function parseRetryAfterHeader(now,header){if(!header)return 6e4;var headerDelay=parseInt(""+header,10);if(!isNaN(headerDelay))return 1e3*headerDelay;var headerDate=Date.parse(""+header);return isNaN(headerDate)?6e4:headerDate-now}function getFunctionName(fn){try{return fn&&"function"==typeof fn&&fn.name||"<anonymous>"}catch(e){return"<anonymous>"}}}).call(this,__webpack_require__(16),__webpack_require__(8))},,function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){__webpack_require__.d(__webpack_exports__,"b",(function(){return fill})),__webpack_require__.d(__webpack_exports__,"e",(function(){return urlEncode})),__webpack_require__.d(__webpack_exports__,"d",(function(){return normalizeToSize})),__webpack_require__.d(__webpack_exports__,"c",(function(){return normalize})),__webpack_require__.d(__webpack_exports__,"a",(function(){return extractExceptionKeysForMessage}));var _is__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_memo__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(164),_misc__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_string__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(98);function fill(source,name,replacement){if(name in source){var original=source[name],wrapped=replacement(original);if("function"==typeof wrapped)try{wrapped.prototype=wrapped.prototype||{},Object.defineProperties(wrapped,{__sentry_original__:{enumerable:!1,value:original}})}catch(_Oo){}source[name]=wrapped}}function urlEncode(object){return Object.keys(object).map((function(key){return encodeURIComponent(key)+"="+encodeURIComponent(object[key])})).join("&")}function getWalkSource(value){if(Object(_is__WEBPACK_IMPORTED_MODULE_0__.d)(value)){var error=value,err={message:error.message,name:error.name,stack:error.stack};for(var i in error)Object.prototype.hasOwnProperty.call(error,i)&&(err[i]=error[i]);return err}if(Object(_is__WEBPACK_IMPORTED_MODULE_0__.f)(value)){var event_1=value,source={};source.type=event_1.type;try{source.target=Object(_is__WEBPACK_IMPORTED_MODULE_0__.c)(event_1.target)?Object(_misc__WEBPACK_IMPORTED_MODULE_2__.i)(event_1.target):Object.prototype.toString.call(event_1.target)}catch(_oO){source.target="<unknown>"}try{source.currentTarget=Object(_is__WEBPACK_IMPORTED_MODULE_0__.c)(event_1.currentTarget)?Object(_misc__WEBPACK_IMPORTED_MODULE_2__.i)(event_1.currentTarget):Object.prototype.toString.call(event_1.currentTarget)}catch(_oO){source.currentTarget="<unknown>"}for(var i in"undefined"!=typeof CustomEvent&&Object(_is__WEBPACK_IMPORTED_MODULE_0__.g)(value,CustomEvent)&&(source.detail=event_1.detail),event_1)Object.prototype.hasOwnProperty.call(event_1,i)&&(source[i]=event_1);return source}return value}function jsonSize(value){return function(value){return~-encodeURI(value).split(/%..|./).length}(JSON.stringify(value))}function normalizeToSize(object,depth,maxSize){void 0===depth&&(depth=3),void 0===maxSize&&(maxSize=102400);var serialized=normalize(object,depth);return jsonSize(serialized)>maxSize?normalizeToSize(object,depth-1,maxSize):serialized}function normalizeValue(value,key){return"domain"===key&&value&&"object"==typeof value&&value._events?"[Domain]":"domainEmitter"===key?"[DomainEmitter]":void 0!==global&&value===global?"[Global]":"undefined"!=typeof window&&value===window?"[Window]":"undefined"!=typeof document&&value===document?"[Document]":Object(_is__WEBPACK_IMPORTED_MODULE_0__.l)(value)?"[SyntheticEvent]":"number"==typeof value&&value!=value?"[NaN]":void 0===value?"[undefined]":"function"==typeof value?"[Function: "+Object(_misc__WEBPACK_IMPORTED_MODULE_2__.f)(value)+"]":value}function walk(key,value,depth,memo){if(void 0===depth&&(depth=1/0),void 0===memo&&(memo=new _memo__WEBPACK_IMPORTED_MODULE_1__.a),0===depth)return function(value){var type=Object.prototype.toString.call(value);if("string"==typeof value)return value;if("[object Object]"===type)return"[Object]";if("[object Array]"===type)return"[Array]";var normalized=normalizeValue(value);return Object(_is__WEBPACK_IMPORTED_MODULE_0__.i)(normalized)?normalized:type}(value);if(null!=value&&"function"==typeof value.toJSON)return value.toJSON();var normalized=normalizeValue(value,key);if(Object(_is__WEBPACK_IMPORTED_MODULE_0__.i)(normalized))return normalized;var source=getWalkSource(value),acc=Array.isArray(value)?[]:{};if(memo.memoize(value))return"[Circular ~]";for(var innerKey in source)Object.prototype.hasOwnProperty.call(source,innerKey)&&(acc[innerKey]=walk(innerKey,source[innerKey],depth-1,memo));return memo.unmemoize(value),acc}function normalize(input,depth){try{return JSON.parse(JSON.stringify(input,(function(key,value){return walk(key,value,depth)})))}catch(_oO){return"**non-serializable**"}}function extractExceptionKeysForMessage(exception,maxLength){void 0===maxLength&&(maxLength=40);var keys=Object.keys(getWalkSource(exception));if(keys.sort(),!keys.length)return"[object has no keys]";if(keys[0].length>=maxLength)return Object(_string__WEBPACK_IMPORTED_MODULE_3__.c)(keys[0],maxLength);for(var includedKeys=keys.length;includedKeys>0;includedKeys--){var serialized=keys.slice(0,includedKeys).join(", ");if(!(serialized.length>maxLength))return includedKeys===keys.length?serialized:Object(_string__WEBPACK_IMPORTED_MODULE_3__.c)(serialized,maxLength)}return""}}).call(this,__webpack_require__(8))},function(module,__webpack_exports__,__webpack_require__){"use strict";function isError(wat){switch(Object.prototype.toString.call(wat)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf(wat,Error)}}function isErrorEvent(wat){return"[object ErrorEvent]"===Object.prototype.toString.call(wat)}function isDOMError(wat){return"[object DOMError]"===Object.prototype.toString.call(wat)}function isDOMException(wat){return"[object DOMException]"===Object.prototype.toString.call(wat)}function isString(wat){return"[object String]"===Object.prototype.toString.call(wat)}function isPrimitive(wat){return null===wat||"object"!=typeof wat&&"function"!=typeof wat}function isPlainObject(wat){return"[object Object]"===Object.prototype.toString.call(wat)}function isEvent(wat){return"undefined"!=typeof Event&&isInstanceOf(wat,Event)}function isElement(wat){return"undefined"!=typeof Element&&isInstanceOf(wat,Element)}function isRegExp(wat){return"[object RegExp]"===Object.prototype.toString.call(wat)}function isThenable(wat){return Boolean(wat&&wat.then&&"function"==typeof wat.then)}function isSyntheticEvent(wat){return isPlainObject(wat)&&"nativeEvent"in wat&&"preventDefault"in wat&&"stopPropagation"in wat}function isInstanceOf(wat,base){try{return wat instanceof base}catch(_e){return!1}}__webpack_require__.d(__webpack_exports__,"d",(function(){return isError})),__webpack_require__.d(__webpack_exports__,"e",(function(){return isErrorEvent})),__webpack_require__.d(__webpack_exports__,"a",(function(){return isDOMError})),__webpack_require__.d(__webpack_exports__,"b",(function(){return isDOMException})),__webpack_require__.d(__webpack_exports__,"k",(function(){return isString})),__webpack_require__.d(__webpack_exports__,"i",(function(){return isPrimitive})),__webpack_require__.d(__webpack_exports__,"h",(function(){return isPlainObject})),__webpack_require__.d(__webpack_exports__,"f",(function(){return isEvent})),__webpack_require__.d(__webpack_exports__,"c",(function(){return isElement})),__webpack_require__.d(__webpack_exports__,"j",(function(){return isRegExp})),__webpack_require__.d(__webpack_exports__,"m",(function(){return isThenable})),__webpack_require__.d(__webpack_exports__,"l",(function(){return isSyntheticEvent})),__webpack_require__.d(__webpack_exports__,"g",(function(){return isInstanceOf}))},function(module,exports,__webpack_require__){"use strict";(function(process,global){Object.defineProperty(exports,"__esModule",{value:!0});var _extends=__webpack_require__(169),_objectSpread=__webpack_require__(170),_defineProperty=__webpack_require__(99),mapValues=__webpack_require__(171),pickBy=__webpack_require__(237),React=__webpack_require__(0),glMatrix=__webpack_require__(512),reselect=__webpack_require__(242),normalizeWheel=__webpack_require__(243),createREGL=__webpack_require__(248),shallowequal=__webpack_require__(249),last=__webpack_require__(121),draco3d=__webpack_require__(250),omit=__webpack_require__(253),memoize=__webpack_require__(118),flatten=__webpack_require__(123),distance=__webpack_require__(285),_objectWithoutProperties=__webpack_require__(286),earcut=__webpack_require__(288),TinySDF=__webpack_require__(289),difference=__webpack_require__(290),memoizeOne=__webpack_require__(300),memoizeWeak=__webpack_require__(301);function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach((function(k){if("default"!==k){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:!0,get:function(){return e[k]}})}})),n.default=e,Object.freeze(n)}var _extends__default=_interopDefaultLegacy(_extends),_objectSpread__default=_interopDefaultLegacy(_objectSpread),_defineProperty__default=_interopDefaultLegacy(_defineProperty),mapValues__default=_interopDefaultLegacy(mapValues),pickBy__default=_interopDefaultLegacy(pickBy),React__namespace=_interopNamespace(React),React__default=_interopDefaultLegacy(React),normalizeWheel__default=_interopDefaultLegacy(normalizeWheel),createREGL__default=_interopDefaultLegacy(createREGL),shallowequal__default=_interopDefaultLegacy(shallowequal),last__default=_interopDefaultLegacy(last),draco3d__default=_interopDefaultLegacy(draco3d),omit__default=_interopDefaultLegacy(omit),memoize__default=_interopDefaultLegacy(memoize),flatten__default=_interopDefaultLegacy(flatten),distance__default=_interopDefaultLegacy(distance),_objectWithoutProperties__default=_interopDefaultLegacy(_objectWithoutProperties),earcut__default=_interopDefaultLegacy(earcut),TinySDF__default=_interopDefaultLegacy(TinySDF),difference__default=_interopDefaultLegacy(difference),memoizeOne__default=_interopDefaultLegacy(memoizeOne),memoizeWeak__default=_interopDefaultLegacy(memoizeWeak);class BoundingBox{constructor(left,top){_defineProperty__default.default(this,"left",void 0),_defineProperty__default.default(this,"right",void 0),_defineProperty__default.default(this,"top",void 0),_defineProperty__default.default(this,"bottom",void 0),_defineProperty__default.default(this,"width",void 0),_defineProperty__default.default(this,"height",void 0),this.left=left,this.top=top,this.right=-left,this.bottom=-top,this.width=2*Math.abs(left),this.height=2*Math.abs(top)}}function getOrthographicBounds(zDistance,width,height){const aspect=width/height,distanceToGround=Math.abs(zDistance);return new BoundingBox(-distanceToGround/2*aspect,distanceToGround/2)}const tmp4=[0,0,0,0];const DEFAULT_TEXT_COLOR$1={r:1,g:1,b:1,a:1},pointToVec3$1=({x:x,y:y,z:z})=>[x,y,z],orientationToVec4=({x:x,y:y,z:z,w:w})=>[x,y,z,w],vec3ToPoint=([x,y,z])=>({x:x,y:y,z:z}),vec4ToOrientation=([x,y,z,w])=>({x:x,y:y,z:z,w:w}),pointToVec3Array=points=>{const result=new Float32Array(3*points.length);let i=0;for(const _ref of points){const{x:x,y:y,z:z}=_ref;result[i++]=x,result[i++]=y,result[i++]=z}return result},toRGBA=val=>[val.r,val.g,val.b,val.a],vec4ToRGBA=color=>({r:color[0],g:color[1],b:color[2],a:color[3]}),toColor=val=>Array.isArray(val)?vec4ToRGBA(val):val;function getCSSColor(color=DEFAULT_TEXT_COLOR$1){const{r:r,g:g,b:b,a:a}=color;return`rgba(${(255*r).toFixed()}, ${(255*g).toFixed()}, ${(255*b).toFixed()}, ${a.toFixed(3)})`}const toRGBAArray=colors=>{const result=new Float32Array(4*colors.length);let i=0;for(const _ref2 of colors){const{r:r,g:g,b:b,a:a}=_ref2;result[i++]=r,result[i++]=g,result[i++]=b,result[i++]=a}return result},defaultReglBlend={enable:!0,func:{src:"src alpha",dst:"one minus src alpha",srcAlpha:1,dstAlpha:"one minus src alpha"},equation:{rgb:"add",alpha:"add"}},defaultReglDepth={enable:!0,mask:!0},defaultDepth={enable:(context,props)=>props.depth&&props.depth.enable||defaultReglDepth.enable,mask:(context,props)=>props.depth&&props.depth.mask||defaultReglDepth.mask},defaultBlend=_objectSpread__default.default({},defaultReglBlend,{enable:(context,props)=>props.blend&&props.blend.enable||defaultReglBlend.enable,func:(context,props)=>props.blend&&props.blend.func||defaultReglBlend.func}),blend=defaultBlend;function withPose(command){const{vert:vert,uniforms:uniforms}=command,newVert=vert.replace("#WITH_POSE","\n  uniform vec3 _position;\n  uniform vec4 _rotation;\n\n  // rotate a 3d point v by a rotation quaternion q\n  vec3 rotate(vec3 v, vec4 q) {\n    vec3 temp = cross(q.xyz, v) + q.w * v;\n    return v + (2.0 * cross(q.xyz, temp));\n  }\n\n  vec3 applyPose(vec3 point) {\n    // rotate the point and then add the position of the pose\n    return rotate(point, _rotation) + _position;\n  }\n"),newUniforms=_objectSpread__default.default({},uniforms,{_position:(context,props)=>{const{position:position}=props.pose;return Array.isArray(position)?position:pointToVec3$1(position)},_rotation:(context,props)=>{const{orientation:r}=props.pose;return Array.isArray(r)?r:[r.x,r.y,r.z,r.w]}});return _objectSpread__default.default({},command,{vert:newVert,uniforms:newUniforms})}function getVertexColors({colors:colors,color:color,points:points}){return colors&&colors.length||!color?colors?shouldConvert(colors)?toRGBAArray(colors):colors:[]:((count,{r:r,g:g,b:b,a:a})=>{const result=new Float32Array(4*count);for(let i=0;i<count;i++)result[4*i+0]=r,result[4*i+1]=g,result[4*i+2]=b,result[4*i+3]=a;return result})(points.length,color)}function colorBuffer(regl){const buffer=regl.buffer({usage:"dynamic",data:[]});return function(color,colors,length){let data,divisor;return colors&&colors.length?(data=shouldConvert(colors)?toRGBAArray(colors):colors,divisor=1):(data=shouldConvert(color)?toRGBA(color):color,divisor=length),{buffer:buffer({usage:"dynamic",data:data}),divisor:divisor}}}function shouldConvert(props){return!(!props||(arr=props,arr.length&&Array.isArray(arr[0]))||!isNaN(props[0]));var arr}function intToRGB(i=0){return[(i>>16&255)/255,(i>>8&255)/255,(255&i)/255,1]}function getIdFromPixel(rgb){const r=rgb[0],g=rgb[1];return rgb[2]|g<<8|r<<16}function fromSpherical(out,r,theta,phi){const rSinPhi=r*Math.sin(phi);return out[0]=rSinPhi*Math.sin(theta),out[1]=r*Math.cos(phi),out[2]=rSinPhi*Math.cos(theta),out}const UNIT_X_VECTOR$1=Object.freeze([1,0,0]),TEMP_VEC3=[0,0,0],TEMP_MAT$1=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],TEMP_QUAT$1=[0,0,0,0],stateSelector=state=>state,perspectiveSelector=reselect.createSelector(stateSelector,({perspective:perspective})=>perspective),distanceSelector=reselect.createSelector(stateSelector,({distance:distance})=>distance),phiSelector=reselect.createSelector(stateSelector,({phi:phi})=>phi),thetaOffsetSelector=reselect.createSelector(stateSelector,({thetaOffset:thetaOffset})=>thetaOffset),targetOrientationSelector=reselect.createSelector(stateSelector,({targetOrientation:targetOrientation})=>targetOrientation),targetHeadingSelector=reselect.createSelector(targetOrientationSelector,targetOrientation=>{const out=glMatrix.vec3.transformQuat(TEMP_VEC3,UNIT_X_VECTOR$1,targetOrientation);return-Math.atan2(out[1],out[0])}),orientationSelector=reselect.createSelector(perspectiveSelector,phiSelector,thetaOffsetSelector,(perspective,phi,thetaOffset)=>{const result=glMatrix.quat.identity([0,0,0,0]);return glMatrix.quat.rotateZ(result,result,-thetaOffset),perspective&&glMatrix.quat.rotateX(result,result,phi),result}),positionSelector=reselect.createSelector(thetaOffsetSelector,phiSelector,distanceSelector,(thetaOffset,phi,distance)=>{const position=fromSpherical([],distance,thetaOffset,phi),[x,y,z]=position;return position[0]=-x,position[1]=-z,position[2]=y,position});var selectors={orientation:orientationSelector,position:positionSelector,targetHeading:targetHeadingSelector,view:reselect.createSelector(stateSelector,orientationSelector,positionSelector,targetHeadingSelector,({target:target,targetOffset:targetOffset,perspective:perspective},orientation,position,targetHeading)=>{const m=glMatrix.mat4.identity([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);return glMatrix.mat4.multiply(m,m,glMatrix.mat4.fromQuat(TEMP_MAT$1,glMatrix.quat.invert(TEMP_QUAT$1,orientation))),perspective&&glMatrix.mat4.translate(m,m,glMatrix.vec3.negate(TEMP_VEC3,position)),glMatrix.mat4.translate(m,m,glMatrix.vec3.negate(TEMP_VEC3,targetOffset)),glMatrix.mat4.rotateZ(m,m,targetHeading),glMatrix.vec3.negate(TEMP_VEC3,target),perspective||(TEMP_VEC3[2]=-2500),glMatrix.mat4.translate(m,m,TEMP_VEC3),m}),billboardRotation:reselect.createSelector(orientationSelector,targetHeadingSelector,(orientation,targetHeading)=>{const m=glMatrix.mat4.identity(glMatrix.mat4.create());return glMatrix.mat4.rotateZ(m,m,-targetHeading),glMatrix.mat4.multiply(m,m,glMatrix.mat4.fromQuat(TEMP_MAT$1,orientation)),m})};const UNIT_Z_VECTOR=Object.freeze([0,0,1]),TEMP_QUAT=[0,0,0,0],DEFAULT_CAMERA_STATE={distance:75,perspective:!0,phi:Math.PI/4,target:[0,0,0],targetOffset:[0,0,0],targetOrientation:[0,0,0,1],thetaOffset:0,fovy:Math.PI/4,near:.01,far:5e3};class CameraStore{constructor(handler=(()=>{}),initialCameraState=DEFAULT_CAMERA_STATE){_defineProperty__default.default(this,"state",void 0),_defineProperty__default.default(this,"_onChange",void 0),_defineProperty__default.default(this,"setCameraState",state=>{for(const[key,value]of Object.entries(DEFAULT_CAMERA_STATE))null==state[key]&&(state[key]=value);this.state=state}),_defineProperty__default.default(this,"cameraRotate",([x,y])=>{if(0===x&&0===y)return;const{thetaOffset:thetaOffset,phi:phi}=this.state;this.setCameraState(_objectSpread__default.default({},this.state,{thetaOffset:thetaOffset-x,phi:Math.max(0,Math.min(phi+y,Math.PI))})),this._onChange(this.state)}),_defineProperty__default.default(this,"cameraMove",([x,y])=>{if(0===x&&0===y)return;const{targetOffset:targetOffset,thetaOffset:thetaOffset}=this.state,result=[x,y,0],offset=glMatrix.vec3.transformQuat(result,result,glMatrix.quat.setAxisAngle(TEMP_QUAT,UNIT_Z_VECTOR,-thetaOffset));this.setCameraState(_objectSpread__default.default({},this.state,{targetOffset:glMatrix.vec3.add(offset,targetOffset,offset)})),this._onChange(this.state)}),_defineProperty__default.default(this,"cameraZoom",zoomPercent=>{const{distance:distance}=this.state,newDistance=function(startingDistance,zoomPercent){return Math.max(.001,startingDistance*(1-zoomPercent/100))}(distance,zoomPercent);distance!==newDistance&&(this.setCameraState(_objectSpread__default.default({},this.state,{distance:newDistance})),this._onChange(this.state))}),this._onChange=handler,this.setCameraState(initialCameraState)}}const TEMP_MAT=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var camera=regl=>{if(!regl)throw new Error("Invalid regl instance");return class{constructor(){_defineProperty__default.default(this,"viewportWidth",0),_defineProperty__default.default(this,"viewportHeight",0),_defineProperty__default.default(this,"cameraState",DEFAULT_CAMERA_STATE),_defineProperty__default.default(this,"draw",regl({context:{projection(context,props){const{viewportWidth:viewportWidth,viewportHeight:viewportHeight}=context;return this.viewportWidth=viewportWidth,this.viewportHeight=viewportHeight,this.cameraState=props,this.getProjection()},view(context,props){return this.getView()},billboardRotation(context,props){return selectors.billboardRotation(this.cameraState)},isPerspective(context,props){return this.cameraState.perspective},fovy(context,props){return this.cameraState.fovy}},uniforms:{view:regl.context("view"),billboardRotation:regl.context("billboardRotation"),projection:regl.context("projection")}}))}getProjection(){const{near:near,far:far,distance:distance,fovy:fovy}=this.cameraState;if(!this.cameraState.perspective){const bounds=getOrthographicBounds(distance,this.viewportWidth,this.viewportHeight),{left:left,right:right,bottom:bottom,top:top}=bounds;return glMatrix.mat4.ortho([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],left,right,bottom,top,near,far)}const aspect=this.viewportWidth/this.viewportHeight;return glMatrix.mat4.perspective([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],fovy,aspect,near,far)}getView(){return selectors.view(this.cameraState)}toScreenCoord(viewport,point){const projection=this.getProjection(),view=selectors.view(this.cameraState),combinedProjView=glMatrix.mat4.multiply(TEMP_MAT,projection,view),[x,y,z,w]=function(out,vec,viewport,combinedProjView){const vX=viewport[0],vY=viewport[1],vWidth=viewport[2],vHeight=viewport[3];glMatrix.vec4.set(tmp4,vec[0],vec[1],vec[2],1),glMatrix.vec4.transformMat4(tmp4,tmp4,combinedProjView);const w=tmp4[3];return 0!==w&&(tmp4[0]=tmp4[0]/w,tmp4[1]=tmp4[1]/w,tmp4[2]=tmp4[2]/w),out[0]=vX+vWidth/2*tmp4[0]+(0+vWidth/2),out[1]=vY+vHeight/2*tmp4[1]+(0+vHeight/2),out[2]=.5*tmp4[2]+.5,out[3]=0===w?0:1/w,out}([],point,viewport,combinedProjView);if(z<0||z>1||w<0)return;const diffY=viewport[3]+viewport[1];return[x-viewport[0],diffY-y,z]}}};const DEFAULT_KEYMAP={KeyA:"moveLeft",KeyD:"moveRight",KeyE:"rotateRight",KeyF:"tiltUp",KeyQ:"rotateLeft",KeyR:"tiltDown",KeyS:"moveDown",KeyW:"moveUp",KeyX:"zoomOut",KeyZ:"zoomIn"};class CameraListener extends React__namespace.Component{constructor(...args){super(...args),_defineProperty__default.default(this,"_keyTimer",void 0),_defineProperty__default.default(this,"_keys",new Set),_defineProperty__default.default(this,"_buttons",new Set),_defineProperty__default.default(this,"_listeners",[]),_defineProperty__default.default(this,"_shiftKey",!1),_defineProperty__default.default(this,"_metaKey",!1),_defineProperty__default.default(this,"_ctrlKey",!1),_defineProperty__default.default(this,"_el",void 0),_defineProperty__default.default(this,"_rect",void 0),_defineProperty__default.default(this,"_initialMouse",void 0),_defineProperty__default.default(this,"_getMouseOnScreen",mouse=>{const{clientX:clientX,clientY:clientY}=mouse,{top:top,left:left,width:width,height:height}=this._rect;return[(clientX-left)/width,(clientY-top)/height]}),_defineProperty__default.default(this,"_onMouseDown",e=>{const{_el:_el}=this;_el&&(e.preventDefault(),this._buttons.add(e.button),_el.focus(),this._rect=_el.getBoundingClientRect(),this._initialMouse=this._getMouseOnScreen(e),this.startDragging(e))}),_defineProperty__default.default(this,"_onWindowMouseMove",e=>{if(!this._buttons.size)return;this._shiftKey=e.shiftKey;const{cameraStore:{cameraMove:cameraMove,cameraRotate:cameraRotate,state:{perspective:perspective}}}=this.props;let moveX,moveY;const mouse=this._getMouseOnScreen(e);if(document.pointerLockElement&&(e.movementX||e.movementY)?(moveX=-e.movementX/this._rect.width,moveY=-e.movementY/this._rect.height):(moveX=this._initialMouse[0]-mouse[0],moveY=this._initialMouse[1]-mouse[1]),this._initialMouse=mouse,this._isRightMouseDown()){const magnitude=this._getMagnitude(4);cameraRotate([(perspective?moveX:-moveX)*magnitude,perspective?moveY*magnitude:0])}if(this._isLeftMouseDown()){const{x:x,y:y}=this._getMoveMagnitude();cameraMove([this._getMagnitude(moveX*x),this._getMagnitude(-moveY*y)])}}),_defineProperty__default.default(this,"_onMouseUp",e=>{this._buttons.delete(e.button),this._endDragging()}),_defineProperty__default.default(this,"_onWindowMouseUp",e=>{const{_el:_el}=this;_el&&(_el.contains(e.target)||e.target===_el||(this._buttons.clear(),this._endDragging()))}),_defineProperty__default.default(this,"_getKeyMotion",code=>{const moveSpeed=this._getMagnitude(.3),zoomSpeed=this._getMagnitude(150),spinSpeed=this._getMagnitude(1.5),{keyMap:keyMap,shiftKeys:shiftKeys}=this.props,action=keyMap&&keyMap[code]||DEFAULT_KEYMAP[code]||!1;if(this._shiftKey&&!shiftKeys)return null;switch(action){case"moveRight":return{x:moveSpeed};case"moveLeft":return{x:-moveSpeed};case"moveUp":return{y:moveSpeed};case"moveDown":return{y:-moveSpeed};case"zoomIn":return{zoom:zoomSpeed};case"zoomOut":return{zoom:-zoomSpeed};case"rotateLeft":return{yaw:-spinSpeed};case"rotateRight":return{yaw:spinSpeed};case"tiltUp":return{tilt:-spinSpeed};case"tiltDown":return{tilt:spinSpeed};case!1:return null;default:return console.warn("Unrecognized key action:",action),null}}),_defineProperty__default.default(this,"_onKeyDown",e=>{const{keyMap:keyMap}=this.props;this._shiftKey=e.shiftKey,this._metaKey=e.metaKey,this._ctrlKey=e.ctrlKey;const code=e.nativeEvent.code;return e.repeat||this._keys.has(code)?(e.stopPropagation(),void e.preventDefault()):e.altKey||e.ctrlKey||e.metaKey?void 0:!(keyMap&&code in keyMap&&!keyMap[code])&&void(this._getKeyMotion(code)&&(this._keys.add(code),this._startKeyTimer(),e.stopPropagation(),e.preventDefault()))}),_defineProperty__default.default(this,"_onKeyUp",e=>{this._shiftKey=e.shiftKey,this._metaKey=e.metaKey,this._ctrlKey=e.ctrlKey,this._keys.delete(e.nativeEvent.code)}),_defineProperty__default.default(this,"_onWheel",e=>{e.preventDefault(),e.stopPropagation(),this._shiftKey=e.shiftKey;const{pixelX:pixelX,pixelY:pixelY}=normalizeWheel__default.default(e),wheelAmount=pixelY||pixelX,dir=-1*Math.sign(wheelAmount),amount=Math.abs(wheelAmount),percentage=Math.max(1,Math.min(amount,50)),zoomPercentage=this._getMagnitude(percentage*dir*.3);this.props.cameraStore.cameraZoom(zoomPercentage)}),_defineProperty__default.default(this,"_onBlur",e=>{this._keys=new Set,this._ctrlKey=!1,this._shiftKey=!1,this._metaKey=!1,this._stopKeyTimer()}),_defineProperty__default.default(this,"_onContextMenu",e=>{e.preventDefault(),e.stopPropagation()})}componentDidMount(){const{_el:_el}=this;if(!_el)return;this._rect=_el.getBoundingClientRect();const listen=(target,name,fn)=>{target.addEventListener(name,fn),this._listeners.push({target:target,name:name,fn:fn})};listen(document,"blur",this._onBlur),listen(window,"mouseup",this._onWindowMouseUp),_el.addEventListener("wheel",this._onWheel,{passive:!1})}componentWillUnmount(){this._listeners.forEach(listener=>{listener.target.removeEventListener(listener.name,listener.fn)}),this._endDragging();const{_el:_el}=this;_el&&_el.removeEventListener("wheel",this._onWheel,{passive:!1})}focus(){this._el&&this._el.focus()}_isLeftMouseDown(){return this._buttons.has(0)}_isRightMouseDown(){return this._buttons.has(2)}_getMagnitude(base=1){return this._shiftKey?base/10:base}_getMoveMagnitude(){if(this._ctrlKey)return{x:0,y:0};const{cameraStore:{state:{distance:distance,perspective:perspective}}}=this.props;if(perspective)return{x:distance,y:distance};const{width:width,height:height}=this._rect,bounds=getOrthographicBounds(distance,width,height);return{x:bounds.width,y:bounds.height}}startDragging(e){0!==e.button&&this._el&&"function"==typeof this._el.requestPointerLock&&this._el.requestPointerLock(),window.addEventListener("mousemove",this._onWindowMouseMove)}_endDragging(){window.removeEventListener("mousemove",this._onWindowMouseMove),"function"==typeof document.exitPointerLock&&document.exitPointerLock()}_moveKeyboard(dt){const motion={x:0,y:0,zoom:0,yaw:0,tilt:0};this._keys.forEach(code=>{const{x:x=0,y:y=0,zoom:zoom=0,yaw:yaw=0,tilt:tilt=0}=this._getKeyMotion(code)||{};motion.x+=x,motion.y+=y,motion.zoom+=zoom,motion.yaw+=yaw,motion.tilt+=tilt});const{cameraStore:{cameraMove:cameraMove,cameraRotate:cameraRotate,cameraZoom:cameraZoom,state:{perspective:perspective}}}=this.props;if(motion.x||motion.y){const{x:x,y:y}=this._getMoveMagnitude();cameraMove([motion.x*x*dt,motion.y*y*dt])}(motion.yaw||perspective&&motion.tilt)&&cameraRotate([motion.yaw*dt,perspective?motion.tilt*dt:0]),motion.zoom&&cameraZoom(motion.zoom*dt)}_startKeyTimer(lastStamp){this._keyTimer||(this._keyTimer=requestAnimationFrame(stamp=>{this._moveKeyboard((lastStamp?stamp-lastStamp:0)/1e3),this._keyTimer=void 0,this._keys.size&&this._startKeyTimer(stamp)}))}_stopKeyTimer(){this._keyTimer&&cancelAnimationFrame(this._keyTimer),this._keyTimer=void 0}render(){const{children:children}=this.props;return React__namespace.createElement("div",{tabIndex:0,style:{outline:"none"},draggable:!0,ref:el=>this._el=el,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onBlur:this._onBlur,onContextMenu:this._onContextMenu,onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp},children)}}function getNodeEnv(){return process&&process.env&&"production"}const tempVec=[0,0,0],tempMat=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];class Ray{constructor(origin,dir,point){_defineProperty__default.default(this,"origin",void 0),_defineProperty__default.default(this,"dir",void 0),_defineProperty__default.default(this,"point",void 0),this.origin=origin,this.dir=dir,this.point=point}distanceToPoint(point){return glMatrix.vec3.distance(this.origin,point)}planeIntersection(planeCoordinate,planeNormal){const d=glMatrix.vec3.dot(planeNormal,planeCoordinate),cosine=glMatrix.vec3.dot(planeNormal,this.dir);if(0===cosine)return null;const x=(d-glMatrix.vec3.dot(planeNormal,this.origin))/cosine;return glMatrix.vec3.add([0,0,0],this.origin,glMatrix.vec3.scale(tempVec,this.dir,x))}}function getRayFromClick(camera,{clientX:clientX,clientY:clientY,width:width,height:height}){const projectionMatrix=camera.getProjection(),viewMatrix=camera.getView(),vp=glMatrix.mat4.multiply(tempMat,projectionMatrix,viewMatrix),invVp=glMatrix.mat4.invert(tempMat,vp),mouseX=2*clientX/width-1,mouseY=-2*clientY/height+1,rayPoint=glMatrix.vec3.transformMat4([0,0,0],[mouseX,mouseY,0],invVp),rayOrigin=glMatrix.vec3.transformMat4([0,0,0],[0,0,0],glMatrix.mat4.invert(tempMat,viewMatrix)),rayDir=glMatrix.vec3.normalize([0,0,0],glMatrix.vec3.subtract(tempVec,rayPoint,rayOrigin));return new Ray(rayOrigin,rayDir,rayPoint)}var WorldviewReactContext=React__default.default.createContext(void 0);class Command extends React__namespace.Component{constructor(props){super(props),_defineProperty__default.default(this,"context",void 0),"production"!==getNodeEnv()&&(this.shouldComponentUpdate=nextProps=>(nextProps.reglCommand!==this.props.reglCommand&&console.error("Changing the regl command prop on a <Command /> is not supported."),!0))}componentDidMount(){const context=this.context;context&&(context.onMount(this,this.props.reglCommand),this._updateContext())}componentDidUpdate(){this._updateContext()}componentWillUnmount(){const context=this.context;context&&context.onUnmount(this)}_updateContext(){const context=this.context;if(!context)return;const{reglCommand:reglCommand,layerIndex:layerIndex,getChildrenForHitmap:getChildrenForHitmap}=this.props,children=this.props.children||this.props.drawProps;null!=children&&context.registerDrawCall({instance:this,reglCommand:reglCommand,children:children,layerIndex:layerIndex,getChildrenForHitmap:getChildrenForHitmap})}handleMouseEvent(objects,ray,e,mouseEventName){const mouseHandler=this.props[mouseEventName];mouseHandler&&objects.length&&mouseHandler(e,{ray:ray,objects:objects})}render(){return React__namespace.createElement(WorldviewReactContext.Consumer,null,ctx=>(ctx&&(this.context=ctx),null))}}_defineProperty__default.default(Command,"displayName","Command");const ResizeObserverImpl=global.postMessage&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?class{constructor(callback){_defineProperty__default.default(this,"_callback",void 0),this._callback=callback}observe(){this._callback([{contentRect:{width:150,height:150}}])}unobserve(){}}:ResizeObserver;function Dimensions({children:children}){const[parentElement,setParentElement]=React.useState(void 0),[dimensions,setDimensions]=React.useState(),[resizeObserver]=React.useState(()=>new ResizeObserverImpl(entries=>{if(!entries||!entries.length)return;const newWidth=Math.round(entries[0].contentRect.width),newHeight=Math.round(entries[0].contentRect.height),newLeft=Math.round(entries[0].contentRect.left),newTop=Math.round(entries[0].contentRect.top);setDimensions({width:newWidth,height:newHeight,top:newTop,left:newLeft})})),setParentElementRef=React.useCallback(element=>{element&&setParentElement(element.parentElement)},[]);return React.useEffect(()=>{if(parentElement)return resizeObserver.observe(parentElement),()=>resizeObserver.unobserve(parentElement)},[parentElement,resizeObserver]),null==dimensions?React__default.default.createElement("div",{ref:setParentElementRef}):children(dimensions)}class HitmapObjectIdManager{constructor(){_defineProperty__default.default(this,"_objectsByObjectHitmapIdMap",{}),_defineProperty__default.default(this,"_commandsByObjectMap",new Map),_defineProperty__default.default(this,"_nextObjectHitmapId",1),_defineProperty__default.default(this,"_instanceIndexByObjectHitmapIdMap",{}),_defineProperty__default.default(this,"assignNextColors",(command,object,count)=>{if(count<1)throw new Error("Must get at least 1 id");const ids=(start=this._nextObjectHitmapId,new Array(count).fill(0).map((_,index)=>start+index));var start;this._nextObjectHitmapId=last__default.default(ids)+1,count>1&&ids.forEach((id,index)=>{this._instanceIndexByObjectHitmapIdMap[id]=index});for(const id of ids)this._objectsByObjectHitmapIdMap[id]=object;return this._commandsByObjectMap.set(object,command),ids.map(id=>intToRGB(id))}),_defineProperty__default.default(this,"getObjectByObjectHitmapId",objectHitmapId=>({object:this._objectsByObjectHitmapIdMap[objectHitmapId],instanceIndex:this._instanceIndexByObjectHitmapIdMap[objectHitmapId]})),_defineProperty__default.default(this,"getCommandForObject",object=>this._commandsByObjectMap.get(object))}}function queuePromise(fn){let calling=!1;const nextCalls=[];function queuedFn(...args){if(calling){const returnPromise=function(){let resolve,reject;const promise=new Promise((res,rej)=>{resolve=res,reject=rej});return promise.resolve=resolve,promise.reject=reject,promise}();return nextCalls.push({args:args,promise:returnPromise}),returnPromise}return function start(...args){calling=!0;const promise=fn(...args).finally(()=>{if(calling=!1,queuedFn.currentPromise=void 0,nextCalls.length){const{promise:nextPromise,args:nextArgs}=nextCalls.shift();start(...nextArgs).then(result=>nextPromise.resolve(result)).catch(error=>nextPromise.reject(error))}});return queuedFn.currentPromise=promise,promise}(...args)}return queuedFn}function compile(regl,cmd){const src=cmd(regl);return"function"==typeof src?src:regl(src)}class WorldviewContext{constructor({dimension:dimension,canvasBackgroundColor:canvasBackgroundColor,cameraState:cameraState,onCameraStateChange:onCameraStateChange,contextAttributes:contextAttributes}){_defineProperty__default.default(this,"_commands",new Set),_defineProperty__default.default(this,"_compiled",new Map),_defineProperty__default.default(this,"_drawCalls",new Map),_defineProperty__default.default(this,"_frame",void 0),_defineProperty__default.default(this,"_needsPaint",!1),_defineProperty__default.default(this,"_paintCalls",new Map),_defineProperty__default.default(this,"_hitmapObjectIdManager",new HitmapObjectIdManager),_defineProperty__default.default(this,"_cachedReadHitmapCall",void 0),_defineProperty__default.default(this,"reglCommandObjects",[]),_defineProperty__default.default(this,"counters",{}),_defineProperty__default.default(this,"dimension",void 0),_defineProperty__default.default(this,"onDirty",void 0),_defineProperty__default.default(this,"cameraStore",void 0),_defineProperty__default.default(this,"canvasBackgroundColor",[0,0,0,1]),_defineProperty__default.default(this,"initializedData",void 0),_defineProperty__default.default(this,"contextAttributes",void 0),_defineProperty__default.default(this,"raycast",(canvasX,canvasY)=>{if(!this.initializedData)return;const{width:width,height:height}=this.dimension;return getRayFromClick(this.initializedData.camera,{clientX:canvasX,clientY:canvasY,width:width,height:height})}),_defineProperty__default.default(this,"onDirty",()=>{void 0===this._frame?this._frame=requestAnimationFrame(()=>this.paint()):this._needsPaint=!0}),_defineProperty__default.default(this,"readHitmap",queuePromise((canvasX,canvasY,enableStackedObjectEvents,maxStackedObjectCount)=>{if(!this.initializedData)return Promise.reject(new Error("regl data not initialized yet"));const args=[canvasX,canvasY,enableStackedObjectEvents,maxStackedObjectCount],cachedReadHitmapCall=this._cachedReadHitmapCall;if(cachedReadHitmapCall){if(shallowequal__default.default(cachedReadHitmapCall.arguments,args)){const result=cachedReadHitmapCall.result.map(([mouseEventObject,command])=>[_objectSpread__default.default({},mouseEventObject),command]);return Promise.resolve(result)}this._cachedReadHitmapCall=void 0}const{regl:regl,camera:camera,_fbo:_fbo}=this.initializedData,{width:width,height:height}=this.dimension,x=canvasX,y=height-canvasY;return _fbo.resize(Math.floor(width),Math.floor(height)),new Promise(resolve=>{regl({framebuffer:_fbo})(()=>{regl.clear({color:intToRGB(0),depth:1});let currentObjectId=0;const excludedObjects=[],mouseEventsWithCommands=[];let counter=0;camera.draw(this.cameraStore.state,()=>{do{if(counter>=maxStackedObjectCount){console.error(`Hit ${maxStackedObjectCount} iterations. There is either a bug or that number of rendered hitmap layers under the mouse cursor.`);break}if(counter++,regl.clear({color:intToRGB(0),depth:1}),this._drawInput(!0,excludedObjects),x<Math.floor(width)&&y<Math.floor(height)&&x>=0&&y>=0){const pixel=new Uint8Array(4);regl.read({x:x,y:y,width:1,height:1,data:pixel}),currentObjectId=getIdFromPixel(pixel);const mouseEventObject=this._hitmapObjectIdManager.getObjectByObjectHitmapId(currentObjectId);if(currentObjectId>0&&!mouseEventObject&&console.error(`Clicked on an unknown object with id ${currentObjectId}. This likely means that a command is painting an incorrect color into the hitmap.`),excludedObjects.some(({object:object,instanceIndex:instanceIndex})=>object===mouseEventObject.object&&instanceIndex===mouseEventObject.instanceIndex)){console.error("Saw object twice when reading from hitmap. There is likely an error in getHitmapFromChildren",mouseEventObject);break}if(currentObjectId>0&&mouseEventObject.object){const command=this._hitmapObjectIdManager.getCommandForObject(mouseEventObject.object);excludedObjects.push(mouseEventObject),command&&mouseEventsWithCommands.push([mouseEventObject,command])}}}while(0!==currentObjectId&&enableStackedObjectEvents);this._cachedReadHitmapCall={arguments:args,result:mouseEventsWithCommands},resolve(mouseEventsWithCommands)})})})})),_defineProperty__default.default(this,"_drawInput",(isHitmap,excludedObjects)=>{isHitmap&&(this._hitmapObjectIdManager=new HitmapObjectIdManager),Array.from(this._drawCalls.values()).sort((a,b)=>(a.layerIndex||0)-(b.layerIndex||0)).forEach(drawInput=>{const{reglCommand:reglCommand,children:children,instance:instance,getChildrenForHitmap:getChildrenForHitmap}=drawInput;if(!children)return console.debug((isHitmap?"hitmap":"")+" draw skipped, props was falsy",drawInput);const cmd=this._compiled.get(reglCommand);if(!cmd)return console.warn("could not find draw command for",instance?instance.constructor.displayName:"Unknown");if(isHitmap&&getChildrenForHitmap){const hitmapProps=getChildrenForHitmap(children,(...rest)=>this._hitmapObjectIdManager.assignNextColors(instance,...rest),excludedObjects||[]);hitmapProps&&cmd(hitmapProps,!0)}else isHitmap||cmd(children,!1)})}),_defineProperty__default.default(this,"_clearCanvas",regl=>{regl.poll(),regl.clear({color:this.canvasBackgroundColor,depth:1})}),this.dimension=dimension,this.canvasBackgroundColor=canvasBackgroundColor,this.contextAttributes=contextAttributes,this.cameraStore=new CameraStore(cameraState=>{onCameraStateChange?onCameraStateChange(cameraState):this.paint()},cameraState)}initialize(canvas){if(this.initializedData)throw new Error("can not initialize regl twice");const regl=this._instrumentCommands(createREGL__default.default({canvas:canvas,attributes:this.contextAttributes||{},extensions:["angle_instanced_arrays","oes_texture_float","oes_element_index_uint","oes_standard_derivatives"],profile:"production"!==getNodeEnv()}));if(!regl)throw new Error("Cannot initialize regl");this._commands.forEach(uncompiledCommand=>{const compiledCommand=compile(regl,uncompiledCommand);this._compiled.set(uncompiledCommand,compiledCommand)});const compiledCameraCommand=new(compile(regl,camera)),fbo=regl.framebuffer({width:Math.round(this.dimension.width),height:Math.round(this.dimension.height)});this.initializedData={_fbo:fbo,camera:compiledCameraCommand,regl:regl}}destroy(){this.initializedData&&this.initializedData.regl.destroy(),this._frame&&cancelAnimationFrame(this._frame)}onMount(instance,command){const{initializedData:initializedData}=this;initializedData&&!this._commands.has(command)&&(this._commands.add(command),this._compiled.set(command,compile(initializedData.regl,command)))}onUnmount(instance){this._drawCalls.delete(instance)}unregisterPaintCallback(paintFn){this._paintCalls.delete(paintFn)}registerDrawCall(drawInput){this._drawCalls.set(drawInput.instance,drawInput)}registerPaintCallback(paintFn){this._paintCalls.set(paintFn,paintFn)}setDimension(dimension){this.dimension=dimension}paint(){try{this._paint()}catch(error){if("(regl) context lost"!==error.message)throw error;console.warn(error)}}_paint(){this._needsPaint=!1;const start=Date.now();if(this.reglCommandObjects.forEach(cmd=>cmd.stats.count=0),!this.initializedData)return;this._cachedReadHitmapCall=null;const{regl:regl,camera:camera}=this.initializedData;this._clearCanvas(regl),camera.draw(this.cameraStore.state,()=>{const x=Date.now();this._drawInput(),this.counters.paint=Date.now()-x}),this._paintCalls.forEach(paintCall=>{paintCall()}),this.counters.render=Date.now()-start,this._needsPaint?this._frame=requestAnimationFrame(()=>this.paint()):this._frame=void 0}_instrumentCommands(regl){return"production"===getNodeEnv()?regl:new Proxy(regl,{apply:(target,thisArg,args)=>{const command=target(...args);return"object"==typeof command.stats&&this.reglCommandObjects.push(command),command}})}}const DEFAULT_BACKGROUND_COLOR=[0,0,0,1];function handleWorldviewMouseInteraction(objects,ray,e,handler){const args={ray:ray,objects:objects};try{handler(e,args)}catch(err){console.error("Error during mouse handler",err)}}class WorldviewBase extends React__namespace.Component{constructor(props){super(props),_defineProperty__default.default(this,"_canvas",React__namespace.createRef()),_defineProperty__default.default(this,"_cameraListener",React__namespace.createRef()),_defineProperty__default.default(this,"_tick",void 0),_defineProperty__default.default(this,"_dragStartPos",null),_defineProperty__default.default(this,"handleOffscreenMouseEvent",(e,mouseEventName)=>{"onDoubleClick"===mouseEventName?this._onDoubleClick(e,!0):"onMouseDown"===mouseEventName?this._onMouseDown(e,!0):"onMouseMove"===mouseEventName?this._onMouseMove(e,!0):"onMouseUp"===mouseEventName&&this._onMouseUp(e,!0)}),_defineProperty__default.default(this,"_onDoubleClick",(e,fromOffscreenTarget)=>{this._onMouseInteraction(e,"onDoubleClick",fromOffscreenTarget)}),_defineProperty__default.default(this,"_onMouseDown",(e,fromOffscreenTarget)=>{this._dragStartPos={x:e.clientX,y:e.clientY},this._onMouseInteraction(e,"onMouseDown",fromOffscreenTarget)}),_defineProperty__default.default(this,"_onMouseMove",(e,fromOffscreenTarget)=>{this._onMouseInteraction(e,"onMouseMove",fromOffscreenTarget)}),_defineProperty__default.default(this,"_onMouseUp",(e,fromOffscreenTarget)=>{this._onMouseInteraction(e,"onMouseUp",fromOffscreenTarget);const{_dragStartPos:_dragStartPos}=this;if(_dragStartPos){const deltaX=e.clientX-_dragStartPos.x,deltaY=e.clientY-_dragStartPos.y;Math.sqrt(deltaX*deltaX+deltaY*deltaY)<3&&this._onMouseInteraction(e,"onClick",fromOffscreenTarget),this._dragStartPos=null}}),_defineProperty__default.default(this,"_onMouseInteraction",(e,mouseEventName,fromOffscreenTarget)=>{const{worldviewContext:worldviewContext}=this.state,worldviewHandler=this.props[mouseEventName];if(!(fromOffscreenTarget||e.target instanceof window.HTMLElement&&0===e.button))return;const{top:clientTop,left:clientLeft}=e.target.getBoundingClientRect(),{clientX:clientX,clientY:clientY}=e,canvasX=clientX-clientLeft,canvasY=clientY-clientTop,ray=worldviewContext.raycast(canvasX,canvasY);if(!ray)return;const{hitmapOnMouseMove:hitmapOnMouseMove,disableHitmapForEvents:disableHitmapForEvents=(hitmapOnMouseMove?[]:["onMouseMove"])}=this.props;if(disableHitmapForEvents.includes(mouseEventName))return worldviewHandler?handleWorldviewMouseInteraction([],ray,e,worldviewHandler):void 0;e.persist(),worldviewContext.readHitmap(canvasX,canvasY,!!this.props.enableStackedObjectEvents,this.props.maxStackedObjectCount).then(mouseEventsWithCommands=>{const mouseEventsByCommand=function(array){const aggregationMap=new Map;return array.forEach(([item,key])=>{const existingItems=aggregationMap.get(key)||[];existingItems.push(item),aggregationMap.has(key)||aggregationMap.set(key,existingItems)}),aggregationMap}(mouseEventsWithCommands);for(const[command,mouseEvents]of mouseEventsByCommand.entries())if(command.handleMouseEvent(mouseEvents,ray,e,mouseEventName),e.isPropagationStopped())break;if(worldviewHandler&&!e.isPropagationStopped()){handleWorldviewMouseInteraction(mouseEventsWithCommands.map(([mouseEventObject])=>mouseEventObject),ray,e,worldviewHandler)}}).catch(e=>{console.error(e)})});const{width:width,height:height,top:top,left:left,backgroundColor:backgroundColor,onCameraStateChange:onCameraStateChange,cameraState:cameraState,defaultCameraState:defaultCameraState,hitmapOnMouseMove:_hitmapOnMouseMove,disableHitmapForEvents:_disableHitmapForEvents,canvas:canvas}=props;if(canvas&&(this._canvas.current=canvas),onCameraStateChange?(cameraState||console.warn("You provided `onCameraStateChange` without `cameraState`. Use Worldview as a controlled component with `cameraState` and `onCameraStateChange`, or uncontrolled with `defaultCameraState`."),cameraState&&defaultCameraState&&console.warn("You provided both `cameraState` and `defaultCameraState`. `defaultCameraState` will be ignored.")):cameraState&&console.warn("You provided `cameraState` without an `onCameraStateChange` handler. This will prevent moving the camera. If the camera should be movable, use `defaultCameraState`, otherwise set `onCameraStateChange`."),_hitmapOnMouseMove){if(_disableHitmapForEvents)throw new Error("Property 'hitmapOnMouseMove' is deprectated and will be ignored when used along with 'disableHitmapForEvents'.");console.warn("Property 'hitmapOnMouseMove' is deprectated. Please use 'disableHitmapForEvents' property instead.")}this.state={worldviewContext:new WorldviewContext({dimension:{width:width,height:height,top:top,left:left},canvasBackgroundColor:backgroundColor||DEFAULT_BACKGROUND_COLOR,cameraState:props.cameraState||props.defaultCameraState||DEFAULT_CAMERA_STATE,onCameraStateChange:props.onCameraStateChange||void 0,contextAttributes:props.contextAttributes||{}})}}static getDerivedStateFromProps({width:width,height:height,top:top,left:left},{worldviewContext:worldviewContext}){return worldviewContext.setDimension({width:width,height:height,top:top,left:left}),null}componentDidMount(){if(!this._canvas.current)return console.warn("missing canvas element");const{worldviewContext:worldviewContext}=this.state;worldviewContext.initialize(this._canvas.current),this.setState({}),worldviewContext.paint()}componentWillUnmount(){this._tick&&cancelAnimationFrame(this._tick),this.state.worldviewContext.destroy()}componentDidUpdate(){const{worldviewContext:worldviewContext}=this.state;this.props.cameraState&&worldviewContext.cameraStore.setCameraState(this.props.cameraState),worldviewContext.onDirty()}focus(){this._cameraListener.current&&this._cameraListener.current.focus()}_renderDebug(){const{worldviewContext:worldviewContext}=this.state,initializedData=worldviewContext.initializedData;if("production"===getNodeEnv()||!initializedData)return null;const{regl:regl}=initializedData,mem=window.performance.memory,{counters:counters,reglCommandObjects:reglCommandObjects}=worldviewContext,data=mapValues__default.default(counters,val=>val+" ms");if(data["draw calls"]=reglCommandObjects.reduce((total,cmd)=>total+cmd.stats.count,0),mem&&(data["heap used"]=(mem.usedJSHeapSize/mem.jsHeapSizeLimit*100).toFixed(3)+"%"),Object.assign(data,pickBy__default.default(regl.stats,val=>"number"==typeof val&&0!==val)),regl.stats.bufferCount>1e3)throw new Error("Memory leak: Buffer count > 1000.");const rows=Object.keys(data).map(key=>React__namespace.createElement("tr",{key:key,style:{backgroundColor:"transparent",border:"none"}},React__namespace.createElement("td",{style:{paddingRight:10,border:"none"}},key),React__namespace.createElement("td",{style:{width:"100%",border:"none"}},data[key])));return React__namespace.createElement("table",{style:{bottom:5,right:10,width:200,position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",fontFamily:"monospace",fontSize:10}},React__namespace.createElement("tbody",null,rows))}render(){const{width:width,height:height,showDebug:showDebug,keyMap:keyMap,shiftKeys:shiftKeys,style:style,cameraState:cameraState,onCameraStateChange:onCameraStateChange,resolutionScale:resolutionScale,canvas:canvas}=this.props,{worldviewContext:worldviewContext}=this.state,isFixedCamera=cameraState&&!onCameraStateChange,canvasScale=resolutionScale||1,canvasHtml=canvas?null:React__namespace.createElement(React__namespace.Fragment,null,React__namespace.createElement("canvas",{style:{width:width,height:height,maxWidth:"100%",maxHeight:"100%"},width:width*canvasScale,height:height*canvasScale,ref:this._canvas,onMouseUp:this._onMouseUp,onMouseDown:this._onMouseDown,onDoubleClick:this._onDoubleClick,onMouseMove:this._onMouseMove}),showDebug&&this._renderDebug());return React__namespace.createElement("div",{style:_objectSpread__default.default({position:"relative",overflow:"hidden"},style)},isFixedCamera?canvasHtml:React__namespace.createElement(CameraListener,{cameraStore:worldviewContext.cameraStore,keyMap:keyMap,shiftKeys:shiftKeys,ref:el=>this._cameraListener.current=el},canvasHtml),worldviewContext.initializedData&&React__namespace.createElement(WorldviewReactContext.Provider,{value:worldviewContext},this.props.children))}}_defineProperty__default.default(WorldviewBase,"defaultProps",{maxStackedObjectCount:100,backgroundColor:DEFAULT_BACKGROUND_COLOR,shiftKeys:!0,style:{},resolutionScale:1});const Worldview=React__namespace.forwardRef((props,ref)=>React__namespace.createElement(Dimensions,null,({width:width,height:height,left:left,top:top})=>React__namespace.createElement(WorldviewBase,_extends__default.default({width:width,height:height,left:left,top:top,ref:ref},props))));Worldview.displayName="Worldview";class Bound{constructor(){_defineProperty__default.default(this,"min",void 0),_defineProperty__default.default(this,"max",void 0),this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER}update(value){this.min=Math.min(this.min,value),this.max=Math.max(this.max,value)}}const scratch=[0,0,0,0,0,0,0,0,0];var fromGeometry=(positions,elements)=>regl=>{const vertexArray=Float32Array.from([].concat(...positions));if(elements.some(face=>face.some(i=>i<0||i>=65536)))throw new Error("Element index out of bounds for Uint16");const elementsArray=Uint16Array.from([].concat(...elements)),buff=regl.buffer({usage:"dynamic",data:[]}),colorBuff=colorBuffer(regl);return withPose({vert:"\n    precision mediump float;\n    attribute vec3 point;\n    attribute vec3 offset;\n    attribute vec4 color;\n    uniform mat4 projection, view;\n    uniform vec3 scale;\n    varying vec4 vColor;\n\n    #WITH_POSE\n\n    void main () {\n      vec3 p = applyPose(scale * point) + offset;\n      vColor = color;\n      gl_Position = projection * view * vec4(p, 1);\n    }\n    ",frag:"\n    precision mediump float;\n    varying vec4 vColor;\n    void main () {\n      gl_FragColor = vColor;\n    }",attributes:{point:vertexArray,color:(context,props)=>colorBuff(props.color,props.colors,props.points?props.points.length:1),offset:(context,props)=>{const points=shouldConvert(props.points)?props.points.map(pointToVec3$1):props.points||[0,0,0];return{buffer:buff({usage:"dynamic",data:points}),divisor:1}}},elements:elementsArray,depth:defaultDepth,blend:defaultBlend,uniforms:{scale:(context,props)=>shouldConvert(props.scale)?pointToVec3$1(props.scale):props.scale},count:elementsArray.length,instances:(context,props)=>props.points?props.points.length:1})};const decodePrimitive=(draco,decoder,json,binary,primitive)=>{const{extensions:extensions={}}=primitive,dracoCompression=extensions.KHR_draco_mesh_compression;if(!dracoCompression)return;const dracoGeometry=((draco,decoder,json,binary,dracoCompression)=>{var _dracoGeometry;const{bufferView:bufferViewIndex}=dracoCompression,bufferView=json.bufferViews[bufferViewIndex],buffer=new draco.DecoderBuffer,data=new Int8Array(binary.buffer,binary.byteOffset+(bufferView.byteOffset||0),bufferView.byteLength);buffer.Init(data,bufferView.byteLength);const geometryType=decoder.GetEncodedGeometryType(buffer);let dracoGeometry,status;if(geometryType===draco.TRIANGULAR_MESH)dracoGeometry=new draco.Mesh,status=decoder.DecodeBufferToMesh(buffer,dracoGeometry);else if(geometryType===draco.POINT_CLOUD)dracoGeometry=new draco.PointCloud,status=decoder.DecodeBufferToPointCloud(buffer,dracoGeometry);else{const errorMsg="Error: Unknown geometry type.";console.error(errorMsg)}if(!status||!dracoGeometry||!status.ok()||0===(null===(_dracoGeometry=dracoGeometry)||void 0===_dracoGeometry?void 0:_dracoGeometry.ptr))throw new Error("Decoding failed: "+(status?status.error_msg():"unknown error"));return draco.destroy(buffer),dracoGeometry})(draco,decoder,json,binary,dracoCompression);dracoCompression.accessors=[];const{attributes:attributes}=dracoCompression;dracoCompression.accessors.push(...((draco,decoder,dracoGeometry,attributes)=>{const accessors=[];for(const attributeName in attributes){const attributeId=attributes[attributeName],attribute=decoder.GetAttributeByUniqueId(dracoGeometry,attributeId),numComponents=attribute.num_components(),numValues=dracoGeometry.num_points()*numComponents,attributeType=Float32Array,byteLength=numValues*attributeType.BYTES_PER_ELEMENT,dataType=draco.DT_FLOAT32,ptr=draco._malloc(byteLength);decoder.GetAttributeDataArrayForAllPoints(dracoGeometry,attribute,dataType,byteLength,ptr);const array=new attributeType(draco.HEAPF32.buffer,ptr,numValues).slice();draco._free(ptr),accessors.push(array)}return accessors})(draco,decoder,dracoGeometry,attributes)),dracoCompression.accessors.push(((draco,decoder,dracoGeometry)=>{const numIndices=3*dracoGeometry.num_faces(),byteLength=4*numIndices,ptr=draco._malloc(byteLength);decoder.GetTrianglesUInt32Array(dracoGeometry,byteLength,ptr);const indices=new Uint32Array(draco.HEAPF32.buffer,ptr,numIndices).slice();return draco._free(ptr),indices})(draco,decoder,dracoGeometry)),draco.destroy(dracoGeometry)};async function decodeCompressedGLB(json,binary){const{extensionsRequired:extensionsRequired=[]}=json;if(!extensionsRequired.includes("KHR_draco_mesh_compression"))return;const draco=await async function(){const draco3dWasm=__webpack_require__(303);return draco3d__default.default.createDecoderModule({locateFile:()=>draco3dWasm})}(),decoder=new draco.Decoder;json.meshes.forEach(mesh=>{mesh.primitives.forEach(primitive=>{decodePrimitive(draco,decoder,json,binary,primitive)})}),draco.destroy(decoder)}async function parseGLB(arrayBuffer){const data=new DataView(arrayBuffer);let offset=0;function readUint32(){const value=data.getUint32(offset,!0);return offset+=4,value}const magic=readUint32();if(1179937895!==magic)throw new Error("incorrect magic value 0x"+magic.toString(16));const version=readUint32();if(2!==version)throw new Error("incorrect version "+version);const totalLength=readUint32();if(totalLength!==data.byteLength)throw new Error(`length ${totalLength} doesn't match response length ${data.byteLength}`);function findNextChunkOfType(type){do{const chunkLength=readUint32();if(readUint32()===type){const chunkData=new DataView(data.buffer,offset,chunkLength);return offset+=chunkLength,chunkData}offset+=chunkLength}while(offset<totalLength)}const jsonData=findNextChunkOfType(1313821514);if(!jsonData)throw new Error("no JSON chunk found");const json=JSON.parse((new TextDecoder).decode(jsonData)),binary=findNextChunkOfType(5130562);if(!binary)return{json:json};if(void 0!==json.buffers[0].uri)throw new Error("expected GLB-stored buffer");const accessors=json.accessors.map(accessorInfo=>{if(null==accessorInfo.bufferView)return null;let arrayType,numComponents;switch(accessorInfo.componentType){case WebGLRenderingContext.BYTE:arrayType=Int8Array;break;case WebGLRenderingContext.UNSIGNED_BYTE:arrayType=Uint8Array;break;case WebGLRenderingContext.SHORT:arrayType=Int16Array;break;case WebGLRenderingContext.UNSIGNED_SHORT:arrayType=Uint16Array;break;case WebGLRenderingContext.UNSIGNED_INT:arrayType=Uint32Array;break;case WebGLRenderingContext.FLOAT:arrayType=Float32Array;break;default:throw new Error("unrecognized componentType "+accessorInfo.componentType)}switch(accessorInfo.type){case"SCALAR":numComponents=1;break;case"VEC2":numComponents=2;break;case"VEC3":numComponents=3;break;case"VEC4":case"MAT2":numComponents=4;break;case"MAT3":numComponents=9;break;case"MAT4":numComponents=16;break;default:throw new Error("unrecognized type "+accessorInfo.type)}const bufferView=json.bufferViews[accessorInfo.bufferView];if(0!==bufferView.buffer)throw new Error("only GLB-stored buffers are supported");if(bufferView.byteLength%arrayType.BYTES_PER_ELEMENT!=0)throw new Error("bufferView.byteLength mismatch");return new arrayType(binary.buffer,binary.byteOffset+(bufferView.byteOffset||0)+(accessorInfo.byteOffset||0),accessorInfo.count*numComponents)});await decodeCompressedGLB(json,binary);const images=json.images&&await Promise.all(json.images.map(imgInfo=>{const bufferView=json.bufferViews[imgInfo.bufferView],data=new DataView(binary.buffer,binary.byteOffset+bufferView.byteOffset,bufferView.byteLength);return self.createImageBitmap(new Blob([data],{type:imgInfo.mimeType}))}));return{json:json,accessors:accessors,images:images}}function nonInstancedGetChildrenForHitmapFromSingleProp(prop,assignNextColors,excludedObjects,useOriginalMarkerProp=!1){const eventCallbackMarker=useOriginalMarkerProp?prop.originalMarker:prop;if(excludedObjects.some(({object:object})=>object===eventCallbackMarker))return null;const hitmapProp=_objectSpread__default.default({},prop),[hitmapColor]=assignNextColors(eventCallbackMarker,1);return hitmapProp.color=hitmapColor,hitmapProp.colors&&hitmapProp.points&&hitmapProp.points.length&&(hitmapProp.colors=new Array(hitmapProp.points.length).fill(hitmapColor)),hitmapProp}const nonInstancedGetChildrenForHitmap=(props,assignNextColors,excludedObjects)=>Array.isArray(props)?props.map(prop=>nonInstancedGetChildrenForHitmapFromSingleProp(prop,assignNextColors,excludedObjects)).filter(Boolean):nonInstancedGetChildrenForHitmapFromSingleProp(props,assignNextColors,excludedObjects),getChildrenForHitmapWithOriginalMarker=(props,assignNextColors,excludedObjects)=>Array.isArray(props)?props.map(prop=>nonInstancedGetChildrenForHitmapFromSingleProp(prop,assignNextColors,excludedObjects,!0)).filter(Boolean):nonInstancedGetChildrenForHitmapFromSingleProp(props,assignNextColors,excludedObjects,!0);function instancedGetChildrenForHitmapFromSingleProp(prop,assignNextColors,excludedObjects,pointCountPerInstance){const matchedExcludedObjects=excludedObjects.filter(({object:object,instanceIndex:instanceIndex})=>object===prop),filteredIndices=matchedExcludedObjects.map(({object:object,instanceIndex:instanceIndex})=>instanceIndex).filter(instanceIndex=>"number"==typeof instanceIndex),hitmapProp=_objectSpread__default.default({},prop),instanceCount=hitmapProp.points&&Math.ceil(hitmapProp.points.length/pointCountPerInstance)||1,idColors=assignNextColors(prop,instanceCount),startColor=idColors[0];if(hitmapProp.points&&hitmapProp.points.length){const allColors=new Array(hitmapProp.points.length).fill().map(()=>startColor);for(let i=0;i<instanceCount;i++)for(let j=0;j<pointCountPerInstance;j++){const idx=i*pointCountPerInstance+j;idx<allColors.length&&(allColors[idx]=idColors[i])}if(hitmapProp.colors=allColors,filteredIndices.length)hitmapProp.points=hitmapProp.points.filter((_,index)=>!filteredIndices.includes(Math.floor(index/pointCountPerInstance))),hitmapProp.colors=hitmapProp.colors.filter((_,index)=>!filteredIndices.includes(Math.floor(index/pointCountPerInstance)));else if(matchedExcludedObjects.length)return null}else if(hitmapProp.color=startColor,matchedExcludedObjects.length)return null;return hitmapProp}const createInstancedGetChildrenForHitmap=pointCountPerInstance=>(props,assignNextColors,excludedObjects)=>Array.isArray(props)?props.map(prop=>instancedGetChildrenForHitmapFromSingleProp(prop,assignNextColors,excludedObjects,pointCountPerInstance)).filter(Boolean):instancedGetChildrenForHitmapFromSingleProp(props,assignNextColors,excludedObjects,pointCountPerInstance),withRenderStateOverrides=command=>regl=>{const reglCommand=command(regl),memoizedRender=memoize__default.default(props=>{const{depth:depth,blend:blend}=props;return regl(_objectSpread__default.default({},reglCommand,{depth:depth,blend:blend}))},(...args)=>JSON.stringify(args)),renderElement=props=>{var _props$originalMarker,_props$originalMarker2;const depth=props.depth||(null===(_props$originalMarker=props.originalMarker)||void 0===_props$originalMarker?void 0:_props$originalMarker.depth)||reglCommand.depth||defaultReglDepth,blend=props.blend||(null===(_props$originalMarker2=props.originalMarker)||void 0===_props$originalMarker2?void 0:_props$originalMarker2.blend)||reglCommand.blend||defaultReglBlend;memoizedRender({depth:depth,blend:blend})(props)};return props=>{Array.isArray(props)?props.forEach(renderElement):renderElement(props)}};function createCylinderGeometry(numSegments,cone){const points=[[0,0,.5],[0,0,-.5]],sideFaces=[],endCapFaces=[];for(let i=0;i<numSegments;i++){const theta=2*Math.PI*i/numSegments,x=.5*Math.cos(theta),y=.5*Math.sin(theta);points.push([x,y,.5],[x,y,-.5]);const bottomLeftPt=points.length-1,topRightPt=cone?0:i+1===numSegments?2:points.length,bottomRightPt=i+1===numSegments?3:points.length+1;if(sideFaces.push([bottomLeftPt,topRightPt,bottomRightPt]),endCapFaces.push([bottomLeftPt,bottomRightPt,1]),!cone){const topLeftPt=points.length-2;sideFaces.push([topLeftPt,bottomLeftPt,topRightPt]),endCapFaces.push([topLeftPt,topRightPt,0])}}return{points:points,sideFaces:sideFaces,endCapFaces:endCapFaces}}const{points:points$2,sideFaces:sideFaces$1,endCapFaces:endCapFaces$1}=createCylinderGeometry(30,!1),cylinders=withRenderStateOverrides(fromGeometry(points$2,sideFaces$1.concat(endCapFaces$1))),getChildrenForHitmap$5=createInstancedGetChildrenForHitmap(1);function Cylinders(props){return React__namespace.createElement(Command,_extends__default.default({getChildrenForHitmap:getChildrenForHitmap$5},props,{reglCommand:cylinders}))}const{points:points$1,sideFaces:sideFaces,endCapFaces:endCapFaces}=createCylinderGeometry(30,!0),cones=withRenderStateOverrides(fromGeometry(points$1,sideFaces.concat(endCapFaces))),getChildrenForHitmap$4=createInstancedGetChildrenForHitmap(1);function Cones(props){return React__namespace.createElement(Command,_extends__default.default({getChildrenForHitmap:getChildrenForHitmap$4},props,{reglCommand:cones}))}const UNIT_X_VECTOR=Object.freeze([0,0,1]),generateArrowPrimitives=markers=>{const cylinders=[],cones=[];for(const marker of markers){let shaftWidthX,shaftWidthY,shaftLength,headWidthX,headWidthY,headLength,basePosition,orientation,dir;if(marker.points&&2===marker.points.length){const[start,end]=marker.points;basePosition=[start.x,start.y,start.z];const tipPosition=[end.x,end.y,end.z],length=glMatrix.vec3.distance(basePosition,tipPosition);dir=glMatrix.vec3.subtract([0,0,0],tipPosition,basePosition),glMatrix.vec3.normalize(dir,dir),orientation=glMatrix.quat.rotationTo([0,0,0,0],UNIT_X_VECTOR,dir),headWidthX=headWidthY=marker.scale.y,headLength=marker.scale.z||.3*length,shaftWidthX=shaftWidthY=marker.scale.x,shaftLength=length-headLength}else basePosition=pointToVec3$1(marker.pose.position),orientation=orientationToVec4(marker.pose.orientation),glMatrix.quat.rotateY(orientation,orientation,Math.PI/2),dir=glMatrix.vec3.transformQuat([0,0,0],UNIT_X_VECTOR,orientation),shaftWidthX=marker.scale.y||1,shaftWidthY=marker.scale.z||1,headWidthX=2*shaftWidthX,headWidthY=2*shaftWidthY,headLength=.23*(marker.scale.x||1),shaftLength=.77*(marker.scale.x||1);const shaftPosition=glMatrix.vec3.scaleAndAdd([0,0,0],basePosition,dir,shaftLength/2),headPosition=glMatrix.vec3.scaleAndAdd([0,0,0],basePosition,dir,shaftLength+headLength/2);cylinders.push({originalMarker:marker,scale:{x:shaftWidthX,y:shaftWidthY,z:shaftLength},color:marker.color,pose:{position:vec3ToPoint(shaftPosition),orientation:vec4ToOrientation(orientation)}}),cones.push({originalMarker:marker,scale:{x:headWidthX,y:headWidthY,z:headLength},color:marker.color,pose:{position:vec3ToPoint(headPosition),orientation:vec4ToOrientation(orientation)}})}return{cones:cones,cylinders:cylinders}};var Arrows$1=React.memo((function(props){const passedProps=omit__default.default(props,"children"),{cylinders:cylinders,cones:cones}=generateArrowPrimitives(props.children);return React__default.default.createElement(React.Fragment,null,React__default.default.createElement(Cylinders,_extends__default.default({getChildrenForHitmap:getChildrenForHitmapWithOriginalMarker},passedProps),cylinders),React__default.default.createElement(Cones,_extends__default.default({getChildrenForHitmap:getChildrenForHitmapWithOriginalMarker},passedProps),cones))}));const FLOAT_BYTES=Float32Array.BYTES_PER_ELEMENT,POINT_BYTES=3*FLOAT_BYTES,DEFAULT_MONOCHROME_COLOR=[1,1,1,.2],POINT_TYPES={BL:0,TR:1,BR:2,TL:3},VERTICES_PER_INSTANCE=Object.keys(POINT_TYPES).length,vert$1=`\nprecision mediump float;\n\nattribute float pointType;\n\n// per-instance attributes\nattribute vec4 colorB;\nattribute vec4 colorC;\nattribute vec3 positionA;\nattribute vec3 positionB;\nattribute vec3 positionC;\nattribute vec3 positionD;\n// per-instance pose attributes\nattribute vec3 posePosition;\nattribute vec4 poseRotation;\n\nuniform mat4 projection, view;\nuniform float viewportWidth;\nuniform float viewportHeight;\nuniform float alpha;\nuniform float thickness;\nuniform bool joined;\nuniform bool scaleInvariant;\n\nvarying vec4 vColor;\n\n${Object.keys(POINT_TYPES).map(k=>`const float POINT_${k} = ${POINT_TYPES[k]}.0;`).join("\n")}\n\n#WITH_POSE\n\nvec3 applyPoseInstance(vec3 point, vec4 rotation, vec3 position) {\n  // rotate the point and then add the position of the pose\n  // this function is defined in WITH_POSE\n  return rotate(point, rotation) + position;\n}\n\nvec2 rotateCCW(vec2 v) {\n  return vec2(-v.y, v.x);\n}\n\nvec2 normalizeOrZero(vec2 v) {\n  return length(v) < 0.00001 ? vec2(0, 0) : normalize(v);\n}\n\nvoid setPosition(vec4 proj, vec2 offset) {\n  gl_Position = proj;\n\n  offset *= thickness / 2.;\n\n  if (scaleInvariant) {\n    // The given thickness is a number of pixels on screen. Divide x by width/2 and\n    // y by height/2 so that they correspond to pixel distances when scaled from clip space to NDC.\n    offset.x /= viewportWidth / 2.0;\n    offset.y /= viewportHeight / 2.0;\n    // Compensate for automatic division by w\n    offset *= proj.w;\n  } else {\n    // The line thickness should be scaled the same way the camera scales other distances.\n    // projection[0].xyz is the result of projecting a unit x-vector, so its length represents\n    // how much distances are scaled by the camera projection.\n    offset *= length(projection[0].xyz);\n    offset.y *= viewportWidth / viewportHeight;\n  }\n\n  gl_Position.xy += offset;\n}\n\nvoid main () {\n  bool isStart = positionA == positionB;\n  bool isEnd = positionC == positionD;\n  bool isLeft = (pointType == POINT_TL || pointType == POINT_BL);\n  bool isTop = (pointType == POINT_TL || pointType == POINT_TR);\n  bool isEndpoint = isLeft ? isStart : isEnd;\n\n  float scale = isTop ? 1. : -1.;\n\n  mat4 projView = projection * view;\n  vec4 projA = projView * vec4(applyPose(applyPoseInstance(positionA, poseRotation, posePosition)), 1);\n  vec4 projB = projView * vec4(applyPose(applyPoseInstance(positionB, poseRotation, posePosition)), 1);\n  vec4 projC = projView * vec4(applyPose(applyPoseInstance(positionC, poseRotation, posePosition)), 1);\n  vec4 projD = projView * vec4(applyPose(applyPoseInstance(positionD, poseRotation, posePosition)), 1);\n\n  vec2 aspectVec = vec2(viewportWidth / viewportHeight, 1.0);\n  vec2 screenA = projA.xy / projA.w * aspectVec;\n  vec2 screenB = projB.xy / projB.w * aspectVec;\n  vec2 screenC = projC.xy / projC.w * aspectVec;\n  vec2 screenD = projD.xy / projD.w * aspectVec;\n\n  vec2 dirAB = normalizeOrZero(screenB - screenA);\n  vec2 dirBC = normalizeOrZero(screenC - screenB);\n  vec2 dirCD = normalizeOrZero(screenD - screenC);\n\n  vec2 perpAB = rotateCCW(dirAB); // vector perpendicular to AB\n  vec2 perpBC = rotateCCW(dirBC); // vector perpendicular to BC\n\n  vColor = isLeft ? colorB : colorC;\n  vColor.a *= alpha;\n\n  vec4 proj = isLeft ? projB : projC;\n\n  // simple case: non-joined line list\n  if (!joined || isEndpoint) {\n    setPosition(proj, scale * perpBC);\n    return;\n  }\n\n  // clamp to prevent rounding errors from breaking the sqrt()s below\n  float cosB = clamp(-dot(dirAB, dirBC), -1., 1.);\n  float cosC = clamp(-dot(dirBC, dirCD), -1., 1.);\n\n  bool tooSharpB = cosB > 0.01;\n  bool tooSharpC = cosC > 0.01;\n  bool tooSharp = isLeft ? tooSharpB : tooSharpC;\n\n  bool turningRightB = dot(dirAB, rotateCCW(dirBC)) > 0.;\n  bool turningRightC = dot(dirBC, rotateCCW(dirCD)) > 0.;\n  bool turningRight = isLeft ? turningRightB : turningRightC;\n\n  if (tooSharp) {\n    // "fold join"\n    vec2 perp = isLeft ? perpAB : perpBC;\n    vec2 dir = isLeft ? dirAB : dirBC;\n    float scalePerp = isLeft ? -1. : 1.;\n    float scaleDir = (turningRight == isLeft) ? 1. : -1.;\n    float tanHalfB = sqrt((1. - cosB) / (1. + cosB));\n    float tanHalfC = sqrt((1. - cosC) / (1. + cosC));\n    float tanHalf = isLeft ? tanHalfB : tanHalfC;\n    setPosition(proj, scale * (scalePerp * perp + scaleDir * dir * tanHalf));\n  } else {\n    // miter join\n    vec2 bisectorB = rotateCCW(normalize(dirAB + dirBC)); // angle bisector of ABC\n    vec2 bisectorC = rotateCCW(normalize(dirBC + dirCD)); // angle bisector of BCD\n    vec2 bisector = isLeft ? bisectorB : bisectorC;\n    float sinHalfB = sqrt((1. - cosB) / 2.);\n    float sinHalfC = sqrt((1. - cosC) / 2.);\n    float sinHalf = isLeft ? sinHalfB : sinHalfC;\n    setPosition(proj, scale * bisector / sinHalf);\n  }\n}\n`;const lines=regl=>{if(!regl)throw new Error("Invalid regl instance");const pointTypeBuffer=regl.buffer({type:"uint16",usage:"static",data:[POINT_TYPES.TL,POINT_TYPES.BL,POINT_TYPES.TR,POINT_TYPES.BR]}),debugColorBuffer=regl.buffer({type:"float",usage:"static",data:[[0,1,1,1],[1,0,0,1],[0,1,0,1],[1,0,1,1]]}),defaultPosePositionBuffer=regl.buffer({type:"float",usage:"static",data:flatten__default.default(new Array(VERTICES_PER_INSTANCE).fill([0,0,0]))}),defaultPoseRotationBuffer=regl.buffer({type:"float",usage:"static",data:flatten__default.default(new Array(VERTICES_PER_INSTANCE).fill([0,0,0,1]))}),colorBuffer=regl.buffer({type:"float"}),positionBuffer1=regl.buffer({type:"float"}),positionBuffer2=regl.buffer({type:"float"}),posePositionBuffer=regl.buffer({type:"float"}),poseRotationBuffer=regl.buffer({type:"float"}),command=regl(withPose({vert:vert$1,frag:"\nprecision mediump float;\nvarying vec4 vColor;\nvoid main () {\n  gl_FragColor = vColor;\n}\n",blend:defaultBlend,uniforms:{thickness:regl.prop("scale.x"),viewportWidth:regl.context("viewportWidth"),viewportHeight:regl.context("viewportHeight"),alpha:regl.prop("alpha"),joined:regl.prop("joined"),scaleInvariant:regl.prop("scaleInvariant")},attributes:{pointType:pointTypeBuffer,colorB:(context,{joined:joined,monochrome:monochrome,debug:debug})=>({buffer:debug?debugColorBuffer:colorBuffer,offset:0,stride:4*(joined||monochrome||debug?1:2)*FLOAT_BYTES,divisor:monochrome||debug?0:1}),colorC:(context,{joined:joined,monochrome:monochrome,debug:debug})=>({buffer:debug?debugColorBuffer:colorBuffer,offset:monochrome||debug?0:4*FLOAT_BYTES,stride:4*(joined||monochrome||debug?1:2)*FLOAT_BYTES,divisor:monochrome||debug?0:1}),positionA:(context,{joined:joined})=>({buffer:positionBuffer1,offset:0,stride:(joined?1:2)*POINT_BYTES,divisor:1}),positionB:(context,{joined:joined})=>({buffer:positionBuffer1,offset:POINT_BYTES,stride:(joined?1:2)*POINT_BYTES,divisor:1}),positionC:(context,{joined:joined})=>({buffer:positionBuffer2,offset:2*POINT_BYTES,stride:(joined?1:2)*POINT_BYTES,divisor:1}),positionD:(context,{joined:joined})=>({buffer:positionBuffer2,offset:3*POINT_BYTES,stride:(joined?1:2)*POINT_BYTES,divisor:1}),posePosition:(context,{hasInstancedPoses:hasInstancedPoses})=>({buffer:hasInstancedPoses?posePositionBuffer:defaultPosePositionBuffer,divisor:hasInstancedPoses?1:0}),poseRotation:(context,{hasInstancedPoses:hasInstancedPoses})=>({buffer:hasInstancedPoses?poseRotationBuffer:defaultPoseRotationBuffer,divisor:hasInstancedPoses?1:0})},count:VERTICES_PER_INSTANCE,instances:regl.prop("instances"),primitive:regl.prop("primitive")}));let colorArray=new Float32Array(4*VERTICES_PER_INSTANCE),pointArray=new Float32Array(0),allocatedPoints=0,positionArray=new Float32Array(0),rotationArray=new Float32Array(0);function convertColors(colors){return shouldConvert(colors)?colors.map(toRGBA):colors}const memoizedRender=memoize__default.default(props=>{const{depth:depth=defaultReglDepth,blend:blend=defaultReglBlend}=props;return regl({depth:depth,blend:blend})},(...args)=>JSON.stringify(args));function renderLine(props){const{debug:debug,primitive:primitive="lines",scaleInvariant:scaleInvariant=!1,depth:depth,blend:blend}=props,numInputPoints=props.points.length;if(numInputPoints<2)return;const alreadyClosed=numInputPoints>2&&function(a,b){const[ax,ay,az]=shouldConvert(a)?pointToVec3$1(a):a,[bx,by,bz]=shouldConvert(b)?pointToVec3$1(b):b;return ax===bx&&ay===by&&az===bz}(props.points[0],props.points[numInputPoints-1]),shouldClose=!alreadyClosed&&props.closed,pointData=function(points,alreadyClosed,shouldClose){const numTotalPoints=points.length+(shouldClose?3:2);allocatedPoints<numTotalPoints&&(pointArray=new Float32Array(3*numTotalPoints),allocatedPoints=numTotalPoints),points.forEach((point,i)=>{const[x,y,z]=shouldConvert(point)?pointToVec3$1(point):point,off=3+3*i;pointArray[off+0]=x,pointArray[off+1]=y,pointArray[off+2]=z});const n=3*numTotalPoints;return alreadyClosed?(pointArray.copyWithin(0,n-9,n-6),pointArray.copyWithin(n-3,6,9)):shouldClose?(pointArray.copyWithin(0,n-9,n-6),pointArray.copyWithin(n-6,3,9)):(pointArray.copyWithin(0,3,6),pointArray.copyWithin(n-3,n-6,n-3)),pointArray.subarray(0,n)}(props.points,alreadyClosed,shouldClose);positionBuffer1({data:pointData,usage:"dynamic"}),positionBuffer2({data:pointData,usage:"dynamic"});const monochrome=!(props.colors&&props.colors.length),colorData=function(color,colors,monochrome,shouldClose){if(monochrome){colorArray.length<4*VERTICES_PER_INSTANCE&&(colorArray=new Float32Array(4*VERTICES_PER_INSTANCE));const monochromeColor=color||DEFAULT_MONOCHROME_COLOR,[convertedMonochromeColor]=convertColors([monochromeColor]),[r,g,b,a]=convertedMonochromeColor;for(let index=0;index<VERTICES_PER_INSTANCE;index++){const offset=4*index;colorArray[offset+0]=r,colorArray[offset+1]=g,colorArray[offset+2]=b,colorArray[offset+3]=a}return colorArray.subarray(0,4*VERTICES_PER_INSTANCE)}if(colors){const length=shouldClose?colors.length+1:colors.length;colorArray.length<4*length&&(colorArray=new Float32Array(4*length));const convertedColors=convertColors(colors);for(let index=0;index<convertedColors.length;index++){const offset=4*index,[r,g,b,a]=convertedColors[index];colorArray[offset+0]=r,colorArray[offset+1]=g,colorArray[offset+2]=b,colorArray[offset+3]=a}if(shouldClose){const[r,g,b,a]=convertedColors[0],lastIndex=length-1;colorArray[4*lastIndex+0]=r,colorArray[4*lastIndex+1]=g,colorArray[4*lastIndex+2]=b,colorArray[4*lastIndex+3]=a}return colorArray.subarray(0,4*length)}throw new Error("Impossible: !monochrome implies !!colors.")}(props.color,props.colors,monochrome,shouldClose);colorBuffer({data:colorData,usage:"dynamic"});const joined="line strip"===primitive,effectiveNumPoints=numInputPoints+(shouldClose?1:0),instances=joined?effectiveNumPoints-1:Math.floor(effectiveNumPoints/2),{poses:poses}=props,hasInstancedPoses=!!poses&&poses.length>0;if(hasInstancedPoses&&poses){if(instances!==poses.length)return void console.error(`Expected ${instances} poses but given ${poses.length} poses: will result in webgl error.`);const{positionData:positionData,rotationData:rotationData}=function(instances,poses){positionArray.length<3*instances&&(positionArray=new Float32Array(3*instances),rotationArray=new Float32Array(4*instances));for(let index=0;index<poses.length;index++){const positionOffset=3*index,rotationOffset=4*index,{position:position,orientation:r}=poses[index],convertedPosition=Array.isArray(position)?position:pointToVec3$1(position);positionArray[positionOffset+0]=convertedPosition[0],positionArray[positionOffset+1]=convertedPosition[1],positionArray[positionOffset+2]=convertedPosition[2];const convertedRotation=Array.isArray(r)?r:[r.x,r.y,r.z,r.w];rotationArray[rotationOffset+0]=convertedRotation[0],rotationArray[rotationOffset+1]=convertedRotation[1],rotationArray[rotationOffset+2]=convertedRotation[2],rotationArray[rotationOffset+3]=convertedRotation[3]}return{positionData:positionArray.subarray(0,3*instances),rotationData:rotationArray.subarray(0,4*instances)}}(instances,poses);posePositionBuffer({data:positionData,usage:"dynamic"}),poseRotationBuffer({data:rotationData,usage:"dynamic"})}((props,commands)=>{const{debug:debug}=props;debug?memoizedRender({depth:{enable:!1}})(commands):memoizedRender(props)(commands)})({debug:debug,depth:depth,blend:blend},()=>{command(Object.assign({},props,{joined:joined,primitive:"triangle strip",alpha:debug?.2:1,monochrome:monochrome,instances:instances,scaleInvariant:scaleInvariant,hasInstancedPoses:hasInstancedPoses})),debug&&command(Object.assign({},props,{joined:joined,primitive:"line strip",alpha:1,monochrome:monochrome,instances:instances,scaleInvariant:scaleInvariant,hasInstancedPoses:hasInstancedPoses}))})}return inProps=>{Array.isArray(inProps)?inProps.forEach(renderLine):renderLine(inProps)}};function Lines(props){return React__namespace.createElement(Command,_extends__default.default({getChildrenForHitmap:nonInstancedGetChildrenForHitmap},props,{reglCommand:lines}))}const pointToVec3=p=>({x:p[0],y:p[1],z:p[2]}),x=100,pose={orientation:{x:0,y:0,z:0,w:0},position:{x:0,y:0,z:0}},xAxis={pose:pose,points:[[-x,0,0],[x,0,0]].map(pointToVec3),scale:{x:.5,y:.5,z:.5},color:{r:.95,g:.26,b:.4,a:1}},yAxis={pose:pose,points:[[0,-100,0],[0,100,0]].map(pointToVec3),scale:{x:.5,y:.5,z:.5},color:{r:.02,g:.82,b:.49,a:1}},zAxis={pose:pose,points:[[0,0,-100],[0,0,100]].map(pointToVec3),scale:{x:.5,y:.5,z:.5},color:{r:.11,g:.51,b:.92,a:1}};class Axes extends React__default.default.Component{render(){return React__default.default.createElement(Lines,null,this.props.children)}}_defineProperty__default.default(Axes,"defaultProps",{children:[xAxis,yAxis,zAxis]});const cubes=withRenderStateOverrides(fromGeometry([[-.5,-.5,-.5],[-.5,.5,-.5],[.5,-.5,-.5],[.5,.5,-.5],[-.5,-.5,.5],[-.5,.5,.5],[.5,-.5,.5],[.5,.5,.5]],[[0,1,2],[1,2,3],[4,5,6],[5,6,7],[0,2,4],[2,4,6],[1,3,5],[3,5,7],[2,3,6],[3,6,7],[0,1,4],[1,4,5]])),getChildrenForHitmap$3=createInstancedGetChildrenForHitmap(1);const points=[[0,0,.5],[0,0,-.5]],faces=[];for(let i=0;i<15;i++){for(let j=0;j<15;j++){const phi=(i+1)/16*Math.PI,z=.5*Math.cos(phi),width=.5*Math.sin(phi),theta=2*j*Math.PI/15,x=width*Math.cos(theta),y=width*Math.sin(theta);if(points.push([x,y,z]),j>0){const prevMeridianPt=0===i?0:points.length-1-15;faces.push([points.length-2,points.length-1,prevMeridianPt]),i>0&&faces.push([points.length-2,prevMeridianPt-1,prevMeridianPt])}}const prevMeridianPt=0===i?0:points.length-30;faces.push([points.length-1,points.length-15,prevMeridianPt]),i>0&&faces.push([points.length-1,points.length-15-1,prevMeridianPt])}for(let j=0;j<15;j++){const pt=points.length-15+j,prevPt=0===j?points.length-1:pt-1;faces.push([pt,prevPt,1])}const spheres=withRenderStateOverrides(fromGeometry(points,faces)),getChildrenForHitmap$2=createInstancedGetChildrenForHitmap(1);function Spheres(props){return React__namespace.createElement(Command,_extends__default.default({getChildrenForHitmap:getChildrenForHitmap$2},props,{reglCommand:spheres}))}function multiplyScale(scale,factor){return{x:scale.x*factor,y:scale.y*factor,z:scale.z*factor}}const DEFAULT_COLOR=[1,1,1,1],ACTIVE_POLYGON_COLOR=[.8,0,.8,1],ACTIVE_POINT_COLOR=[1,.2,1,1],DRAW_SCALE={x:.1,y:.1,z:.1},DRAW_POINT_SCALE=multiplyScale(DRAW_SCALE,1.3),HITMAP_SCALE={x:.5,y:.5,z:.5},HITMAP_POINT_SCALE=multiplyScale(HITMAP_SCALE,1.3),POSE={position:{x:0,y:0,z:0},orientation:{x:0,y:0,z:0,w:0}};let count=1;class PolygonPoint{constructor(points){_defineProperty__default.default(this,"id",void 0),_defineProperty__default.default(this,"point",void 0),_defineProperty__default.default(this,"active",!1),this.id=count++,this.point=points}}class Polygon{constructor(name=""){_defineProperty__default.default(this,"id",void 0),_defineProperty__default.default(this,"name",void 0),_defineProperty__default.default(this,"points",[]),_defineProperty__default.default(this,"active",!1),this.name=name,this.id=count++}}const polygonLinesGetChildrenForHitmap=(props,assignNextColors,excludedObjects)=>props.map(prop=>{if(excludedObjects.some(({object:object})=>object===prop))return null;const hitmapProp=_objectSpread__default.default({},prop),[hitmapColor]=assignNextColors(prop.originalMarker,1);return hitmapProp.scale=HITMAP_SCALE,hitmapProp.color=hitmapColor,hitmapProp.colors&&hitmapProp.points&&hitmapProp.points.length&&(hitmapProp.colors=new Array(hitmapProp.points.length).fill(hitmapColor)),hitmapProp}).filter(Boolean);class PolygonLines extends React__default.default.Component{render(){const polygons=this.props.children,lines=[];for(const poly of polygons){const color=poly.active?ACTIVE_POLYGON_COLOR:DEFAULT_COLOR,points=poly.points.map(({point:point})=>vec3ToPoint(point));lines.push({primitive:"line strip",pose:POSE,points:points,scale:DRAW_SCALE,color:vec4ToRGBA(color),originalMarker:poly})}return React__default.default.createElement(Lines,{getChildrenForHitmap:polygonLinesGetChildrenForHitmap},lines)}}const polygonPointsGetChildrenForHitmap=(props,assignNextColors,excludedObjects)=>props.map(prop=>{if(excludedObjects.some(({object:object})=>object===prop))return null;const hitmapProp=_objectSpread__default.default({},prop);return hitmapProp.colors=hitmapProp.colors.map((color,index)=>assignNextColors(prop.originalMarkers[index],1)),hitmapProp.scale=HITMAP_POINT_SCALE,hitmapProp}).filter(Boolean);class PolygonPoints extends React__default.default.Component{render(){const polygons=this.props.children,points=[],colors=[],originalMarkers=[];for(const poly of polygons){const color=poly.active?ACTIVE_POLYGON_COLOR:DEFAULT_COLOR;for(const point of poly.points){const convertedPoint=vec3ToPoint(point.point);points.push(convertedPoint),colors.push(point.active?ACTIVE_POINT_COLOR:color),originalMarkers.push(point)}}const sphereList={points:points,colors:colors,pose:POSE,scale:DRAW_POINT_SCALE,originalMarkers:originalMarkers};return React__default.default.createElement(Spheres,{getChildrenForHitmap:polygonPointsGetChildrenForHitmap},[sphereList])}}function areEqual(point1,point2){const[x1,y1,z1]=point1.point,[x2,y2,z2]=point2.point;return x1===x2&&y1===y2&&z1===z2}function isClosed(polygon){const{points:points}=polygon;for(let i=0;i<points.length-1;i++)if(areEqual(points[i],points[i+1]))return!0;return areEqual(points[0],points[points.length-1])}const defaultSingleColorDepth_enable=!0,defaultSingleColorDepth_mask=!1,defaultVetexColorDepth_enable=!0,defaultVetexColorDepth_mask=!0,singleColor=regl=>withPose({primitive:"triangles",vert:"\n  precision mediump float;\n\n  attribute vec3 point;\n\n  uniform mat4 projection, view;\n\n  #WITH_POSE\n\n  void main () {\n    vec3 pos = applyPose(point);\n    gl_Position = projection * view * vec4(pos, 1);\n  }\n  ",frag:"\n  precision mediump float;\n  uniform vec4 color;\n  void main () {\n    gl_FragColor = color;\n  }\n  ",attributes:{point:(context,props)=>shouldConvert(props.points)?pointToVec3Array(props.points):props.points},uniforms:{color:(context,props)=>shouldConvert(props.color)?toRGBA(props.color):props.color},depth:{enable:(context,props)=>props.depth&&props.depth.enable||defaultSingleColorDepth_enable,mask:(context,props)=>props.depth&&props.depth.mask||defaultSingleColorDepth_mask},blend:defaultBlend,count:(context,props)=>props.points.length}),vertexColors=regl=>withPose({primitive:"triangles",vert:"\n  precision mediump float;\n\n  attribute vec3 point;\n  attribute vec4 color;\n\n  uniform mat4 projection, view;\n\n  varying vec4 vColor;\n\n  #WITH_POSE\n\n  void main () {\n    vec3 pos = applyPose(point);\n    vColor = color;\n    gl_Position = projection * view * vec4(pos, 1);\n  }\n  ",frag:"\n  precision mediump float;\n  varying vec4 vColor;\n  void main () {\n    gl_FragColor = vColor;\n  }\n  ",attributes:{point:(context,props)=>shouldConvert(props.points)?pointToVec3Array(props.points):props.points,color:(context,props)=>{if(!props.colors||!props.colors.length)throw new Error('Invalid empty or null prop "colors" when rendering triangles using vertex colors');return shouldConvert(props.colors)?getVertexColors(props):props.colors}},depth:{enable:(context,props)=>props.depth&&props.depth.enable||defaultVetexColorDepth_enable,mask:(context,props)=>props.depth&&props.depth.mask||defaultVetexColorDepth_mask},blend:defaultBlend,count:(context,props)=>props.points.length}),triangles=regl=>{const single=withRenderStateOverrides(singleColor)(regl),vertex=withRenderStateOverrides(vertexColors)(regl);return(props,isHitmap)=>{const items=Array.isArray(props)?props:[props],singleColorItems=[],vertexColorItems=[];items.forEach(item=>{!isHitmap&&item.onlyRenderInHitmap||(item.colors&&item.colors.length?vertexColorItems.push(item):singleColorItems.push(item))}),single(singleColorItems),vertex(vertexColorItems)}},makeTrianglesCommand=()=>triangles,getChildrenForHitmap$1=createInstancedGetChildrenForHitmap(3);function Triangles(props){return React__namespace.createElement(Command,_extends__default.default({getChildrenForHitmap:getChildrenForHitmap$1},props,{reglCommand:triangles}))}const NO_POSE={position:{x:0,y:0,z:0},orientation:{x:0,y:0,z:0,w:0}},DEFAULT_SCALE={x:1,y:1,z:1};function getEarcutPoints(points){const flattenedPoints=function(points){const array=new Float32Array(3*points.length);for(let i=0;i<points.length;i++){const[x,y,z]=points[i];array[3*i]=x,array[3*i+1]=y,array[3*i+2]=z}return array}(points),indices=earcut__default.default(flattenedPoints,null,3),newPoints=[];for(let i=0;i<indices.length;i++){const originalIndex=indices[i];newPoints.push(points[originalIndex])}return newPoints}const generateTriangles=polygons=>polygons.map(poly=>{const points=shouldConvert(poly.points)?poly.points.map(pointToVec3$1):poly.points,pose=poly.pose?poly.pose:NO_POSE,earcutPoints=getEarcutPoints(points);return _objectSpread__default.default({},poly,{points:earcutPoints,pose:pose,scale:DEFAULT_SCALE,originalMarker:poly})});const DEFAULT_TEXT_COLOR={r:1,g:1,b:1,a:1},DEFAULT_BG_COLOR={r:0,g:0,b:0,a:.8};let cssHasBeenInserted=!1;function isColorDark({r:r,g:g,b:b}){return 54.213*r+182.376*g+18.411*b<128}function isColorEqual(a,b){return a.r===b.r&&a.g===b.g&&a.b===b.b&&a.a===b.a}class TextElement{constructor(){_defineProperty__default.default(this,"wrapper",document.createElement("span")),_defineProperty__default.default(this,"_inner",document.createElement("span")),_defineProperty__default.default(this,"_text",document.createTextNode("")),_defineProperty__default.default(this,"_prevTextColor",DEFAULT_TEXT_COLOR),_defineProperty__default.default(this,"_prevBgColor",DEFAULT_BG_COLOR),_defineProperty__default.default(this,"_prevAutoBackgroundColor",null),function(){if(cssHasBeenInserted)return;const style=document.createElement("style");style.innerHTML="\n    .regl-worldview-text-wrapper {\n      position: absolute;\n      white-space: nowrap;\n      z-index: 100;\n      pointer-events: none;\n      top: 0;\n      left: 0;\n      will-change: transform;\n    }\n    .regl-worldview-text-inner {\n      position: relative;\n      left: -50%;\n      top: -0.5em;\n      white-space: pre-line;\n    }\n  ",document.body&&document.body.appendChild(style),cssHasBeenInserted=!0}(),this.wrapper.className="regl-worldview-text-wrapper",this._inner.className="regl-worldview-text-inner",this.wrapper.appendChild(this._inner),this._inner.appendChild(this._text),this.wrapper.style.color=getCSSColor(DEFAULT_TEXT_COLOR)}update(marker,left,top,autoBackgroundColor){this.wrapper.style.transform=`translate(${left.toFixed()}px,${top.toFixed()}px)`;const{color:color,colors:colors=[]}=marker,hasBgColor=colors.length>=2,textColor=toColor(hasBgColor?colors[0]:color||[0,0,0,1]);if(textColor){const backgroundColor=toColor(colors[1]);if(isColorEqual(this._prevTextColor,textColor)||(this._prevTextColor=textColor,this.wrapper.style.color=getCSSColor(textColor)),autoBackgroundColor||autoBackgroundColor===this._prevAutoBackgroundColor)if(autoBackgroundColor&&(!this._prevBgColor||this._prevBgColor&&!isColorEqual(textColor,this._prevBgColor))){this._prevBgColor=textColor;const hexBgColor=isColorDark(textColor)?"#ffffff":"rgba(0,0,0,0.8)";this._inner.style.background=hexBgColor}else hasBgColor&&this._prevBgColor&&!isColorEqual(backgroundColor,this._prevBgColor)&&(this._prevBgColor=backgroundColor,this._inner.style.background=getCSSColor(backgroundColor));else this._inner.style.background="transparent",this._prevBgColor=null}this._prevAutoBackgroundColor=autoBackgroundColor,this._text.textContent!==marker.text&&(this._text.textContent=marker.text||"")}}class Text extends React__default.default.Component{constructor(...args){super(...args),_defineProperty__default.default(this,"_context",void 0),_defineProperty__default.default(this,"_textComponents",new Map),_defineProperty__default.default(this,"_textContainerRef",React__default.default.createRef()),_defineProperty__default.default(this,"componentWillUnmount",()=>{this._context&&this._context.unregisterPaintCallback(this.paint)}),_defineProperty__default.default(this,"paint",()=>{const context=this._context,textComponents=this._textComponents,{children:markers,autoBackgroundColor:autoBackgroundColor}=this.props,{current:textContainer}=this._textContainerRef,initializedData=context&&context.initializedData;if(!textContainer||!context||!initializedData)return;const{dimension:dimension,dimension:{width:width,height:height}}=context,{camera:camera}=initializedData,componentsToRemove=new Set(textComponents.keys());for(const marker of markers){const{pose:pose,name:name}=marker,{position:position}=pose,coord=this.project(position,camera,dimension);if(!coord)continue;const[left,top]=coord;if(left<-10||top<-10||left>width+10||top>height+10)continue;let el=textComponents.get(name||marker);el?componentsToRemove.delete(name||marker):(el=new TextElement,textComponents.set(name||marker,el),textContainer.appendChild(el.wrapper)),el.update(marker,left,top,autoBackgroundColor)}for(const key of componentsToRemove){const el=textComponents.get(key);el&&(el.wrapper.remove(),textComponents.delete(key))}}),_defineProperty__default.default(this,"project",(point,camera,dimension)=>{const vec=[point.x,point.y,point.z],{left:left,top:top,width:width,height:height}=dimension,viewport=[left,top,width,height];return camera.toScreenCoord(viewport,vec)})}componentDidMount(){this._context&&this._context.registerPaintCallback(this.paint)}render(){return React__default.default.createElement(React__default.default.Fragment,null,React__default.default.createElement("div",{ref:this._textContainerRef}),React__default.default.createElement(WorldviewReactContext.Consumer,null,ctx=>(ctx&&(this._context=ctx),null)))}}_defineProperty__default.default(Text,"defaultProps",{children:[]}),self.document||(self.document={createElement:()=>new OffscreenCanvas(0,0)});const BG_COLOR_LIGHT=Object.freeze({r:1,g:1,b:1,a:1}),BG_COLOR_DARK=Object.freeze({r:0,g:0,b:0,a:1}),memoizedCreateCanvas=memoizeOne__default.default(font=>{const ctx=(self.OffscreenCanvas?new OffscreenCanvas(0,0):document.createElement("canvas")).getContext("2d");return ctx.font=font,ctx}),hashMarkerPosition=marker=>{const{x:x,y:y,z:z}=marker.pose.position;return`x${x}y${y}z${z}`},getMarkerYOffset=(offsets,marker)=>offsets.get(hashMarkerPosition(marker))||0,setMarkerYOffset=(offsets,marker,yOffset)=>{offsets.set(hashMarkerPosition(marker),yOffset)};function makeTextCommand(alphabet){const charSet=new Set(alphabet||[]),memoizedGenerateAtlas=memoizeOne__default.default((charSet,_setSize,resolution,maxAtlasWidth)=>{const tinySDF=new TinySDF__default.default(resolution,10,8,.25,"sans-serif","normal"),ctx=memoizedCreateCanvas(resolution+"px sans-serif");let textureWidth=0;const rowHeight=resolution+20,charInfo={};let x=0,y=0;for(const char of charSet){const width=ctx.measureText(char).width,dx=Math.ceil(width)+20;x+dx>maxAtlasWidth&&(x=0,y+=rowHeight),charInfo[char]={x:x,y:y,width:width},x+=dx,textureWidth=Math.max(textureWidth,x)}const textureHeight=y+rowHeight,textureData=new Uint8Array(textureWidth*textureHeight);for(const char of charSet){const{x:x,y:y}=charInfo[char],data=tinySDF.draw(char);for(let i=0;i<tinySDF.size;i++)for(let j=0;j<tinySDF.size;j++)x+j<textureWidth&&(textureData[textureWidth*(y+i)+x+j]=data[i*tinySDF.size+j])}return{charInfo:charInfo,textureWidth:textureWidth,textureHeight:textureHeight,textureData:textureData}}),memoizedDrawAtlasTexture=memoizeOne__default.default((textAtlas,atlasTexture)=>{atlasTexture({data:textAtlas.textureData,width:textAtlas.textureWidth,height:textAtlas.textureHeight,format:"alpha",wrap:"clamp",mag:"linear",min:"linear"})}),command=regl=>{if(!regl)throw new Error("Invalid regl instance");const atlasTexture=regl.texture(),drawText=regl({depth:{enable:(ctx,props)=>!props.scaleInvariant&&defaultDepth.enable(ctx,props),mask:(ctx,props)=>!props.scaleInvariant&&defaultDepth.mask(ctx,props)},blend:defaultBlend,primitive:"triangle strip",vert:"\n  precision mediump float;\n\n  uniform mat4 projection, view, billboardRotation;\n  uniform float fontSize;\n  uniform vec2 atlasSize;\n  uniform bool scaleInvariant;\n  uniform float scaleInvariantSize;\n  uniform float viewportHeight;\n  uniform float viewportWidth;\n  uniform bool isPerspective;\n  uniform float cameraFovY;\n\n  // per-vertex attributes\n  attribute vec2 texCoord;\n  attribute vec2 position;\n\n  // per-instance (character) attributes\n  attribute vec2 srcOffset;\n  attribute float srcWidth;\n  attribute vec2 destOffset;\n\n  // per-marker attributes\n  attribute vec3 scale;\n  attribute float billboard;\n  attribute vec2 alignmentOffset;\n  attribute float enableBackground;\n  attribute float enableHighlight;\n  attribute vec4 foregroundColor;\n  attribute vec4 backgroundColor;\n  attribute vec4 highlightColor;\n  attribute vec3 posePosition;\n  attribute vec4 poseOrientation;\n\n  varying vec2 vTexCoord;\n  varying float vEnableBackground;\n  varying vec4 vForegroundColor;\n  varying vec4 vBackgroundColor;\n  varying vec4 vHighlightColor;\n  varying float vEnableHighlight;\n  varying float vBillboard;\n\n  // rotate a 3d point v by a rotation quaternion q\n  // like applyPose(), but we need to use a custom per-instance pose\n  vec3 rotate(vec3 v, vec4 q) {\n    vec3 temp = cross(q.xyz, v) + q.w * v;\n    return v + (2.0 * cross(q.xyz, temp));\n  }\n\n  vec4 computeVertexPosition(vec3 markerPos) {\n    vec3 pos;\n    if (billboard == 1.0) {\n      pos = (billboardRotation * vec4(markerPos, 1.0)).xyz + posePosition;\n    } else {\n      pos = rotate(markerPos, poseOrientation) + posePosition;\n    }\n    return projection * view * vec4(pos, 1.0);\n  }\n\n  void main () {\n    // Scale invariance only works for billboards\n    bool scaleInvariantEnabled = scaleInvariant && billboard == 1.0;\n\n    vec2 srcSize = vec2(srcWidth, fontSize);\n    vec3 markerSpacePos = vec3((destOffset + position * srcSize + alignmentOffset) / fontSize, 0);\n\n    if (!scaleInvariantEnabled) {\n      // Apply marker scale only when scale invariance is disabled\n      markerSpacePos *= scale;\n    } else {\n      // If scale invariance is enabled, the text will be rendered at a constant\n      // scale regardless of the zoom level.\n      // The given scaleInvariantSize is in pixels. We need to scale it based on\n      // the current canvas resolution to get the proper dimensions later in NDC\n      float scaleInvariantFactor = scaleInvariantSize / viewportHeight;\n      if (isPerspective) {\n        // When using a perspective projection, the effect is achieved by using\n        // the w-component for scaling, which is obtained by first projecting\n        // the marker position into clip space.\n        gl_Position = computeVertexPosition(markerSpacePos);\n        scaleInvariantFactor *= gl_Position.w;\n        // We also need to take into account the camera's half vertical FOV\n        scaleInvariantFactor *= cameraFovY;\n      } else {\n        // Compute inverse aspect ratio\n        float invAspect = viewportHeight / viewportWidth;\n        // When using orthographic projection, the scaling factor is obtain from\n        // the camera projection itself.\n        // We also need applied the inverse aspect ratio\n        scaleInvariantFactor *= 2.0 * invAspect / length(projection[0].xyz);\n      }\n      // Apply scale invariant factor\n      markerSpacePos *= scaleInvariantFactor;\n    }\n\n    // Compute final vertex position\n    gl_Position = computeVertexPosition(markerSpacePos);\n\n    vTexCoord = (srcOffset + texCoord * srcSize) / atlasSize;\n    vEnableBackground = enableBackground;\n    vForegroundColor = foregroundColor;\n    vBackgroundColor = backgroundColor;\n    vHighlightColor = highlightColor;\n    vEnableHighlight = enableHighlight;\n    vBillboard = billboard;\n  }\n",frag:'\n  #extension GL_OES_standard_derivatives : enable\n  precision mediump float;\n  uniform mat4 projection;\n  uniform sampler2D atlas;\n  uniform float cutoff;\n  uniform bool scaleInvariant;\n  uniform float scaleInvariantSize;\n  uniform bool isHitmap;\n\n  varying vec2 vTexCoord;\n  varying float vEnableBackground;\n  varying vec4 vForegroundColor;\n  varying vec4 vBackgroundColor;\n  varying vec4 vHighlightColor;\n  varying float vEnableHighlight;\n  varying float vBillboard;\n\n  void main() {\n    float dist = texture2D(atlas, vTexCoord).a;\n\n    // fwidth(dist) is used to provide some anti-aliasing. However it\'s currently only used\n    // when the solid background is enabled, because the alpha blending and\n    // depth test don\'t work together nicely for partially-transparent pixels.\n    float edgeStep = smoothstep(1.0 - cutoff - fwidth(dist), 1.0 - cutoff, dist);\n\n    if (scaleInvariant && vBillboard == 1.0 && scaleInvariantSize <= 20.0) {\n      // If scale invariant is enabled and scaleInvariantSize is "too small", do not interpolate\n      // the raw distance value since at such small scale, the SDF approach causes some\n      // visual artifacts.\n      // The value used for checking if scaleInvariantSize is "too small" is arbitrary and\n      // was defined after some experimentation.\n      edgeStep = dist;\n    }\n\n    if (isHitmap) {\n      // When rendering for the hitmap buffer, we draw flat polygons using the foreground color\n      // instead of the actual glyphs. This way we increase the selection range and provide a\n      // better user experience.\n      gl_FragColor = vForegroundColor;\n    } else if (vEnableHighlight > 0.5) {\n      gl_FragColor = mix(vHighlightColor, vec4(0, 0, 0, 1), edgeStep);\n    } else if (vEnableBackground > 0.5) {\n      gl_FragColor = mix(vBackgroundColor, vForegroundColor, edgeStep);\n    } else {\n      gl_FragColor = vForegroundColor;\n      gl_FragColor.a *= edgeStep;\n    }\n\n    if (gl_FragColor.a == 0.) {\n      discard;\n    }\n  }\n',uniforms:{atlas:atlasTexture,atlasSize:()=>[atlasTexture.width,atlasTexture.height],fontSize:regl.prop("resolution"),cutoff:.25,scaleInvariant:regl.prop("scaleInvariant"),scaleInvariantSize:regl.prop("scaleInvariantSize"),isHitmap:regl.prop("isHitmap"),viewportHeight:regl.context("viewportHeight"),viewportWidth:regl.context("viewportWidth"),isPerspective:regl.context("isPerspective"),cameraFovY:regl.context("fovy")},instances:regl.prop("instances"),count:4,attributes:{position:[[0,0],[0,-1],[1,0],[1,-1]],texCoord:[[0,0],[0,1],[1,0],[1,1]],srcOffset:(ctx,props)=>({buffer:props.srcOffsets,divisor:1}),destOffset:(ctx,props)=>({buffer:props.destOffsets,divisor:1}),srcWidth:(ctx,props)=>({buffer:props.srcWidths,divisor:1}),scale:(ctx,props)=>({buffer:props.scale,divisor:1}),alignmentOffset:(ctx,props)=>({buffer:props.alignmentOffset,divisor:1}),billboard:(ctx,props)=>({buffer:props.billboard,divisor:1}),foregroundColor:(ctx,props)=>({buffer:props.foregroundColor,divisor:1}),backgroundColor:(ctx,props)=>({buffer:props.backgroundColor,divisor:1}),highlightColor:(ctx,props)=>({buffer:props.highlightColor,divisor:1}),enableBackground:(ctx,props)=>({buffer:props.enableBackground,divisor:1}),enableHighlight:(ctx,props)=>({buffer:props.enableHighlight,divisor:1}),posePosition:(ctx,props)=>({buffer:props.posePosition,divisor:1}),poseOrientation:(ctx,props)=>({buffer:props.poseOrientation,divisor:1})}});return(props,isHitmap)=>{let estimatedInstances=0;for(const _ref of props){const{text:text}=_ref;if("string"!=typeof text)throw new Error(`Expected typeof 'text' to be a string. But got type '${typeof text}' instead.`);for(const char of text)++estimatedInstances,charSet.add(char)}let generatedAtlas=command.textAtlas;const generatedAtlasChars=generatedAtlas?Object.keys(generatedAtlas.charInfo):[],textChars=Array.from(charSet),generatedAtlasHasAllChars=0===difference__default.default(textChars,generatedAtlasChars).length;if(!generatedAtlas||!generatedAtlasHasAllChars){const maxAtlasWidth=regl.limits.maxTextureSize||2048;generatedAtlas=memoizedGenerateAtlas(charSet,charSet.size,command.resolution,maxAtlasWidth)}memoizedDrawAtlasTexture(generatedAtlas,atlasTexture);const destOffsets=new Float32Array(2*estimatedInstances),srcWidths=new Float32Array(estimatedInstances),srcOffsets=new Float32Array(2*estimatedInstances),alignmentOffset=new Float32Array(2*estimatedInstances),scale=new Float32Array(3*estimatedInstances),foregroundColor=new Float32Array(4*estimatedInstances),backgroundColor=new Float32Array(4*estimatedInstances),highlightColor=new Float32Array(4*estimatedInstances),enableBackground=new Float32Array(estimatedInstances),billboard=new Float32Array(estimatedInstances),posePosition=new Float32Array(3*estimatedInstances),poseOrientation=new Float32Array(4*estimatedInstances),enableHighlight=new Float32Array(estimatedInstances);let totalInstances=0;const yOffsets=new Map;for(const marker of props){var _marker$colors,_marker$colors2,_marker$colors3;let totalWidth=0,x=0,y=getMarkerYOffset(yOffsets,marker),markerInstances=0,lineCount=1;const fgColor=toColor(isHitmap?marker.color||[0,0,0,1]:(null===(_marker$colors=marker.colors)||void 0===_marker$colors?void 0:_marker$colors[0])||marker.color||BG_COLOR_LIGHT),outline=null!=(null===(_marker$colors2=marker.colors)||void 0===_marker$colors2?void 0:_marker$colors2[1])||command.autoBackgroundColor,bgColor=toColor((null===(_marker$colors3=marker.colors)||void 0===_marker$colors3?void 0:_marker$colors3[1])||(command.autoBackgroundColor&&isColorDark(fgColor)?BG_COLOR_LIGHT:BG_COLOR_DARK)),hlColor=(null==marker?void 0:marker.highlightColor)||{r:1,b:0,g:1,a:1};for(let i=0;i<marker.text.length;i++){var _marker$billboard;const char=marker.text[i];if("\n"===char){x=0,y+=command.resolution,lineCount++;continue}const info=generatedAtlas.charInfo[char],index=totalInstances+markerInstances;destOffsets[2*index+0]=x,destOffsets[2*index+1]=-y,srcOffsets[2*index+0]=info.x+10,srcOffsets[2*index+1]=info.y+10+.05*command.resolution,srcWidths[index]=info.width,x+=info.width,totalWidth=Math.max(totalWidth,x),billboard[index]=null===(_marker$billboard=marker.billboard)||void 0===_marker$billboard||_marker$billboard?1:0,scale[3*index+0]=marker.scale.x,scale[3*index+1]=marker.scale.y,scale[3*index+2]=marker.scale.z,posePosition[3*index+0]=marker.pose.position.x,posePosition[3*index+1]=marker.pose.position.y,posePosition[3*index+2]=marker.pose.position.z,poseOrientation[4*index+0]=marker.pose.orientation.x,poseOrientation[4*index+1]=marker.pose.orientation.y,poseOrientation[4*index+2]=marker.pose.orientation.z,poseOrientation[4*index+3]=marker.pose.orientation.w,foregroundColor[4*index+0]=fgColor.r,foregroundColor[4*index+1]=fgColor.g,foregroundColor[4*index+2]=fgColor.b,foregroundColor[4*index+3]=fgColor.a,backgroundColor[4*index+0]=bgColor.r,backgroundColor[4*index+1]=bgColor.g,backgroundColor[4*index+2]=bgColor.b,backgroundColor[4*index+3]=bgColor.a,highlightColor[4*index+0]=hlColor.r,highlightColor[4*index+1]=hlColor.g,highlightColor[4*index+2]=hlColor.b,highlightColor[4*index+3]=hlColor.a,enableHighlight[index]=marker.highlightedIndices&&marker.highlightedIndices.includes(i)?1:0,enableBackground[index]=outline?1:0,++markerInstances}const totalHeight=y+command.resolution;for(let i=0;i<markerInstances;i++)alignmentOffset[2*(totalInstances+i)+0]=-totalWidth/2,alignmentOffset[2*(totalInstances+i)+1]=totalHeight/2;setMarkerYOffset(yOffsets,marker,totalHeight+lineCount*command.resolution),totalInstances+=markerInstances}drawText({instances:totalInstances,isHitmap:!!isHitmap,scaleInvariant:command.scaleInvariant,resolution:command.resolution,scaleInvariantSize:command.scaleInvariantSize,srcOffsets:srcOffsets,destOffsets:destOffsets,srcWidths:srcWidths,alignmentOffset:alignmentOffset,billboard:billboard,enableBackground:enableBackground,enableHighlight:enableHighlight,foregroundColor:foregroundColor,backgroundColor:backgroundColor,highlightColor:highlightColor,poseOrientation:poseOrientation,posePosition:posePosition,scale:scale})}};return command.autoBackgroundColor=!1,command}const makeGLTextCommand=props=>{var _props$scaleInvariant;const command=makeTextCommand(props.alphabet);return command.autoBackgroundColor=props.autoBackgroundColor,command.resolution=Math.max(40,props.resolution||160),command.scaleInvariant=null!=props.scaleInvariantFontSize,command.scaleInvariantSize=null!==(_props$scaleInvariant=props.scaleInvariantFontSize)&&void 0!==_props$scaleInvariant?_props$scaleInvariant:0,command.textAtlas=props.textAtlas,command};function glConstantToRegl(value){if(void 0!==value){switch(value){case WebGLRenderingContext.NEAREST:return"nearest";case WebGLRenderingContext.LINEAR:return"linear";case WebGLRenderingContext.NEAREST_MIPMAP_NEAREST:return"nearest mipmap nearest";case WebGLRenderingContext.NEAREST_MIPMAP_LINEAR:return"nearest mipmap linear";case WebGLRenderingContext.LINEAR_MIPMAP_NEAREST:return"linear mipmap nearest";case WebGLRenderingContext.LINEAR_MIPMAP_LINEAR:return"linear mipmap linear";case WebGLRenderingContext.REPEAT:return"repeat";case WebGLRenderingContext.CLAMP_TO_EDGE:return"clamp";case WebGLRenderingContext.MIRRORED_REPEAT:return"mirror"}throw new Error("unhandled constant value "+JSON.stringify(value))}}const drawModel=regl=>{if(!regl)throw new Error("Invalid regl instance");const command=regl({primitive:"triangles",blend:defaultBlend,uniforms:{globalAlpha:regl.context("globalAlpha"),poseMatrix:regl.context("poseMatrix"),baseColorTexture:regl.prop("baseColorTexture"),baseColorFactor:regl.prop("baseColorFactor"),nodeMatrix:regl.prop("nodeMatrix"),"light.direction":[0,0,-1],"light.ambientIntensity":.5,"light.diffuseIntensity":.5,hitmapColor:regl.context("hitmapColor"),isHitmap:regl.context("isHitmap")},attributes:{position:regl.prop("positions"),normal:regl.prop("normals"),texCoord:regl.prop("texCoords")},elements:regl.prop("indices"),vert:"\n  uniform mat4 projection, view;\n  uniform mat4 nodeMatrix;\n  uniform mat4 poseMatrix;\n  attribute vec3 position, normal;\n  varying vec3 vNormal;\n  attribute vec2 texCoord;\n  varying vec2 vTexCoord;\n\n  void main() {\n    // using the projection matrix for normals breaks lighting for orthographic mode\n    mat4 mv = view * poseMatrix * nodeMatrix;\n    vNormal = normalize((mv * vec4(normal, 0)).xyz);\n    vTexCoord = texCoord;\n    gl_Position = projection * mv * vec4(position, 1);\n  }\n  ",frag:"\n  precision mediump float;\n  uniform bool isHitmap;\n  uniform vec4 hitmapColor;\n  uniform float globalAlpha;\n  uniform sampler2D baseColorTexture;\n  uniform vec4 baseColorFactor;\n  varying mediump vec2 vTexCoord;\n  varying mediump vec3 vNormal;\n\n  // Basic directional lighting from:\n  // http://ogldev.atspace.co.uk/www/tutorial18/tutorial18.html\n  struct DirectionalLight {\n    mediump vec3 direction;\n    lowp float ambientIntensity;\n    lowp float diffuseIntensity;\n  };\n  uniform DirectionalLight light;\n\n  void main() {\n    vec4 baseColor = texture2D(baseColorTexture, vTexCoord) * baseColorFactor;\n    float diffuse = light.diffuseIntensity * max(0.0, dot(vNormal, -light.direction));\n    gl_FragColor = isHitmap ? hitmapColor : vec4((light.ambientIntensity + diffuse) * baseColor.rgb, baseColor.a * globalAlpha);\n  }\n  "}),singleTexCoord=regl.buffer([0,0]),whiteTexture=regl.texture({data:[255,255,255,255],width:1,height:1}),getDrawCalls=memoizeWeak__default.default(model=>{const{accessors:accessors}=model,textures=model.json.textures&&model.json.textures.map(textureInfo=>{const sampler=textureInfo.sampler?model.json.samplers[textureInfo.sampler]:{minFilter:WebGLRenderingContext.NEAREST_MIPMAP_LINEAR,magFilter:WebGLRenderingContext.LINEAR,wrapS:WebGLRenderingContext.REPEAT,wrapT:WebGLRenderingContext.REPEAT},bitmap=model.images&&model.images[textureInfo.source];return regl.texture({data:bitmap,min:glConstantToRegl(sampler.minFilter),mag:glConstantToRegl(sampler.magFilter),wrapS:glConstantToRegl(sampler.wrapS),wrapT:glConstantToRegl(sampler.wrapT)})});model.images&&model.images.forEach(bitmap=>bitmap.close());const drawCalls=[];function drawNode(node,parentMatrix){const nodeMatrix=node.matrix?glMatrix.mat4.clone(node.matrix):glMatrix.mat4.fromRotationTranslationScale(glMatrix.mat4.create(),node.rotation||[0,0,0,1],node.translation||[0,0,0],node.scale||[1,1,1]);if(glMatrix.mat4.mul(nodeMatrix,parentMatrix,nodeMatrix),null!=node.mesh&&function(mesh,nodeMatrix){for(const primitive of mesh.primitives){const material=model.json.materials[primitive.material],texInfo=material.pbrMetallicRoughness.baseColorTexture;let primitiveAccessors=accessors;const{extensions:extensions={}}=primitive,dracoCompressionEXT=extensions.KHR_draco_mesh_compression;if(dracoCompressionEXT&&(primitiveAccessors=dracoCompressionEXT.accessors),!primitiveAccessors)throw new Error("Error decoding GLB model: Missing `accessors` in JSON data");drawCalls.push({indices:primitiveAccessors[primitive.indices],positions:primitiveAccessors[primitive.attributes.POSITION],normals:primitiveAccessors[primitive.attributes.NORMAL],texCoords:texInfo?primitiveAccessors[primitive.attributes["TEXCOORD_"+(texInfo.texCoord||0)]]:{divisor:1,buffer:singleTexCoord},baseColorTexture:texInfo?textures[texInfo.index]:whiteTexture,baseColorFactor:material.pbrMetallicRoughness.baseColorFactor||[1,1,1,1],nodeMatrix:nodeMatrix})}}(model.json.meshes[node.mesh],nodeMatrix),node.children)for(const childIdx of node.children)drawNode(model.json.nodes[childIdx],nodeMatrix)}for(const nodeIdx of model.json.scenes[(({json:json})=>{var _json$scenes;if(null!=json.scene)return json.scene;const keys=Object.keys(null!==(_json$scenes=json.scenes)&&void 0!==_json$scenes?_json$scenes:{});if(0===keys.length)throw new Error("No scenes to render");return keys[0]})(model)].nodes){const rootTransform=glMatrix.mat4.create();glMatrix.mat4.rotateX(rootTransform,rootTransform,Math.PI/2),glMatrix.mat4.rotateY(rootTransform,rootTransform,Math.PI/2),drawNode(model.json.nodes[nodeIdx],rootTransform)}return drawCalls}),withContext=regl({context:{poseMatrix:(context,props)=>glMatrix.mat4.fromRotationTranslationScale(glMatrix.mat4.create(),orientationToVec4(props.pose.orientation),pointToVec3$1(props.pose.position),props.scale?pointToVec3$1(props.scale):[1,1,1]),globalAlpha:(context,props)=>null==props.alpha?1:props.alpha,hitmapColor:(context,props)=>props.color||[0,0,0,1],isHitmap:(context,props)=>!!props.isHitmap}});return(props,isHitmap)=>{const drawCalls=getDrawCalls(props.model);withContext(isHitmap?_objectSpread__default.default({},props,{isHitmap:isHitmap}):props,()=>{command(drawCalls)})}};function useModel(model){return React.useDebugValue(model),function(fn,deps){const[value,setValue]=React.useState();return React.useEffect(React.useCallback(()=>{let unloaded=!1;return fn().then(result=>{unloaded||setValue(result)}),()=>{unloaded=!0,setValue(void 0)}},deps||[fn]),deps||[fn]),value}(async()=>{if("function"==typeof model)return model();if("string"==typeof model){const response=await fetch(model);if(!response.ok)throw new Error("failed to fetch GLTF model: "+response.status);return parseGLB(await response.arrayBuffer())}throw new Error("unsupported model prop: "+typeof model)},[model])}const DEFAULT_GRID_COLOR=[.3,.3,.3,1];function grid(){return withPose({vert:"\n    precision mediump float;\n    uniform mat4 projection, view;\n\n    attribute vec3 point;\n    attribute vec4 color;\n    varying vec4 fragColor;\n\n    void main () {\n      fragColor = color;\n      vec3 p = point;\n      gl_Position = projection * view * vec4(p, 1);\n    }\n    ",frag:"\n      precision mediump float;\n      varying vec4 fragColor;\n      void main () {\n        gl_FragColor = fragColor;\n      }\n    ",primitive:"lines",attributes:{point:(context,props)=>{const points=[],bound=props.count;for(let i=-props.count;i<props.count;i++)points.push([-bound,i,0]),points.push([bound,i,0]),points.push([i,-bound,0]),points.push([i,bound,0]);return points},color:(context,props)=>{const color=props.color||DEFAULT_GRID_COLOR;return new Array(4*props.count*2).fill(color)}},count:(context,props)=>4*props.count*2})}function Grid(_ref){let{count:count}=_ref,rest=_objectWithoutProperties__default.default(_ref,["count"]);const children={count:count};return React__default.default.createElement(Command,_extends__default.default({getChildrenForHitmap:nonInstancedGetChildrenForHitmap},rest,{reglCommand:grid}),children)}Grid.defaultProps={count:6};class Overlay extends React__namespace.Component{constructor(...args){super(...args),_defineProperty__default.default(this,"_context",void 0),_defineProperty__default.default(this,"state",{items:[]}),_defineProperty__default.default(this,"componentWillUnmount",()=>{this._context&&this._context.unregisterPaintCallback(this.paint)}),_defineProperty__default.default(this,"paint",()=>{const context=this._context,dimension=context&&context.dimension,{renderItem:renderItem,children:children}=this.props;if(!context||!dimension)return;const items=children.map((item,index)=>{const coordinates=this.project(item.pose.position,context);return renderItem({item:item,index:index,coordinates:coordinates,dimension:dimension})});this.setState({items:items})}),_defineProperty__default.default(this,"project",(point,context)=>{if(!context||!context.initializedData)return;const{dimension:dimension}=context,{camera:camera}=context.initializedData,vec=[point.x,point.y,point.z],{left:left,top:top,width:width,height:height}=dimension,viewport=[left,top,width,height];return camera.toScreenCoord(viewport,vec)})}componentDidMount(){this._context&&this._context.registerPaintCallback(this.paint)}render(){return React__namespace.createElement(React__namespace.Fragment,null,React__namespace.createElement(WorldviewReactContext.Consumer,null,ctx=>(ctx&&(this._context=ctx),this.state.items)))}}const makePointsCommand=({useWorldSpaceSize:useWorldSpaceSize})=>regl=>{if(!regl)throw new Error("Invalid regl instance");const[minLimitPointSize,maxLimitPointSize]=regl.limits.pointSizeDims;return withPose({primitive:"points",vert:"\n    precision mediump float;\n\n    #WITH_POSE\n\n    uniform mat4 projection, view;\n    uniform float pointSize;\n    uniform bool useWorldSpaceSize;\n    uniform float viewportWidth;\n    uniform float viewportHeight;\n    uniform float minPointSize;\n    uniform float maxPointSize;\n\n    attribute vec3 point;\n    attribute vec4 color;\n    varying vec4 fragColor;\n    void main () {\n      vec3 pos = applyPose(point);\n      gl_Position = projection * view * vec4(pos, 1);\n      fragColor = color;\n\n      if (useWorldSpaceSize) {\n        // Calculate the point size based on world dimensions:\n        // First, we need to compute a new point that is one unit away from\n        // the center of the current point being rendered. We do it in view space\n        // in order to make sure the new point is always one unit up and it's not\n        // affected by view rotation.\n        vec4 up = projection * (view * vec4(pos, 1.0) + vec4(0.0, 1.0, 0.0, 0.0));\n\n        // Then, we compute the distance between both points in clip space, dividing\n        // by the w-component to account for distance in perspective projection.\n        float d = length(up.xyz / up.w - gl_Position.xyz / gl_Position.w);\n\n        // Finally, the point size is calculated using the size of the render target\n        // and it's aspect ratio. We multiply it by 0.5 since distance in clip space\n        // is in range [0, 2] (because clip space's range is [-1, 1]) and\n        // we need it to be [0, 1].\n        float invAspect = viewportHeight / viewportWidth;\n        gl_PointSize = pointSize * 0.5 * d * viewportWidth * invAspect;\n      } else {\n        gl_PointSize = pointSize;\n      }\n\n      // Finally, ensure the calculated point size is within the limits.\n      gl_PointSize = min(maxPointSize, max(minPointSize, gl_PointSize));\n    }\n    ",frag:"\n    precision mediump float;\n    varying vec4 fragColor;\n    void main () {\n      gl_FragColor = vec4(fragColor.x, fragColor.y, fragColor.z, 1);\n    }\n    ",attributes:{point:(context,props)=>props.points.map(point=>Array.isArray(point)?point:pointToVec3$1(point)),color:(context,props)=>getVertexColors(props)},uniforms:{pointSize:(context,props)=>props.scale.x||1,useWorldSpaceSize:!!useWorldSpaceSize,viewportWidth:regl.context("viewportWidth"),viewportHeight:regl.context("viewportHeight"),minPointSize:minLimitPointSize,maxPointSize:maxLimitPointSize},count:regl.prop("points.length")})},getChildrenForHitmap=createInstancedGetChildrenForHitmap(1);exports.Arrows=Arrows$1,exports.Axes=Axes,exports.Bounds=class{constructor(){_defineProperty__default.default(this,"x",void 0),_defineProperty__default.default(this,"y",void 0),_defineProperty__default.default(this,"z",void 0),this.x=new Bound,this.y=new Bound,this.z=new Bound}update(point){this.x.update(point.x),this.y.update(point.y),this.z.update(point.z)}},exports.CameraListener=CameraListener,exports.CameraStore=CameraStore,exports.Command=Command,exports.Cones=Cones,exports.Cubes=function(props){return React__namespace.createElement(Command,_extends__default.default({getChildrenForHitmap:getChildrenForHitmap$3},props,{reglCommand:cubes}))},exports.Cylinders=Cylinders,exports.DEFAULT_CAMERA_STATE=DEFAULT_CAMERA_STATE,exports.DrawPolygons=function({children:polygons=[]}){return 0===polygons.length?null:React__default.default.createElement(React__default.default.Fragment,null,React__default.default.createElement(PolygonLines,null,polygons),React__default.default.createElement(PolygonPoints,null,polygons))},exports.FilledPolygons=function(_ref){let{children:polygons=[]}=_ref,rest=_objectWithoutProperties__default.default(_ref,["children"]);const triangles=generateTriangles(polygons);return React__default.default.createElement(Triangles,_extends__default.default({getChildrenForHitmap:getChildrenForHitmapWithOriginalMarker},rest),triangles)},exports.GLTFScene=function(props){const{children:children,model:model}=props,rest=_objectWithoutProperties__default.default(props,["children","model"]),context=React.useContext(WorldviewReactContext),loadedModel=useModel(model);return React.useEffect(()=>{context&&context.onDirty()},[context,loadedModel]),loadedModel?React__default.default.createElement(Command,_extends__default.default({},rest,{reglCommand:drawModel,getChildrenForHitmap:getChildrenForHitmapWithOriginalMarker}),_objectSpread__default.default({},children,{model:loadedModel,originalMarker:children})):null},exports.GLText=function(props){const[command]=React.useState(()=>makeGLTextCommand(props)),getChildrenForHitmap=createInstancedGetChildrenForHitmap(1);return React__default.default.createElement(Command,_extends__default.default({getChildrenForHitmap:getChildrenForHitmap,reglCommand:command},props))},exports.Grid=Grid,exports.Lines=Lines,exports.OffscreenWorldview=WorldviewBase,exports.Overlay=Overlay,exports.Points=function(props){const[command]=React.useState(()=>makePointsCommand(props));return React__default.default.createElement(Command,_extends__default.default({getChildrenForHitmap:getChildrenForHitmap},props,{reglCommand:command}))},exports.Polygon=Polygon,exports.PolygonBuilder=class{constructor(polygons=[]){_defineProperty__default.default(this,"mouseDown",!1),_defineProperty__default.default(this,"polygons",void 0),_defineProperty__default.default(this,"onChange",()=>{}),_defineProperty__default.default(this,"activePolygon",void 0),_defineProperty__default.default(this,"activePoint",void 0),_defineProperty__default.default(this,"mouseDownPoint",void 0),_defineProperty__default.default(this,"onMouseMove",(e,args)=>{if(this.activePolygon&&(e.preventDefault(),e.stopPropagation()),!this.mouseDown)return;if(!args)return;if(!this.activePoint&&!this.activePolygon)return;const{ray:ray}=args,point=ray.planeIntersection([0,0,0],[0,0,1]);if(!point)return;const{activePolygon:activePolygon}=this;if(this.activePoint)this.updateActivePoint(point);else if(activePolygon&&this.mouseDownPoint){const[pointX,pointY]=point,[mouseX,mouseY]=this.mouseDownPoint,dX=pointX-mouseX,dY=pointY-mouseY;this.mouseDownPoint=point;const uniquePoints=activePolygon.points.reduce((acc,point)=>(acc.includes(point)||acc.push(point),acc),[]);for(const polygonPoint of uniquePoints){const{point:point}=polygonPoint;point[0]=point[0]+dX,point[1]=point[1]+dY}this.onChange()}}),_defineProperty__default.default(this,"onKeyDown",e=>{const{activePolygon:activePolygon}=this;if(activePolygon)switch(e.key){case"Delete":case"Backspace":this.activePoint?this.deletePoint(this.activePoint):this.deletePolygon(activePolygon),this.onChange()}}),_defineProperty__default.default(this,"onMouseUp",(e,args)=>{e.ctrlKey||(this.mouseDown=!1)}),_defineProperty__default.default(this,"onDoubleClick",(e,args)=>{if(!args)return;if(!args.objects.length)return;if(this.selectObject(args.objects[0].object),this.activePoint)return void this.deletePoint(this.activePoint);const{activePolygon:activePolygon}=this;if(!activePolygon)return;let shortestDistance=Number.MAX_SAFE_INTEGER,shortestIndex=-1;const{ray:ray}=args,point=ray.planeIntersection([0,0,0],[0,0,1]);if(!point)return;const[px,py]=point,{points:points}=activePolygon;for(let i=0;i<points.length-1;i++){const point1=points[i],point2=points[i+1],[x1,y1]=point1.point,[x2,y2]=point2.point,dist=distance__default.default.squared(x1,y1,x2,y2,px,py);dist<shortestDistance&&(shortestDistance=dist,shortestIndex=i)}if(shortestIndex>-1){const newPoint=new PolygonPoint(point);activePolygon.points.splice(shortestIndex+1,0,newPoint),this.activePoint=newPoint}this.onChange()}),_defineProperty__default.default(this,"onMouseDown",(e,args)=>{if(!args)return;const{ray:ray}=args,point=ray.planeIntersection([0,0,0],[0,0,1]);if(!point)return;const isFirstClick=!this.mouseDown;this.mouseDown=!0,this.mouseDownPoint=point;const isCtrlClick=e.ctrlKey;if(isFirstClick&&!isCtrlClick){const clickObject=args.objects[0];return this.selectObject(clickObject&&clickObject.object),this.onChange()}return isCtrlClick?(this.pushPoint(point),this.onChange()):(this.closeActivePolygon(),this.onChange())}),this.polygons=polygons}isActivePolygonClosed(){return!!this.activePolygon&&isClosed(this.activePolygon)}addPolygon(cmd){const{points:points,name:name}=cmd;if(points.length<3)return;this.selectObject();const polygon=new Polygon(name);polygon.points=points.map(p=>new PolygonPoint([p.x,p.y,p.z||0])),isClosed(polygon)||polygon.points.push(polygon.points[0]),this.polygons.push(polygon)}pushPoint(point){const{activePolygon:activePolygon}=this;if(activePolygon&&!isClosed(activePolygon)){const newPoint=new PolygonPoint(point);return activePolygon.points.push(newPoint),void this.selectObject(newPoint)}const polygon=new Polygon;polygon.points.push(new PolygonPoint(point));const floatingPoint=new PolygonPoint(point);polygon.points.push(floatingPoint),this.polygons.push(polygon),this.selectObject(floatingPoint),this.onChange()}updateActivePoint(point){this.activePoint&&(this.activePoint.point=point,this.onChange())}closeActivePolygon(){const polygon=this.activePolygon;polygon&&(2===polygon.points.length?this.deletePolygon(polygon):polygon.points.push(polygon.points[0]),this.onChange())}deletePolygon(polygon){this.polygons=this.polygons.filter(poly=>poly!==polygon),this.activePolygon=null}deletePoint(point){const{activePolygon:activePolygon}=this;if(!activePolygon)return;const newPoints=activePolygon.points.filter(p=>p.id!==point.id);newPoints.length===activePolygon.points.length-2&&newPoints.push(newPoints[0]),activePolygon.points=newPoints,this.activePoint=null,activePolygon.points.length<4&&this.deletePolygon(activePolygon),this.onChange()}selectObject(object){this.activePolygon=null,this.activePoint&&(this.activePoint.active=!1),this.activePoint=null;for(const polygon of this.polygons){let isActive=polygon===object;polygon.active=isActive,isActive&&(this.activePolygon=polygon);for(const point of polygon.points)point===object&&(this.activePoint=point,point.active=!0,polygon.active=!0,this.activePolygon=polygon,isActive=!0)}this.onChange()}},exports.PolygonPoint=PolygonPoint,exports.Ray=Ray,exports.SUPPORTED_MOUSE_EVENTS=["onClick","onMouseUp","onMouseMove","onMouseDown","onDoubleClick"],exports.Spheres=Spheres,exports.Text=Text,exports.Triangles=Triangles,exports.Worldview=Worldview,exports.WorldviewReactContext=WorldviewReactContext,exports.blend=blend,exports.camera=camera,exports.cameraStateSelectors=selectors,exports.colorBuffer=colorBuffer,exports.cones=cones,exports.createInstancedGetChildrenForHitmap=createInstancedGetChildrenForHitmap,exports.cubes=cubes,exports.cylinders=cylinders,exports.default=Worldview,exports.defaultBlend=defaultBlend,exports.defaultDepth=defaultDepth,exports.defaultReglBlend=defaultReglBlend,exports.defaultReglDepth=defaultReglDepth,exports.eulerFromQuaternion=function(out,q){const m=glMatrix.mat3.fromQuat(scratch,q),m11=m[0],m12=m[3],m13=m[6],m22=m[4],m23=m[7],m32=m[5],m33=m[8];return out[1]=Math.asin(m13<-1?-1:m13>1?1:m13),Math.abs(m13)<.99999?(out[0]=Math.atan2(-m23,m33),out[2]=Math.atan2(-m12,m11)):(out[0]=Math.atan2(m32,m22),out[2]=0),out},exports.fromGeometry=fromGeometry,exports.fromSpherical=fromSpherical,exports.getCSSColor=getCSSColor,exports.getChildrenForHitmapWithOriginalMarker=getChildrenForHitmapWithOriginalMarker,exports.getIdFromColor=function(rgb){const r=255*rgb[0],g=255*rgb[1];return 255*rgb[2]|g<<8|r<<16},exports.getIdFromPixel=getIdFromPixel,exports.getRayFromClick=getRayFromClick,exports.getVertexColors=getVertexColors,exports.intToRGB=intToRGB,exports.lines=lines,exports.makeArrowsCommand=()=>regl=>{const cylindersCommand=cylinders(regl),conesCommand=cones(regl);return props=>{const{cylinders:cylinderPrimitives,cones:conePrimitives}=generateArrowPrimitives(props);cylindersCommand(cylinderPrimitives),conesCommand(conePrimitives)}},exports.makeFilledPolygonsCommand=()=>regl=>{const trianglesCommand=makeTrianglesCommand()(regl);return props=>{trianglesCommand(generateTriangles(props),!1)}},exports.makeGLTextCommand=makeGLTextCommand,exports.makePointsCommand=makePointsCommand,exports.makeTrianglesCommand=makeTrianglesCommand,exports.nonInstancedGetChildrenForHitmap=nonInstancedGetChildrenForHitmap,exports.orientationToVec4=orientationToVec4,exports.parseGLB=parseGLB,exports.pointToVec3=pointToVec3$1,exports.pointToVec3Array=pointToVec3Array,exports.shouldConvert=shouldConvert,exports.spheres=spheres,exports.toColor=toColor,exports.toRGBA=toRGBA,exports.vec3ToPoint=vec3ToPoint,exports.vec4ToOrientation=vec4ToOrientation,exports.vec4ToRGBA=vec4ToRGBA,exports.withPose=withPose}).call(this,__webpack_require__(16),__webpack_require__(8))},function(module,exports,__webpack_require__){(function(global,module){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){var FUNC_ERROR_TEXT="Expected a function",PLACEHOLDER="__lodash_placeholder__",wrapFlags=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source),reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/,reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,rsComboRange="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsAstral="[\\ud800-\\udfff]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="[\\u2700-\\u27bf]",rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsMisc="[^\\ud800-\\udfff"+rsBreakRange+rsDigits+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reApos=RegExp("[']","g"),reComboMark=RegExp(rsCombo,"g"),reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+(?:['](?:d|ll|m|re|s|t|ve))?",rsUpper+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsDigits,rsEmoji].join("|"),"g"),reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff"+rsComboRange+"\\ufe0e\\ufe0f]"),reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags["[object Uint8ClampedArray]"]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeParseFloat=parseFloat,freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){for(var index=-1,length=null==array?0:array.length;++index<length;){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}function arrayEachRight(array,iteratee){for(var length=null==array?0:array.length;length--&&!1!==iteratee(array[length],length,array););return array}function arrayEvery(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}function arrayIncludes(array,value){return!!(null==array?0:array.length)&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}var asciiSize=baseProperty("length");function baseFindKey(collection,predicate,eachFunc){var result;return eachFunc(collection,(function(value,key,collection){if(predicate(value,key,collection))return result=key,!1})),result}function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){return value==value?function(array,value,fromIndex){var index=fromIndex-1,length=array.length;for(;++index<length;)if(array[index]===value)return index;return-1}(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){for(var index=fromIndex-1,length=array.length;++index<length;)if(comparator(array[index],value))return index;return-1}function baseIsNaN(value){return value!=value}function baseMean(array,iteratee){var length=null==array?0:array.length;return length?baseSum(array,iteratee)/length:NaN}function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function basePropertyOf(object){return function(key){return null==object?void 0:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,(function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)})),accumulator}function baseSum(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);void 0!==current&&(result=void 0===result?current:result+current)}return result}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,(function(key){return object[key]}))}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){for(var index=-1,length=strSymbols.length;++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function charsEndIndex(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function countHolders(array,placeholder){for(var length=array.length,result=0;length--;)array[length]===placeholder&&++result;return result}var deburrLetter=basePropertyOf({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),escapeHtmlChar=basePropertyOf({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function hasUnicode(string){return reHasUnicode.test(string)}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index];value!==placeholder&&value!==PLACEHOLDER||(array[index]=PLACEHOLDER,result[resIndex++]=index)}return result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}function setToPairs(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=[value,value]})),result}function stringSize(string){return hasUnicode(string)?function(string){var result=reUnicode.lastIndex=0;for(;reUnicode.test(string);)++result;return result}(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?function(string){return string.match(reUnicode)||[]}(string):function(string){return string.split("")}(string)}var unescapeHtmlChar=basePropertyOf({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var _=function runInContext(context){var uid,Array=(context=null==context?root:_.defaults(root.Object(),context,_.pick(root,contextProps))).Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=context["__core-js_shared__"],funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",nativeObjectToString=objectProto.toString,objectCtorString=funcToString.call(Object),oldDash=root._,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?context.Buffer:void 0,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0,symIterator=Symbol?Symbol.iterator:void 0,symToStringTag=Symbol?Symbol.toStringTag:void 0,defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}(),ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout,nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse,DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create"),metaMap=WeakMap&&new WeakMap,realNames={},dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value,this.__actions__=[],this.__chain__=!!chainAll,this.__index__=0,this.__values__=void 0}function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:void 0}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){(void 0!==value&&!eq(object[key],value)||void 0===value&&!(key in object))&&baseAssignValue(object,key,value)}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseAggregator(collection,setter,iteratee,accumulator){return baseEach(collection,(function(value,key,collection){setter(accumulator,value,iteratee(value),collection)})),accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}function baseAt(object,paths){for(var index=-1,length=paths.length,result=Array(length),skip=null==object;++index<length;)result[index]=skip?void 0:get(object,paths[index]);return result}function baseClamp(number,lower,upper){return number==number&&(void 0!==upper&&(number=number<=upper?number:upper),void 0!==lower&&(number=number>=lower?number:lower)),number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=1&bitmask,isFlat=2&bitmask,isFull=4&bitmask;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=function(array){var length=array.length,result=new array.constructor(length);length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input);return result}(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?function(source,object){return copyObject(source,getSymbolsIn(source),object)}(value,function(object,source){return object&&copyObject(source,keysIn(source),object)}(result,value)):function(source,object){return copyObject(source,getSymbols(source),object)}(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=function(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return function(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case"[object Uint8ClampedArray]":case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return function(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}(object);case setTag:return new Ctor;case symbolTag:return symbol=object,symbolValueOf?Object(symbolValueOf.call(symbol)):{}}var symbol}(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;stack.set(value,result),isSet(value)?value.forEach((function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))})):isMap(value)&&value.forEach((function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))}));var props=isArr?void 0:(isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys)(value);return arrayEach(props||value,(function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))})),result}function baseConformsTo(object,source,props){var length=props.length;if(null==object)return!length;for(object=Object(object);length--;){var key=props[length],predicate=source[key],value=object[key];if(void 0===value&&!(key in object)||!predicate(value))return!1}return!0}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout((function(){func.apply(void 0,args)}),wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):values.length>=200&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=null==iteratee?value:iteratee(value);if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype.clear=function(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0},Hash.prototype.delete=function(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result},Hash.prototype.get=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this},ListCache.prototype.clear=function(){this.__data__=[],this.size=0},ListCache.prototype.delete=function(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)},ListCache.prototype.get=function(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this},MapCache.prototype.clear=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result},MapCache.prototype.get=function(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this},SetCache.prototype.has=function(value){return this.__data__.has(value)},Stack.prototype.clear=function(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result},Stack.prototype.get=function(key){return this.__data__.get(key)},Stack.prototype.has=function(key){return this.__data__.has(key)},Stack.prototype.set=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this};var baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0);function baseEvery(collection,predicate){var result=!0;return baseEach(collection,(function(value,index,collection){return result=!!predicate(value,index,collection)})),result}function baseExtremum(array,iteratee,comparator){for(var index=-1,length=array.length;++index<length;){var value=array[index],current=iteratee(value);if(null!=current&&(void 0===computed?current==current&&!isSymbol(current):comparator(current,computed)))var computed=current,result=value}return result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,(function(value,index,collection){predicate(value,index,collection)&&result.push(value)})),result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}var baseFor=createBaseFor(),baseForRight=createBaseFor(!0);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,(function(key){return isFunction(object[key])}))}function baseGet(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]);return result}(value):function(value){return nativeObjectToString.call(value)}(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return null!=object&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return null!=object&&key in Object(object)}function baseIntersection(arrays,iteratee,comparator){for(var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=1/0,result=[];othIndex--;){var array=arrays[othIndex];othIndex&&iteratee&&(array=arrayMap(array,baseUnary(iteratee))),maxLength=nativeMin(array.length,maxLength),caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):void 0}array=arrays[0];var index=-1,seen=caches[0];outer:for(;++index<length&&result.length<maxLength;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){for(othIndex=othLength;--othIndex;){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator)))continue outer}seen&&seen.push(computed),result.push(value)}}return result}function baseInvoke(object,path,args){var func=null==(object=parent(object,path=castPath(path,object)))?object:object[toKey(last(path))];return null==func?void 0:apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other),objIsObj=(objTag=objTag==argsTag?objectTag:objTag)==objectTag,othIsObj=(othTag=othTag==argsTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=1&bitmask;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=2,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag)return!1;return stack||(stack=new Stack),function(object,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object),objLength=objProps.length,othLength=getAllKeys(other).length;if(objLength!=othLength&&!isPartial)return!1;var index=objLength;for(;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var objStacked=stack.get(object),othStacked=stack.get(other);if(objStacked&&othStacked)return objStacked==other&&othStacked==object;var result=!0;stack.set(object,other),stack.set(other,object);var skipCtor=isPartial;for(;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}(object,other,bitmask,customizer,equalFunc,stack)}(value,other,bitmask,customizer,baseIsEqual,stack))}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,3,customizer,stack):result))return!1}}return!0}function baseIsNative(value){return!(!isObject(value)||(func=value,maskSrcKey&&maskSrcKey in func))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value));var func}function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function baseKeysIn(object){if(!isObject(object))return function(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)})),result}function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,3)}}function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,(function(srcValue,key){if(stack||(stack=new Stack),isObject(srcValue))!function(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked)return void assignMergeValue(object,key,stacked);var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=void 0===newValue;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):isObject(objValue)&&!isFunction(objValue)||(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue));assignMergeValue(object,key,newValue)}(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):void 0;void 0===newValue&&(newValue=srcValue),assignMergeValue(object,key,newValue)}}),keysIn)}function baseNth(array,n){var length=array.length;if(length)return isIndex(n+=n<0?length:0,length)?array[n]:void 0}function baseOrderBy(collection,iteratees,orders){iteratees=iteratees.length?arrayMap(iteratees,(function(iteratee){return isArray(iteratee)?function(value){return baseGet(value,1===iteratee.length?iteratee[0]:iteratee)}:iteratee})):[identity];var index=-1;return iteratees=arrayMap(iteratees,baseUnary(getIteratee())),function(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}(baseMap(collection,(function(value,key,collection){return{criteria:arrayMap(iteratees,(function(iteratee){return iteratee(value)})),index:++index,value:value}})),(function(object,other){return function(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;for(;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;var order=orders[index];return result*("desc"==order?-1:1)}}return object.index-other.index}(object,other,orders)}))}function basePickBy(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;for(array===values&&(values=copyArray(values)),iteratee&&(seen=arrayMap(array,baseUnary(iteratee)));++index<length;)for(var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;(fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1;)seen!==array&&splice.call(seen,fromIndex,1),splice.call(array,fromIndex,1);return array}function basePullAt(array,indexes){for(var length=array?indexes.length:0,lastIndex=length-1;length--;){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;isIndex(index)?splice.call(array,index,1):baseUnset(array,index)}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRepeat(string,n){var result="";if(!string||n<1||n>9007199254740991)return result;do{n%2&&(result+=string),(n=nativeFloor(n/2))&&(string+=string)}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}function baseSet(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if("__proto__"===key||"constructor"===key||"prototype"===key)return object;if(index!=lastIndex){var objValue=nested[key];void 0===(newValue=customizer?customizer(objValue,key,nested):void 0)&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}var baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity,baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,(function(value,index,collection){return!(result=predicate(value,index,collection))})),!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=null==array?low:array.length;if("number"==typeof value&&value==value&&high<=2147483647){for(;low<high;){var mid=low+high>>>1,computed=array[mid];null!==computed&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)?low=mid+1:high=mid}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){var low=0,high=null==array?0:array.length;if(0===high)return 0;for(var valIsNaN=(value=iteratee(value))!=value,valIsNull=null===value,valIsSymbol=isSymbol(value),valIsUndefined=void 0===value;low<high;){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=void 0!==computed,othIsNull=null===computed,othIsReflexive=computed==computed,othIsSymbol=isSymbol(computed);if(valIsNaN)var setLow=retHighest||othIsReflexive;else setLow=valIsUndefined?othIsReflexive&&(retHighest||othIsDefined):valIsNull?othIsReflexive&&othIsDefined&&(retHighest||!othIsNull):valIsSymbol?othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol):!othIsNull&&!othIsSymbol&&(retHighest?computed<=value:computed<value);setLow?low=mid+1:high=mid}return nativeMin(high,4294967294)}function baseSortedUniq(array,iteratee){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=0===value?0:value}}return result}function baseToNumber(value){return"number"==typeof value?value:isSymbol(value)?NaN:+value}function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=200){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}function baseUnset(object,path){return null==(object=parent(object,path=castPath(path,object)))||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;return result instanceof LazyWrapper&&(result=result.value()),arrayReduce(actions,(function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))}),result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2)return length?baseUniq(arrays[0]):[];for(var index=-1,result=Array(length);++index<length;)for(var array=arrays[index],othIndex=-1;++othIndex<length;)othIndex!=index&&(result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator));return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){for(var index=-1,length=props.length,valsLength=values.length,result={};++index<length;){var value=index<valsLength?values[index]:void 0;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return"function"==typeof value?value:identity}function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=void 0!==value,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol(value),othIsDefined=void 0!==other,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}function composeArgs(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[holders[argsIndex]]=args[argsIndex]);for(;rangeLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;++argsIndex<rangeLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[offset+holders[holdersIndex]]=args[argsIndex++]);return result}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest((function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object}))}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}function createCaseFirst(methodName){return function(string){var strSymbols=hasUnicode(string=toString(string))?stringToArray(string):void 0,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:void 0}}function createFlow(fromRight){return flatRest((function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;for(fromRight&&funcs.reverse();index--;){var func=funcs[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(prereq&&!wrapper&&"wrapper"==getFuncName(func))var wrapper=new LodashWrapper([],!0)}for(index=wrapper?index:length;++index<length;){var funcName=getFuncName(func=funcs[index]),data="wrapper"==funcName?getData(func):void 0;wrapper=data&&isLaziable(data[0])&&424==data[1]&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value))return wrapper.plant(value).value();for(var index=0,result=length?funcs[index].apply(this,args):value;++index<length;)result=funcs[index].call(this,result);return result}}))}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=128&bitmask,isBind=1&bitmask,isBindKey=2&bitmask,isCurried=24&bitmask,isFlip=512&bitmask,Ctor=isBindKey?void 0:createCtor(func);return function wrapper(){for(var length=arguments.length,args=Array(length),index=length;index--;)args[index]=arguments[index];if(isCurried)var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder);if(partials&&(args=composeArgs(args,partials,holders,isCurried)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight,isCurried)),length-=holdersCount,isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return length=args.length,argPos?args=reorder(args,argPos):isFlip&&length>1&&args.reverse(),isAry&&ary<length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtor(fn)),fn.apply(thisBinding,args)}}function createInverter(setter,toIteratee){return function(object,iteratee){return function(object,setter,iteratee,accumulator){return baseForOwn(object,(function(value,key,object){setter(accumulator,iteratee(value),key,object)})),accumulator}(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(void 0===value&&void 0===other)return defaultValue;if(void 0!==value&&(result=value),void 0!==other){if(void 0===result)return other;"string"==typeof value||"string"==typeof other?(value=baseToString(value),other=baseToString(other)):(value=baseToNumber(value),other=baseToNumber(other)),result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest((function(iteratees){return iteratees=arrayMap(iteratees,baseUnary(getIteratee())),baseRest((function(args){var thisArg=this;return arrayFunc(iteratees,(function(iteratee){return apply(iteratee,thisArg,args)}))}))}))}function createPadding(length,chars){var charsLength=(chars=void 0===chars?" ":baseToString(chars)).length;if(charsLength<2)return charsLength?baseRepeat(chars,length):chars;var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall(start,end,step)&&(end=step=void 0),start=toFinite(start),void 0===end?(end=start,start=0):end=toFinite(end),function(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}(start,end,step=void 0===step?start<end?1:-1:toFinite(step),fromRight)}}function createRelationalOperation(operator){return function(value,other){return"string"==typeof value&&"string"==typeof other||(value=toNumber(value),other=toNumber(other)),operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=8&bitmask;bitmask|=isCurry?32:64,4&(bitmask&=~(isCurry?64:32))||(bitmask&=-4);var newData=[func,bitmask,thisArg,isCurry?partials:void 0,isCurry?holders:void 0,isCurry?void 0:partials,isCurry?void 0:holders,argPos,ary,arity],result=wrapFunc.apply(void 0,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){if(number=toNumber(number),(precision=null==precision?0:nativeMin(toInteger(precision),292))&&nativeIsFinite(number)){var pair=(toString(number)+"e").split("e");return+((pair=(toString(func(pair[0]+"e"+(+pair[1]+precision)))+"e").split("e"))[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=Set&&1/setToArray(new Set([,-0]))[1]==1/0?function(values){return new Set(values)}:noop;function createToPairs(keysFunc){return function(object){var tag=getTag(object);return tag==mapTag?mapToArray(object):tag==setTag?setToPairs(object):function(object,props){return arrayMap(props,(function(key){return[key,object[key]]}))}(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=2&bitmask;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=-97,partials=holders=void 0),ary=void 0===ary?ary:nativeMax(toInteger(ary),0),arity=void 0===arity?arity:toInteger(arity),length-=holders?holders.length:0,64&bitmask){var partialsRight=partials,holdersRight=holders;partials=holders=void 0}var data=isBindKey?void 0:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&function(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<131,isCombo=128==srcBitmask&&8==bitmask||128==srcBitmask&&256==bitmask&&data[7].length<=source[8]||384==srcBitmask&&source[7].length<=source[8]&&8==bitmask;if(!isCommon&&!isCombo)return data;1&srcBitmask&&(data[2]=source[2],newBitmask|=1&bitmask?0:4);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value,data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}(value=source[5])&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):value,data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]);(value=source[7])&&(data[7]=value);128&srcBitmask&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8]));null==data[9]&&(data[9]=source[9]);data[0]=source[0],data[1]=newBitmask}(newData,data),func=newData[0],bitmask=newData[1],thisArg=newData[2],partials=newData[3],holders=newData[4],!(arity=newData[9]=void 0===newData[9]?isBindKey?0:func.length:nativeMax(newData[9]-length,0))&&24&bitmask&&(bitmask&=-25),bitmask&&1!=bitmask)result=8==bitmask||16==bitmask?function(func,bitmask,arity){var Ctor=createCtor(func);return function wrapper(){for(var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);index--;)args[index]=arguments[index];var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);if((length-=holders.length)<arity)return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,void 0,args,holders,void 0,void 0,arity-length);var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}}(func,bitmask,arity):32!=bitmask&&33!=bitmask||holders.length?createHybrid.apply(void 0,newData):function(func,bitmask,thisArg,partials){var isBind=1&bitmask,Ctor=createCtor(func);return function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];return apply(fn,isBind?thisArg:this,args)}}(func,bitmask,thisArg,partials);else var result=function(func,bitmask,thisArg){var isBind=1&bitmask,Ctor=createCtor(func);return function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}}(func,bitmask,thisArg);return setWrapToString((data?baseSetData:setData)(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){return void 0===objValue||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)?srcValue:objValue}function customDefaultsMerge(objValue,srcValue,key,object,source,stack){return isObject(objValue)&&isObject(srcValue)&&(stack.set(srcValue,objValue),baseMerge(objValue,srcValue,void 0,customDefaultsMerge,stack),stack.delete(srcValue)),objValue}function customOmitClone(value){return isPlainObject(value)?void 0:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var arrStacked=stack.get(array),othStacked=stack.get(other);if(arrStacked&&othStacked)return arrStacked==other&&othStacked==array;var index=-1,result=!0,seen=2&bitmask?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function flatRest(func){return setToString(overRest(func,void 0,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=metaMap?function(func){return metaMap.get(func)}:noop;function getFuncName(func){for(var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getHolder(func){return(hasOwnProperty.call(lodash,"placeholder")?lodash:func).placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;return result=result===iteratee?baseIteratee:result,arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var value,type,data=map.__data__;return("string"==(type=typeof(value=key))||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value)?data["string"==typeof key?"string":"hash"]:data.map}function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=function(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}var getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:stubArray,getSymbolsIn=nativeGetSymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray,getTag=baseGetTag;function hasPath(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){var type=typeof value;return!!(length=null==length?9007199254740991:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if("function"!=typeof other||!(funcName in LazyWrapper.prototype))return!1;if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function isStrictComparable(value){return value==value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}function overRest(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}function reorder(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:void 0}return array}function safeGet(object,key){if(("constructor"!==key||"function"!=typeof object[key])&&"__proto__"!=key)return object[key]}var setData=shortOut(baseSetData),setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)},setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,function(source,details){var length=details.length;if(!length)return source;var lastIndex=length-1;return details[lastIndex]=(length>1?"& ":"")+details[lastIndex],details=details.join(length>2?", ":" "),source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}(source,function(details,bitmask){return arrayEach(wrapFlags,(function(pair){var value="_."+pair[0];bitmask&pair[1]&&!arrayIncludes(details,value)&&details.push(value)})),details.sort()}(function(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=800)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;for(size=void 0===size?length:size;++index<size;){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index],array[index]=value}return array.length=size,array}var stringToPath=function(func){var result=memoize(func,(function(key){return 500===cache.size&&cache.clear(),key})),cache=result.cache;return result}((function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)})),result}));function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper)return wrapper.clone();var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);return result.__actions__=copyArray(wrapper.__actions__),result.__index__=wrapper.__index__,result.__values__=wrapper.__values__,result}var difference=baseRest((function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0)):[]})),differenceBy=baseRest((function(array,values){var iteratee=last(values);return isArrayLikeObject(iteratee)&&(iteratee=void 0),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),getIteratee(iteratee,2)):[]})),differenceWith=baseRest((function(array,values){var comparator=last(values);return isArrayLikeObject(comparator)&&(comparator=void 0),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),void 0,comparator):[]}));function findIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length-1;return void 0!==fromIndex&&(index=toInteger(fromIndex),index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)),baseFindIndex(array,getIteratee(predicate,3),index,!0)}function flatten(array){return(null==array?0:array.length)?baseFlatten(array,1):[]}function head(array){return array&&array.length?array[0]:void 0}var intersection=baseRest((function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]})),intersectionBy=baseRest((function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return iteratee===last(mapped)?iteratee=void 0:mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]})),intersectionWith=baseRest((function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return(comparator="function"==typeof comparator?comparator:void 0)&&mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,void 0,comparator):[]}));function last(array){var length=null==array?0:array.length;return length?array[length-1]:void 0}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}var pullAt=flatRest((function(array,indexes){var length=null==array?0:array.length,result=baseAt(array,indexes);return basePullAt(array,arrayMap(indexes,(function(index){return isIndex(index,length)?+index:index})).sort(compareAscending)),result}));function reverse(array){return null==array?array:nativeReverse.call(array)}var union=baseRest((function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0))})),unionBy=baseRest((function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=void 0),baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),getIteratee(iteratee,2))})),unionWith=baseRest((function(arrays){var comparator=last(arrays);return comparator="function"==typeof comparator?comparator:void 0,baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),void 0,comparator)}));function unzip(array){if(!array||!array.length)return[];var length=0;return array=arrayFilter(array,(function(group){if(isArrayLikeObject(group))return length=nativeMax(group.length,length),!0})),baseTimes(length,(function(index){return arrayMap(array,baseProperty(index))}))}function unzipWith(array,iteratee){if(!array||!array.length)return[];var result=unzip(array);return null==iteratee?result:arrayMap(result,(function(group){return apply(iteratee,void 0,group)}))}var without=baseRest((function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]})),xor=baseRest((function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))})),xorBy=baseRest((function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=void 0),baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))})),xorWith=baseRest((function(arrays){var comparator=last(arrays);return comparator="function"==typeof comparator?comparator:void 0,baseXor(arrayFilter(arrays,isArrayLikeObject),void 0,comparator)})),zip=baseRest(unzip);var zipWith=baseRest((function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:void 0;return iteratee="function"==typeof iteratee?(arrays.pop(),iteratee):void 0,unzipWith(arrays,iteratee)}));function chain(value){var result=lodash(value);return result.__chain__=!0,result}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest((function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};return!(length>1||this.__actions__.length)&&value instanceof LazyWrapper&&isIndex(start)?((value=value.slice(start,+start+(length?1:0))).__actions__.push({func:thru,args:[interceptor],thisArg:void 0}),new LodashWrapper(value,this.__chain__).thru((function(array){return length&&!array.length&&array.push(void 0),array}))):this.thru(interceptor)}));var countBy=createAggregator((function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:baseAssignValue(result,key,1)}));var find=createFind(findIndex),findLast=createFind(findLastIndex);function forEach(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){return(isArray(collection)?arrayEachRight:baseEachRight)(collection,getIteratee(iteratee,3))}var groupBy=createAggregator((function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):baseAssignValue(result,key,[value])}));var invokeMap=baseRest((function(collection,path,args){var index=-1,isFunc="function"==typeof path,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)})),result})),keyBy=createAggregator((function(result,value,key){baseAssignValue(result,key,value)}));function map(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,getIteratee(iteratee,3))}var partition=createAggregator((function(result,value,key){result[key?0:1].push(value)}),(function(){return[[],[]]}));var sortBy=baseRest((function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])})),now=ctxNow||function(){return root.Date.now()};function ary(func,n,guard){return n=guard?void 0:n,createWrap(func,128,void 0,void 0,void 0,void 0,n=func&&null==n?func.length:n)}function before(n,func){var result;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){return--n>0&&(result=func.apply(this,arguments)),n<=1&&(func=void 0),result}}var bind=baseRest((function(func,thisArg,partials){var bitmask=1;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=32}return createWrap(func,bitmask,thisArg,partials,holders)})),bindKey=baseRest((function(object,key,partials){var bitmask=3;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=32}return createWrap(key,bitmask,object,partials,holders)}));function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return leadingEdge(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function(){return void 0===timerId?result:trailingEdge(now())},debounced}var defer=baseRest((function(func,args){return baseDelay(func,1,args)})),delay=baseRest((function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)}));function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}memoize.Cache=MapCache;var overArgs=castRest((function(func,transforms){var funcsLength=(transforms=1==transforms.length&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()))).length;return baseRest((function(args){for(var index=-1,length=nativeMin(args.length,funcsLength);++index<length;)args[index]=transforms[index].call(this,args[index]);return apply(func,this,args)}))})),partial=baseRest((function(func,partials){return createWrap(func,32,void 0,partials,replaceHolders(partials,getHolder(partial)))})),partialRight=baseRest((function(func,partials){return createWrap(func,64,void 0,partials,replaceHolders(partials,getHolder(partialRight)))})),rearg=flatRest((function(func,indexes){return createWrap(func,256,void 0,void 0,void 0,indexes)}));function eq(value,other){return value===other||value!=value&&other!=other}var gt=createRelationalOperation(baseGt),gte=createRelationalOperation((function(value,other){return value>=other})),isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray,isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):function(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag};function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}var isBuffer=nativeIsBuffer||stubFalse,isDate=nodeIsDate?baseUnary(nodeIsDate):function(value){return isObjectLike(value)&&baseGetTag(value)==dateTag};function isError(value){if(!isObjectLike(value))return!1;var tag=baseGetTag(value);return tag==errorTag||"[object DOMException]"==tag||"string"==typeof value.message&&"string"==typeof value.name&&!isPlainObject(value)}function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag}function isInteger(value){return"number"==typeof value&&value==toInteger(value)}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isObjectLike(value){return null!=value&&"object"==typeof value}var isMap=nodeIsMap?baseUnary(nodeIsMap):function(value){return isObjectLike(value)&&getTag(value)==mapTag};function isNumber(value){return"number"==typeof value||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):function(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag};var isSet=nodeIsSet?baseUnary(nodeIsSet):function(value){return isObjectLike(value)&&getTag(value)==setTag};function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]};var lt=createRelationalOperation(baseLt),lte=createRelationalOperation((function(value,other){return value<=other}));function toArray(value){if(!value)return[];if(isArrayLike(value))return isString(value)?stringToArray(value):copyArray(value);if(symIterator&&value[symIterator])return function(iterator){for(var data,result=[];!(data=iterator.next()).done;)result.push(data.value);return result}(value[symIterator]());var tag=getTag(value);return(tag==mapTag?mapToArray:tag==setTag?setToArray:values)(value)}function toFinite(value){return value?(value=toNumber(value))===1/0||value===-1/0?17976931348623157e292*(value<0?-1:1):value==value?value:0:0===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,4294967295):0}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toString(value){return null==value?"":baseToString(value)}var assign=createAssigner((function(object,source){if(isPrototype(source)||isArrayLike(source))copyObject(source,keys(source),object);else for(var key in source)hasOwnProperty.call(source,key)&&assignValue(object,key,source[key])})),assignIn=createAssigner((function(object,source){copyObject(source,keysIn(source),object)})),assignInWith=createAssigner((function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)})),assignWith=createAssigner((function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)})),at=flatRest(baseAt);var defaults=baseRest((function(object,sources){object=Object(object);var index=-1,length=sources.length,guard=length>2?sources[2]:void 0;for(guard&&isIterateeCall(sources[0],sources[1],guard)&&(length=1);++index<length;)for(var source=sources[index],props=keysIn(source),propsIndex=-1,propsLength=props.length;++propsIndex<propsLength;){var key=props[propsIndex],value=object[key];(void 0===value||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key))&&(object[key]=source[key])}return object})),defaultsDeep=baseRest((function(args){return args.push(void 0,customDefaultsMerge),apply(mergeWith,void 0,args)}));function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}var invert=createInverter((function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),result[value]=key}),constant(identity)),invertBy=createInverter((function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]}),getIteratee),invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}var merge=createAssigner((function(object,source,srcIndex){baseMerge(object,source,srcIndex)})),mergeWith=createAssigner((function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)})),omit=flatRest((function(object,paths){var result={};if(null==object)return result;var isDeep=!1;paths=arrayMap(paths,(function(path){return path=castPath(path,object),isDeep||(isDeep=path.length>1),path})),copyObject(object,getAllKeysIn(object),result),isDeep&&(result=baseClone(result,7,customOmitClone));for(var length=paths.length;length--;)baseUnset(result,paths[length]);return result}));var pick=flatRest((function(object,paths){return null==object?{}:function(object,paths){return basePickBy(object,paths,(function(value,path){return hasIn(object,path)}))}(object,paths)}));function pickBy(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),(function(prop){return[prop]}));return predicate=getIteratee(predicate),basePickBy(object,props,(function(value,path){return predicate(value,path[0])}))}var toPairs=createToPairs(keys),toPairsIn=createToPairs(keysIn);function values(object){return null==object?[]:baseValues(object,keys(object))}var camelCase=createCompounder((function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)}));function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){return(string=toString(string))&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}var kebabCase=createCompounder((function(result,word,index){return result+(index?"-":"")+word.toLowerCase()})),lowerCase=createCompounder((function(result,word,index){return result+(index?" ":"")+word.toLowerCase()})),lowerFirst=createCaseFirst("toLowerCase");var snakeCase=createCompounder((function(result,word,index){return result+(index?"_":"")+word.toLowerCase()}));var startCase=createCompounder((function(result,word,index){return result+(index?" ":"")+upperFirst(word)}));var upperCase=createCompounder((function(result,word,index){return result+(index?" ":"")+word.toUpperCase()})),upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){return string=toString(string),void 0===(pattern=guard?void 0:pattern)?function(string){return reHasUnicodeWord.test(string)}(string)?function(string){return string.match(reUnicodeWord)||[]}(string):function(string){return string.match(reAsciiWord)||[]}(string):string.match(pattern)||[]}var attempt=baseRest((function(func,args){try{return apply(func,void 0,args)}catch(e){return isError(e)?e:new Error(e)}})),bindAll=flatRest((function(object,methodNames){return arrayEach(methodNames,(function(key){key=toKey(key),baseAssignValue(object,key,bind(object[key],object))})),object}));function constant(value){return function(){return value}}var flow=createFlow(),flowRight=createFlow(!0);function identity(value){return value}function iteratee(func){return baseIteratee("function"==typeof func?func:baseClone(func,1))}var method=baseRest((function(path,args){return function(object){return baseInvoke(object,path,args)}})),methodOf=baseRest((function(object,args){return function(path){return baseInvoke(object,path,args)}}));function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);null!=options||isObject(source)&&(methodNames.length||!props.length)||(options=source,source=object,object=this,methodNames=baseFunctions(source,keys(source)));var chain=!(isObject(options)&&"chain"in options&&!options.chain),isFunc=isFunction(object);return arrayEach(methodNames,(function(methodName){var func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);return actions.push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}return func.apply(object,arrayPush([this.value()],arguments))})})),object}function noop(){}var over=createOver(arrayMap),overEvery=createOver(arrayEvery),overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):function(path){return function(object){return baseGet(object,path)}}(path)}var range=createRange(),rangeRight=createRange(!0);function stubArray(){return[]}function stubFalse(){return!1}var add=createMathOperation((function(augend,addend){return augend+addend}),0),ceil=createRound("ceil"),divide=createMathOperation((function(dividend,divisor){return dividend/divisor}),1),floor=createRound("floor");var source,multiply=createMathOperation((function(multiplier,multiplicand){return multiplier*multiplicand}),1),round=createRound("round"),subtract=createMathOperation((function(minuend,subtrahend){return minuend-subtrahend}),0);return lodash.after=function(n,func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){if(--n<1)return func.apply(this,arguments)}},lodash.ary=ary,lodash.assign=assign,lodash.assignIn=assignIn,lodash.assignInWith=assignInWith,lodash.assignWith=assignWith,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.castArray=function(){if(!arguments.length)return[];var value=arguments[0];return isArray(value)?value:[value]},lodash.chain=chain,lodash.chunk=function(array,size,guard){size=(guard?isIterateeCall(array,size,guard):void 0===size)?1:nativeMax(toInteger(size),0);var length=null==array?0:array.length;if(!length||size<1)return[];for(var index=0,resIndex=0,result=Array(nativeCeil(length/size));index<length;)result[resIndex++]=baseSlice(array,index,index+=size);return result},lodash.compact=function(array){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];value&&(result[resIndex++]=value)}return result},lodash.concat=function(){var length=arguments.length;if(!length)return[];for(var args=Array(length-1),array=arguments[0],index=length;index--;)args[index-1]=arguments[index];return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))},lodash.cond=function(pairs){var length=null==pairs?0:pairs.length,toIteratee=getIteratee();return pairs=length?arrayMap(pairs,(function(pair){if("function"!=typeof pair[1])throw new TypeError(FUNC_ERROR_TEXT);return[toIteratee(pair[0]),pair[1]]})):[],baseRest((function(args){for(var index=-1;++index<length;){var pair=pairs[index];if(apply(pair[0],this,args))return apply(pair[1],this,args)}}))},lodash.conforms=function(source){return function(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}(baseClone(source,1))},lodash.constant=constant,lodash.countBy=countBy,lodash.create=function(prototype,properties){var result=baseCreate(prototype);return null==properties?result:baseAssign(result,properties)},lodash.curry=function curry(func,arity,guard){var result=createWrap(func,8,void 0,void 0,void 0,void 0,void 0,arity=guard?void 0:arity);return result.placeholder=curry.placeholder,result},lodash.curryRight=function curryRight(func,arity,guard){var result=createWrap(func,16,void 0,void 0,void 0,void 0,void 0,arity=guard?void 0:arity);return result.placeholder=curryRight.placeholder,result},lodash.debounce=debounce,lodash.defaults=defaults,lodash.defaultsDeep=defaultsDeep,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.differenceBy=differenceBy,lodash.differenceWith=differenceWith,lodash.drop=function(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,(n=guard||void 0===n?1:toInteger(n))<0?0:n,length):[]},lodash.dropRight=function(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,0,(n=length-(n=guard||void 0===n?1:toInteger(n)))<0?0:n):[]},lodash.dropRightWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0,!0):[]},lodash.dropWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0):[]},lodash.fill=function(array,value,start,end){var length=null==array?0:array.length;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),function(array,value,start,end){var length=array.length;for((start=toInteger(start))<0&&(start=-start>length?0:length+start),(end=void 0===end||end>length?length:toInteger(end))<0&&(end+=length),end=start>end?0:toLength(end);start<end;)array[start++]=value;return array}(array,value,start,end)):[]},lodash.filter=function(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,getIteratee(predicate,3))},lodash.flatMap=function(collection,iteratee){return baseFlatten(map(collection,iteratee),1)},lodash.flatMapDeep=function(collection,iteratee){return baseFlatten(map(collection,iteratee),1/0)},lodash.flatMapDepth=function(collection,iteratee,depth){return depth=void 0===depth?1:toInteger(depth),baseFlatten(map(collection,iteratee),depth)},lodash.flatten=flatten,lodash.flattenDeep=function(array){return(null==array?0:array.length)?baseFlatten(array,1/0):[]},lodash.flattenDepth=function(array,depth){return(null==array?0:array.length)?baseFlatten(array,depth=void 0===depth?1:toInteger(depth)):[]},lodash.flip=function(func){return createWrap(func,512)},lodash.flow=flow,lodash.flowRight=flowRight,lodash.fromPairs=function(pairs){for(var index=-1,length=null==pairs?0:pairs.length,result={};++index<length;){var pair=pairs[index];result[pair[0]]=pair[1]}return result},lodash.functions=function(object){return null==object?[]:baseFunctions(object,keys(object))},lodash.functionsIn=function(object){return null==object?[]:baseFunctions(object,keysIn(object))},lodash.groupBy=groupBy,lodash.initial=function(array){return(null==array?0:array.length)?baseSlice(array,0,-1):[]},lodash.intersection=intersection,lodash.intersectionBy=intersectionBy,lodash.intersectionWith=intersectionWith,lodash.invert=invert,lodash.invertBy=invertBy,lodash.invokeMap=invokeMap,lodash.iteratee=iteratee,lodash.keyBy=keyBy,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=function(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,(function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)})),result},lodash.mapValues=function(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,(function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))})),result},lodash.matches=function(source){return baseMatches(baseClone(source,1))},lodash.matchesProperty=function(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,1))},lodash.memoize=memoize,lodash.merge=merge,lodash.mergeWith=mergeWith,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=function(n){return n=toInteger(n),baseRest((function(args){return baseNth(args,n)}))},lodash.omit=omit,lodash.omitBy=function(object,predicate){return pickBy(object,negate(getIteratee(predicate)))},lodash.once=function(func){return before(2,func)},lodash.orderBy=function(collection,iteratees,orders,guard){return null==collection?[]:(isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders=guard?void 0:orders)||(orders=null==orders?[]:[orders]),baseOrderBy(collection,iteratees,orders))},lodash.over=over,lodash.overArgs=overArgs,lodash.overEvery=overEvery,lodash.overSome=overSome,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=function(object){return function(path){return null==object?void 0:baseGet(object,path)}},lodash.pull=pull,lodash.pullAll=pullAll,lodash.pullAllBy=function(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array},lodash.pullAllWith=function(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,void 0,comparator):array},lodash.pullAt=pullAt,lodash.range=range,lodash.rangeRight=rangeRight,lodash.rearg=rearg,lodash.reject=function(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,negate(getIteratee(predicate,3)))},lodash.remove=function(array,predicate){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getIteratee(predicate,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result},lodash.rest=function(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return baseRest(func,start=void 0===start?start:toInteger(start))},lodash.reverse=reverse,lodash.sampleSize=function(collection,n,guard){return n=(guard?isIterateeCall(collection,n,guard):void 0===n)?1:toInteger(n),(isArray(collection)?arraySampleSize:baseSampleSize)(collection,n)},lodash.set=function(object,path,value){return null==object?object:baseSet(object,path,value)},lodash.setWith=function(object,path,value,customizer){return customizer="function"==typeof customizer?customizer:void 0,null==object?object:baseSet(object,path,value,customizer)},lodash.shuffle=function(collection){return(isArray(collection)?arrayShuffle:baseShuffle)(collection)},lodash.slice=function(array,start,end){var length=null==array?0:array.length;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)?(start=0,end=length):(start=null==start?0:toInteger(start),end=void 0===end?length:toInteger(end)),baseSlice(array,start,end)):[]},lodash.sortBy=sortBy,lodash.sortedUniq=function(array){return array&&array.length?baseSortedUniq(array):[]},lodash.sortedUniqBy=function(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]},lodash.split=function(string,separator,limit){return limit&&"number"!=typeof limit&&isIterateeCall(string,separator,limit)&&(separator=limit=void 0),(limit=void 0===limit?4294967295:limit>>>0)?(string=toString(string))&&("string"==typeof separator||null!=separator&&!isRegExp(separator))&&!(separator=baseToString(separator))&&hasUnicode(string)?castSlice(stringToArray(string),0,limit):string.split(separator,limit):[]},lodash.spread=function(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=null==start?0:nativeMax(toInteger(start),0),baseRest((function(args){var array=args[start],otherArgs=castSlice(args,0,start);return array&&arrayPush(otherArgs,array),apply(func,this,otherArgs)}))},lodash.tail=function(array){var length=null==array?0:array.length;return length?baseSlice(array,1,length):[]},lodash.take=function(array,n,guard){return array&&array.length?baseSlice(array,0,(n=guard||void 0===n?1:toInteger(n))<0?0:n):[]},lodash.takeRight=function(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,(n=length-(n=guard||void 0===n?1:toInteger(n)))<0?0:n,length):[]},lodash.takeRightWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!1,!0):[]},lodash.takeWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]},lodash.tap=function(value,interceptor){return interceptor(value),value},lodash.throttle=function(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})},lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=toPairs,lodash.toPairsIn=toPairsIn,lodash.toPath=function(value){return isArray(value)?arrayMap(value,toKey):isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))},lodash.toPlainObject=toPlainObject,lodash.transform=function(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);if(iteratee=getIteratee(iteratee,4),null==accumulator){var Ctor=object&&object.constructor;accumulator=isArrLike?isArr?new Ctor:[]:isObject(object)&&isFunction(Ctor)?baseCreate(getPrototype(object)):{}}return(isArrLike?arrayEach:baseForOwn)(object,(function(value,index,object){return iteratee(accumulator,value,index,object)})),accumulator},lodash.unary=function(func){return ary(func,1)},lodash.union=union,lodash.unionBy=unionBy,lodash.unionWith=unionWith,lodash.uniq=function(array){return array&&array.length?baseUniq(array):[]},lodash.uniqBy=function(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]},lodash.uniqWith=function(array,comparator){return comparator="function"==typeof comparator?comparator:void 0,array&&array.length?baseUniq(array,void 0,comparator):[]},lodash.unset=function(object,path){return null==object||baseUnset(object,path)},lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=function(object,path,updater){return null==object?object:baseUpdate(object,path,castFunction(updater))},lodash.updateWith=function(object,path,updater,customizer){return customizer="function"==typeof customizer?customizer:void 0,null==object?object:baseUpdate(object,path,castFunction(updater),customizer)},lodash.values=values,lodash.valuesIn=function(object){return null==object?[]:baseValues(object,keysIn(object))},lodash.without=without,lodash.words=words,lodash.wrap=function(value,wrapper){return partial(castFunction(wrapper),value)},lodash.xor=xor,lodash.xorBy=xorBy,lodash.xorWith=xorWith,lodash.zip=zip,lodash.zipObject=function(props,values){return baseZipObject(props||[],values||[],assignValue)},lodash.zipObjectDeep=function(props,values){return baseZipObject(props||[],values||[],baseSet)},lodash.zipWith=zipWith,lodash.entries=toPairs,lodash.entriesIn=toPairsIn,lodash.extend=assignIn,lodash.extendWith=assignInWith,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.ceil=ceil,lodash.clamp=function(number,lower,upper){return void 0===upper&&(upper=lower,lower=void 0),void 0!==upper&&(upper=(upper=toNumber(upper))==upper?upper:0),void 0!==lower&&(lower=(lower=toNumber(lower))==lower?lower:0),baseClamp(toNumber(number),lower,upper)},lodash.clone=function(value){return baseClone(value,4)},lodash.cloneDeep=function(value){return baseClone(value,5)},lodash.cloneDeepWith=function(value,customizer){return baseClone(value,5,customizer="function"==typeof customizer?customizer:void 0)},lodash.cloneWith=function(value,customizer){return baseClone(value,4,customizer="function"==typeof customizer?customizer:void 0)},lodash.conformsTo=function(object,source){return null==source||baseConformsTo(object,source,keys(source))},lodash.deburr=deburr,lodash.defaultTo=function(value,defaultValue){return null==value||value!=value?defaultValue:value},lodash.divide=divide,lodash.endsWith=function(string,target,position){string=toString(string),target=baseToString(target);var length=string.length,end=position=void 0===position?length:baseClamp(toInteger(position),0,length);return(position-=target.length)>=0&&string.slice(position,end)==target},lodash.eq=eq,lodash.escape=function(string){return(string=toString(string))&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string},lodash.escapeRegExp=function(string){return(string=toString(string))&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string},lodash.every=function(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=void 0),func(collection,getIteratee(predicate,3))},lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=function(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)},lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=function(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)},lodash.floor=floor,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=function(object,iteratee){return null==object?object:baseFor(object,getIteratee(iteratee,3),keysIn)},lodash.forInRight=function(object,iteratee){return null==object?object:baseForRight(object,getIteratee(iteratee,3),keysIn)},lodash.forOwn=function(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))},lodash.forOwnRight=function(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))},lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=function(object,path){return null!=object&&hasPath(object,path,baseHas)},lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=function(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection),fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;return fromIndex<0&&(fromIndex=nativeMax(length+fromIndex,0)),isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1},lodash.indexOf=function(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseIndexOf(array,value,index)},lodash.inRange=function(number,start,end){return start=toFinite(start),void 0===end?(end=start,start=0):end=toFinite(end),function(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}(number=toNumber(number),start,end)},lodash.invoke=invoke,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isArrayBuffer=isArrayBuffer,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=function(value){return!0===value||!1===value||isObjectLike(value)&&baseGetTag(value)==boolTag},lodash.isBuffer=isBuffer,lodash.isDate=isDate,lodash.isElement=function(value){return isObjectLike(value)&&1===value.nodeType&&!isPlainObject(value)},lodash.isEmpty=function(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if(tag==mapTag||tag==setTag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0},lodash.isEqual=function(value,other){return baseIsEqual(value,other)},lodash.isEqualWith=function(value,other,customizer){var result=(customizer="function"==typeof customizer?customizer:void 0)?customizer(value,other):void 0;return void 0===result?baseIsEqual(value,other,void 0,customizer):!!result},lodash.isError=isError,lodash.isFinite=function(value){return"number"==typeof value&&nativeIsFinite(value)},lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=isMap,lodash.isMatch=function(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))},lodash.isMatchWith=function(object,source,customizer){return customizer="function"==typeof customizer?customizer:void 0,baseIsMatch(object,source,getMatchData(source),customizer)},lodash.isNaN=function(value){return isNumber(value)&&value!=+value},lodash.isNative=function(value){if(isMaskable(value))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return baseIsNative(value)},lodash.isNil=function(value){return null==value},lodash.isNull=function(value){return null===value},lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isSafeInteger=function(value){return isInteger(value)&&value>=-9007199254740991&&value<=9007199254740991},lodash.isSet=isSet,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=isTypedArray,lodash.isUndefined=function(value){return void 0===value},lodash.isWeakMap=function(value){return isObjectLike(value)&&getTag(value)==weakMapTag},lodash.isWeakSet=function(value){return isObjectLike(value)&&"[object WeakSet]"==baseGetTag(value)},lodash.join=function(array,separator){return null==array?"":nativeJoin.call(array,separator)},lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=function(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length;return void 0!==fromIndex&&(index=(index=toInteger(fromIndex))<0?nativeMax(length+index,0):nativeMin(index,length-1)),value==value?function(array,value,fromIndex){for(var index=fromIndex+1;index--;)if(array[index]===value)return index;return index}(array,value,index):baseFindIndex(array,baseIsNaN,index,!0)},lodash.lowerCase=lowerCase,lodash.lowerFirst=lowerFirst,lodash.lt=lt,lodash.lte=lte,lodash.max=function(array){return array&&array.length?baseExtremum(array,identity,baseGt):void 0},lodash.maxBy=function(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):void 0},lodash.mean=function(array){return baseMean(array,identity)},lodash.meanBy=function(array,iteratee){return baseMean(array,getIteratee(iteratee,2))},lodash.min=function(array){return array&&array.length?baseExtremum(array,identity,baseLt):void 0},lodash.minBy=function(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):void 0},lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=function(){return{}},lodash.stubString=function(){return""},lodash.stubTrue=function(){return!0},lodash.multiply=multiply,lodash.nth=function(array,n){return array&&array.length?baseNth(array,toInteger(n)):void 0},lodash.noConflict=function(){return root._===this&&(root._=oldDash),this},lodash.noop=noop,lodash.now=now,lodash.pad=function(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;if(!length||strLength>=length)return string;var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)},lodash.padEnd=function(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string},lodash.padStart=function(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string},lodash.parseInt=function(string,radix,guard){return guard||null==radix?radix=0:radix&&(radix=+radix),nativeParseInt(toString(string).replace(reTrimStart,""),radix||0)},lodash.random=function(lower,upper,floating){if(floating&&"boolean"!=typeof floating&&isIterateeCall(lower,upper,floating)&&(upper=floating=void 0),void 0===floating&&("boolean"==typeof upper?(floating=upper,upper=void 0):"boolean"==typeof lower&&(floating=lower,lower=void 0)),void 0===lower&&void 0===upper?(lower=0,upper=1):(lower=toFinite(lower),void 0===upper?(upper=lower,lower=0):upper=toFinite(upper)),lower>upper){var temp=lower;lower=upper,upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)},lodash.reduce=function(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)},lodash.reduceRight=function(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)},lodash.repeat=function(string,n,guard){return n=(guard?isIterateeCall(string,n,guard):void 0===n)?1:toInteger(n),baseRepeat(toString(string),n)},lodash.replace=function(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])},lodash.result=function(object,path,defaultValue){var index=-1,length=(path=castPath(path,object)).length;for(length||(length=1,object=void 0);++index<length;){var value=null==object?void 0:object[toKey(path[index])];void 0===value&&(index=length,value=defaultValue),object=isFunction(value)?value.call(object):value}return object},lodash.round=round,lodash.runInContext=runInContext,lodash.sample=function(collection){return(isArray(collection)?arraySample:baseSample)(collection)},lodash.size=function(collection){if(null==collection)return 0;if(isArrayLike(collection))return isString(collection)?stringSize(collection):collection.length;var tag=getTag(collection);return tag==mapTag||tag==setTag?collection.size:baseKeys(collection).length},lodash.snakeCase=snakeCase,lodash.some=function(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=void 0),func(collection,getIteratee(predicate,3))},lodash.sortedIndex=function(array,value){return baseSortedIndex(array,value)},lodash.sortedIndexBy=function(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))},lodash.sortedIndexOf=function(array,value){var length=null==array?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value))return index}return-1},lodash.sortedLastIndex=function(array,value){return baseSortedIndex(array,value,!0)},lodash.sortedLastIndexBy=function(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),!0)},lodash.sortedLastIndexOf=function(array,value){if(null==array?0:array.length){var index=baseSortedIndex(array,value,!0)-1;if(eq(array[index],value))return index}return-1},lodash.startCase=startCase,lodash.startsWith=function(string,target,position){return string=toString(string),position=null==position?0:baseClamp(toInteger(position),0,string.length),target=baseToString(target),string.slice(position,position+target.length)==target},lodash.subtract=subtract,lodash.sum=function(array){return array&&array.length?baseSum(array,identity):0},lodash.sumBy=function(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0},lodash.template=function(string,options,guard){var settings=lodash.templateSettings;guard&&isIterateeCall(string,options,guard)&&(options=void 0),string=toString(string),options=assignInWith({},options,settings,customDefaultsAssignIn);var isEscaping,isEvaluating,imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+(hasOwnProperty.call(options,"sourceURL")?(options.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,(function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match})),source+="';\n";var variable=hasOwnProperty.call(options,"variable")&&options.variable;variable||(source="with (obj) {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt((function(){return Function(importsKeys,sourceURL+"return "+source).apply(void 0,importsValues)}));if(result.source=source,isError(result))throw result;return result},lodash.times=function(n,iteratee){if((n=toInteger(n))<1||n>9007199254740991)return[];var index=4294967295,length=nativeMin(n,4294967295);n-=4294967295;for(var result=baseTimes(length,iteratee=getIteratee(iteratee));++index<n;)iteratee(index);return result},lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=function(value){return toString(value).toLowerCase()},lodash.toNumber=toNumber,lodash.toSafeInteger=function(value){return value?baseClamp(toInteger(value),-9007199254740991,9007199254740991):0===value?value:0},lodash.toString=toString,lodash.toUpper=function(value){return toString(value).toUpperCase()},lodash.trim=function(string,chars,guard){if((string=toString(string))&&(guard||void 0===chars))return string.replace(reTrim,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars);return castSlice(strSymbols,charsStartIndex(strSymbols,chrSymbols),charsEndIndex(strSymbols,chrSymbols)+1).join("")},lodash.trimEnd=function(string,chars,guard){if((string=toString(string))&&(guard||void 0===chars))return string.replace(reTrimEnd,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string);return castSlice(strSymbols,0,charsEndIndex(strSymbols,stringToArray(chars))+1).join("")},lodash.trimStart=function(string,chars,guard){if((string=toString(string))&&(guard||void 0===chars))return string.replace(reTrimStart,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string);return castSlice(strSymbols,charsStartIndex(strSymbols,stringToArray(chars))).join("")},lodash.truncate=function(string,options){var length=30,omission="...";if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length,omission="omission"in options?baseToString(options.omission):omission}var strLength=(string=toString(string)).length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength)return string;var end=length-stringSize(omission);if(end<1)return omission;var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(void 0===separator)return result+omission;if(strSymbols&&(end+=result.length-end),isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;for(separator.global||(separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")),separator.lastIndex=0;match=separator.exec(substring);)var newEnd=match.index;result=result.slice(0,void 0===newEnd?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission},lodash.unescape=function(string){return(string=toString(string))&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string},lodash.uniqueId=function(prefix){var id=++idCounter;return toString(prefix)+id},lodash.upperCase=upperCase,lodash.upperFirst=upperFirst,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,(source={},baseForOwn(lodash,(function(func,methodName){hasOwnProperty.call(lodash.prototype,methodName)||(source[methodName]=func)})),source),{chain:!1}),lodash.VERSION="4.17.19",arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(methodName){lodash[methodName].placeholder=lodash})),arrayEach(["drop","take"],(function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=void 0===n?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();return result.__filtered__?result.__takeCount__=nativeMin(n,result.__takeCount__):result.__views__.push({size:nativeMin(n,4294967295),type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}})),arrayEach(["filter","map","takeWhile"],(function(methodName,index){var type=index+1,isFilter=1==type||3==type;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();return result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type}),result.__filtered__=result.__filtered__||isFilter,result}})),arrayEach(["head","last"],(function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}})),arrayEach(["initial","tail"],(function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}})),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()},LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)},LazyWrapper.prototype.invokeMap=baseRest((function(path,args){return"function"==typeof path?new LazyWrapper(this):this.map((function(value){return baseInvoke(value,path,args)}))})),LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))},LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;return result.__filtered__&&(start>0||end<0)?new LazyWrapper(result):(start<0?result=result.takeRight(-start):start&&(result=result.drop(start)),void 0!==end&&(result=(end=toInteger(end))<0?result.dropRight(-end):result.take(end-start)),result)},LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(4294967295)},baseForOwn(LazyWrapper.prototype,(function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+("last"==methodName?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);lodashFunc&&(lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value),interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);return result.__actions__.push({func:thru,args:[interceptor],thisArg:void 0}),new LodashWrapper(result,chainAll)}return isUnwrapped&&onlyLazy?func.apply(this,args):(result=this.thru(interceptor),isUnwrapped?isTaker?result.value()[0]:result.value():result)})})),arrayEach(["pop","push","shift","sort","splice","unshift"],(function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName]((function(value){return func.apply(isArray(value)?value:[],args)}))}})),baseForOwn(LazyWrapper.prototype,(function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"";hasOwnProperty.call(realNames,key)||(realNames[key]=[]),realNames[key].push({name:methodName,func:lodashFunc})}})),realNames[createHybrid(void 0,2).name]=[{name:"wrapper",func:void 0}],LazyWrapper.prototype.clone=function(){var result=new LazyWrapper(this.__wrapped__);return result.__actions__=copyArray(this.__actions__),result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=copyArray(this.__iteratees__),result.__takeCount__=this.__takeCount__,result.__views__=copyArray(this.__views__),result},LazyWrapper.prototype.reverse=function(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else(result=this.clone()).__dir__*=-1;return result},LazyWrapper.prototype.value=function(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=function(start,end,transforms){var index=-1,length=transforms.length;for(;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length)return baseWrapperValue(array,this.__actions__);var result=[];outer:for(;length--&&resIndex<takeCount;){for(var iterIndex=-1,value=array[index+=dir];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(2==type)value=computed;else if(!computed){if(1==type)continue outer;break outer}}result[resIndex++]=value}return result},lodash.prototype.at=wrapperAt,lodash.prototype.chain=function(){return chain(this)},lodash.prototype.commit=function(){return new LodashWrapper(this.value(),this.__chain__)},lodash.prototype.next=function(){void 0===this.__values__&&(this.__values__=toArray(this.value()));var done=this.__index__>=this.__values__.length;return{done:done,value:done?void 0:this.__values__[this.__index__++]}},lodash.prototype.plant=function(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);clone.__index__=0,clone.__values__=void 0,result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result},lodash.prototype.reverse=function(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;return this.__actions__.length&&(wrapped=new LazyWrapper(this)),(wrapped=wrapped.reverse()).__actions__.push({func:thru,args:[reverse],thisArg:void 0}),new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)},lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=function(){return baseWrapperValue(this.__wrapped__,this.__actions__)},lodash.prototype.first=lodash.prototype.head,symIterator&&(lodash.prototype[symIterator]=function(){return this}),lodash}();root._=_,void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this)}).call(this,__webpack_require__(8),__webpack_require__(19)(module))},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(102),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports){module.exports=function(value){return null!=value&&"object"==typeof value}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SEEK_ON_START_NS=exports.MIN_MEM_CACHE_BLOCK_SIZE_NS=exports.FEATURE_ANNOUNCEMENTS_LOCAL_STORAGE_KEY=exports.PANEL_LAYOUT_ROOT_ID=exports.LINED_CONVEX_HULL_RENDERING_SETTING=exports.TAB_PANEL_TYPE=exports.jsonTreeTheme=exports.MILES_PER_HOUR_TO_KILOMETERS_PER_HOUR=exports.MILES_PER_HOUR_TO_METERS_PER_SECOND=exports.METERS_PER_SECOND_TO_KILOMETERS_PER_HOUR=exports.METERS_PER_SECOND_TO_MILES_PER_HOUR=exports.POSE_MARKER_SCALE=exports.MARKER_MSG_TYPES=exports.COLORS=exports.FREEZE_MESSAGES=exports.USER_ERROR_PREFIX=exports.MARKER_ARRAY_DATATYPES=exports.WEBVIZ_ICON_MSGS$WEBVIZ_3D_ICON_ARRAY=exports.WEBVIZ_ICON_MSGS$WEBVIZ_2D_ICON_ARRAY=exports.VISUALIZATION_MSGS$MARKER_ARRAY=exports.VISUALIZATION_MSGS$MARKER=exports.TF2_MSGS$TF_MESSAGE=exports.FUTURE_VISUALIZATION_MSGS$WEBVIZ_MARKER_ARRAY=exports.VISUALIZATION_MSGS$WEBVIZ_MARKER_ARRAY=exports.VISUALIZATION_MSGS$WEBVIZ_MARKER=exports.SENSOR_MSGS$LASER_SCAN=exports.GEOMETRY_MSGS$POSE_STAMPED=exports.SENSOR_MSGS$POINT_CLOUD_2=exports.NAV_MSGS$PATH=exports.NAV_MSGS$OCCUPANCY_GRID=exports.GEOMETRY_MSGS$POLYGON_STAMPED=exports.$WEBVIZ_SOURCE_2=exports.SOCKET_KEY=exports.$ROSOUT=exports.$DIAGNOSTICS=exports.$TF_STATIC=exports.$TF=exports.$METADATA=exports.DEFAULT_WEBVIZ_NODE_PREFIX=exports.WRAPPED_POINT_CLOUD=exports.RADAR_POINT_CLOUD=exports.FRAMELESS=exports.TEST_EVERYTHING_LAYOUT_QUERY_VAL=exports.TITLE_QUERY_KEY=exports.GLOBAL_VARIABLES_QUERY_KEY=exports.OLD_GLOBAL_VARIABLES_QUERY_KEY=exports.PATCH_QUERY_KEY=exports.LAYOUT_URL_QUERY_KEY=exports.LAYOUT_QUERY_KEY=exports.SEEK_TO_FRACTION_QUERY_KEY=exports.SEEK_TO_RELATIVE_MS_QUERY_KEY=exports.SEEK_TO_QUERY_KEY=exports.DISABLE_WORKERS_QUERY_KEY=exports.DEMO_QUERY_KEY=exports.MEASURE_DATA_PROVIDERS_QUERY_KEY=exports.ROSBRIDGE_WEBSOCKET_URL_QUERY_KEY=exports.REMOTE_BAG_URL_2_QUERY_KEY=exports.REMOTE_BAG_URL_QUERY_KEY=void 0;var _sharedStyleConstants=__webpack_require__(319);exports.REMOTE_BAG_URL_QUERY_KEY="remote-bag-url";exports.REMOTE_BAG_URL_2_QUERY_KEY="remote-bag-url-2";exports.ROSBRIDGE_WEBSOCKET_URL_QUERY_KEY="rosbridge-websocket-url";exports.MEASURE_DATA_PROVIDERS_QUERY_KEY="_measureDataProviders";exports.DEMO_QUERY_KEY="demo";exports.DISABLE_WORKERS_QUERY_KEY="no-workers";exports.SEEK_TO_QUERY_KEY="seek-to";exports.SEEK_TO_RELATIVE_MS_QUERY_KEY="seek-by";exports.SEEK_TO_FRACTION_QUERY_KEY="seek-fraction";exports.LAYOUT_QUERY_KEY="layout";exports.LAYOUT_URL_QUERY_KEY="layout-url";exports.PATCH_QUERY_KEY="patch";exports.OLD_GLOBAL_VARIABLES_QUERY_KEY="global-data";exports.GLOBAL_VARIABLES_QUERY_KEY="global-variables";exports.TITLE_QUERY_KEY="title";exports.TEST_EVERYTHING_LAYOUT_QUERY_VAL="_integration-test-everything-layout";exports.FRAMELESS="frameless";exports.RADAR_POINT_CLOUD="radarPointCloud";exports.WRAPPED_POINT_CLOUD="wrappedPointCloud";exports.DEFAULT_WEBVIZ_NODE_PREFIX="/webviz_node/";exports.$METADATA="/metadata";exports.$TF="/tf";exports.$TF_STATIC="/tf_static";exports.$DIAGNOSTICS="/diagnostics";exports.$ROSOUT="/rosout";exports.SOCKET_KEY="dataSource.websocket";exports.$WEBVIZ_SOURCE_2="/webviz_source_2";exports.GEOMETRY_MSGS$POLYGON_STAMPED="geometry_msgs/PolygonStamped";exports.NAV_MSGS$OCCUPANCY_GRID="nav_msgs/OccupancyGrid";exports.NAV_MSGS$PATH="nav_msgs/Path";exports.SENSOR_MSGS$POINT_CLOUD_2="sensor_msgs/PointCloud2";exports.GEOMETRY_MSGS$POSE_STAMPED="geometry_msgs/PoseStamped";exports.SENSOR_MSGS$LASER_SCAN="sensor_msgs/LaserScan";exports.VISUALIZATION_MSGS$WEBVIZ_MARKER="visualization_msgs/WebvizMarker";exports.VISUALIZATION_MSGS$WEBVIZ_MARKER_ARRAY="visualization_msgs/WebvizMarkerArray";exports.FUTURE_VISUALIZATION_MSGS$WEBVIZ_MARKER_ARRAY="future_visualization_msgs/WebvizMarkerArray";exports.TF2_MSGS$TF_MESSAGE="tf2_msgs/TFMessage";exports.VISUALIZATION_MSGS$MARKER="visualization_msgs/Marker";exports.VISUALIZATION_MSGS$MARKER_ARRAY="visualization_msgs/MarkerArray";exports.WEBVIZ_ICON_MSGS$WEBVIZ_2D_ICON_ARRAY="webviz_icon_msgs/WebViz2dIconArray";exports.WEBVIZ_ICON_MSGS$WEBVIZ_3D_ICON_ARRAY="webviz_icon_msgs/WebViz3dIconArray";const MARKER_ARRAY_DATATYPES=["visualization_msgs/MarkerArray","future_visualization_msgs/WebvizMarkerArray","visualization_msgs/WebvizMarkerArray"];exports.MARKER_ARRAY_DATATYPES=MARKER_ARRAY_DATATYPES;exports.USER_ERROR_PREFIX="[WEBVIZ USER ERROR]";exports.FREEZE_MESSAGES=!1;exports.COLORS={RED:{r:1,g:.2,b:.2,a:1},BLUE:{r:.4,g:.4,b:1,a:1},YELLOW:{r:.9,g:1,b:.1,a:1},ORANGE:{r:1,g:.6,b:.2,a:1},GREEN:{r:.1,g:.9,b:.3,a:1},GRAY:{r:.4,g:.4,b:.4,a:1},PURPLE:{r:1,g:.2,b:1,a:1},WHITE:{r:1,g:1,b:1,a:1},PINK:{r:1,g:.4,b:.6,a:1},LIGHT_RED:{r:.9,g:.1,b:.1,a:1},LIGHT_GREEN:{r:.4,g:.9,b:.4,a:1},LIGHT_BLUE:{r:.4,g:.4,b:1,a:1},CLEAR:{r:0,g:0,b:0,a:0}};exports.MARKER_MSG_TYPES={ARROW:0,CUBE:1,SPHERE:2,CYLINDER:3,LINE_STRIP:4,LINE_LIST:5,CUBE_LIST:6,SPHERE_LIST:7,POINTS:8,TEXT_VIEW_FACING:9,MESH_RESOURCE:10,TRIANGLE_LIST:11,FILLED_POLYGON:107,INSTANCED_LINE_LIST:108,OVERLAY_ICON:109};exports.POSE_MARKER_SCALE={x:2,y:2,z:.1};exports.METERS_PER_SECOND_TO_MILES_PER_HOUR=2.23694;exports.METERS_PER_SECOND_TO_KILOMETERS_PER_HOUR=3.6;exports.MILES_PER_HOUR_TO_METERS_PER_SECOND=1/2.23694;exports.MILES_PER_HOUR_TO_KILOMETERS_PER_HOUR=1/2.23694*3.6;const jsonTreeTheme={base00:"transparent",base07:_sharedStyleConstants.colors.BLUEL1,base0B:_sharedStyleConstants.colors.YELLOW1,base09:_sharedStyleConstants.colors.REDL1,base08:_sharedStyleConstants.colors.RED,base0D:_sharedStyleConstants.colors.BLUEL1,base03:_sharedStyleConstants.colors.DARK9};exports.jsonTreeTheme=jsonTreeTheme;exports.TAB_PANEL_TYPE="Tab";exports.LINED_CONVEX_HULL_RENDERING_SETTING="LinedConvexHull";exports.PANEL_LAYOUT_ROOT_ID="PanelLayout-root";exports.FEATURE_ANNOUNCEMENTS_LOCAL_STORAGE_KEY="webvizFeatureAnnouncements";exports.MIN_MEM_CACHE_BLOCK_SIZE_NS=1e8;exports.SEEK_ON_START_NS=99e6},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(140),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,__webpack_exports__,__webpack_require__){"use strict";var LogLevel;__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LogLevel",(function(){return LogLevel})),__webpack_require__.d(__webpack_exports__,"Severity",(function(){return severity.a})),__webpack_require__.d(__webpack_exports__,"SpanStatus",(function(){return SpanStatus})),__webpack_require__.d(__webpack_exports__,"Status",(function(){return esm_status.a})),function(LogLevel){LogLevel[LogLevel.None=0]="None",LogLevel[LogLevel.Error=1]="Error",LogLevel[LogLevel.Debug=2]="Debug",LogLevel[LogLevel.Verbose=3]="Verbose"}(LogLevel||(LogLevel={}));var SpanStatus,severity=__webpack_require__(128);!function(SpanStatus){SpanStatus.Ok="ok",SpanStatus.DealineExceeded="deadline_exceeded",SpanStatus.Unauthenticated="unauthenticated",SpanStatus.PermissionDenied="permission_denied",SpanStatus.NotFound="not_found",SpanStatus.ResourceExhausted="resource_exhausted",SpanStatus.InvalidArgument="invalid_argument",SpanStatus.Unimplemented="unimplemented",SpanStatus.Unavailable="unavailable",SpanStatus.InternalError="internal_error",SpanStatus.UnknownError="unknown_error",SpanStatus.Cancelled="cancelled",SpanStatus.AlreadyExists="already_exists",SpanStatus.FailedPrecondition="failed_precondition",SpanStatus.Aborted="aborted",SpanStatus.OutOfRange="out_of_range",SpanStatus.DataLoss="data_loss"}(SpanStatus||(SpanStatus={})),function(SpanStatus){SpanStatus.fromHttpCode=function(httpStatus){if(httpStatus<400)return SpanStatus.Ok;if(httpStatus>=400&&httpStatus<500)switch(httpStatus){case 401:return SpanStatus.Unauthenticated;case 403:return SpanStatus.PermissionDenied;case 404:return SpanStatus.NotFound;case 409:return SpanStatus.AlreadyExists;case 413:return SpanStatus.FailedPrecondition;case 429:return SpanStatus.ResourceExhausted;default:return SpanStatus.InvalidArgument}if(httpStatus>=500&&httpStatus<600)switch(httpStatus){case 501:return SpanStatus.Unimplemented;case 503:return SpanStatus.Unavailable;case 504:return SpanStatus.DealineExceeded;default:return SpanStatus.InternalError}return SpanStatus.UnknownError}}(SpanStatus||(SpanStatus={}));var esm_status=__webpack_require__(129)},function(module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(172),getValue=__webpack_require__(177);module.exports=function(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}},function(module,exports){module.exports=function(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return logger}));var _misc__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),global=Object(_misc__WEBPACK_IMPORTED_MODULE_0__.g)(),PREFIX="Sentry Logger ",Logger=function(){function Logger(){this._enabled=!1}return Logger.prototype.disable=function(){this._enabled=!1},Logger.prototype.enable=function(){this._enabled=!0},Logger.prototype.log=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._enabled&&Object(_misc__WEBPACK_IMPORTED_MODULE_0__.c)((function(){global.console.log(PREFIX+"[Log]: "+args.join(" "))}))},Logger.prototype.warn=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._enabled&&Object(_misc__WEBPACK_IMPORTED_MODULE_0__.c)((function(){global.console.warn(PREFIX+"[Warn]: "+args.join(" "))}))},Logger.prototype.error=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this._enabled&&Object(_misc__WEBPACK_IMPORTED_MODULE_0__.c)((function(){global.console.error(PREFIX+"[Error]: "+args.join(" "))}))},Logger}();global.__SENTRY__=global.__SENTRY__||{};var logger=global.__SENTRY__.logger||(global.__SENTRY__.logger=new Logger)},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(22),getRawTag=__webpack_require__(173),objectToString=__webpack_require__(174),symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(9).Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){var isArray=__webpack_require__(10),isKey=__webpack_require__(71),stringToPath=__webpack_require__(227),toString=__webpack_require__(229);module.exports=function(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(72);module.exports=function(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(374),getValue=__webpack_require__(379);module.exports=function(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"glMatrix",(function(){return common_namespaceObject})),__webpack_require__.d(__webpack_exports__,"mat2",(function(){return mat2_namespaceObject})),__webpack_require__.d(__webpack_exports__,"mat2d",(function(){return mat2d_namespaceObject})),__webpack_require__.d(__webpack_exports__,"mat3",(function(){return mat3_namespaceObject})),__webpack_require__.d(__webpack_exports__,"mat4",(function(){return mat4_namespaceObject})),__webpack_require__.d(__webpack_exports__,"quat",(function(){return quat_namespaceObject})),__webpack_require__.d(__webpack_exports__,"quat2",(function(){return quat2_namespaceObject})),__webpack_require__.d(__webpack_exports__,"vec2",(function(){return vec2_namespaceObject})),__webpack_require__.d(__webpack_exports__,"vec3",(function(){return vec3_namespaceObject})),__webpack_require__.d(__webpack_exports__,"vec4",(function(){return vec4_namespaceObject}));var common_namespaceObject={};__webpack_require__.r(common_namespaceObject),__webpack_require__.d(common_namespaceObject,"EPSILON",(function(){return EPSILON})),__webpack_require__.d(common_namespaceObject,"ARRAY_TYPE",(function(){return ARRAY_TYPE})),__webpack_require__.d(common_namespaceObject,"RANDOM",(function(){return RANDOM})),__webpack_require__.d(common_namespaceObject,"setMatrixArrayType",(function(){return setMatrixArrayType})),__webpack_require__.d(common_namespaceObject,"toRadian",(function(){return toRadian})),__webpack_require__.d(common_namespaceObject,"equals",(function(){return equals}));var mat2_namespaceObject={};__webpack_require__.r(mat2_namespaceObject),__webpack_require__.d(mat2_namespaceObject,"create",(function(){return create})),__webpack_require__.d(mat2_namespaceObject,"clone",(function(){return clone})),__webpack_require__.d(mat2_namespaceObject,"copy",(function(){return copy})),__webpack_require__.d(mat2_namespaceObject,"identity",(function(){return identity})),__webpack_require__.d(mat2_namespaceObject,"fromValues",(function(){return fromValues})),__webpack_require__.d(mat2_namespaceObject,"set",(function(){return set})),__webpack_require__.d(mat2_namespaceObject,"transpose",(function(){return transpose})),__webpack_require__.d(mat2_namespaceObject,"invert",(function(){return invert})),__webpack_require__.d(mat2_namespaceObject,"adjoint",(function(){return adjoint})),__webpack_require__.d(mat2_namespaceObject,"determinant",(function(){return determinant})),__webpack_require__.d(mat2_namespaceObject,"multiply",(function(){return multiply})),__webpack_require__.d(mat2_namespaceObject,"rotate",(function(){return rotate})),__webpack_require__.d(mat2_namespaceObject,"scale",(function(){return mat2_scale})),__webpack_require__.d(mat2_namespaceObject,"fromRotation",(function(){return fromRotation})),__webpack_require__.d(mat2_namespaceObject,"fromScaling",(function(){return fromScaling})),__webpack_require__.d(mat2_namespaceObject,"str",(function(){return str})),__webpack_require__.d(mat2_namespaceObject,"frob",(function(){return frob})),__webpack_require__.d(mat2_namespaceObject,"LDU",(function(){return LDU})),__webpack_require__.d(mat2_namespaceObject,"add",(function(){return add})),__webpack_require__.d(mat2_namespaceObject,"subtract",(function(){return subtract})),__webpack_require__.d(mat2_namespaceObject,"exactEquals",(function(){return exactEquals})),__webpack_require__.d(mat2_namespaceObject,"equals",(function(){return mat2_equals})),__webpack_require__.d(mat2_namespaceObject,"multiplyScalar",(function(){return multiplyScalar})),__webpack_require__.d(mat2_namespaceObject,"multiplyScalarAndAdd",(function(){return multiplyScalarAndAdd})),__webpack_require__.d(mat2_namespaceObject,"mul",(function(){return mul})),__webpack_require__.d(mat2_namespaceObject,"sub",(function(){return sub}));var mat2d_namespaceObject={};__webpack_require__.r(mat2d_namespaceObject),__webpack_require__.d(mat2d_namespaceObject,"create",(function(){return mat2d_create})),__webpack_require__.d(mat2d_namespaceObject,"clone",(function(){return mat2d_clone})),__webpack_require__.d(mat2d_namespaceObject,"copy",(function(){return mat2d_copy})),__webpack_require__.d(mat2d_namespaceObject,"identity",(function(){return mat2d_identity})),__webpack_require__.d(mat2d_namespaceObject,"fromValues",(function(){return mat2d_fromValues})),__webpack_require__.d(mat2d_namespaceObject,"set",(function(){return mat2d_set})),__webpack_require__.d(mat2d_namespaceObject,"invert",(function(){return mat2d_invert})),__webpack_require__.d(mat2d_namespaceObject,"determinant",(function(){return mat2d_determinant})),__webpack_require__.d(mat2d_namespaceObject,"multiply",(function(){return mat2d_multiply})),__webpack_require__.d(mat2d_namespaceObject,"rotate",(function(){return mat2d_rotate})),__webpack_require__.d(mat2d_namespaceObject,"scale",(function(){return mat2d_scale})),__webpack_require__.d(mat2d_namespaceObject,"translate",(function(){return translate})),__webpack_require__.d(mat2d_namespaceObject,"fromRotation",(function(){return mat2d_fromRotation})),__webpack_require__.d(mat2d_namespaceObject,"fromScaling",(function(){return mat2d_fromScaling})),__webpack_require__.d(mat2d_namespaceObject,"fromTranslation",(function(){return fromTranslation})),__webpack_require__.d(mat2d_namespaceObject,"str",(function(){return mat2d_str})),__webpack_require__.d(mat2d_namespaceObject,"frob",(function(){return mat2d_frob})),__webpack_require__.d(mat2d_namespaceObject,"add",(function(){return mat2d_add})),__webpack_require__.d(mat2d_namespaceObject,"subtract",(function(){return mat2d_subtract})),__webpack_require__.d(mat2d_namespaceObject,"multiplyScalar",(function(){return mat2d_multiplyScalar})),__webpack_require__.d(mat2d_namespaceObject,"multiplyScalarAndAdd",(function(){return mat2d_multiplyScalarAndAdd})),__webpack_require__.d(mat2d_namespaceObject,"exactEquals",(function(){return mat2d_exactEquals})),__webpack_require__.d(mat2d_namespaceObject,"equals",(function(){return mat2d_equals})),__webpack_require__.d(mat2d_namespaceObject,"mul",(function(){return mat2d_mul})),__webpack_require__.d(mat2d_namespaceObject,"sub",(function(){return mat2d_sub}));var mat3_namespaceObject={};__webpack_require__.r(mat3_namespaceObject),__webpack_require__.d(mat3_namespaceObject,"create",(function(){return mat3_create})),__webpack_require__.d(mat3_namespaceObject,"fromMat4",(function(){return fromMat4})),__webpack_require__.d(mat3_namespaceObject,"clone",(function(){return mat3_clone})),__webpack_require__.d(mat3_namespaceObject,"copy",(function(){return mat3_copy})),__webpack_require__.d(mat3_namespaceObject,"fromValues",(function(){return mat3_fromValues})),__webpack_require__.d(mat3_namespaceObject,"set",(function(){return mat3_set})),__webpack_require__.d(mat3_namespaceObject,"identity",(function(){return mat3_identity})),__webpack_require__.d(mat3_namespaceObject,"transpose",(function(){return mat3_transpose})),__webpack_require__.d(mat3_namespaceObject,"invert",(function(){return mat3_invert})),__webpack_require__.d(mat3_namespaceObject,"adjoint",(function(){return mat3_adjoint})),__webpack_require__.d(mat3_namespaceObject,"determinant",(function(){return mat3_determinant})),__webpack_require__.d(mat3_namespaceObject,"multiply",(function(){return mat3_multiply})),__webpack_require__.d(mat3_namespaceObject,"translate",(function(){return mat3_translate})),__webpack_require__.d(mat3_namespaceObject,"rotate",(function(){return mat3_rotate})),__webpack_require__.d(mat3_namespaceObject,"scale",(function(){return mat3_scale})),__webpack_require__.d(mat3_namespaceObject,"fromTranslation",(function(){return mat3_fromTranslation})),__webpack_require__.d(mat3_namespaceObject,"fromRotation",(function(){return mat3_fromRotation})),__webpack_require__.d(mat3_namespaceObject,"fromScaling",(function(){return mat3_fromScaling})),__webpack_require__.d(mat3_namespaceObject,"fromMat2d",(function(){return fromMat2d})),__webpack_require__.d(mat3_namespaceObject,"fromQuat",(function(){return fromQuat})),__webpack_require__.d(mat3_namespaceObject,"normalFromMat4",(function(){return normalFromMat4})),__webpack_require__.d(mat3_namespaceObject,"projection",(function(){return projection})),__webpack_require__.d(mat3_namespaceObject,"str",(function(){return mat3_str})),__webpack_require__.d(mat3_namespaceObject,"frob",(function(){return mat3_frob})),__webpack_require__.d(mat3_namespaceObject,"add",(function(){return mat3_add})),__webpack_require__.d(mat3_namespaceObject,"subtract",(function(){return mat3_subtract})),__webpack_require__.d(mat3_namespaceObject,"multiplyScalar",(function(){return mat3_multiplyScalar})),__webpack_require__.d(mat3_namespaceObject,"multiplyScalarAndAdd",(function(){return mat3_multiplyScalarAndAdd})),__webpack_require__.d(mat3_namespaceObject,"exactEquals",(function(){return mat3_exactEquals})),__webpack_require__.d(mat3_namespaceObject,"equals",(function(){return mat3_equals})),__webpack_require__.d(mat3_namespaceObject,"mul",(function(){return mat3_mul})),__webpack_require__.d(mat3_namespaceObject,"sub",(function(){return mat3_sub}));var mat4_namespaceObject={};__webpack_require__.r(mat4_namespaceObject),__webpack_require__.d(mat4_namespaceObject,"create",(function(){return mat4_create})),__webpack_require__.d(mat4_namespaceObject,"clone",(function(){return mat4_clone})),__webpack_require__.d(mat4_namespaceObject,"copy",(function(){return mat4_copy})),__webpack_require__.d(mat4_namespaceObject,"fromValues",(function(){return mat4_fromValues})),__webpack_require__.d(mat4_namespaceObject,"set",(function(){return mat4_set})),__webpack_require__.d(mat4_namespaceObject,"identity",(function(){return mat4_identity})),__webpack_require__.d(mat4_namespaceObject,"transpose",(function(){return mat4_transpose})),__webpack_require__.d(mat4_namespaceObject,"invert",(function(){return mat4_invert})),__webpack_require__.d(mat4_namespaceObject,"adjoint",(function(){return mat4_adjoint})),__webpack_require__.d(mat4_namespaceObject,"determinant",(function(){return mat4_determinant})),__webpack_require__.d(mat4_namespaceObject,"multiply",(function(){return mat4_multiply})),__webpack_require__.d(mat4_namespaceObject,"translate",(function(){return mat4_translate})),__webpack_require__.d(mat4_namespaceObject,"scale",(function(){return mat4_scale})),__webpack_require__.d(mat4_namespaceObject,"rotate",(function(){return mat4_rotate})),__webpack_require__.d(mat4_namespaceObject,"rotateX",(function(){return rotateX})),__webpack_require__.d(mat4_namespaceObject,"rotateY",(function(){return rotateY})),__webpack_require__.d(mat4_namespaceObject,"rotateZ",(function(){return rotateZ})),__webpack_require__.d(mat4_namespaceObject,"fromTranslation",(function(){return mat4_fromTranslation})),__webpack_require__.d(mat4_namespaceObject,"fromScaling",(function(){return mat4_fromScaling})),__webpack_require__.d(mat4_namespaceObject,"fromRotation",(function(){return mat4_fromRotation})),__webpack_require__.d(mat4_namespaceObject,"fromXRotation",(function(){return fromXRotation})),__webpack_require__.d(mat4_namespaceObject,"fromYRotation",(function(){return fromYRotation})),__webpack_require__.d(mat4_namespaceObject,"fromZRotation",(function(){return fromZRotation})),__webpack_require__.d(mat4_namespaceObject,"fromRotationTranslation",(function(){return fromRotationTranslation})),__webpack_require__.d(mat4_namespaceObject,"fromQuat2",(function(){return fromQuat2})),__webpack_require__.d(mat4_namespaceObject,"getTranslation",(function(){return getTranslation})),__webpack_require__.d(mat4_namespaceObject,"getScaling",(function(){return getScaling})),__webpack_require__.d(mat4_namespaceObject,"getRotation",(function(){return getRotation})),__webpack_require__.d(mat4_namespaceObject,"fromRotationTranslationScale",(function(){return fromRotationTranslationScale})),__webpack_require__.d(mat4_namespaceObject,"fromRotationTranslationScaleOrigin",(function(){return fromRotationTranslationScaleOrigin})),__webpack_require__.d(mat4_namespaceObject,"fromQuat",(function(){return mat4_fromQuat})),__webpack_require__.d(mat4_namespaceObject,"frustum",(function(){return frustum})),__webpack_require__.d(mat4_namespaceObject,"perspective",(function(){return perspective})),__webpack_require__.d(mat4_namespaceObject,"perspectiveFromFieldOfView",(function(){return perspectiveFromFieldOfView})),__webpack_require__.d(mat4_namespaceObject,"ortho",(function(){return ortho})),__webpack_require__.d(mat4_namespaceObject,"lookAt",(function(){return lookAt})),__webpack_require__.d(mat4_namespaceObject,"targetTo",(function(){return targetTo})),__webpack_require__.d(mat4_namespaceObject,"str",(function(){return mat4_str})),__webpack_require__.d(mat4_namespaceObject,"frob",(function(){return mat4_frob})),__webpack_require__.d(mat4_namespaceObject,"add",(function(){return mat4_add})),__webpack_require__.d(mat4_namespaceObject,"subtract",(function(){return mat4_subtract})),__webpack_require__.d(mat4_namespaceObject,"multiplyScalar",(function(){return mat4_multiplyScalar})),__webpack_require__.d(mat4_namespaceObject,"multiplyScalarAndAdd",(function(){return mat4_multiplyScalarAndAdd})),__webpack_require__.d(mat4_namespaceObject,"exactEquals",(function(){return mat4_exactEquals})),__webpack_require__.d(mat4_namespaceObject,"equals",(function(){return mat4_equals})),__webpack_require__.d(mat4_namespaceObject,"mul",(function(){return mat4_mul})),__webpack_require__.d(mat4_namespaceObject,"sub",(function(){return mat4_sub}));var vec3_namespaceObject={};__webpack_require__.r(vec3_namespaceObject),__webpack_require__.d(vec3_namespaceObject,"create",(function(){return vec3_create})),__webpack_require__.d(vec3_namespaceObject,"clone",(function(){return vec3_clone})),__webpack_require__.d(vec3_namespaceObject,"length",(function(){return vec3_length})),__webpack_require__.d(vec3_namespaceObject,"fromValues",(function(){return vec3_fromValues})),__webpack_require__.d(vec3_namespaceObject,"copy",(function(){return vec3_copy})),__webpack_require__.d(vec3_namespaceObject,"set",(function(){return vec3_set})),__webpack_require__.d(vec3_namespaceObject,"add",(function(){return vec3_add})),__webpack_require__.d(vec3_namespaceObject,"subtract",(function(){return vec3_subtract})),__webpack_require__.d(vec3_namespaceObject,"multiply",(function(){return vec3_multiply})),__webpack_require__.d(vec3_namespaceObject,"divide",(function(){return divide})),__webpack_require__.d(vec3_namespaceObject,"ceil",(function(){return ceil})),__webpack_require__.d(vec3_namespaceObject,"floor",(function(){return floor})),__webpack_require__.d(vec3_namespaceObject,"min",(function(){return min})),__webpack_require__.d(vec3_namespaceObject,"max",(function(){return max})),__webpack_require__.d(vec3_namespaceObject,"round",(function(){return round})),__webpack_require__.d(vec3_namespaceObject,"scale",(function(){return vec3_scale})),__webpack_require__.d(vec3_namespaceObject,"scaleAndAdd",(function(){return scaleAndAdd})),__webpack_require__.d(vec3_namespaceObject,"distance",(function(){return distance})),__webpack_require__.d(vec3_namespaceObject,"squaredDistance",(function(){return squaredDistance})),__webpack_require__.d(vec3_namespaceObject,"squaredLength",(function(){return squaredLength})),__webpack_require__.d(vec3_namespaceObject,"negate",(function(){return negate})),__webpack_require__.d(vec3_namespaceObject,"inverse",(function(){return inverse})),__webpack_require__.d(vec3_namespaceObject,"normalize",(function(){return normalize})),__webpack_require__.d(vec3_namespaceObject,"dot",(function(){return vec3_dot})),__webpack_require__.d(vec3_namespaceObject,"cross",(function(){return cross})),__webpack_require__.d(vec3_namespaceObject,"lerp",(function(){return lerp})),__webpack_require__.d(vec3_namespaceObject,"hermite",(function(){return hermite})),__webpack_require__.d(vec3_namespaceObject,"bezier",(function(){return bezier})),__webpack_require__.d(vec3_namespaceObject,"random",(function(){return random})),__webpack_require__.d(vec3_namespaceObject,"transformMat4",(function(){return transformMat4})),__webpack_require__.d(vec3_namespaceObject,"transformMat3",(function(){return transformMat3})),__webpack_require__.d(vec3_namespaceObject,"transformQuat",(function(){return transformQuat})),__webpack_require__.d(vec3_namespaceObject,"rotateX",(function(){return vec3_rotateX})),__webpack_require__.d(vec3_namespaceObject,"rotateY",(function(){return vec3_rotateY})),__webpack_require__.d(vec3_namespaceObject,"rotateZ",(function(){return vec3_rotateZ})),__webpack_require__.d(vec3_namespaceObject,"angle",(function(){return angle})),__webpack_require__.d(vec3_namespaceObject,"str",(function(){return vec3_str})),__webpack_require__.d(vec3_namespaceObject,"exactEquals",(function(){return vec3_exactEquals})),__webpack_require__.d(vec3_namespaceObject,"equals",(function(){return vec3_equals})),__webpack_require__.d(vec3_namespaceObject,"sub",(function(){return vec3_sub})),__webpack_require__.d(vec3_namespaceObject,"mul",(function(){return vec3_mul})),__webpack_require__.d(vec3_namespaceObject,"div",(function(){return div})),__webpack_require__.d(vec3_namespaceObject,"dist",(function(){return dist})),__webpack_require__.d(vec3_namespaceObject,"sqrDist",(function(){return sqrDist})),__webpack_require__.d(vec3_namespaceObject,"len",(function(){return vec3_len})),__webpack_require__.d(vec3_namespaceObject,"sqrLen",(function(){return sqrLen})),__webpack_require__.d(vec3_namespaceObject,"forEach",(function(){return forEach}));var vec4_namespaceObject={};__webpack_require__.r(vec4_namespaceObject),__webpack_require__.d(vec4_namespaceObject,"create",(function(){return vec4_create})),__webpack_require__.d(vec4_namespaceObject,"clone",(function(){return vec4_clone})),__webpack_require__.d(vec4_namespaceObject,"fromValues",(function(){return vec4_fromValues})),__webpack_require__.d(vec4_namespaceObject,"copy",(function(){return vec4_copy})),__webpack_require__.d(vec4_namespaceObject,"set",(function(){return vec4_set})),__webpack_require__.d(vec4_namespaceObject,"add",(function(){return vec4_add})),__webpack_require__.d(vec4_namespaceObject,"subtract",(function(){return vec4_subtract})),__webpack_require__.d(vec4_namespaceObject,"multiply",(function(){return vec4_multiply})),__webpack_require__.d(vec4_namespaceObject,"divide",(function(){return vec4_divide})),__webpack_require__.d(vec4_namespaceObject,"ceil",(function(){return vec4_ceil})),__webpack_require__.d(vec4_namespaceObject,"floor",(function(){return vec4_floor})),__webpack_require__.d(vec4_namespaceObject,"min",(function(){return vec4_min})),__webpack_require__.d(vec4_namespaceObject,"max",(function(){return vec4_max})),__webpack_require__.d(vec4_namespaceObject,"round",(function(){return vec4_round})),__webpack_require__.d(vec4_namespaceObject,"scale",(function(){return vec4_scale})),__webpack_require__.d(vec4_namespaceObject,"scaleAndAdd",(function(){return vec4_scaleAndAdd})),__webpack_require__.d(vec4_namespaceObject,"distance",(function(){return vec4_distance})),__webpack_require__.d(vec4_namespaceObject,"squaredDistance",(function(){return vec4_squaredDistance})),__webpack_require__.d(vec4_namespaceObject,"length",(function(){return vec4_length})),__webpack_require__.d(vec4_namespaceObject,"squaredLength",(function(){return vec4_squaredLength})),__webpack_require__.d(vec4_namespaceObject,"negate",(function(){return vec4_negate})),__webpack_require__.d(vec4_namespaceObject,"inverse",(function(){return vec4_inverse})),__webpack_require__.d(vec4_namespaceObject,"normalize",(function(){return vec4_normalize})),__webpack_require__.d(vec4_namespaceObject,"dot",(function(){return vec4_dot})),__webpack_require__.d(vec4_namespaceObject,"lerp",(function(){return vec4_lerp})),__webpack_require__.d(vec4_namespaceObject,"random",(function(){return vec4_random})),__webpack_require__.d(vec4_namespaceObject,"transformMat4",(function(){return vec4_transformMat4})),__webpack_require__.d(vec4_namespaceObject,"transformQuat",(function(){return vec4_transformQuat})),__webpack_require__.d(vec4_namespaceObject,"str",(function(){return vec4_str})),__webpack_require__.d(vec4_namespaceObject,"exactEquals",(function(){return vec4_exactEquals})),__webpack_require__.d(vec4_namespaceObject,"equals",(function(){return vec4_equals})),__webpack_require__.d(vec4_namespaceObject,"sub",(function(){return vec4_sub})),__webpack_require__.d(vec4_namespaceObject,"mul",(function(){return vec4_mul})),__webpack_require__.d(vec4_namespaceObject,"div",(function(){return vec4_div})),__webpack_require__.d(vec4_namespaceObject,"dist",(function(){return vec4_dist})),__webpack_require__.d(vec4_namespaceObject,"sqrDist",(function(){return vec4_sqrDist})),__webpack_require__.d(vec4_namespaceObject,"len",(function(){return vec4_len})),__webpack_require__.d(vec4_namespaceObject,"sqrLen",(function(){return vec4_sqrLen})),__webpack_require__.d(vec4_namespaceObject,"forEach",(function(){return vec4_forEach}));var quat_namespaceObject={};__webpack_require__.r(quat_namespaceObject),__webpack_require__.d(quat_namespaceObject,"create",(function(){return quat_create})),__webpack_require__.d(quat_namespaceObject,"identity",(function(){return quat_identity})),__webpack_require__.d(quat_namespaceObject,"setAxisAngle",(function(){return setAxisAngle})),__webpack_require__.d(quat_namespaceObject,"getAxisAngle",(function(){return getAxisAngle})),__webpack_require__.d(quat_namespaceObject,"multiply",(function(){return quat_multiply})),__webpack_require__.d(quat_namespaceObject,"rotateX",(function(){return quat_rotateX})),__webpack_require__.d(quat_namespaceObject,"rotateY",(function(){return quat_rotateY})),__webpack_require__.d(quat_namespaceObject,"rotateZ",(function(){return quat_rotateZ})),__webpack_require__.d(quat_namespaceObject,"calculateW",(function(){return calculateW})),__webpack_require__.d(quat_namespaceObject,"slerp",(function(){return slerp})),__webpack_require__.d(quat_namespaceObject,"random",(function(){return quat_random})),__webpack_require__.d(quat_namespaceObject,"invert",(function(){return quat_invert})),__webpack_require__.d(quat_namespaceObject,"conjugate",(function(){return conjugate})),__webpack_require__.d(quat_namespaceObject,"fromMat3",(function(){return fromMat3})),__webpack_require__.d(quat_namespaceObject,"fromEuler",(function(){return fromEuler})),__webpack_require__.d(quat_namespaceObject,"str",(function(){return quat_str})),__webpack_require__.d(quat_namespaceObject,"clone",(function(){return quat_clone})),__webpack_require__.d(quat_namespaceObject,"fromValues",(function(){return quat_fromValues})),__webpack_require__.d(quat_namespaceObject,"copy",(function(){return quat_copy})),__webpack_require__.d(quat_namespaceObject,"set",(function(){return quat_set})),__webpack_require__.d(quat_namespaceObject,"add",(function(){return quat_add})),__webpack_require__.d(quat_namespaceObject,"mul",(function(){return quat_mul})),__webpack_require__.d(quat_namespaceObject,"scale",(function(){return quat_scale})),__webpack_require__.d(quat_namespaceObject,"dot",(function(){return quat_dot})),__webpack_require__.d(quat_namespaceObject,"lerp",(function(){return quat_lerp})),__webpack_require__.d(quat_namespaceObject,"length",(function(){return quat_length})),__webpack_require__.d(quat_namespaceObject,"len",(function(){return quat_len})),__webpack_require__.d(quat_namespaceObject,"squaredLength",(function(){return quat_squaredLength})),__webpack_require__.d(quat_namespaceObject,"sqrLen",(function(){return quat_sqrLen})),__webpack_require__.d(quat_namespaceObject,"normalize",(function(){return quat_normalize})),__webpack_require__.d(quat_namespaceObject,"exactEquals",(function(){return quat_exactEquals})),__webpack_require__.d(quat_namespaceObject,"equals",(function(){return quat_equals})),__webpack_require__.d(quat_namespaceObject,"rotationTo",(function(){return rotationTo})),__webpack_require__.d(quat_namespaceObject,"sqlerp",(function(){return sqlerp})),__webpack_require__.d(quat_namespaceObject,"setAxes",(function(){return setAxes}));var quat2_namespaceObject={};__webpack_require__.r(quat2_namespaceObject),__webpack_require__.d(quat2_namespaceObject,"create",(function(){return quat2_create})),__webpack_require__.d(quat2_namespaceObject,"clone",(function(){return quat2_clone})),__webpack_require__.d(quat2_namespaceObject,"fromValues",(function(){return quat2_fromValues})),__webpack_require__.d(quat2_namespaceObject,"fromRotationTranslationValues",(function(){return fromRotationTranslationValues})),__webpack_require__.d(quat2_namespaceObject,"fromRotationTranslation",(function(){return quat2_fromRotationTranslation})),__webpack_require__.d(quat2_namespaceObject,"fromTranslation",(function(){return quat2_fromTranslation})),__webpack_require__.d(quat2_namespaceObject,"fromRotation",(function(){return quat2_fromRotation})),__webpack_require__.d(quat2_namespaceObject,"fromMat4",(function(){return quat2_fromMat4})),__webpack_require__.d(quat2_namespaceObject,"copy",(function(){return quat2_copy})),__webpack_require__.d(quat2_namespaceObject,"identity",(function(){return quat2_identity})),__webpack_require__.d(quat2_namespaceObject,"set",(function(){return quat2_set})),__webpack_require__.d(quat2_namespaceObject,"getReal",(function(){return getReal})),__webpack_require__.d(quat2_namespaceObject,"getDual",(function(){return getDual})),__webpack_require__.d(quat2_namespaceObject,"setReal",(function(){return setReal})),__webpack_require__.d(quat2_namespaceObject,"setDual",(function(){return setDual})),__webpack_require__.d(quat2_namespaceObject,"getTranslation",(function(){return quat2_getTranslation})),__webpack_require__.d(quat2_namespaceObject,"translate",(function(){return quat2_translate})),__webpack_require__.d(quat2_namespaceObject,"rotateX",(function(){return quat2_rotateX})),__webpack_require__.d(quat2_namespaceObject,"rotateY",(function(){return quat2_rotateY})),__webpack_require__.d(quat2_namespaceObject,"rotateZ",(function(){return quat2_rotateZ})),__webpack_require__.d(quat2_namespaceObject,"rotateByQuatAppend",(function(){return rotateByQuatAppend})),__webpack_require__.d(quat2_namespaceObject,"rotateByQuatPrepend",(function(){return rotateByQuatPrepend})),__webpack_require__.d(quat2_namespaceObject,"rotateAroundAxis",(function(){return rotateAroundAxis})),__webpack_require__.d(quat2_namespaceObject,"add",(function(){return quat2_add})),__webpack_require__.d(quat2_namespaceObject,"multiply",(function(){return quat2_multiply})),__webpack_require__.d(quat2_namespaceObject,"mul",(function(){return quat2_mul})),__webpack_require__.d(quat2_namespaceObject,"scale",(function(){return quat2_scale})),__webpack_require__.d(quat2_namespaceObject,"dot",(function(){return quat2_dot})),__webpack_require__.d(quat2_namespaceObject,"lerp",(function(){return quat2_lerp})),__webpack_require__.d(quat2_namespaceObject,"invert",(function(){return quat2_invert})),__webpack_require__.d(quat2_namespaceObject,"conjugate",(function(){return quat2_conjugate})),__webpack_require__.d(quat2_namespaceObject,"length",(function(){return quat2_length})),__webpack_require__.d(quat2_namespaceObject,"len",(function(){return quat2_len})),__webpack_require__.d(quat2_namespaceObject,"squaredLength",(function(){return quat2_squaredLength})),__webpack_require__.d(quat2_namespaceObject,"sqrLen",(function(){return quat2_sqrLen})),__webpack_require__.d(quat2_namespaceObject,"normalize",(function(){return quat2_normalize})),__webpack_require__.d(quat2_namespaceObject,"str",(function(){return quat2_str})),__webpack_require__.d(quat2_namespaceObject,"exactEquals",(function(){return quat2_exactEquals})),__webpack_require__.d(quat2_namespaceObject,"equals",(function(){return quat2_equals}));var vec2_namespaceObject={};__webpack_require__.r(vec2_namespaceObject),__webpack_require__.d(vec2_namespaceObject,"create",(function(){return vec2_create})),__webpack_require__.d(vec2_namespaceObject,"clone",(function(){return vec2_clone})),__webpack_require__.d(vec2_namespaceObject,"fromValues",(function(){return vec2_fromValues})),__webpack_require__.d(vec2_namespaceObject,"copy",(function(){return vec2_copy})),__webpack_require__.d(vec2_namespaceObject,"set",(function(){return vec2_set})),__webpack_require__.d(vec2_namespaceObject,"add",(function(){return vec2_add})),__webpack_require__.d(vec2_namespaceObject,"subtract",(function(){return vec2_subtract})),__webpack_require__.d(vec2_namespaceObject,"multiply",(function(){return vec2_multiply})),__webpack_require__.d(vec2_namespaceObject,"divide",(function(){return vec2_divide})),__webpack_require__.d(vec2_namespaceObject,"ceil",(function(){return vec2_ceil})),__webpack_require__.d(vec2_namespaceObject,"floor",(function(){return vec2_floor})),__webpack_require__.d(vec2_namespaceObject,"min",(function(){return vec2_min})),__webpack_require__.d(vec2_namespaceObject,"max",(function(){return vec2_max})),__webpack_require__.d(vec2_namespaceObject,"round",(function(){return vec2_round})),__webpack_require__.d(vec2_namespaceObject,"scale",(function(){return vec2_scale})),__webpack_require__.d(vec2_namespaceObject,"scaleAndAdd",(function(){return vec2_scaleAndAdd})),__webpack_require__.d(vec2_namespaceObject,"distance",(function(){return vec2_distance})),__webpack_require__.d(vec2_namespaceObject,"squaredDistance",(function(){return vec2_squaredDistance})),__webpack_require__.d(vec2_namespaceObject,"length",(function(){return vec2_length})),__webpack_require__.d(vec2_namespaceObject,"squaredLength",(function(){return vec2_squaredLength})),__webpack_require__.d(vec2_namespaceObject,"negate",(function(){return vec2_negate})),__webpack_require__.d(vec2_namespaceObject,"inverse",(function(){return vec2_inverse})),__webpack_require__.d(vec2_namespaceObject,"normalize",(function(){return vec2_normalize})),__webpack_require__.d(vec2_namespaceObject,"dot",(function(){return vec2_dot})),__webpack_require__.d(vec2_namespaceObject,"cross",(function(){return vec2_cross})),__webpack_require__.d(vec2_namespaceObject,"lerp",(function(){return vec2_lerp})),__webpack_require__.d(vec2_namespaceObject,"random",(function(){return vec2_random})),__webpack_require__.d(vec2_namespaceObject,"transformMat2",(function(){return transformMat2})),__webpack_require__.d(vec2_namespaceObject,"transformMat2d",(function(){return transformMat2d})),__webpack_require__.d(vec2_namespaceObject,"transformMat3",(function(){return vec2_transformMat3})),__webpack_require__.d(vec2_namespaceObject,"transformMat4",(function(){return vec2_transformMat4})),__webpack_require__.d(vec2_namespaceObject,"rotate",(function(){return vec2_rotate})),__webpack_require__.d(vec2_namespaceObject,"angle",(function(){return vec2_angle})),__webpack_require__.d(vec2_namespaceObject,"str",(function(){return vec2_str})),__webpack_require__.d(vec2_namespaceObject,"exactEquals",(function(){return vec2_exactEquals})),__webpack_require__.d(vec2_namespaceObject,"equals",(function(){return vec2_equals})),__webpack_require__.d(vec2_namespaceObject,"len",(function(){return vec2_len})),__webpack_require__.d(vec2_namespaceObject,"sub",(function(){return vec2_sub})),__webpack_require__.d(vec2_namespaceObject,"mul",(function(){return vec2_mul})),__webpack_require__.d(vec2_namespaceObject,"div",(function(){return vec2_div})),__webpack_require__.d(vec2_namespaceObject,"dist",(function(){return vec2_dist})),__webpack_require__.d(vec2_namespaceObject,"sqrDist",(function(){return vec2_sqrDist})),__webpack_require__.d(vec2_namespaceObject,"sqrLen",(function(){return vec2_sqrLen})),__webpack_require__.d(vec2_namespaceObject,"forEach",(function(){return vec2_forEach}));var EPSILON=1e-6,ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,RANDOM=Math.random;function setMatrixArrayType(type){ARRAY_TYPE=type}var degree=Math.PI/180;function toRadian(a){return a*degree}function equals(a,b){return Math.abs(a-b)<=EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}function create(){var out=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0),out[0]=1,out[3]=1,out}function clone(a){var out=new ARRAY_TYPE(4);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out}function fromValues(m00,m01,m10,m11){var out=new ARRAY_TYPE(4);return out[0]=m00,out[1]=m01,out[2]=m10,out[3]=m11,out}function set(out,m00,m01,m10,m11){return out[0]=m00,out[1]=m01,out[2]=m10,out[3]=m11,out}function transpose(out,a){if(out===a){var a1=a[1];out[1]=a[2],out[2]=a1}else out[0]=a[0],out[1]=a[2],out[2]=a[1],out[3]=a[3];return out}function invert(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],det=a0*a3-a2*a1;return det?(det=1/det,out[0]=a3*det,out[1]=-a1*det,out[2]=-a2*det,out[3]=a0*det,out):null}function adjoint(out,a){var a0=a[0];return out[0]=a[3],out[1]=-a[1],out[2]=-a[2],out[3]=a0,out}function determinant(a){return a[0]*a[3]-a[2]*a[1]}function multiply(out,a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=a0*b0+a2*b1,out[1]=a1*b0+a3*b1,out[2]=a0*b2+a2*b3,out[3]=a1*b2+a3*b3,out}function rotate(out,a,rad){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],s=Math.sin(rad),c=Math.cos(rad);return out[0]=a0*c+a2*s,out[1]=a1*c+a3*s,out[2]=a0*-s+a2*c,out[3]=a1*-s+a3*c,out}function mat2_scale(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],v0=v[0],v1=v[1];return out[0]=a0*v0,out[1]=a1*v0,out[2]=a2*v1,out[3]=a3*v1,out}function fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=-s,out[3]=c,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=v[1],out}function str(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))}function LDU(L,D,U,a){return L[2]=a[2]/a[0],U[0]=a[0],U[1]=a[1],U[3]=a[3]-L[2]*U[1],[L,D,U]}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function mat2_equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out}var mul=multiply,sub=subtract;function mat2d_create(){var out=new ARRAY_TYPE(6);return ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0,out[4]=0,out[5]=0),out[0]=1,out[3]=1,out}function mat2d_clone(a){var out=new ARRAY_TYPE(6);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out}function mat2d_copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out}function mat2d_identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out}function mat2d_fromValues(a,b,c,d,tx,ty){var out=new ARRAY_TYPE(6);return out[0]=a,out[1]=b,out[2]=c,out[3]=d,out[4]=tx,out[5]=ty,out}function mat2d_set(out,a,b,c,d,tx,ty){return out[0]=a,out[1]=b,out[2]=c,out[3]=d,out[4]=tx,out[5]=ty,out}function mat2d_invert(out,a){var aa=a[0],ab=a[1],ac=a[2],ad=a[3],atx=a[4],aty=a[5],det=aa*ad-ab*ac;return det?(det=1/det,out[0]=ad*det,out[1]=-ab*det,out[2]=-ac*det,out[3]=aa*det,out[4]=(ac*aty-ad*atx)*det,out[5]=(ab*atx-aa*aty)*det,out):null}function mat2d_determinant(a){return a[0]*a[3]-a[1]*a[2]}function mat2d_multiply(out,a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5];return out[0]=a0*b0+a2*b1,out[1]=a1*b0+a3*b1,out[2]=a0*b2+a2*b3,out[3]=a1*b2+a3*b3,out[4]=a0*b4+a2*b5+a4,out[5]=a1*b4+a3*b5+a5,out}function mat2d_rotate(out,a,rad){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],s=Math.sin(rad),c=Math.cos(rad);return out[0]=a0*c+a2*s,out[1]=a1*c+a3*s,out[2]=a0*-s+a2*c,out[3]=a1*-s+a3*c,out[4]=a4,out[5]=a5,out}function mat2d_scale(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],v0=v[0],v1=v[1];return out[0]=a0*v0,out[1]=a1*v0,out[2]=a2*v1,out[3]=a3*v1,out[4]=a4,out[5]=a5,out}function translate(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],v0=v[0],v1=v[1];return out[0]=a0,out[1]=a1,out[2]=a2,out[3]=a3,out[4]=a0*v0+a2*v1+a4,out[5]=a1*v0+a3*v1+a5,out}function mat2d_fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=-s,out[3]=c,out[4]=0,out[5]=0,out}function mat2d_fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=v[1],out[4]=0,out[5]=0,out}function fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=v[0],out[5]=v[1],out}function mat2d_str(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"}function mat2d_frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)}function mat2d_add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out}function mat2d_subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out}function mat2d_multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out}function mat2d_multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out}function mat2d_exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]}function mat2d_equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))}var mat2d_mul=mat2d_multiply,mat2d_sub=mat2d_subtract;function mat3_create(){var out=new ARRAY_TYPE(9);return ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0,out[3]=0,out[5]=0,out[6]=0,out[7]=0),out[0]=1,out[4]=1,out[8]=1,out}function fromMat4(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[4],out[4]=a[5],out[5]=a[6],out[6]=a[8],out[7]=a[9],out[8]=a[10],out}function mat3_clone(a){var out=new ARRAY_TYPE(9);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function mat3_copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function mat3_fromValues(m00,m01,m02,m10,m11,m12,m20,m21,m22){var out=new ARRAY_TYPE(9);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out}function mat3_set(out,m00,m01,m02,m10,m11,m12,m20,m21,m22){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out}function mat3_identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function mat3_transpose(out,a){if(out===a){var a01=a[1],a02=a[2],a12=a[5];out[1]=a[3],out[2]=a[6],out[3]=a01,out[5]=a[7],out[6]=a02,out[7]=a12}else out[0]=a[0],out[1]=a[3],out[2]=a[6],out[3]=a[1],out[4]=a[4],out[5]=a[7],out[6]=a[2],out[7]=a[5],out[8]=a[8];return out}function mat3_invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b01=a22*a11-a12*a21,b11=-a22*a10+a12*a20,b21=a21*a10-a11*a20,det=a00*b01+a01*b11+a02*b21;return det?(det=1/det,out[0]=b01*det,out[1]=(-a22*a01+a02*a21)*det,out[2]=(a12*a01-a02*a11)*det,out[3]=b11*det,out[4]=(a22*a00-a02*a20)*det,out[5]=(-a12*a00+a02*a10)*det,out[6]=b21*det,out[7]=(-a21*a00+a01*a20)*det,out[8]=(a11*a00-a01*a10)*det,out):null}function mat3_adjoint(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return out[0]=a11*a22-a12*a21,out[1]=a02*a21-a01*a22,out[2]=a01*a12-a02*a11,out[3]=a12*a20-a10*a22,out[4]=a00*a22-a02*a20,out[5]=a02*a10-a00*a12,out[6]=a10*a21-a11*a20,out[7]=a01*a20-a00*a21,out[8]=a00*a11-a01*a10,out}function mat3_determinant(a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return a00*(a22*a11-a12*a21)+a01*(-a22*a10+a12*a20)+a02*(a21*a10-a11*a20)}function mat3_multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b00=b[0],b01=b[1],b02=b[2],b10=b[3],b11=b[4],b12=b[5],b20=b[6],b21=b[7],b22=b[8];return out[0]=b00*a00+b01*a10+b02*a20,out[1]=b00*a01+b01*a11+b02*a21,out[2]=b00*a02+b01*a12+b02*a22,out[3]=b10*a00+b11*a10+b12*a20,out[4]=b10*a01+b11*a11+b12*a21,out[5]=b10*a02+b11*a12+b12*a22,out[6]=b20*a00+b21*a10+b22*a20,out[7]=b20*a01+b21*a11+b22*a21,out[8]=b20*a02+b21*a12+b22*a22,out}function mat3_translate(out,a,v){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],x=v[0],y=v[1];return out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a10,out[4]=a11,out[5]=a12,out[6]=x*a00+y*a10+a20,out[7]=x*a01+y*a11+a21,out[8]=x*a02+y*a12+a22,out}function mat3_rotate(out,a,rad){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],s=Math.sin(rad),c=Math.cos(rad);return out[0]=c*a00+s*a10,out[1]=c*a01+s*a11,out[2]=c*a02+s*a12,out[3]=c*a10-s*a00,out[4]=c*a11-s*a01,out[5]=c*a12-s*a02,out[6]=a20,out[7]=a21,out[8]=a22,out}function mat3_scale(out,a,v){var x=v[0],y=v[1];return out[0]=x*a[0],out[1]=x*a[1],out[2]=x*a[2],out[3]=y*a[3],out[4]=y*a[4],out[5]=y*a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function mat3_fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=v[0],out[7]=v[1],out[8]=1,out}function mat3_fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=-s,out[4]=c,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function mat3_fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=v[1],out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function fromMat2d(out,a){return out[0]=a[0],out[1]=a[1],out[2]=0,out[3]=a[2],out[4]=a[3],out[5]=0,out[6]=a[4],out[7]=a[5],out[8]=1,out}function fromQuat(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[3]=yx-wz,out[6]=zx+wy,out[1]=yx+wz,out[4]=1-xx-zz,out[7]=zy-wx,out[2]=zx-wy,out[5]=zy+wx,out[8]=1-xx-yy,out}function normalFromMat4(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a12*b08-a10*b11-a13*b07)*det,out[2]=(a10*b10-a11*b08+a13*b06)*det,out[3]=(a02*b10-a01*b11-a03*b09)*det,out[4]=(a00*b11-a02*b08+a03*b07)*det,out[5]=(a01*b08-a00*b10-a03*b06)*det,out[6]=(a31*b05-a32*b04+a33*b03)*det,out[7]=(a32*b02-a30*b05-a33*b01)*det,out[8]=(a30*b04-a31*b02+a33*b00)*det,out):null}function projection(out,width,height){return out[0]=2/width,out[1]=0,out[2]=0,out[3]=0,out[4]=-2/height,out[5]=0,out[6]=-1,out[7]=1,out[8]=1,out}function mat3_str(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"}function mat3_frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))}function mat3_add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out}function mat3_subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out}function mat3_multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out}function mat3_multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out}function mat3_exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]}function mat3_equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))}var mat3_mul=mat3_multiply,mat3_sub=mat3_subtract;function mat4_create(){var out=new ARRAY_TYPE(16);return ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[11]=0,out[12]=0,out[13]=0,out[14]=0),out[0]=1,out[5]=1,out[10]=1,out[15]=1,out}function mat4_clone(a){var out=new ARRAY_TYPE(16);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function mat4_copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function mat4_fromValues(m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){var out=new ARRAY_TYPE(16);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,out}function mat4_set(out,m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,out}function mat4_identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function mat4_transpose(out,a){if(out===a){var a01=a[1],a02=a[2],a03=a[3],a12=a[6],a13=a[7],a23=a[11];out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a01,out[6]=a[9],out[7]=a[13],out[8]=a02,out[9]=a12,out[11]=a[14],out[12]=a03,out[13]=a13,out[14]=a23}else out[0]=a[0],out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a[1],out[5]=a[5],out[6]=a[9],out[7]=a[13],out[8]=a[2],out[9]=a[6],out[10]=a[10],out[11]=a[14],out[12]=a[3],out[13]=a[7],out[14]=a[11],out[15]=a[15];return out}function mat4_invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a02*b10-a01*b11-a03*b09)*det,out[2]=(a31*b05-a32*b04+a33*b03)*det,out[3]=(a22*b04-a21*b05-a23*b03)*det,out[4]=(a12*b08-a10*b11-a13*b07)*det,out[5]=(a00*b11-a02*b08+a03*b07)*det,out[6]=(a32*b02-a30*b05-a33*b01)*det,out[7]=(a20*b05-a22*b02+a23*b01)*det,out[8]=(a10*b10-a11*b08+a13*b06)*det,out[9]=(a01*b08-a00*b10-a03*b06)*det,out[10]=(a30*b04-a31*b02+a33*b00)*det,out[11]=(a21*b02-a20*b04-a23*b00)*det,out[12]=(a11*b07-a10*b09-a12*b06)*det,out[13]=(a00*b09-a01*b07+a02*b06)*det,out[14]=(a31*b01-a30*b03-a32*b00)*det,out[15]=(a20*b03-a21*b01+a22*b00)*det,out):null}function mat4_adjoint(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return out[0]=a11*(a22*a33-a23*a32)-a21*(a12*a33-a13*a32)+a31*(a12*a23-a13*a22),out[1]=-(a01*(a22*a33-a23*a32)-a21*(a02*a33-a03*a32)+a31*(a02*a23-a03*a22)),out[2]=a01*(a12*a33-a13*a32)-a11*(a02*a33-a03*a32)+a31*(a02*a13-a03*a12),out[3]=-(a01*(a12*a23-a13*a22)-a11*(a02*a23-a03*a22)+a21*(a02*a13-a03*a12)),out[4]=-(a10*(a22*a33-a23*a32)-a20*(a12*a33-a13*a32)+a30*(a12*a23-a13*a22)),out[5]=a00*(a22*a33-a23*a32)-a20*(a02*a33-a03*a32)+a30*(a02*a23-a03*a22),out[6]=-(a00*(a12*a33-a13*a32)-a10*(a02*a33-a03*a32)+a30*(a02*a13-a03*a12)),out[7]=a00*(a12*a23-a13*a22)-a10*(a02*a23-a03*a22)+a20*(a02*a13-a03*a12),out[8]=a10*(a21*a33-a23*a31)-a20*(a11*a33-a13*a31)+a30*(a11*a23-a13*a21),out[9]=-(a00*(a21*a33-a23*a31)-a20*(a01*a33-a03*a31)+a30*(a01*a23-a03*a21)),out[10]=a00*(a11*a33-a13*a31)-a10*(a01*a33-a03*a31)+a30*(a01*a13-a03*a11),out[11]=-(a00*(a11*a23-a13*a21)-a10*(a01*a23-a03*a21)+a20*(a01*a13-a03*a11)),out[12]=-(a10*(a21*a32-a22*a31)-a20*(a11*a32-a12*a31)+a30*(a11*a22-a12*a21)),out[13]=a00*(a21*a32-a22*a31)-a20*(a01*a32-a02*a31)+a30*(a01*a22-a02*a21),out[14]=-(a00*(a11*a32-a12*a31)-a10*(a01*a32-a02*a31)+a30*(a01*a12-a02*a11)),out[15]=a00*(a11*a22-a12*a21)-a10*(a01*a22-a02*a21)+a20*(a01*a12-a02*a11),out}function mat4_determinant(a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return(a00*a11-a01*a10)*(a22*a33-a23*a32)-(a00*a12-a02*a10)*(a21*a33-a23*a31)+(a00*a13-a03*a10)*(a21*a32-a22*a31)+(a01*a12-a02*a11)*(a20*a33-a23*a30)-(a01*a13-a03*a11)*(a20*a32-a22*a30)+(a02*a13-a03*a12)*(a20*a31-a21*a30)}function mat4_multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=b0*a00+b1*a10+b2*a20+b3*a30,out[1]=b0*a01+b1*a11+b2*a21+b3*a31,out[2]=b0*a02+b1*a12+b2*a22+b3*a32,out[3]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[4],b1=b[5],b2=b[6],b3=b[7],out[4]=b0*a00+b1*a10+b2*a20+b3*a30,out[5]=b0*a01+b1*a11+b2*a21+b3*a31,out[6]=b0*a02+b1*a12+b2*a22+b3*a32,out[7]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[8],b1=b[9],b2=b[10],b3=b[11],out[8]=b0*a00+b1*a10+b2*a20+b3*a30,out[9]=b0*a01+b1*a11+b2*a21+b3*a31,out[10]=b0*a02+b1*a12+b2*a22+b3*a32,out[11]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[12],b1=b[13],b2=b[14],b3=b[15],out[12]=b0*a00+b1*a10+b2*a20+b3*a30,out[13]=b0*a01+b1*a11+b2*a21+b3*a31,out[14]=b0*a02+b1*a12+b2*a22+b3*a32,out[15]=b0*a03+b1*a13+b2*a23+b3*a33,out}function mat4_translate(out,a,v){var x=v[0],y=v[1],z=v[2],a00=void 0,a01=void 0,a02=void 0,a03=void 0,a10=void 0,a11=void 0,a12=void 0,a13=void 0,a20=void 0,a21=void 0,a22=void 0,a23=void 0;return a===out?(out[12]=a[0]*x+a[4]*y+a[8]*z+a[12],out[13]=a[1]*x+a[5]*y+a[9]*z+a[13],out[14]=a[2]*x+a[6]*y+a[10]*z+a[14],out[15]=a[3]*x+a[7]*y+a[11]*z+a[15]):(a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a03,out[4]=a10,out[5]=a11,out[6]=a12,out[7]=a13,out[8]=a20,out[9]=a21,out[10]=a22,out[11]=a23,out[12]=a00*x+a10*y+a20*z+a[12],out[13]=a01*x+a11*y+a21*z+a[13],out[14]=a02*x+a12*y+a22*z+a[14],out[15]=a03*x+a13*y+a23*z+a[15]),out}function mat4_scale(out,a,v){var x=v[0],y=v[1],z=v[2];return out[0]=a[0]*x,out[1]=a[1]*x,out[2]=a[2]*x,out[3]=a[3]*x,out[4]=a[4]*y,out[5]=a[5]*y,out[6]=a[6]*y,out[7]=a[7]*y,out[8]=a[8]*z,out[9]=a[9]*z,out[10]=a[10]*z,out[11]=a[11]*z,out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function mat4_rotate(out,a,rad,axis){var s,c,t,a00,a01,a02,a03,a10,a11,a12,a13,a20,a21,a22,a23,b00,b01,b02,b10,b11,b12,b20,b21,b22,x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z);return len<EPSILON?null:(x*=len=1/len,y*=len,z*=len,s=Math.sin(rad),t=1-(c=Math.cos(rad)),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],b00=x*x*t+c,b01=y*x*t+z*s,b02=z*x*t-y*s,b10=x*y*t-z*s,b11=y*y*t+c,b12=z*y*t+x*s,b20=x*z*t+y*s,b21=y*z*t-x*s,b22=z*z*t+c,out[0]=a00*b00+a10*b01+a20*b02,out[1]=a01*b00+a11*b01+a21*b02,out[2]=a02*b00+a12*b01+a22*b02,out[3]=a03*b00+a13*b01+a23*b02,out[4]=a00*b10+a10*b11+a20*b12,out[5]=a01*b10+a11*b11+a21*b12,out[6]=a02*b10+a12*b11+a22*b12,out[7]=a03*b10+a13*b11+a23*b12,out[8]=a00*b20+a10*b21+a20*b22,out[9]=a01*b20+a11*b21+a21*b22,out[10]=a02*b20+a12*b21+a22*b22,out[11]=a03*b20+a13*b21+a23*b22,a!==out&&(out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out)}function rotateX(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[4]=a10*c+a20*s,out[5]=a11*c+a21*s,out[6]=a12*c+a22*s,out[7]=a13*c+a23*s,out[8]=a20*c-a10*s,out[9]=a21*c-a11*s,out[10]=a22*c-a12*s,out[11]=a23*c-a13*s,out}function rotateY(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c-a20*s,out[1]=a01*c-a21*s,out[2]=a02*c-a22*s,out[3]=a03*c-a23*s,out[8]=a00*s+a20*c,out[9]=a01*s+a21*c,out[10]=a02*s+a22*c,out[11]=a03*s+a23*c,out}function rotateZ(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7];return a!==out&&(out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c+a10*s,out[1]=a01*c+a11*s,out[2]=a02*c+a12*s,out[3]=a03*c+a13*s,out[4]=a10*c-a00*s,out[5]=a11*c-a01*s,out[6]=a12*c-a02*s,out[7]=a13*c-a03*s,out}function mat4_fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function mat4_fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=v[1],out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=v[2],out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function mat4_fromRotation(out,rad,axis){var s,c,t,x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z);return len<EPSILON?null:(x*=len=1/len,y*=len,z*=len,s=Math.sin(rad),t=1-(c=Math.cos(rad)),out[0]=x*x*t+c,out[1]=y*x*t+z*s,out[2]=z*x*t-y*s,out[3]=0,out[4]=x*y*t-z*s,out[5]=y*y*t+c,out[6]=z*y*t+x*s,out[7]=0,out[8]=x*z*t+y*s,out[9]=y*z*t-x*s,out[10]=z*z*t+c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out)}function fromXRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=c,out[6]=s,out[7]=0,out[8]=0,out[9]=-s,out[10]=c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromYRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=0,out[2]=-s,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=s,out[9]=0,out[10]=c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromZRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=0,out[4]=-s,out[5]=c,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromRotationTranslation(out,q,v){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-(yy+zz),out[1]=xy+wz,out[2]=xz-wy,out[3]=0,out[4]=xy-wz,out[5]=1-(xx+zz),out[6]=yz+wx,out[7]=0,out[8]=xz+wy,out[9]=yz-wx,out[10]=1-(xx+yy),out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function fromQuat2(out,a){var translation=new ARRAY_TYPE(3),bx=-a[0],by=-a[1],bz=-a[2],bw=a[3],ax=a[4],ay=a[5],az=a[6],aw=a[7],magnitude=bx*bx+by*by+bz*bz+bw*bw;return magnitude>0?(translation[0]=2*(ax*bw+aw*bx+ay*bz-az*by)/magnitude,translation[1]=2*(ay*bw+aw*by+az*bx-ax*bz)/magnitude,translation[2]=2*(az*bw+aw*bz+ax*by-ay*bx)/magnitude):(translation[0]=2*(ax*bw+aw*bx+ay*bz-az*by),translation[1]=2*(ay*bw+aw*by+az*bx-ax*bz),translation[2]=2*(az*bw+aw*bz+ax*by-ay*bx)),fromRotationTranslation(out,a,translation),out}function getTranslation(out,mat){return out[0]=mat[12],out[1]=mat[13],out[2]=mat[14],out}function getScaling(out,mat){var m11=mat[0],m12=mat[1],m13=mat[2],m21=mat[4],m22=mat[5],m23=mat[6],m31=mat[8],m32=mat[9],m33=mat[10];return out[0]=Math.sqrt(m11*m11+m12*m12+m13*m13),out[1]=Math.sqrt(m21*m21+m22*m22+m23*m23),out[2]=Math.sqrt(m31*m31+m32*m32+m33*m33),out}function getRotation(out,mat){var trace=mat[0]+mat[5]+mat[10],S=0;return trace>0?(S=2*Math.sqrt(trace+1),out[3]=.25*S,out[0]=(mat[6]-mat[9])/S,out[1]=(mat[8]-mat[2])/S,out[2]=(mat[1]-mat[4])/S):mat[0]>mat[5]&&mat[0]>mat[10]?(S=2*Math.sqrt(1+mat[0]-mat[5]-mat[10]),out[3]=(mat[6]-mat[9])/S,out[0]=.25*S,out[1]=(mat[1]+mat[4])/S,out[2]=(mat[8]+mat[2])/S):mat[5]>mat[10]?(S=2*Math.sqrt(1+mat[5]-mat[0]-mat[10]),out[3]=(mat[8]-mat[2])/S,out[0]=(mat[1]+mat[4])/S,out[1]=.25*S,out[2]=(mat[6]+mat[9])/S):(S=2*Math.sqrt(1+mat[10]-mat[0]-mat[5]),out[3]=(mat[1]-mat[4])/S,out[0]=(mat[8]+mat[2])/S,out[1]=(mat[6]+mat[9])/S,out[2]=.25*S),out}function fromRotationTranslationScale(out,q,v,s){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2,sx=s[0],sy=s[1],sz=s[2];return out[0]=(1-(yy+zz))*sx,out[1]=(xy+wz)*sx,out[2]=(xz-wy)*sx,out[3]=0,out[4]=(xy-wz)*sy,out[5]=(1-(xx+zz))*sy,out[6]=(yz+wx)*sy,out[7]=0,out[8]=(xz+wy)*sz,out[9]=(yz-wx)*sz,out[10]=(1-(xx+yy))*sz,out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function fromRotationTranslationScaleOrigin(out,q,v,s,o){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2,sx=s[0],sy=s[1],sz=s[2],ox=o[0],oy=o[1],oz=o[2],out0=(1-(yy+zz))*sx,out1=(xy+wz)*sx,out2=(xz-wy)*sx,out4=(xy-wz)*sy,out5=(1-(xx+zz))*sy,out6=(yz+wx)*sy,out8=(xz+wy)*sz,out9=(yz-wx)*sz,out10=(1-(xx+yy))*sz;return out[0]=out0,out[1]=out1,out[2]=out2,out[3]=0,out[4]=out4,out[5]=out5,out[6]=out6,out[7]=0,out[8]=out8,out[9]=out9,out[10]=out10,out[11]=0,out[12]=v[0]+ox-(out0*ox+out4*oy+out8*oz),out[13]=v[1]+oy-(out1*ox+out5*oy+out9*oz),out[14]=v[2]+oz-(out2*ox+out6*oy+out10*oz),out[15]=1,out}function mat4_fromQuat(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[1]=yx+wz,out[2]=zx-wy,out[3]=0,out[4]=yx-wz,out[5]=1-xx-zz,out[6]=zy+wx,out[7]=0,out[8]=zx+wy,out[9]=zy-wx,out[10]=1-xx-yy,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function frustum(out,left,right,bottom,top,near,far){var rl=1/(right-left),tb=1/(top-bottom),nf=1/(near-far);return out[0]=2*near*rl,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=2*near*tb,out[6]=0,out[7]=0,out[8]=(right+left)*rl,out[9]=(top+bottom)*tb,out[10]=(far+near)*nf,out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near*2*nf,out[15]=0,out}function perspective(out,fovy,aspect,near,far){var f=1/Math.tan(fovy/2),nf=void 0;return out[0]=f/aspect,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=f,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[11]=-1,out[12]=0,out[13]=0,out[15]=0,null!=far&&far!==1/0?(nf=1/(near-far),out[10]=(far+near)*nf,out[14]=2*far*near*nf):(out[10]=-1,out[14]=-2*near),out}function perspectiveFromFieldOfView(out,fov,near,far){var upTan=Math.tan(fov.upDegrees*Math.PI/180),downTan=Math.tan(fov.downDegrees*Math.PI/180),leftTan=Math.tan(fov.leftDegrees*Math.PI/180),rightTan=Math.tan(fov.rightDegrees*Math.PI/180),xScale=2/(leftTan+rightTan),yScale=2/(upTan+downTan);return out[0]=xScale,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=yScale,out[6]=0,out[7]=0,out[8]=-(leftTan-rightTan)*xScale*.5,out[9]=(upTan-downTan)*yScale*.5,out[10]=far/(near-far),out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near/(near-far),out[15]=0,out}function ortho(out,left,right,bottom,top,near,far){var lr=1/(left-right),bt=1/(bottom-top),nf=1/(near-far);return out[0]=-2*lr,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=-2*bt,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=2*nf,out[11]=0,out[12]=(left+right)*lr,out[13]=(top+bottom)*bt,out[14]=(far+near)*nf,out[15]=1,out}function lookAt(out,eye,center,up){var x0=void 0,x1=void 0,x2=void 0,y0=void 0,y1=void 0,y2=void 0,z0=void 0,z1=void 0,z2=void 0,len=void 0,eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],centerx=center[0],centery=center[1],centerz=center[2];return Math.abs(eyex-centerx)<EPSILON&&Math.abs(eyey-centery)<EPSILON&&Math.abs(eyez-centerz)<EPSILON?mat4_identity(out):(z0=eyex-centerx,z1=eyey-centery,z2=eyez-centerz,x0=upy*(z2*=len=1/Math.sqrt(z0*z0+z1*z1+z2*z2))-upz*(z1*=len),x1=upz*(z0*=len)-upx*z2,x2=upx*z1-upy*z0,(len=Math.sqrt(x0*x0+x1*x1+x2*x2))?(x0*=len=1/len,x1*=len,x2*=len):(x0=0,x1=0,x2=0),y0=z1*x2-z2*x1,y1=z2*x0-z0*x2,y2=z0*x1-z1*x0,(len=Math.sqrt(y0*y0+y1*y1+y2*y2))?(y0*=len=1/len,y1*=len,y2*=len):(y0=0,y1=0,y2=0),out[0]=x0,out[1]=y0,out[2]=z0,out[3]=0,out[4]=x1,out[5]=y1,out[6]=z1,out[7]=0,out[8]=x2,out[9]=y2,out[10]=z2,out[11]=0,out[12]=-(x0*eyex+x1*eyey+x2*eyez),out[13]=-(y0*eyex+y1*eyey+y2*eyez),out[14]=-(z0*eyex+z1*eyey+z2*eyez),out[15]=1,out)}function targetTo(out,eye,target,up){var eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],z0=eyex-target[0],z1=eyey-target[1],z2=eyez-target[2],len=z0*z0+z1*z1+z2*z2;len>0&&(z0*=len=1/Math.sqrt(len),z1*=len,z2*=len);var x0=upy*z2-upz*z1,x1=upz*z0-upx*z2,x2=upx*z1-upy*z0;return(len=x0*x0+x1*x1+x2*x2)>0&&(x0*=len=1/Math.sqrt(len),x1*=len,x2*=len),out[0]=x0,out[1]=x1,out[2]=x2,out[3]=0,out[4]=z1*x2-z2*x1,out[5]=z2*x0-z0*x2,out[6]=z0*x1-z1*x0,out[7]=0,out[8]=z0,out[9]=z1,out[10]=z2,out[11]=0,out[12]=eyex,out[13]=eyey,out[14]=eyez,out[15]=1,out}function mat4_str(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function mat4_frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))}function mat4_add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out[9]=a[9]+b[9],out[10]=a[10]+b[10],out[11]=a[11]+b[11],out[12]=a[12]+b[12],out[13]=a[13]+b[13],out[14]=a[14]+b[14],out[15]=a[15]+b[15],out}function mat4_subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out[9]=a[9]-b[9],out[10]=a[10]-b[10],out[11]=a[11]-b[11],out[12]=a[12]-b[12],out[13]=a[13]-b[13],out[14]=a[14]-b[14],out[15]=a[15]-b[15],out}function mat4_multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out[9]=a[9]*b,out[10]=a[10]*b,out[11]=a[11]*b,out[12]=a[12]*b,out[13]=a[13]*b,out[14]=a[14]*b,out[15]=a[15]*b,out}function mat4_multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out[9]=a[9]+b[9]*scale,out[10]=a[10]+b[10]*scale,out[11]=a[11]+b[11]*scale,out[12]=a[12]+b[12]*scale,out[13]=a[13]+b[13]*scale,out[14]=a[14]+b[14]*scale,out[15]=a[15]+b[15]*scale,out}function mat4_exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function mat4_equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],a9=a[9],a10=a[10],a11=a[11],a12=a[12],a13=a[13],a14=a[14],a15=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8],b9=b[9],b10=b[10],b11=b[11],b12=b[12],b13=b[13],b14=b[14],b15=b[15];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))&&Math.abs(a9-b9)<=EPSILON*Math.max(1,Math.abs(a9),Math.abs(b9))&&Math.abs(a10-b10)<=EPSILON*Math.max(1,Math.abs(a10),Math.abs(b10))&&Math.abs(a11-b11)<=EPSILON*Math.max(1,Math.abs(a11),Math.abs(b11))&&Math.abs(a12-b12)<=EPSILON*Math.max(1,Math.abs(a12),Math.abs(b12))&&Math.abs(a13-b13)<=EPSILON*Math.max(1,Math.abs(a13),Math.abs(b13))&&Math.abs(a14-b14)<=EPSILON*Math.max(1,Math.abs(a14),Math.abs(b14))&&Math.abs(a15-b15)<=EPSILON*Math.max(1,Math.abs(a15),Math.abs(b15))}var mat4_mul=mat4_multiply,mat4_sub=mat4_subtract;function vec3_create(){var out=new ARRAY_TYPE(3);return ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0),out}function vec3_clone(a){var out=new ARRAY_TYPE(3);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out}function vec3_length(a){var x=a[0],y=a[1],z=a[2];return Math.sqrt(x*x+y*y+z*z)}function vec3_fromValues(x,y,z){var out=new ARRAY_TYPE(3);return out[0]=x,out[1]=y,out[2]=z,out}function vec3_copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out}function vec3_set(out,x,y,z){return out[0]=x,out[1]=y,out[2]=z,out}function vec3_add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out}function vec3_subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out}function vec3_multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out}function ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out[2]=Math.ceil(a[2]),out}function floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out[2]=Math.floor(a[2]),out}function min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out}function max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out}function round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out[2]=Math.round(a[2]),out}function vec3_scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out}function scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return Math.sqrt(x*x+y*y+z*z)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return x*x+y*y+z*z}function squaredLength(a){var x=a[0],y=a[1],z=a[2];return x*x+y*y+z*z}function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out}function inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out}function normalize(out,a){var x=a[0],y=a[1],z=a[2],len=x*x+y*y+z*z;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len,out[2]=a[2]*len),out}function vec3_dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cross(out,a,b){var ax=a[0],ay=a[1],az=a[2],bx=b[0],by=b[1],bz=b[2];return out[0]=ay*bz-az*by,out[1]=az*bx-ax*bz,out[2]=ax*by-ay*bx,out}function lerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out}function hermite(out,a,b,c,d,t){var factorTimes2=t*t,factor1=factorTimes2*(2*t-3)+1,factor2=factorTimes2*(t-2)+t,factor3=factorTimes2*(t-1),factor4=factorTimes2*(3-2*t);return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out}function bezier(out,a,b,c,d,t){var inverseFactor=1-t,inverseFactorTimesTwo=inverseFactor*inverseFactor,factorTimes2=t*t,factor1=inverseFactorTimesTwo*inverseFactor,factor2=3*t*inverseFactorTimesTwo,factor3=3*factorTimes2*inverseFactor,factor4=factorTimes2*t;return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out}function random(out,scale){scale=scale||1;var r=2*RANDOM()*Math.PI,z=2*RANDOM()-1,zScale=Math.sqrt(1-z*z)*scale;return out[0]=Math.cos(r)*zScale,out[1]=Math.sin(r)*zScale,out[2]=z*scale,out}function transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=m[3]*x+m[7]*y+m[11]*z+m[15];return w=w||1,out[0]=(m[0]*x+m[4]*y+m[8]*z+m[12])/w,out[1]=(m[1]*x+m[5]*y+m[9]*z+m[13])/w,out[2]=(m[2]*x+m[6]*y+m[10]*z+m[14])/w,out}function transformMat3(out,a,m){var x=a[0],y=a[1],z=a[2];return out[0]=x*m[0]+y*m[3]+z*m[6],out[1]=x*m[1]+y*m[4]+z*m[7],out[2]=x*m[2]+y*m[5]+z*m[8],out}function transformQuat(out,a,q){var qx=q[0],qy=q[1],qz=q[2],qw=q[3],x=a[0],y=a[1],z=a[2],uvx=qy*z-qz*y,uvy=qz*x-qx*z,uvz=qx*y-qy*x,uuvx=qy*uvz-qz*uvy,uuvy=qz*uvx-qx*uvz,uuvz=qx*uvy-qy*uvx,w2=2*qw;return uvx*=w2,uvy*=w2,uvz*=w2,uuvx*=2,uuvy*=2,uuvz*=2,out[0]=x+uvx+uuvx,out[1]=y+uvy+uuvy,out[2]=z+uvz+uuvz,out}function vec3_rotateX(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0],r[1]=p[1]*Math.cos(c)-p[2]*Math.sin(c),r[2]=p[1]*Math.sin(c)+p[2]*Math.cos(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function vec3_rotateY(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[2]*Math.sin(c)+p[0]*Math.cos(c),r[1]=p[1],r[2]=p[2]*Math.cos(c)-p[0]*Math.sin(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function vec3_rotateZ(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0]*Math.cos(c)-p[1]*Math.sin(c),r[1]=p[0]*Math.sin(c)+p[1]*Math.cos(c),r[2]=p[2],out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function angle(a,b){var tempA=vec3_fromValues(a[0],a[1],a[2]),tempB=vec3_fromValues(b[0],b[1],b[2]);normalize(tempA,tempA),normalize(tempB,tempB);var cosine=vec3_dot(tempA,tempB);return cosine>1?0:cosine<-1?Math.PI:Math.acos(cosine)}function vec3_str(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"}function vec3_exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]}function vec3_equals(a,b){var a0=a[0],a1=a[1],a2=a[2],b0=b[0],b1=b[1],b2=b[2];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))}var vec,vec3_sub=vec3_subtract,vec3_mul=vec3_multiply,div=divide,dist=distance,sqrDist=squaredDistance,vec3_len=vec3_length,sqrLen=squaredLength,forEach=(vec=vec3_create(),function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=3),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2];return a});function vec4_create(){var out=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0,out[3]=0),out}function vec4_clone(a){var out=new ARRAY_TYPE(4);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function vec4_fromValues(x,y,z,w){var out=new ARRAY_TYPE(4);return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out}function vec4_copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function vec4_set(out,x,y,z,w){return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out}function vec4_add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out}function vec4_subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out}function vec4_multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out[3]=a[3]*b[3],out}function vec4_divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out[3]=a[3]/b[3],out}function vec4_ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out[2]=Math.ceil(a[2]),out[3]=Math.ceil(a[3]),out}function vec4_floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out[2]=Math.floor(a[2]),out[3]=Math.floor(a[3]),out}function vec4_min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out[3]=Math.min(a[3],b[3]),out}function vec4_max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out[3]=Math.max(a[3],b[3]),out}function vec4_round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out[2]=Math.round(a[2]),out[3]=Math.round(a[3]),out}function vec4_scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out}function vec4_scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out}function vec4_distance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2],w=b[3]-a[3];return Math.sqrt(x*x+y*y+z*z+w*w)}function vec4_squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2],w=b[3]-a[3];return x*x+y*y+z*z+w*w}function vec4_length(a){var x=a[0],y=a[1],z=a[2],w=a[3];return Math.sqrt(x*x+y*y+z*z+w*w)}function vec4_squaredLength(a){var x=a[0],y=a[1],z=a[2],w=a[3];return x*x+y*y+z*z+w*w}function vec4_negate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=-a[3],out}function vec4_inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out[3]=1/a[3],out}function vec4_normalize(out,a){var x=a[0],y=a[1],z=a[2],w=a[3],len=x*x+y*y+z*z+w*w;return len>0&&(len=1/Math.sqrt(len),out[0]=x*len,out[1]=y*len,out[2]=z*len,out[3]=w*len),out}function vec4_dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function vec4_lerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2],aw=a[3];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out[3]=aw+t*(b[3]-aw),out}function vec4_random(out,scale){var v1,v2,v3,v4,s1,s2;scale=scale||1;do{s1=(v1=2*RANDOM()-1)*v1+(v2=2*RANDOM()-1)*v2}while(s1>=1);do{s2=(v3=2*RANDOM()-1)*v3+(v4=2*RANDOM()-1)*v4}while(s2>=1);var d=Math.sqrt((1-s1)/s2);return out[0]=scale*v1,out[1]=scale*v2,out[2]=scale*v3*d,out[3]=scale*v4*d,out}function vec4_transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=a[3];return out[0]=m[0]*x+m[4]*y+m[8]*z+m[12]*w,out[1]=m[1]*x+m[5]*y+m[9]*z+m[13]*w,out[2]=m[2]*x+m[6]*y+m[10]*z+m[14]*w,out[3]=m[3]*x+m[7]*y+m[11]*z+m[15]*w,out}function vec4_transformQuat(out,a,q){var x=a[0],y=a[1],z=a[2],qx=q[0],qy=q[1],qz=q[2],qw=q[3],ix=qw*x+qy*z-qz*y,iy=qw*y+qz*x-qx*z,iz=qw*z+qx*y-qy*x,iw=-qx*x-qy*y-qz*z;return out[0]=ix*qw+iw*-qx+iy*-qz-iz*-qy,out[1]=iy*qw+iw*-qy+iz*-qx-ix*-qz,out[2]=iz*qw+iw*-qz+ix*-qy-iy*-qx,out[3]=a[3],out}function vec4_str(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function vec4_exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function vec4_equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))}var vec4_sub=vec4_subtract,vec4_mul=vec4_multiply,vec4_div=vec4_divide,vec4_dist=vec4_distance,vec4_sqrDist=vec4_squaredDistance,vec4_len=vec4_length,vec4_sqrLen=vec4_squaredLength,vec4_forEach=function(){var vec=vec4_create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=4),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],vec[3]=a[i+3],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2],a[i+3]=vec[3];return a}}();function quat_create(){var out=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0),out[3]=1,out}function quat_identity(out){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out}function setAxisAngle(out,axis,rad){rad*=.5;var s=Math.sin(rad);return out[0]=s*axis[0],out[1]=s*axis[1],out[2]=s*axis[2],out[3]=Math.cos(rad),out}function getAxisAngle(out_axis,q){var rad=2*Math.acos(q[3]),s=Math.sin(rad/2);return s>EPSILON?(out_axis[0]=q[0]/s,out_axis[1]=q[1]/s,out_axis[2]=q[2]/s):(out_axis[0]=1,out_axis[1]=0,out_axis[2]=0),rad}function quat_multiply(out,a,b){var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];return out[0]=ax*bw+aw*bx+ay*bz-az*by,out[1]=ay*bw+aw*by+az*bx-ax*bz,out[2]=az*bw+aw*bz+ax*by-ay*bx,out[3]=aw*bw-ax*bx-ay*by-az*bz,out}function quat_rotateX(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+aw*bx,out[1]=ay*bw+az*bx,out[2]=az*bw-ay*bx,out[3]=aw*bw-ax*bx,out}function quat_rotateY(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],by=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw-az*by,out[1]=ay*bw+aw*by,out[2]=az*bw+ax*by,out[3]=aw*bw-ay*by,out}function quat_rotateZ(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bz=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+ay*bz,out[1]=ay*bw-ax*bz,out[2]=az*bw+aw*bz,out[3]=aw*bw-az*bz,out}function calculateW(out,a){var x=a[0],y=a[1],z=a[2];return out[0]=x,out[1]=y,out[2]=z,out[3]=Math.sqrt(Math.abs(1-x*x-y*y-z*z)),out}function slerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3],omega=void 0,cosom=void 0,sinom=void 0,scale0=void 0,scale1=void 0;return(cosom=ax*bx+ay*by+az*bz+aw*bw)<0&&(cosom=-cosom,bx=-bx,by=-by,bz=-bz,bw=-bw),1-cosom>EPSILON?(omega=Math.acos(cosom),sinom=Math.sin(omega),scale0=Math.sin((1-t)*omega)/sinom,scale1=Math.sin(t*omega)/sinom):(scale0=1-t,scale1=t),out[0]=scale0*ax+scale1*bx,out[1]=scale0*ay+scale1*by,out[2]=scale0*az+scale1*bz,out[3]=scale0*aw+scale1*bw,out}function quat_random(out){var u1=RANDOM(),u2=RANDOM(),u3=RANDOM(),sqrt1MinusU1=Math.sqrt(1-u1),sqrtU1=Math.sqrt(u1);return out[0]=sqrt1MinusU1*Math.sin(2*Math.PI*u2),out[1]=sqrt1MinusU1*Math.cos(2*Math.PI*u2),out[2]=sqrtU1*Math.sin(2*Math.PI*u3),out[3]=sqrtU1*Math.cos(2*Math.PI*u3),out}function quat_invert(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],dot=a0*a0+a1*a1+a2*a2+a3*a3,invDot=dot?1/dot:0;return out[0]=-a0*invDot,out[1]=-a1*invDot,out[2]=-a2*invDot,out[3]=a3*invDot,out}function conjugate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=a[3],out}function fromMat3(out,m){var fTrace=m[0]+m[4]+m[8],fRoot=void 0;if(fTrace>0)fRoot=Math.sqrt(fTrace+1),out[3]=.5*fRoot,fRoot=.5/fRoot,out[0]=(m[5]-m[7])*fRoot,out[1]=(m[6]-m[2])*fRoot,out[2]=(m[1]-m[3])*fRoot;else{var i=0;m[4]>m[0]&&(i=1),m[8]>m[3*i+i]&&(i=2);var j=(i+1)%3,k=(i+2)%3;fRoot=Math.sqrt(m[3*i+i]-m[3*j+j]-m[3*k+k]+1),out[i]=.5*fRoot,fRoot=.5/fRoot,out[3]=(m[3*j+k]-m[3*k+j])*fRoot,out[j]=(m[3*j+i]+m[3*i+j])*fRoot,out[k]=(m[3*k+i]+m[3*i+k])*fRoot}return out}function fromEuler(out,x,y,z){var halfToRad=.5*Math.PI/180;x*=halfToRad,y*=halfToRad,z*=halfToRad;var sx=Math.sin(x),cx=Math.cos(x),sy=Math.sin(y),cy=Math.cos(y),sz=Math.sin(z),cz=Math.cos(z);return out[0]=sx*cy*cz-cx*sy*sz,out[1]=cx*sy*cz+sx*cy*sz,out[2]=cx*cy*sz-sx*sy*cz,out[3]=cx*cy*cz+sx*sy*sz,out}function quat_str(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}var tmpvec3,xUnitVec3,yUnitVec3,temp1,temp2,matr,quat_clone=vec4_clone,quat_fromValues=vec4_fromValues,quat_copy=vec4_copy,quat_set=vec4_set,quat_add=vec4_add,quat_mul=quat_multiply,quat_scale=vec4_scale,quat_dot=vec4_dot,quat_lerp=vec4_lerp,quat_length=vec4_length,quat_len=quat_length,quat_squaredLength=vec4_squaredLength,quat_sqrLen=quat_squaredLength,quat_normalize=vec4_normalize,quat_exactEquals=vec4_exactEquals,quat_equals=vec4_equals,rotationTo=(tmpvec3=vec3_create(),xUnitVec3=vec3_fromValues(1,0,0),yUnitVec3=vec3_fromValues(0,1,0),function(out,a,b){var dot=vec3_dot(a,b);return dot<-.999999?(cross(tmpvec3,xUnitVec3,a),vec3_len(tmpvec3)<1e-6&&cross(tmpvec3,yUnitVec3,a),normalize(tmpvec3,tmpvec3),setAxisAngle(out,tmpvec3,Math.PI),out):dot>.999999?(out[0]=0,out[1]=0,out[2]=0,out[3]=1,out):(cross(tmpvec3,a,b),out[0]=tmpvec3[0],out[1]=tmpvec3[1],out[2]=tmpvec3[2],out[3]=1+dot,quat_normalize(out,out))}),sqlerp=(temp1=quat_create(),temp2=quat_create(),function(out,a,b,c,d,t){return slerp(temp1,a,d,t),slerp(temp2,b,c,t),slerp(out,temp1,temp2,2*t*(1-t)),out}),setAxes=(matr=mat3_create(),function(out,view,right,up){return matr[0]=right[0],matr[3]=right[1],matr[6]=right[2],matr[1]=up[0],matr[4]=up[1],matr[7]=up[2],matr[2]=-view[0],matr[5]=-view[1],matr[8]=-view[2],quat_normalize(out,fromMat3(out,matr))});function quat2_create(){var dq=new ARRAY_TYPE(8);return ARRAY_TYPE!=Float32Array&&(dq[0]=0,dq[1]=0,dq[2]=0,dq[4]=0,dq[5]=0,dq[6]=0,dq[7]=0),dq[3]=1,dq}function quat2_clone(a){var dq=new ARRAY_TYPE(8);return dq[0]=a[0],dq[1]=a[1],dq[2]=a[2],dq[3]=a[3],dq[4]=a[4],dq[5]=a[5],dq[6]=a[6],dq[7]=a[7],dq}function quat2_fromValues(x1,y1,z1,w1,x2,y2,z2,w2){var dq=new ARRAY_TYPE(8);return dq[0]=x1,dq[1]=y1,dq[2]=z1,dq[3]=w1,dq[4]=x2,dq[5]=y2,dq[6]=z2,dq[7]=w2,dq}function fromRotationTranslationValues(x1,y1,z1,w1,x2,y2,z2){var dq=new ARRAY_TYPE(8);dq[0]=x1,dq[1]=y1,dq[2]=z1,dq[3]=w1;var ax=.5*x2,ay=.5*y2,az=.5*z2;return dq[4]=ax*w1+ay*z1-az*y1,dq[5]=ay*w1+az*x1-ax*z1,dq[6]=az*w1+ax*y1-ay*x1,dq[7]=-ax*x1-ay*y1-az*z1,dq}function quat2_fromRotationTranslation(out,q,t){var ax=.5*t[0],ay=.5*t[1],az=.5*t[2],bx=q[0],by=q[1],bz=q[2],bw=q[3];return out[0]=bx,out[1]=by,out[2]=bz,out[3]=bw,out[4]=ax*bw+ay*bz-az*by,out[5]=ay*bw+az*bx-ax*bz,out[6]=az*bw+ax*by-ay*bx,out[7]=-ax*bx-ay*by-az*bz,out}function quat2_fromTranslation(out,t){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out[4]=.5*t[0],out[5]=.5*t[1],out[6]=.5*t[2],out[7]=0,out}function quat2_fromRotation(out,q){return out[0]=q[0],out[1]=q[1],out[2]=q[2],out[3]=q[3],out[4]=0,out[5]=0,out[6]=0,out[7]=0,out}function quat2_fromMat4(out,a){var outer=quat_create();getRotation(outer,a);var t=new ARRAY_TYPE(3);return getTranslation(t,a),quat2_fromRotationTranslation(out,outer,t),out}function quat2_copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out}function quat2_identity(out){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out[6]=0,out[7]=0,out}function quat2_set(out,x1,y1,z1,w1,x2,y2,z2,w2){return out[0]=x1,out[1]=y1,out[2]=z1,out[3]=w1,out[4]=x2,out[5]=y2,out[6]=z2,out[7]=w2,out}var getReal=quat_copy;function getDual(out,a){return out[0]=a[4],out[1]=a[5],out[2]=a[6],out[3]=a[7],out}var setReal=quat_copy;function setDual(out,q){return out[4]=q[0],out[5]=q[1],out[6]=q[2],out[7]=q[3],out}function quat2_getTranslation(out,a){var ax=a[4],ay=a[5],az=a[6],aw=a[7],bx=-a[0],by=-a[1],bz=-a[2],bw=a[3];return out[0]=2*(ax*bw+aw*bx+ay*bz-az*by),out[1]=2*(ay*bw+aw*by+az*bx-ax*bz),out[2]=2*(az*bw+aw*bz+ax*by-ay*bx),out}function quat2_translate(out,a,v){var ax1=a[0],ay1=a[1],az1=a[2],aw1=a[3],bx1=.5*v[0],by1=.5*v[1],bz1=.5*v[2],ax2=a[4],ay2=a[5],az2=a[6],aw2=a[7];return out[0]=ax1,out[1]=ay1,out[2]=az1,out[3]=aw1,out[4]=aw1*bx1+ay1*bz1-az1*by1+ax2,out[5]=aw1*by1+az1*bx1-ax1*bz1+ay2,out[6]=aw1*bz1+ax1*by1-ay1*bx1+az2,out[7]=-ax1*bx1-ay1*by1-az1*bz1+aw2,out}function quat2_rotateX(out,a,rad){var bx=-a[0],by=-a[1],bz=-a[2],bw=a[3],ax=a[4],ay=a[5],az=a[6],aw=a[7],ax1=ax*bw+aw*bx+ay*bz-az*by,ay1=ay*bw+aw*by+az*bx-ax*bz,az1=az*bw+aw*bz+ax*by-ay*bx,aw1=aw*bw-ax*bx-ay*by-az*bz;return quat_rotateX(out,a,rad),bx=out[0],by=out[1],bz=out[2],bw=out[3],out[4]=ax1*bw+aw1*bx+ay1*bz-az1*by,out[5]=ay1*bw+aw1*by+az1*bx-ax1*bz,out[6]=az1*bw+aw1*bz+ax1*by-ay1*bx,out[7]=aw1*bw-ax1*bx-ay1*by-az1*bz,out}function quat2_rotateY(out,a,rad){var bx=-a[0],by=-a[1],bz=-a[2],bw=a[3],ax=a[4],ay=a[5],az=a[6],aw=a[7],ax1=ax*bw+aw*bx+ay*bz-az*by,ay1=ay*bw+aw*by+az*bx-ax*bz,az1=az*bw+aw*bz+ax*by-ay*bx,aw1=aw*bw-ax*bx-ay*by-az*bz;return quat_rotateY(out,a,rad),bx=out[0],by=out[1],bz=out[2],bw=out[3],out[4]=ax1*bw+aw1*bx+ay1*bz-az1*by,out[5]=ay1*bw+aw1*by+az1*bx-ax1*bz,out[6]=az1*bw+aw1*bz+ax1*by-ay1*bx,out[7]=aw1*bw-ax1*bx-ay1*by-az1*bz,out}function quat2_rotateZ(out,a,rad){var bx=-a[0],by=-a[1],bz=-a[2],bw=a[3],ax=a[4],ay=a[5],az=a[6],aw=a[7],ax1=ax*bw+aw*bx+ay*bz-az*by,ay1=ay*bw+aw*by+az*bx-ax*bz,az1=az*bw+aw*bz+ax*by-ay*bx,aw1=aw*bw-ax*bx-ay*by-az*bz;return quat_rotateZ(out,a,rad),bx=out[0],by=out[1],bz=out[2],bw=out[3],out[4]=ax1*bw+aw1*bx+ay1*bz-az1*by,out[5]=ay1*bw+aw1*by+az1*bx-ax1*bz,out[6]=az1*bw+aw1*bz+ax1*by-ay1*bx,out[7]=aw1*bw-ax1*bx-ay1*by-az1*bz,out}function rotateByQuatAppend(out,a,q){var qx=q[0],qy=q[1],qz=q[2],qw=q[3],ax=a[0],ay=a[1],az=a[2],aw=a[3];return out[0]=ax*qw+aw*qx+ay*qz-az*qy,out[1]=ay*qw+aw*qy+az*qx-ax*qz,out[2]=az*qw+aw*qz+ax*qy-ay*qx,out[3]=aw*qw-ax*qx-ay*qy-az*qz,ax=a[4],ay=a[5],az=a[6],aw=a[7],out[4]=ax*qw+aw*qx+ay*qz-az*qy,out[5]=ay*qw+aw*qy+az*qx-ax*qz,out[6]=az*qw+aw*qz+ax*qy-ay*qx,out[7]=aw*qw-ax*qx-ay*qy-az*qz,out}function rotateByQuatPrepend(out,q,a){var qx=q[0],qy=q[1],qz=q[2],qw=q[3],bx=a[0],by=a[1],bz=a[2],bw=a[3];return out[0]=qx*bw+qw*bx+qy*bz-qz*by,out[1]=qy*bw+qw*by+qz*bx-qx*bz,out[2]=qz*bw+qw*bz+qx*by-qy*bx,out[3]=qw*bw-qx*bx-qy*by-qz*bz,bx=a[4],by=a[5],bz=a[6],bw=a[7],out[4]=qx*bw+qw*bx+qy*bz-qz*by,out[5]=qy*bw+qw*by+qz*bx-qx*bz,out[6]=qz*bw+qw*bz+qx*by-qy*bx,out[7]=qw*bw-qx*bx-qy*by-qz*bz,out}function rotateAroundAxis(out,a,axis,rad){if(Math.abs(rad)<EPSILON)return quat2_copy(out,a);var axisLength=Math.sqrt(axis[0]*axis[0]+axis[1]*axis[1]+axis[2]*axis[2]);rad*=.5;var s=Math.sin(rad),bx=s*axis[0]/axisLength,by=s*axis[1]/axisLength,bz=s*axis[2]/axisLength,bw=Math.cos(rad),ax1=a[0],ay1=a[1],az1=a[2],aw1=a[3];out[0]=ax1*bw+aw1*bx+ay1*bz-az1*by,out[1]=ay1*bw+aw1*by+az1*bx-ax1*bz,out[2]=az1*bw+aw1*bz+ax1*by-ay1*bx,out[3]=aw1*bw-ax1*bx-ay1*by-az1*bz;var ax=a[4],ay=a[5],az=a[6],aw=a[7];return out[4]=ax*bw+aw*bx+ay*bz-az*by,out[5]=ay*bw+aw*by+az*bx-ax*bz,out[6]=az*bw+aw*bz+ax*by-ay*bx,out[7]=aw*bw-ax*bx-ay*by-az*bz,out}function quat2_add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out}function quat2_multiply(out,a,b){var ax0=a[0],ay0=a[1],az0=a[2],aw0=a[3],bx1=b[4],by1=b[5],bz1=b[6],bw1=b[7],ax1=a[4],ay1=a[5],az1=a[6],aw1=a[7],bx0=b[0],by0=b[1],bz0=b[2],bw0=b[3];return out[0]=ax0*bw0+aw0*bx0+ay0*bz0-az0*by0,out[1]=ay0*bw0+aw0*by0+az0*bx0-ax0*bz0,out[2]=az0*bw0+aw0*bz0+ax0*by0-ay0*bx0,out[3]=aw0*bw0-ax0*bx0-ay0*by0-az0*bz0,out[4]=ax0*bw1+aw0*bx1+ay0*bz1-az0*by1+ax1*bw0+aw1*bx0+ay1*bz0-az1*by0,out[5]=ay0*bw1+aw0*by1+az0*bx1-ax0*bz1+ay1*bw0+aw1*by0+az1*bx0-ax1*bz0,out[6]=az0*bw1+aw0*bz1+ax0*by1-ay0*bx1+az1*bw0+aw1*bz0+ax1*by0-ay1*bx0,out[7]=aw0*bw1-ax0*bx1-ay0*by1-az0*bz1+aw1*bw0-ax1*bx0-ay1*by0-az1*bz0,out}var quat2_mul=quat2_multiply;function quat2_scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out}var quat2_dot=quat_dot;function quat2_lerp(out,a,b,t){var mt=1-t;return quat2_dot(a,b)<0&&(t=-t),out[0]=a[0]*mt+b[0]*t,out[1]=a[1]*mt+b[1]*t,out[2]=a[2]*mt+b[2]*t,out[3]=a[3]*mt+b[3]*t,out[4]=a[4]*mt+b[4]*t,out[5]=a[5]*mt+b[5]*t,out[6]=a[6]*mt+b[6]*t,out[7]=a[7]*mt+b[7]*t,out}function quat2_invert(out,a){var sqlen=quat2_squaredLength(a);return out[0]=-a[0]/sqlen,out[1]=-a[1]/sqlen,out[2]=-a[2]/sqlen,out[3]=a[3]/sqlen,out[4]=-a[4]/sqlen,out[5]=-a[5]/sqlen,out[6]=-a[6]/sqlen,out[7]=a[7]/sqlen,out}function quat2_conjugate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=a[3],out[4]=-a[4],out[5]=-a[5],out[6]=-a[6],out[7]=a[7],out}var quat2_length=quat_length,quat2_len=quat2_length,quat2_squaredLength=quat_squaredLength,quat2_sqrLen=quat2_squaredLength;function quat2_normalize(out,a){var magnitude=quat2_squaredLength(a);if(magnitude>0){magnitude=Math.sqrt(magnitude);var a0=a[0]/magnitude,a1=a[1]/magnitude,a2=a[2]/magnitude,a3=a[3]/magnitude,b0=a[4],b1=a[5],b2=a[6],b3=a[7],a_dot_b=a0*b0+a1*b1+a2*b2+a3*b3;out[0]=a0,out[1]=a1,out[2]=a2,out[3]=a3,out[4]=(b0-a0*a_dot_b)/magnitude,out[5]=(b1-a1*a_dot_b)/magnitude,out[6]=(b2-a2*a_dot_b)/magnitude,out[7]=(b3-a3*a_dot_b)/magnitude}return out}function quat2_str(a){return"quat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+")"}function quat2_exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]}function quat2_equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))}function vec2_create(){var out=new ARRAY_TYPE(2);return ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0),out}function vec2_clone(a){var out=new ARRAY_TYPE(2);return out[0]=a[0],out[1]=a[1],out}function vec2_fromValues(x,y){var out=new ARRAY_TYPE(2);return out[0]=x,out[1]=y,out}function vec2_copy(out,a){return out[0]=a[0],out[1]=a[1],out}function vec2_set(out,x,y){return out[0]=x,out[1]=y,out}function vec2_add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out}function vec2_subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out}function vec2_multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out}function vec2_divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out}function vec2_ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out}function vec2_floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out}function vec2_min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out}function vec2_max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out}function vec2_round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out}function vec2_scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out}function vec2_scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out}function vec2_distance(a,b){var x=b[0]-a[0],y=b[1]-a[1];return Math.sqrt(x*x+y*y)}function vec2_squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1];return x*x+y*y}function vec2_length(a){var x=a[0],y=a[1];return Math.sqrt(x*x+y*y)}function vec2_squaredLength(a){var x=a[0],y=a[1];return x*x+y*y}function vec2_negate(out,a){return out[0]=-a[0],out[1]=-a[1],out}function vec2_inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out}function vec2_normalize(out,a){var x=a[0],y=a[1],len=x*x+y*y;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len),out}function vec2_dot(a,b){return a[0]*b[0]+a[1]*b[1]}function vec2_cross(out,a,b){var z=a[0]*b[1]-a[1]*b[0];return out[0]=out[1]=0,out[2]=z,out}function vec2_lerp(out,a,b,t){var ax=a[0],ay=a[1];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out}function vec2_random(out,scale){scale=scale||1;var r=2*RANDOM()*Math.PI;return out[0]=Math.cos(r)*scale,out[1]=Math.sin(r)*scale,out}function transformMat2(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y,out[1]=m[1]*x+m[3]*y,out}function transformMat2d(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y+m[4],out[1]=m[1]*x+m[3]*y+m[5],out}function vec2_transformMat3(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[3]*y+m[6],out[1]=m[1]*x+m[4]*y+m[7],out}function vec2_transformMat4(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[4]*y+m[12],out[1]=m[1]*x+m[5]*y+m[13],out}function vec2_rotate(out,a,b,c){var p0=a[0]-b[0],p1=a[1]-b[1],sinC=Math.sin(c),cosC=Math.cos(c);return out[0]=p0*cosC-p1*sinC+b[0],out[1]=p0*sinC+p1*cosC+b[1],out}function vec2_angle(a,b){var x1=a[0],y1=a[1],x2=b[0],y2=b[1],len1=x1*x1+y1*y1;len1>0&&(len1=1/Math.sqrt(len1));var len2=x2*x2+y2*y2;len2>0&&(len2=1/Math.sqrt(len2));var cosine=(x1*x2+y1*y2)*len1*len2;return cosine>1?0:cosine<-1?Math.PI:Math.acos(cosine)}function vec2_str(a){return"vec2("+a[0]+", "+a[1]+")"}function vec2_exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]}function vec2_equals(a,b){var a0=a[0],a1=a[1],b0=b[0],b1=b[1];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))}var vec2_len=vec2_length,vec2_sub=vec2_subtract,vec2_mul=vec2_multiply,vec2_div=vec2_divide,vec2_dist=vec2_distance,vec2_sqrDist=vec2_squaredDistance,vec2_sqrLen=vec2_squaredLength,vec2_forEach=function(){var vec=vec2_create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=2),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1];return a}}()},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(104),baseKeys=__webpack_require__(185),isArrayLike=__webpack_require__(64);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(74),baseAssignValue=__webpack_require__(57);module.exports=function(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fieldSize=fieldSize,exports.isNumberType=exports.isComplex=exports.getSourceData=exports.associateSourceData=exports.classSourceData=exports.deepParseSymbol=exports.friendlyTypeName=exports.addTimeTypes=exports.typeSize=exports.PointerExpression=exports.primitiveList=void 0;var obj,_lodash=__webpack_require__(7),_memoizeWeak=(obj=__webpack_require__(82))&&obj.__esModule?obj:{default:obj};function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const primitiveSizes={json:8,string:8,bool:1,int8:1,uint8:1,int16:2,uint16:2,int32:4,uint32:4,float32:4,float64:8,int64:8,uint64:8,time:8,duration:8},primitiveList=new Set(Object.keys(primitiveSizes));exports.primitiveList=primitiveList;class PointerExpression{constructor(variable,_constant=0){_defineProperty(this,"variable",void 0),_defineProperty(this,"constant",void 0),this.variable=variable,this.constant=_constant}toString(){return 0===this.constant?this.variable:`(${this.variable} + ${this.constant})`}add(o){return new PointerExpression(this.variable,this.constant+o)}}exports.PointerExpression=PointerExpression;const typeSize=(0,_memoizeWeak.default)((typesByName,typeName)=>{if(null!=primitiveSizes[typeName])return primitiveSizes[typeName];if(null==typesByName[typeName])throw new Error("Unknown type: "+typeName);return(0,_lodash.sum)(typesByName[typeName].fields.map(field=>fieldSize(typesByName,field)))});function fieldSize(typesByName,field){return field.isConstant?0:field.isArray?2*primitiveSizes.int32:typeSize(typesByName,field.type)}exports.typeSize=typeSize;exports.addTimeTypes=typesByName=>function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}({},typesByName,{time:{fields:[{name:"sec",type:"int32"},{name:"nsec",type:"int32"}]},duration:{fields:[{name:"sec",type:"int32"},{name:"nsec",type:"int32"}]}});const allBadCharacters=new RegExp("[/-]","g");exports.friendlyTypeName=name=>name.replace(allBadCharacters,"_");const deepParseSymbol=Symbol("deepParse");exports.deepParseSymbol=deepParseSymbol;const classSourceData=new WeakMap;exports.classSourceData=classSourceData;exports.associateSourceData=(cls,sourceData)=>{classSourceData.set(cls,sourceData)};exports.getSourceData=cls=>classSourceData.get(cls);exports.isComplex=typeName=>!primitiveList.has(typeName);const numberList=["int8","uint8","int16","uint16","int32","uint32","float32","float64","int64","uint64"];exports.isNumberType=typeName=>numberList.includes(typeName)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DATATYPE=exports.DEFAULT_MAX_COLOR=exports.DEFAULT_MIN_COLOR=exports.DEFAULT_FLAT_COLOR=void 0;exports.DEFAULT_FLAT_COLOR={r:1,g:1,b:1,a:1};exports.DEFAULT_MIN_COLOR={r:0,g:0,b:1,a:1};exports.DEFAULT_MAX_COLOR={r:1,g:0,b:0,a:1};exports.DATATYPE={uint8:2,uint16:4,int16:3,int32:5,float32:7}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(32),getRawTag=__webpack_require__(375),objectToString=__webpack_require__(376),symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(14).Symbol;module.exports=Symbol},function(module,exports){module.exports=function(value){return null!=value&&"object"==typeof value}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SyncPromise}));var States,_is__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);!function(States){States.PENDING="PENDING",States.RESOLVED="RESOLVED",States.REJECTED="REJECTED"}(States||(States={}));var SyncPromise=function(){function SyncPromise(executor){var _this=this;this._state=States.PENDING,this._handlers=[],this._resolve=function(value){_this._setResult(States.RESOLVED,value)},this._reject=function(reason){_this._setResult(States.REJECTED,reason)},this._setResult=function(state,value){_this._state===States.PENDING&&(Object(_is__WEBPACK_IMPORTED_MODULE_0__.m)(value)?value.then(_this._resolve,_this._reject):(_this._state=state,_this._value=value,_this._executeHandlers()))},this._attachHandler=function(handler){_this._handlers=_this._handlers.concat(handler),_this._executeHandlers()},this._executeHandlers=function(){_this._state!==States.PENDING&&(_this._state===States.REJECTED?_this._handlers.forEach((function(handler){handler.onrejected&&handler.onrejected(_this._value)})):_this._handlers.forEach((function(handler){handler.onfulfilled&&handler.onfulfilled(_this._value)})),_this._handlers=[])};try{executor(this._resolve,this._reject)}catch(e){this._reject(e)}}return SyncPromise.prototype.toString=function(){return"[object SyncPromise]"},SyncPromise.resolve=function(value){return new SyncPromise((function(resolve){resolve(value)}))},SyncPromise.reject=function(reason){return new SyncPromise((function(_,reject){reject(reason)}))},SyncPromise.all=function(collection){return new SyncPromise((function(resolve,reject){if(Array.isArray(collection))if(0!==collection.length){var counter=collection.length,resolvedCollection=[];collection.forEach((function(item,index){SyncPromise.resolve(item).then((function(value){resolvedCollection[index]=value,0===(counter-=1)&&resolve(resolvedCollection)})).then(null,reject)}))}else resolve([]);else reject(new TypeError("Promise.all requires an array as input."))}))},SyncPromise.prototype.then=function(onfulfilled,onrejected){var _this=this;return new SyncPromise((function(resolve,reject){_this._attachHandler({onfulfilled:function(result){if(onfulfilled)try{return void resolve(onfulfilled(result))}catch(e){return void reject(e)}else resolve(result)},onrejected:function(reason){if(onrejected)try{return void resolve(onrejected(reason))}catch(e){return void reject(e)}else reject(reason)}})}))},SyncPromise.prototype.catch=function(onrejected){return this.then((function(val){return val}),onrejected)},SyncPromise.prototype.finally=function(onfinally){var _this=this;return new SyncPromise((function(resolve,reject){var val,isRejected;return _this.then((function(value){isRejected=!1,val=value,onfinally&&onfinally()}),(function(reason){isRejected=!0,val=reason,onfinally&&onfinally()})).then((function(){isRejected?reject(val):resolve(val)}))}))},SyncPromise}()},,function(module,exports){module.exports=function(func){return function(value){return func(value)}}},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(189),listCacheDelete=__webpack_require__(190),listCacheGet=__webpack_require__(191),listCacheHas=__webpack_require__(192),listCacheSet=__webpack_require__(193);function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},function(module,exports,__webpack_require__){var eq=__webpack_require__(66);module.exports=function(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(17)(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(207);module.exports=function(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}},function(module,exports,__webpack_require__){var DataView=__webpack_require__(220),Map=__webpack_require__(67),Promise=__webpack_require__(221),Set=__webpack_require__(222),WeakMap=__webpack_require__(223),baseGetTag=__webpack_require__(21),toSource=__webpack_require__(103),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&"[object DataView]"!=getTag(new DataView(new ArrayBuffer(1)))||Map&&"[object Map]"!=getTag(new Map)||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&"[object Set]"!=getTag(new Set)||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return"[object Map]";case promiseCtorString:return"[object Promise]";case setCtorString:return"[object Set]";case weakMapCtorString:return"[object WeakMap]"}return result}),module.exports=getTag},function(module,exports,__webpack_require__){var castPath=__webpack_require__(23),toKey=__webpack_require__(24);module.exports=function(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}},function(module,exports){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},function(module,exports,__webpack_require__){(function(process){function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}function filter(xs,f){if(xs.filter)return xs.filter(f);for(var res=[],i=0;i<xs.length;i++)f(xs[i],i,xs)&&res.push(xs[i]);return res}exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return(resolvedAbsolute?"/":"")+(resolvedPath=normalizeArray(filter(resolvedPath.split("/"),(function(p){return!!p})),!resolvedAbsolute).join("/"))||"."},exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash="/"===substr(path,-1);return(path=normalizeArray(filter(path.split("/"),(function(p){return!!p})),!isAbsolute).join("/"))||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.isAbsolute=function(path){return"/"===path.charAt(0)},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,(function(p,index){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p})).join("/"))},exports.relative=function(from,to){function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}from=exports.resolve(from).substr(1),to=exports.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;i<length;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}var outputParts=[];for(i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return(outputParts=outputParts.concat(toParts.slice(samePartsLength))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(path){if("string"!=typeof path&&(path+=""),0===path.length)return".";for(var code=path.charCodeAt(0),hasRoot=47===code,end=-1,matchedSlash=!0,i=path.length-1;i>=1;--i)if(47===(code=path.charCodeAt(i))){if(!matchedSlash){end=i;break}}else matchedSlash=!1;return-1===end?hasRoot?"/":".":hasRoot&&1===end?"/":path.slice(0,end)},exports.basename=function(path,ext){var f=function(path){"string"!=typeof path&&(path+="");var i,start=0,end=-1,matchedSlash=!0;for(i=path.length-1;i>=0;--i)if(47===path.charCodeAt(i)){if(!matchedSlash){start=i+1;break}}else-1===end&&(matchedSlash=!1,end=i+1);return-1===end?"":path.slice(start,end)}(path);return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){"string"!=typeof path&&(path+="");for(var startDot=-1,startPart=0,end=-1,matchedSlash=!0,preDotState=0,i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(47!==code)-1===end&&(matchedSlash=!1,end=i+1),46===code?-1===startDot?startDot=i:1!==preDotState&&(preDotState=1):-1!==startDot&&(preDotState=-1);else if(!matchedSlash){startPart=i+1;break}}return-1===startDot||-1===end||0===preDotState||1===preDotState&&startDot===end-1&&startDot===startPart+1?"":path.slice(startDot,end)};var substr="b"==="ab".substr(-1)?function(str,start,len){return str.substr(start,len)}:function(str,start,len){return start<0&&(start=str.length+start),str.substr(start,len)}}).call(this,__webpack_require__(16))},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.emptyPose=function(){const pose=new PoseClass;return pose.position=PointClass.empty(),pose.orientation=OrientationClass.empty(),pose};class PointClass{constructor(){_defineProperty(this,"x",void 0),_defineProperty(this,"y",void 0),_defineProperty(this,"z",void 0)}static empty(){const point=new PointClass;return point.x=0,point.y=0,point.z=0,point}}class OrientationClass{constructor(){_defineProperty(this,"x",void 0),_defineProperty(this,"y",void 0),_defineProperty(this,"z",void 0),_defineProperty(this,"w",void 0)}static empty(){const orientation=new OrientationClass;return orientation.x=0,orientation.y=0,orientation.z=0,orientation.w=1,orientation}}class PoseClass{constructor(){_defineProperty(this,"position",void 0),_defineProperty(this,"orientation",void 0)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bobjectFieldNames=bobjectFieldNames,exports.maybeGetBobjectHeaderStamp=exports.compareBinaryTimes=exports.getFieldFromPath=exports.getIndex=exports.getField=exports.merge=exports.fieldNames=exports.inaccurateByteSize=exports.wrapJsObject=exports.deepParse=exports.isArrayView=exports.isBobject=exports.getObjects=exports.getObject=exports.getBinaryArrayView=exports.getBinaryOffset=void 0;var _buffer=__webpack_require__(312),_int=_interopRequireDefault(__webpack_require__(315)),_types=(__webpack_require__(81),__webpack_require__(130)),_ArrayViews=__webpack_require__(131),_binaryWrapperObjects=_interopRequireDefault(__webpack_require__(317)),_jsWrapperObjects=_interopRequireDefault(__webpack_require__(318)),_messageDefinitionUtils=__webpack_require__(29),_time=__webpack_require__(133);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const context={Buffer:_buffer.Buffer,getArrayView:_ArrayViews.getArrayView,deepParse:_messageDefinitionUtils.deepParseSymbol,int53:_int.default,associateSourceData:_messageDefinitionUtils.associateSourceData,parseJson:s=>{try{return JSON.parse(s)}catch(e){return"Could not parse "+JSON.stringify(s)}},offsetSymbol:Symbol()},approximateBinarySizes=new WeakMap,reverseWrappedBobjects=new WeakSet;exports.getBinaryOffset=obj=>{const offset=obj[context.offsetSymbol];if(null==offset)throw new Error("Can't get offset of non-binary bobject.");return offset};exports.getBinaryArrayView=(typesByName,datatype,buffer,bigString,firstElementOffset,length)=>new((0,_binaryWrapperObjects.default)(typesByName,datatype,!0)(context,new DataView(buffer),bigString,typesByName))(firstElementOffset,length);exports.getObject=(typesByName,datatype,buffer,bigString)=>{const ret=new((0,_binaryWrapperObjects.default)(typesByName,datatype)(context,new DataView(buffer),bigString,typesByName))(0);return approximateBinarySizes.set(ret,buffer.byteLength+bigString.length),ret};exports.getObjects=(typesByName,datatype,buffer,bigString,offsets)=>{const Class=(0,_binaryWrapperObjects.default)(typesByName,datatype)(context,new DataView(buffer),bigString,typesByName),ret=offsets.map(offset=>new Class(offset)),approximateSize=(buffer.byteLength+bigString.length)/offsets.length;return ret.forEach(bobject=>{approximateBinarySizes.set(bobject,approximateSize)}),ret};const isBobject=object=>null!=(null==object?void 0:object[_messageDefinitionUtils.deepParseSymbol]);exports.isBobject=isBobject;const isArrayView=object=>isBobject(object)&&null!=object[Symbol.iterator];exports.isArrayView=isArrayView;const deepParse=object=>{if(null==object)return object;if(!isBobject(object))throw new Error("Argument to deepParse is not a bobject");return object[_messageDefinitionUtils.deepParseSymbol]()};exports.deepParse=deepParse;const wrapJsObject=(typesByName,typeName,object)=>{if(!_messageDefinitionUtils.primitiveList.has(typeName)&&!typesByName[typeName])throw new Error(`Message definition is not present for type ${typeName}.`);const ret=new((0,_jsWrapperObjects.default)(typesByName)[typeName])(object);return reverseWrappedBobjects.add(ret),(0,_types.cast)(ret)};exports.wrapJsObject=wrapJsObject;function bobjectFieldNames(bobject){const sourceData=(0,_messageDefinitionUtils.getSourceData)(Object.getPrototypeOf(bobject).constructor);if(!sourceData)throw new Error("Unknown constructor in bobjectFieldNames");const{datatypes:datatypes,datatype:datatype}=sourceData,definition=datatypes[datatype];if(null==definition){if("time"===datatype||"duration"===datatype)return["sec","nsec"];throw new Error("Unknown datatype "+datatype)}return definition.fields.filter(({isConstant:isConstant})=>!isConstant).map(({name:name})=>name)}exports.inaccurateByteSize=obj=>{const size=approximateBinarySizes.get(obj);if(null!=size)return size;if(reverseWrappedBobjects.has(obj))return 0;throw new Error("Size of object not available")};exports.fieldNames=o=>isBobject(o)?bobjectFieldNames(o):Object.keys(o);exports.merge=(bobject,overrides)=>{if(!isBobject(bobject))throw new Error("Argument to merge is not a bobject");const shallow={};bobjectFieldNames(bobject).forEach(field=>{shallow[field]=bobject[field]()});const sourceData=(0,_messageDefinitionUtils.getSourceData)(Object.getPrototypeOf(bobject).constructor);if(null==sourceData)throw new Error("Unknown type in merge");return(0,_types.cast)(wrapJsObject(sourceData.datatypes,sourceData.datatype,function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}({},shallow,overrides)))};const getField=(obj,field,bigInts)=>{if(obj)return isBobject(obj)?obj[field]&&obj[field](bigInts):obj[field]};exports.getField=getField;const getIndex=(obj,i,bigInt)=>{if(obj){if(isArrayView(obj)){if(i<0||i>=obj.length()||!Number.isInteger(i))return;return obj.get(i,bigInt)}return obj[i]}};exports.getIndex=getIndex;exports.getFieldFromPath=(obj,path)=>{let ret=obj;for(const field of path)ret="string"==typeof field?getField(ret,field):getIndex(ret,field);return ret};exports.compareBinaryTimes=(a,b)=>a.sec()-b.sec()||a.nsec()-b.nsec();exports.maybeGetBobjectHeaderStamp=message=>{if(null==message)return;const maybeStamped=(0,_types.cast)(message),header=maybeStamped.header&&maybeStamped.header(),stamp=header&&header.stamp&&deepParse(header.stamp());return(0,_time.isTime)(stamp)?stamp:void 0}},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createLinkedChannels=function(){const local={onmessage:null,postMessage(data,_transfer){const ev=new MessageEvent("message",{data:data});remote.onmessage&&remote.onmessage(ev)},terminate:()=>{}},remote={onmessage:null,postMessage(data,_transfer){const ev=new MessageEvent("message",{data:data});local.onmessage&&local.onmessage(ev)},terminate:()=>{}};return{local:local,remote:remote}},exports.default=void 0;class Rpc{constructor(channel){if(_defineProperty(this,"_channel",void 0),_defineProperty(this,"_messageId",0),_defineProperty(this,"_pendingCallbacks",{}),_defineProperty(this,"_receivers",new Map),_defineProperty(this,"_onChannelMessage",ev=>{const{id:id,topic:topic,data:data}=ev.data;if("$$RESPONSE"===topic)return this._pendingCallbacks[id](ev.data),void delete this._pendingCallbacks[id];new Promise(resolve=>{const handler=this._receivers.get(topic);if(!handler)throw new Error("no receiver registered for "+topic);resolve(handler(data))}).then(result=>{if(!result)return this._channel.postMessage({topic:"$$RESPONSE",id:id});const transferrables=result[Rpc.transferrables];delete result[Rpc.transferrables];const message={topic:"$$RESPONSE",id:id,data:result};this._channel.postMessage(message,transferrables)}).catch(err=>{const message={topic:"$$RESPONSE",id:id,data:{$$ERROR:!0,name:err.name,message:err.message,stack:err.stack}};this._channel.postMessage(message)})}),this._channel=channel,this._channel.onmessage)throw new Error("channel.onmessage is already set. Can only use one Rpc instance per channel.");this._channel.onmessage=this._onChannelMessage}send(topic,data,transfer){const id=this._messageId++,message={topic:topic,id:id,data:data},result=new Promise((resolve,reject)=>{this._pendingCallbacks[id]=info=>{if(info.data&&info.data.$$ERROR){const error=new Error(info.data.message);error.name=info.data.name,error.stack=info.data.stack,reject(error)}else resolve(info.data)}});return this._channel.postMessage(message,transfer),result}receive(topic,handler){if(this._receivers.has(topic))throw new Error("Receiver already registered for topic: "+topic);this._receivers.set(topic,handler)}}exports.default=Rpc,_defineProperty(Rpc,"transferrables","$$TRANSFERRABLES")},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Transform=void 0;var _glMatrix=__webpack_require__(26),_util=__webpack_require__(83);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const tempMat=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],tempPos=[0,0,0],tempScale=[0,0,0],tempOrient=[0,0,0,0];function stripLeadingSlash(name){return name.startsWith("/")?name.slice(1):name}class Transform{constructor(id){_defineProperty(this,"id",void 0),_defineProperty(this,"matrix",_glMatrix.mat4.create()),_defineProperty(this,"parent",void 0),_defineProperty(this,"_hasValidMatrix",!1),this.id=stripLeadingSlash(id)}set(position,orientation){_glMatrix.mat4.fromRotationTranslation(this.matrix,_glMatrix.quat.set(tempOrient,orientation.x,orientation.y,orientation.z,orientation.w),_glMatrix.vec3.set(tempPos,position.x,position.y,position.z)),this._hasValidMatrix=!0}isValid(rootId){return this._hasValidMatrix||this.id===rootId}isChildOfTransform(rootId){return rootId=stripLeadingSlash(rootId),this.parent?this.parent.isChildOfTransform(rootId):this.id===rootId}rootTransform(){return this.parent?this.parent.rootTransform():this}apply(output,input,rootId){if(rootId=stripLeadingSlash(rootId),!this.isValid(rootId))return null;if(this.id===rootId)return output.position.x=input.position.x,output.position.y=input.position.y,output.position.z=input.position.z,output.orientation.x=input.orientation.x,output.orientation.y=input.orientation.y,output.orientation.z=input.orientation.z,output.orientation.w=input.orientation.w,output;if(!this.isChildOfTransform(rootId))return null;const{position:position,orientation:orientation}=input;return _glMatrix.mat4.fromRotationTranslation(tempMat,_glMatrix.quat.set(tempOrient,orientation.x,orientation.y,orientation.z,orientation.w),_glMatrix.vec3.set(tempPos,position.x,position.y,position.z)),_glMatrix.mat4.multiply(tempMat,this.matrix,tempMat),_glMatrix.mat4.getTranslation(tempPos,tempMat),_glMatrix.mat4.getScaling(tempScale,tempMat),_glMatrix.mat4.determinant(tempMat)<0&&(tempScale[0]*=-1),_glMatrix.vec3.inverse(tempScale,tempScale),_glMatrix.mat4.scale(tempMat,tempMat,tempScale),_glMatrix.mat4.getRotation(tempOrient,tempMat),output.position.x=tempPos[0],output.position.y=tempPos[1],output.position.z=tempPos[2],output.orientation.x=tempOrient[0],output.orientation.y=tempOrient[1],output.orientation.z=tempOrient[2],output.orientation.w=tempOrient[3],this.parent?this.parent.apply(output,output,rootId):output}}exports.Transform=Transform;class TfStore{constructor(){_defineProperty(this,"storage",{}),_defineProperty(this,"values",()=>(0,_util.objectValues)(this.storage))}get(key){key=stripLeadingSlash(key);let result=this.storage[key];return result||(result=new Transform(key),this.storage[key]=result,result)}}exports.default=class{constructor(transformElements){_defineProperty(this,"storage",new TfStore),_defineProperty(this,"empty",!0),_defineProperty(this,"rawTransforms",void 0),_defineProperty(this,"get",key=>this.storage.get(key)),_defineProperty(this,"values",()=>this.storage.values()),this.empty=0===transformElements.length,this.rawTransforms=transformElements,transformElements.forEach(({childFrame:childFrame,parentFrame:parentFrame,pose:{position:position,orientation:orientation}})=>{const tf=this.storage.get(childFrame);tf.set(position,orientation),tf.parent=this.storage.get(parentFrame)})}apply(output,original,frameId,rootId){return this.storage.get(frameId).apply(output,original,rootId)}rootOfTransform(transformID){return this.get(transformID).rootTransform()}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.usePreviousValue=usePreviousValue,exports.useForceUpdate=function(){const[,setTick]=(0,_react.useState)(0);return(0,_react.useCallback)(()=>{setTick(tick=>tick+1)},[])},exports.DEBUGShallowEquals=function(name,item){throw new Error("Cannot use DEBUGShallowEquals in production");const previous=usePreviousValue(item);let hasBeenTriggered=!1;Object.keys(item).forEach(key=>{previous&&item[key]!==previous[key]&&(hasBeenTriggered||(console.log(`shallowequals on ${name} failed.`),hasBeenTriggered=!0),console.log(`${key} value changed. isEqual: ${String((0,_lodash.isEqual)(previous[key],item[key]))}`,{previous:previous[key],new:item[key]}))})},exports.useGetCurrentValue=function(value){const ref=(0,_react.useRef)(value);return ref.current=value,(0,_react.useCallback)(()=>ref.current,[])},exports.useChangeDetector=useChangeDetector,exports.useDeepChangeDetector=useDeepChangeDetector,exports.useShallowMemo=function(value){const ref=(0,_react.useRef)(value);if((0,_shallowequal.default)(value,ref.current))return ref.current;return ref.current=value,value},exports.useDeepMemo=function(value){const ref=(0,_react.useRef)(value);if((0,_lodash.isEqual)(value,ref.current))return ref.current;return ref.current=value,value},exports.useMustNotChange=useMustNotChange,exports.useGuaranteedContext=function(contextType,debugContextName){const context=(0,_react.useContext)(contextType);if(null===context)throw new Error("useGuaranteedContext got null for contextType"+(debugContextName?`: '${debugContextName}'`:""));return context},exports.useShouldNotChangeOften=useShouldNotChangeOften,exports.useDelayedEffect=function(effectCallback,delayMs=0){_react.default.useEffect(()=>{let canceled=!1,maybeCleanupFn=null;return(async()=>{await new Promise(r=>setTimeout(r,delayMs)),canceled||(maybeCleanupFn=effectCallback())})(),()=>{canceled=!0,maybeCleanupFn&&maybeCleanupFn()}},[delayMs,effectCallback])},exports.createSelectableContext=function(){const ctx=(0,_react.createContext)();return{Provider:function({value:value,children:children}){const[handle]=(0,_react.useState)(()=>{let currentValue=value;const subscribers=new Set;return{publish(val){currentValue=val;for(const sub of subscribers)sub(currentValue)},currentValue:()=>currentValue,addSubscriber(sub){subscribers.add(sub)},removeSubscriber(sub){subscribers.delete(sub)}}});return useChangeDetector([value],!1)&&handle.publish(value),_react.default.createElement(ctx.Provider,{value:handle},children)},_ctx:ctx}},exports.useContextSelector=useContextSelector,exports.useReducedValue=function(initialState,currentInputs,reducer){useMustNotChange(reducer,"reducer for useReducedValue should never change");const prevStateRef=(0,_react.useRef)(initialState);useDeepChangeDetector(currentInputs,!1)&&(prevStateRef.current=reducer(prevStateRef.current,currentInputs));return prevStateRef.current};var obj,_lodash=__webpack_require__(7),_react=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,newObj}(__webpack_require__(0)),_shallowequal=(obj=__webpack_require__(78))&&obj.__esModule?obj:{default:obj};function usePreviousValue(nextValue){const ref=(0,_react.useRef)(void 0),previous=ref.current;return ref.current=nextValue,previous}function useChangeDetector(deps,initiallyTrue){const ref=(0,_react.useRef)(initiallyTrue?void 0:deps),changed=!(0,_shallowequal.default)(ref.current,deps);return ref.current=deps,changed}function useDeepChangeDetector(deps,initiallyTrue){const ref=(0,_react.useRef)(initiallyTrue?void 0:deps),changed=!(0,_lodash.isEqual)(ref.current,deps);return ref.current=deps,changed}function format(value){try{return JSON.stringify(value)}catch(err){return"<unknown object>"}}function useMustNotChange(value,message){const ref=(0,_react.useRef)(value);if(value!==ref.current)throw new Error(`${message}\nOld: ${format(ref.current)}\nNew: ${format(value)}`);return value}function useShouldNotChangeOften(value,warn){const prev=(0,_react.useRef)(value),prevPrev=(0,_react.useRef)(value),lastTime=(0,_react.useRef)(Date.now());return value!==prev.current&&prev.current!==prevPrev.current&&Date.now()-lastTime.current<200&&warn(),prevPrev.current=prev.current,prev.current=value,lastTime.current=Date.now(),value}const BAILOUT=Symbol("BAILOUT");function isBailout(value){return value===useContextSelector.BAILOUT}function useContextSelector(context,selector,options){const memoResolver=null==options?void 0:options.memoResolver,handle=(0,_react.useContext)(context._ctx);if(!handle)throw new Error("useContextSelector was used outside a corresponding <Provider />.");useShouldNotChangeOften(selector,()=>console.warn("useContextSelector() selector is changing frequently. Changing the selector will not cause the current context to be re-processed, so you may have a bug if the selector depends on external state. Wrap your selector in a useCallback() to silence this warning."));const[selectedValue,setSelectedValue]=(0,_react.useState)(()=>{const value=selector(handle.currentValue());if(isBailout(value))throw new Error("Initial selector call must not return BAILOUT");return value}),latestSelectedValue=(0,_react.useRef)();return(0,_react.useLayoutEffect)(()=>{latestSelectedValue.current=selectedValue}),(0,_react.useLayoutEffect)(()=>{const sub=newValue=>{const newSelectedValue=selector(newValue);isBailout(newSelectedValue)||(memoResolver?memoResolver(newSelectedValue,latestSelectedValue.current):newSelectedValue===latestSelectedValue.current)||setSelectedValue(()=>newSelectedValue)};return handle.addSubscriber(sub),()=>{handle.removeSubscriber(sub)}},[handle,memoResolver,selector]),selectedValue}useContextSelector.BAILOUT=BAILOUT},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ICON_BY_TYPE=exports.LAYER_INDEX_DIFF_MODE_BASE_PER_PASS=exports.LAYER_INDEX_HIGHLIGHT_BASE=exports.LAYER_INDEX_HIGHLIGHT_OVERLAY=exports.LAYER_INDEX_DEFAULT_BASE=exports.LAYER_INDEX_OCCUPANCY_GRIDS=exports.LAYER_INDEX_TEXT=void 0;var _alphaR=_interopRequireDefault(__webpack_require__(335)),_alphaT=_interopRequireDefault(__webpack_require__(336)),_arrowCollapseDown=_interopRequireDefault(__webpack_require__(337)),_arrowCollapseLeft=_interopRequireDefault(__webpack_require__(338)),_arrowCollapseRight=_interopRequireDefault(__webpack_require__(339)),_arrowCollapseUp=_interopRequireDefault(__webpack_require__(340)),_arrowDecision=_interopRequireDefault(__webpack_require__(341)),_arrowLeft=_interopRequireDefault(__webpack_require__(342)),_arrowRight=_interopRequireDefault(__webpack_require__(343)),_arrowTopLeft=_interopRequireDefault(__webpack_require__(344)),_arrowTopRight=_interopRequireDefault(__webpack_require__(345)),_bike=_interopRequireDefault(__webpack_require__(346)),_busSchool=_interopRequireDefault(__webpack_require__(347)),_bus=_interopRequireDefault(__webpack_require__(348)),_carBrakeAlert=_interopRequireDefault(__webpack_require__(349)),_carParkingLights=_interopRequireDefault(__webpack_require__(350)),_car=_interopRequireDefault(__webpack_require__(351)),_cubeOutline=_interopRequireDefault(__webpack_require__(352)),_hazardLights=_interopRequireDefault(__webpack_require__(353)),_helpCircleOutline=_interopRequireDefault(__webpack_require__(354)),_help=_interopRequireDefault(__webpack_require__(355)),_motorbike=_interopRequireDefault(__webpack_require__(356)),_octagon=_interopRequireDefault(__webpack_require__(357)),_roadVariant=_interopRequireDefault(__webpack_require__(358)),_robotOffOutline=_interopRequireDefault(__webpack_require__(359)),_robotOutline=_interopRequireDefault(__webpack_require__(360)),_signalOff=_interopRequireDefault(__webpack_require__(361)),_train=_interopRequireDefault(__webpack_require__(362)),_truck=_interopRequireDefault(__webpack_require__(363)),_walk=_interopRequireDefault(__webpack_require__(364));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.LAYER_INDEX_TEXT=10;exports.LAYER_INDEX_OCCUPANCY_GRIDS=-1;exports.LAYER_INDEX_DEFAULT_BASE=0;exports.LAYER_INDEX_HIGHLIGHT_OVERLAY=500;exports.LAYER_INDEX_HIGHLIGHT_BASE=1e3;exports.LAYER_INDEX_DIFF_MODE_BASE_PER_PASS=100;const ICON_BY_TYPE={"alpha-r":_alphaR.default,"alpha-t":_alphaT.default,"arrow-collapse-down":_arrowCollapseDown.default,"arrow-collapse-left":_arrowCollapseLeft.default,"arrow-collapse-right":_arrowCollapseRight.default,"arrow-collapse-up":_arrowCollapseUp.default,"arrow-decision":_arrowDecision.default,"arrow-left":_arrowLeft.default,"arrow-right":_arrowRight.default,"arrow-top-left":_arrowTopLeft.default,"arrow-top-right":_arrowTopRight.default,"bus-school":_busSchool.default,"car-brake-alert":_carBrakeAlert.default,"car-parking-lights":_carParkingLights.default,"hazard-lights":_hazardLights.default,"help-circle-outline":_helpCircleOutline.default,"road-variant":_roadVariant.default,"signal-off":_signalOff.default,"robot-outline":_robotOutline.default,"robot-off-outline":_robotOffOutline.default,bike:_bike.default,bus:_bus.default,car:_car.default,DEFAULT:_cubeOutline.default,help:_help.default,motorbike:_motorbike.default,octagon:_octagon.default,train:_train.default,truck:_truck.default,walk:_walk.default};exports.ICON_BY_TYPE=ICON_BY_TYPE},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(25)(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(384),listCacheDelete=__webpack_require__(385),listCacheGet=__webpack_require__(386),listCacheHas=__webpack_require__(387),listCacheSet=__webpack_require__(388);function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},function(module,exports,__webpack_require__){var eq=__webpack_require__(142);module.exports=function(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(390);module.exports=function(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(94);module.exports=function(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Scope})),__webpack_require__.d(__webpack_exports__,"b",(function(){return addGlobalEventProcessor}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_sentry_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(34),_sentry_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_sentry_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),_sentry_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2),Scope=function(){function Scope(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._context={}}return Scope.prototype.addScopeListener=function(callback){this._scopeListeners.push(callback)},Scope.prototype.addEventProcessor=function(callback){return this._eventProcessors.push(callback),this},Scope.prototype._notifyScopeListeners=function(){var _this=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout((function(){_this._scopeListeners.forEach((function(callback){callback(_this)})),_this._notifyingListeners=!1})))},Scope.prototype._notifyEventProcessors=function(processors,event,hint,index){var _this=this;return void 0===index&&(index=0),new _sentry_utils__WEBPACK_IMPORTED_MODULE_1__.a((function(resolve,reject){var processor=processors[index];if(null===event||"function"!=typeof processor)resolve(event);else{var result=processor(tslib__WEBPACK_IMPORTED_MODULE_0__.a({},event),hint);Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_2__.m)(result)?result.then((function(final){return _this._notifyEventProcessors(processors,final,hint,index+1).then(resolve)})).then(null,reject):_this._notifyEventProcessors(processors,result,hint,index+1).then(resolve).then(null,reject)}}))},Scope.prototype.setUser=function(user){return this._user=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_3__.c)(user),this._notifyScopeListeners(),this},Scope.prototype.setTags=function(tags){return this._tags=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._tags,Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_3__.c)(tags)),this._notifyScopeListeners(),this},Scope.prototype.setTag=function(key,value){var _a;return this._tags=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._tags,((_a={})[key]=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_3__.c)(value),_a)),this._notifyScopeListeners(),this},Scope.prototype.setExtras=function(extra){return this._extra=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._extra,Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_3__.c)(extra)),this._notifyScopeListeners(),this},Scope.prototype.setExtra=function(key,extra){var _a;return this._extra=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._extra,((_a={})[key]=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_3__.c)(extra),_a)),this._notifyScopeListeners(),this},Scope.prototype.setFingerprint=function(fingerprint){return this._fingerprint=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_3__.c)(fingerprint),this._notifyScopeListeners(),this},Scope.prototype.setLevel=function(level){return this._level=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_3__.c)(level),this._notifyScopeListeners(),this},Scope.prototype.setTransaction=function(transaction){return this._transaction=transaction,this._notifyScopeListeners(),this},Scope.prototype.setContext=function(name,context){return this._context[name]=context?Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_3__.c)(context):void 0,this._notifyScopeListeners(),this},Scope.prototype.setSpan=function(span){return this._span=span,this._notifyScopeListeners(),this},Scope.prototype.getSpan=function(){return this._span},Scope.clone=function(scope){var newScope=new Scope;return scope&&(newScope._breadcrumbs=tslib__WEBPACK_IMPORTED_MODULE_0__.d(scope._breadcrumbs),newScope._tags=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},scope._tags),newScope._extra=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},scope._extra),newScope._context=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},scope._context),newScope._user=scope._user,newScope._level=scope._level,newScope._span=scope._span,newScope._transaction=scope._transaction,newScope._fingerprint=scope._fingerprint,newScope._eventProcessors=tslib__WEBPACK_IMPORTED_MODULE_0__.d(scope._eventProcessors)),newScope},Scope.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._context={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},Scope.prototype.addBreadcrumb=function(breadcrumb,maxBreadcrumbs){var timestamp=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.m)(),mergedBreadcrumb=tslib__WEBPACK_IMPORTED_MODULE_0__.a({timestamp:timestamp},breadcrumb);return this._breadcrumbs=void 0!==maxBreadcrumbs&&maxBreadcrumbs>=0?tslib__WEBPACK_IMPORTED_MODULE_0__.d(this._breadcrumbs,[Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_3__.c)(mergedBreadcrumb)]).slice(-maxBreadcrumbs):tslib__WEBPACK_IMPORTED_MODULE_0__.d(this._breadcrumbs,[Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_3__.c)(mergedBreadcrumb)]),this._notifyScopeListeners(),this},Scope.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},Scope.prototype._applyFingerprint=function(event){event.fingerprint=event.fingerprint?Array.isArray(event.fingerprint)?event.fingerprint:[event.fingerprint]:[],this._fingerprint&&(event.fingerprint=event.fingerprint.concat(this._fingerprint)),event.fingerprint&&!event.fingerprint.length&&delete event.fingerprint},Scope.prototype.applyToEvent=function(event,hint){return this._extra&&Object.keys(this._extra).length&&(event.extra=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._extra,event.extra)),this._tags&&Object.keys(this._tags).length&&(event.tags=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._tags,event.tags)),this._user&&Object.keys(this._user).length&&(event.user=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._user,event.user)),this._context&&Object.keys(this._context).length&&(event.contexts=tslib__WEBPACK_IMPORTED_MODULE_0__.a({},this._context,event.contexts)),this._level&&(event.level=this._level),this._transaction&&(event.transaction=this._transaction),this._applyFingerprint(event),event.breadcrumbs=tslib__WEBPACK_IMPORTED_MODULE_0__.d(event.breadcrumbs||[],this._breadcrumbs),event.breadcrumbs=event.breadcrumbs.length>0?event.breadcrumbs:void 0,this._notifyEventProcessors(tslib__WEBPACK_IMPORTED_MODULE_0__.d(getGlobalEventProcessors(),this._eventProcessors),event,hint)},Scope}();function getGlobalEventProcessors(){var global=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.g)();return global.__SENTRY__=global.__SENTRY__||{},global.__SENTRY__.globalEventProcessors=global.__SENTRY__.globalEventProcessors||[],global.__SENTRY__.globalEventProcessors}function addGlobalEventProcessor(callback){getGlobalEventProcessors().push(callback)}},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(100);module.exports=function(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}},function(module,exports,__webpack_require__){var baseIsArguments=__webpack_require__(182),isObjectLike=__webpack_require__(12),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(9),stubFalse=__webpack_require__(183),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,isBuffer=(Buffer?Buffer.isBuffer:void 0)||stubFalse;module.exports=isBuffer}).call(this,__webpack_require__(19)(module))},function(module,exports){var reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=function(value,length){var type=typeof value;return!!(length=null==length?9007199254740991:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}},function(module,exports){module.exports=function(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}},function(module,exports,__webpack_require__){(function(module){var freeGlobal=__webpack_require__(102),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,freeProcess=freeModule&&freeModule.exports===freeExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil}).call(this,__webpack_require__(19)(module))},function(module,exports){var objectProto=Object.prototype;module.exports=function(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(101),isLength=__webpack_require__(61);module.exports=function(value){return null!=value&&isLength(value.length)&&!isFunction(value)}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(37),stackClear=__webpack_require__(194),stackDelete=__webpack_require__(195),stackGet=__webpack_require__(196),stackHas=__webpack_require__(197),stackSet=__webpack_require__(198);function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},function(module,exports){module.exports=function(value,other){return value===other||value!=value&&other!=other}},function(module,exports,__webpack_require__){var Map=__webpack_require__(17)(__webpack_require__(9),"Map");module.exports=Map},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(199),mapCacheDelete=__webpack_require__(206),mapCacheGet=__webpack_require__(208),mapCacheHas=__webpack_require__(209),mapCacheSet=__webpack_require__(210);function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},function(module,exports){module.exports=function(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(219),stubArray=__webpack_require__(115),propertyIsEnumerable=Object.prototype.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:stubArray;module.exports=getSymbols},function(module,exports,__webpack_require__){var isArray=__webpack_require__(10),isSymbol=__webpack_require__(72),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=function(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(21),isObjectLike=__webpack_require__(12);module.exports=function(value){return"symbol"==typeof value||isObjectLike(value)&&"[object Symbol]"==baseGetTag(value)}},function(module,exports){module.exports=function(value){return value}},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(57),eq=__webpack_require__(66),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(114),getSymbolsIn=__webpack_require__(119),keysIn=__webpack_require__(120);module.exports=function(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}},function(module,exports,__webpack_require__){var getPrototype=__webpack_require__(106)(Object.getPrototypeOf,Object);module.exports=getPrototype},function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(112);module.exports=function(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}},function(module,exports){module.exports=function(objA,objB,compare,compareContext){var ret=compare?compare.call(compareContext,objA,objB):void 0;if(void 0!==ret)return!!ret;if(objA===objB)return!0;if("object"!=typeof objA||!objA||"object"!=typeof objB||!objB)return!1;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(var bHasOwnProperty=Object.prototype.hasOwnProperty.bind(objB),idx=0;idx<keysA.length;idx++){var key=keysA[idx];if(!bHasOwnProperty(key))return!1;var valueA=objA[key],valueB=objB[key];if(!1===(ret=compare?compare.call(compareContext,valueA,valueB,key):void 0)||void 0===ret&&valueA!==valueB)return!1}return!0}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendIconTypeDeprecatedNotification=sendIconTypeDeprecatedNotification,exports.default=exports.getIconName=exports.DEFAULT_TEXT_COLOR=void 0;var _react=_interopRequireDefault(__webpack_require__(0)),_index=__webpack_require__(6),_Pose=__webpack_require__(45),_sendNotification=_interopRequireDefault(__webpack_require__(80));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const DEFAULT_TEXT_COLOR={r:1,g:1,b:1,a:1};exports.DEFAULT_TEXT_COLOR=DEFAULT_TEXT_COLOR;let sentNotification=!1;function sendIconTypeDeprecatedNotification(){sentNotification||((0,_sendNotification.default)("Deprecated icon_type usage","icon_type has been deprecated. Use 'icon_types' instead. Example format: 'iconTypes: [{icon_type: 'arrow-left', color: {r: 1, g: 1, b: 1, a: 1}}]'","user","warn"),sentNotification=!0)}const getIconName=icon=>{var _icon$interactionData;return JSON.stringify([null===(_icon$interactionData=icon.interactionData)||void 0===_icon$interactionData?void 0:_icon$interactionData.topic,icon.ns,icon.id])};exports.getIconName=getIconName;const projectItem=({item:item,item:{metadata:metadata={},icon_type:icon_type},coordinates:coordinates,dimension:{width:width,height:height}})=>{if(!coordinates)return null;const[left,top]=coordinates;if(left<-10||top<-10||left>width+10||top>height+10)return null;const name=getIconName(item),markerStyle=metadata.markerStyle||{};let iconTypes=metadata.icon_types;const iconType=icon_type||metadata.icon_type;return!iconTypes&&iconType&&(sendIconTypeDeprecatedNotification(),iconTypes=[{icon_type:iconType,color:item.color}]),iconTypes&&iconTypes.length>0?function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}({textColor:item.color||DEFAULT_TEXT_COLOR,name:name,coordinates:coordinates,dimension:{width:width,height:height},text:item.text,markerStyle:markerStyle},metadata.iconOffset?{iconOffset:metadata.iconOffset}:void 0,{iconTypes:iconTypes}):void 0};var _default=props=>{const{children:children,setOverlayIcons:setOverlayIcons}=props,renderItems=[],nonEmptyChildren=0===children.length?[{pose:(0,_Pose.emptyPose)(),dummy:!0}]:children;return _react.default.createElement(_index.Overlay,{renderItem:({item:item,index:index,coordinates:coordinates,dimension:dimension})=>(0===index&&(renderItems.length=0),"dummy"in item||renderItems.push(projectItem({item:item,coordinates:coordinates,dimension:dimension})),index===nonEmptyChildren.length-1&&setOverlayIcons({renderItems:renderItems.filter(Boolean),sceneBuilderDrawables:children}),null)},nonEmptyChildren)};exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setNotificationHandler=setNotificationHandler,exports.unsetNotificationHandler=function(){if(addNotification===defaultNotificationHandler)throw new Error("Tried to unset NotificationHandler but it was already the default");addNotification=defaultNotificationHandler},exports.detailsToString=function(details){if("string"==typeof details)return details;if(details instanceof Error)return details.toString();return"unable to convert details to string type"},exports.default=sendNotification;var Sentry=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,newObj}(__webpack_require__(511)),_types=__webpack_require__(15),_errors=__webpack_require__(305),_workers=__webpack_require__(306);const defaultNotificationHandler=(message,details,type,severity)=>{if((0,_workers.inWebWorker)())console.error("Notification before error display is mounted",message,details,type);else{const webWorkerError="Web Worker has uninitialized sendNotification function; this means this error message cannot show up in the UI (so we show it here in the console instead).";("error"===severity?console.error:"warn"===severity?console.warn:console.info)(webWorkerError,message,details,type)}};let addNotification=defaultNotificationHandler;function setNotificationHandler(handler){if(addNotification!==defaultNotificationHandler)throw new Error("Tried to overwrite existing NotificationHandler");addNotification=handler}function sendNotification(message,details,type,severity){if(addNotification(message,details,type,severity),"app"===type){const sentrySeverity="error"===severity?_types.Severity.Error:"warn"===severity?_types.Severity.Warning:null;sentrySeverity&&Sentry.captureException(new _errors.AppError(details,message),sentrySeverity)}}"undefined"!=typeof window&&(window.setNotificationHandler=setNotificationHandler),sendNotification.expectCalledDuringTest=()=>{}},function(module,exports,__webpack_require__){var factory;"undefined"!=typeof self&&self,factory=function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s="./src/web/index.js")}({"./node_modules/base64-js/index.js":function(module,exports,__webpack_require__){"use strict";exports.byteLength=function(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function(b64){for(var tmp,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(function(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(0,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen,i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;return 2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp),1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp),arr},exports.fromByteArray=function(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));return 1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"=")),parts.join("")};for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var validLen=b64.indexOf("=");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function encodeChunk(uint8,start,end){for(var tmp,num,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(lookup[(num=tmp)>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]);return output.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},"./node_modules/heap/index.js":function(module,exports,__webpack_require__){module.exports=__webpack_require__("./node_modules/heap/lib/heap.js")},"./node_modules/heap/lib/heap.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(){var Heap,defaultCmp,floor,heapify,heappop,heappush,heappushpop,heapreplace,insort,min,nlargest,nsmallest,updateItem,_siftdown,_siftup;floor=Math.floor,min=Math.min,defaultCmp=function(x,y){return x<y?-1:x>y?1:0},insort=function(a,x,lo,hi,cmp){var mid;if(null==lo&&(lo=0),null==cmp&&(cmp=defaultCmp),lo<0)throw new Error("lo must be non-negative");for(null==hi&&(hi=a.length);lo<hi;)cmp(x,a[mid=floor((lo+hi)/2)])<0?hi=mid:lo=mid+1;return[].splice.apply(a,[lo,lo-lo].concat(x)),x},heappush=function(array,item,cmp){return null==cmp&&(cmp=defaultCmp),array.push(item),_siftdown(array,0,array.length-1,cmp)},heappop=function(array,cmp){var lastelt,returnitem;return null==cmp&&(cmp=defaultCmp),lastelt=array.pop(),array.length?(returnitem=array[0],array[0]=lastelt,_siftup(array,0,cmp)):returnitem=lastelt,returnitem},heapreplace=function(array,item,cmp){var returnitem;return null==cmp&&(cmp=defaultCmp),returnitem=array[0],array[0]=item,_siftup(array,0,cmp),returnitem},heappushpop=function(array,item,cmp){var _ref;return null==cmp&&(cmp=defaultCmp),array.length&&cmp(array[0],item)<0&&(item=(_ref=[array[0],item])[0],array[0]=_ref[1],_siftup(array,0,cmp)),item},heapify=function(array,cmp){var i,_i,_len,_ref1,_results,_results1;for(null==cmp&&(cmp=defaultCmp),_results=[],_i=0,_len=(_ref1=function(){_results1=[];for(var _j=0,_ref=floor(array.length/2);0<=_ref?_j<_ref:_j>_ref;0<=_ref?_j++:_j--)_results1.push(_j);return _results1}.apply(this).reverse()).length;_i<_len;_i++)i=_ref1[_i],_results.push(_siftup(array,i,cmp));return _results},updateItem=function(array,item,cmp){var pos;if(null==cmp&&(cmp=defaultCmp),-1!==(pos=array.indexOf(item)))return _siftdown(array,0,pos,cmp),_siftup(array,pos,cmp)},nlargest=function(array,n,cmp){var elem,result,_i,_len,_ref;if(null==cmp&&(cmp=defaultCmp),!(result=array.slice(0,n)).length)return result;for(heapify(result,cmp),_i=0,_len=(_ref=array.slice(n)).length;_i<_len;_i++)elem=_ref[_i],heappushpop(result,elem,cmp);return result.sort(cmp).reverse()},nsmallest=function(array,n,cmp){var elem,los,result,_i,_j,_len,_ref,_ref1,_results;if(null==cmp&&(cmp=defaultCmp),10*n<=array.length){if(!(result=array.slice(0,n).sort(cmp)).length)return result;for(los=result[result.length-1],_i=0,_len=(_ref=array.slice(n)).length;_i<_len;_i++)cmp(elem=_ref[_i],los)<0&&(insort(result,elem,0,null,cmp),result.pop(),los=result[result.length-1]);return result}for(heapify(array,cmp),_results=[],_j=0,_ref1=min(n,array.length);0<=_ref1?_j<_ref1:_j>_ref1;0<=_ref1?++_j:--_j)_results.push(heappop(array,cmp));return _results},_siftdown=function(array,startpos,pos,cmp){var newitem,parent,parentpos;for(null==cmp&&(cmp=defaultCmp),newitem=array[pos];pos>startpos&&cmp(newitem,parent=array[parentpos=pos-1>>1])<0;)array[pos]=parent,pos=parentpos;return array[pos]=newitem},_siftup=function(array,pos,cmp){var childpos,endpos,newitem,rightpos,startpos;for(null==cmp&&(cmp=defaultCmp),endpos=array.length,startpos=pos,newitem=array[pos],childpos=2*pos+1;childpos<endpos;)(rightpos=childpos+1)<endpos&&!(cmp(array[childpos],array[rightpos])<0)&&(childpos=rightpos),array[pos]=array[childpos],childpos=2*(pos=childpos)+1;return array[pos]=newitem,_siftdown(array,startpos,pos,cmp)},Heap=function(){function Heap(cmp){this.cmp=null!=cmp?cmp:defaultCmp,this.nodes=[]}return Heap.push=heappush,Heap.pop=heappop,Heap.replace=heapreplace,Heap.pushpop=heappushpop,Heap.heapify=heapify,Heap.updateItem=updateItem,Heap.nlargest=nlargest,Heap.nsmallest=nsmallest,Heap.prototype.push=function(x){return heappush(this.nodes,x,this.cmp)},Heap.prototype.pop=function(){return heappop(this.nodes,this.cmp)},Heap.prototype.peek=function(){return this.nodes[0]},Heap.prototype.contains=function(x){return-1!==this.nodes.indexOf(x)},Heap.prototype.replace=function(x){return heapreplace(this.nodes,x,this.cmp)},Heap.prototype.pushpop=function(x){return heappushpop(this.nodes,x,this.cmp)},Heap.prototype.heapify=function(){return heapify(this.nodes,this.cmp)},Heap.prototype.updateItem=function(x){return updateItem(this.nodes,x,this.cmp)},Heap.prototype.clear=function(){return this.nodes=[]},Heap.prototype.empty=function(){return 0===this.nodes.length},Heap.prototype.size=function(){return this.nodes.length},Heap.prototype.clone=function(){var heap;return(heap=new Heap).nodes=this.nodes.slice(0),heap},Heap.prototype.toArray=function(){return this.nodes.slice(0)},Heap.prototype.insert=Heap.prototype.push,Heap.prototype.top=Heap.prototype.peek,Heap.prototype.front=Heap.prototype.peek,Heap.prototype.has=Heap.prototype.contains,Heap.prototype.copy=Heap.prototype.clone,Heap}(),__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){return Heap})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this)},"./node_modules/ieee754/index.js":function(module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},"./node_modules/int53/index.js":function(module,exports){var int53={};function assert(test,message){if(!test)throw new Error(message)}function onesComplement(number){return(number=~number)<0&&(number=2147483648+(2147483647&number)),number}function uintHighLow(number){assert(number>-1&&number<=9007199254740991,"number out of range"),assert(Math.floor(number)===number,"number must be an integer");var high=0,signbit=4294967295&number,low=signbit<0?2147483648+(2147483647&number):signbit;return number>4294967295&&(high=(number-low)/4294967296),[high,low]}function intHighLow(number){if(number>-1)return uintHighLow(number);var hl=uintHighLow(-number),high=onesComplement(hl[0]),low=onesComplement(hl[1]);return 4294967295===low?(high+=1,low=0):low+=1,[high,low]}function toDouble(high,low,signed){return signed&&0!=(2147483648&high)?(high=onesComplement(high),low=onesComplement(low),assert(high<2097152,"number too small"),-(4294967296*high+low+1)):(assert(high<2097152,"number too large"),4294967296*high+low)}int53.readInt64BE=function(buffer,offset){return offset=offset||0,toDouble(buffer.readUInt32BE(offset),buffer.readUInt32BE(offset+4),!0)},int53.readInt64LE=function(buffer,offset){offset=offset||0;var low=buffer.readUInt32LE(offset);return toDouble(buffer.readUInt32LE(offset+4),low,!0)},int53.readUInt64BE=function(buffer,offset){return offset=offset||0,toDouble(buffer.readUInt32BE(offset),buffer.readUInt32BE(offset+4),!1)},int53.readUInt64LE=function(buffer,offset){offset=offset||0;var low=buffer.readUInt32LE(offset);return toDouble(buffer.readUInt32LE(offset+4),low,!1)},int53.writeInt64BE=function(number,buffer,offset){offset=offset||0;var hl=intHighLow(number);buffer.writeUInt32BE(hl[0],offset),buffer.writeUInt32BE(hl[1],offset+4)},int53.writeInt64LE=function(number,buffer,offset){offset=offset||0;var hl=intHighLow(number);buffer.writeUInt32LE(hl[1],offset),buffer.writeUInt32LE(hl[0],offset+4)},int53.writeUInt64BE=function(number,buffer,offset){offset=offset||0;var hl=uintHighLow(number);buffer.writeUInt32BE(hl[0],offset),buffer.writeUInt32BE(hl[1],offset+4)},int53.writeUInt64LE=function(number,buffer,offset){offset=offset||0;var hl=uintHighLow(number);buffer.writeUInt32LE(hl[1],offset),buffer.writeUInt32LE(hl[0],offset+4)},module.exports=int53},"./node_modules/isarray/index.js":function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},"./node_modules/node-libs-browser/node_modules/buffer/index.js":function(module,exports,__webpack_require__){"use strict";(function(global){var base64=__webpack_require__("./node_modules/base64-js/index.js"),ieee754=__webpack_require__("./node_modules/ieee754/index.js"),isArray=__webpack_require__("./node_modules/isarray/index.js");function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length)).__proto__=Buffer.prototype:(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?function(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");return array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Buffer.TYPED_ARRAY_SUPPORT?(that=array).__proto__=Buffer.prototype:that=fromArrayLike(that,array),that}(that,value,encodingOrOffset,length):"string"==typeof value?function(that,string,encoding){if("string"==typeof encoding&&""!==encoding||(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding),actual=(that=createBuffer(that,length)).write(string,encoding);return actual!==length&&(that=that.slice(0,actual)),that}(that,value,encodingOrOffset):function(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return 0===(that=createBuffer(that,len)).length||obj.copy(that,0,0,len),that}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||(val=obj.length)!=val?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}var val;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(size<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if((end>>>=0)<=(start>>>=0))return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;if(strLen%2!=0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function(codePoints){var len=codePoints.length;if(len<=4096)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=4096));return res}(res)}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var n,len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=(n=buf[i])<16?"0"+n.toString(16):n.toString(16);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}exports.Buffer=Buffer,exports.SlowBuffer=function(length){return+length!=length&&(length=0),Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return function(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(this===target)return 0;for(var x=(thisEnd>>>=0)-(thisStart>>>=0),y=(end>>>=0)-(start>>>=0),len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.slice=function(start,end){var newBuf,len=this.length;if((start=~~start)<0?(start+=len)<0&&(start=0):start>len&&(start=len),(end=void 0===end?len:~~end)<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start),Buffer.TYPED_ARRAY_SUPPORT)(newBuf=this.subarray(start,end)).__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){value=+value,offset|=0,byteLength|=0,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){value=+value,offset|=0,byteLength|=0,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),"number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function(str){if((str=function(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}(str).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/process/browser.js":function(module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},"./node_modules/setimmediate/setImmediate.js":function(module,exports,__webpack_require__){(function(global,process){!function(global,undefined){"use strict";if(!global.setImmediate){var registerImmediate,html,channel,messagePrefix,onGlobalMessage,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,"[object process]"==={}.toString.call(global.process)?registerImmediate=function(handle){process.nextTick((function(){runIfPresent(handle)}))}:function(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage("","*"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}()?(messagePrefix="setImmediate$"+Math.random()+"$",onGlobalMessage=function(event){event.source===global&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))},global.addEventListener?global.addEventListener("message",onGlobalMessage,!1):global.attachEvent("onmessage",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}):global.MessageChannel?((channel=new MessageChannel).port1.onmessage=function(event){runIfPresent(event.data)},registerImmediate=function(handle){channel.port2.postMessage(handle)}):doc&&"onreadystatechange"in doc.createElement("script")?(html=doc.documentElement,registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}):registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)},attachTo.setImmediate=function(callback){"function"!=typeof callback&&(callback=new Function(""+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++},attachTo.clearImmediate=clearImmediate}function clearImmediate(handle){delete tasksByHandle[handle]}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{!function(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(void 0,args)}}(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}}("undefined"==typeof self?void 0===global?this:global:self)}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"),__webpack_require__("./node_modules/process/browser.js"))},"./node_modules/timers-browserify/main.js":function(module,exports,__webpack_require__){(function(global){var scope=void 0!==global&&global||"undefined"!=typeof self&&self||window,apply=Function.prototype.apply;function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,scope,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,scope,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout&&timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(scope,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout((function(){item._onTimeout&&item._onTimeout()}),msecs))},__webpack_require__("./node_modules/setimmediate/setImmediate.js"),exports.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==global&&global.setImmediate||this&&this.setImmediate,exports.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==global&&global.clearImmediate||this&&this.clearImmediate}).call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},"./src/BagReader.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(setImmediate){__webpack_require__.d(__webpack_exports__,"default",(function(){return BagReader}));var _header__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/header.js"),_nmerge__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/nmerge.js"),_record__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/record.js"),_TimeUtil__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/TimeUtil.js");function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class BagReader{constructor(filelike){_defineProperty(this,"_lastReadResult",void 0),_defineProperty(this,"_file",void 0),_defineProperty(this,"_lastChunkInfo",void 0),this._file=filelike,this._lastChunkInfo=void 0}verifyBagHeader(callback,next){this._file.read(0,13,(error,buffer)=>error||!buffer?callback(error||new Error("Missing both error and buffer")):this._file.size()<13?callback(new Error("Missing file header.")):"#ROSBAG V2.0\n"!==buffer.toString()?callback(new Error("Cannot identify bag format.")):void next())}readHeader(callback){this.verifyBagHeader(callback,()=>this._file.read(13,4096,(error,buffer)=>{if(error||!buffer)return callback(error||new Error("Missing both error and buffer"));const read=buffer.length;if(read<8)return callback(new Error("Record at position 13 is truncated."));const headerLength=buffer.readInt32LE(0);if(read<headerLength+8)return callback(new Error(`Record at position 13 header too large: ${headerLength}.`));try{const header=this.readRecordFromBuffer(buffer,13,_record__WEBPACK_IMPORTED_MODULE_2__.BagHeader);return callback(null,header)}catch(e){return callback(new Error("Could not read header from rosbag file buffer - "+e.message))}}))}readHeaderAsync(){return new Promise((resolve,reject)=>this.readHeader((err,header)=>err||!header?reject(err):resolve(header)))}readConnectionsAndChunkInfo(fileOffset,connectionCount,chunkCount,callback){this._file.read(fileOffset,this._file.size()-fileOffset,(err,buffer)=>{if(err||!buffer)return callback(err||new Error("Missing both error and buffer"));if(0===connectionCount)return callback(null,{connections:[],chunkInfos:[]});const connections=this.readRecordsFromBuffer(buffer,connectionCount,fileOffset,_record__WEBPACK_IMPORTED_MODULE_2__.Connection),connectionBlockLength=connections[connectionCount-1].end-connections[0].offset,chunkInfos=this.readRecordsFromBuffer(buffer.slice(connectionBlockLength),chunkCount,fileOffset+connectionBlockLength,_record__WEBPACK_IMPORTED_MODULE_2__.ChunkInfo);if(chunkCount>0){for(let i=0;i<chunkCount-1;i++)chunkInfos[i].nextChunk=chunkInfos[i+1];chunkInfos[chunkCount-1].nextChunk=null}return callback(null,{connections:connections,chunkInfos:chunkInfos})})}readConnectionsAndChunkInfoAsync(fileOffset,connectionCount,chunkCount){return new Promise((resolve,reject)=>{this.readConnectionsAndChunkInfo(fileOffset,connectionCount,chunkCount,(err,result)=>err||!result?reject(err):resolve(result))})}readChunkMessages(chunkInfo,connections,startTime,endTime,decompress,callback){const start=startTime||{sec:0,nsec:0},end=endTime||{sec:Number.MAX_VALUE,nsec:Number.MAX_VALUE},conns=connections||chunkInfo.connections.map(connection=>connection.conn);this.readChunk(chunkInfo,decompress,(error,result)=>{if(error||!result)return callback(error||new Error("Missing both error and result"));const chunk=result.chunk,indices={};result.indices.forEach(index=>{indices[index.conn]=index});const iterables=conns.filter(conn=>void 0!==indices[conn]).map(conn=>indices[conn].indices[Symbol.iterator]()),iter=Object(_nmerge__WEBPACK_IMPORTED_MODULE_1__.default)((a,b)=>_TimeUtil__WEBPACK_IMPORTED_MODULE_3__.compare(a.time,b.time),...iterables),entries=[];let item=iter.next();for(;!item.done;){const{value:value}=item;if(item=iter.next(),value&&!_TimeUtil__WEBPACK_IMPORTED_MODULE_3__.isGreaterThan(start,value.time)){if(_TimeUtil__WEBPACK_IMPORTED_MODULE_3__.isGreaterThan(value.time,end))break;entries.push(value)}}const messages=entries.map(entry=>this.readRecordFromBuffer(chunk.data.slice(entry.offset),chunk.dataOffset,_record__WEBPACK_IMPORTED_MODULE_2__.MessageData));return callback(null,messages)})}readChunkMessagesAsync(chunkInfo,connections,startTime,endTime,decompress){return new Promise((resolve,reject)=>{this.readChunkMessages(chunkInfo,connections,startTime,endTime,decompress,(err,messages)=>err||!messages?reject(err):resolve(messages))})}readChunk(chunkInfo,decompress,callback){if(chunkInfo===this._lastChunkInfo&&this._lastReadResult){const lastReadResult=this._lastReadResult;return setImmediate(()=>callback(null,lastReadResult))}const{nextChunk:nextChunk}=chunkInfo,readLength=nextChunk?nextChunk.chunkPosition-chunkInfo.chunkPosition:this._file.size()-chunkInfo.chunkPosition;this._file.read(chunkInfo.chunkPosition,readLength,(err,buffer)=>{if(err||!buffer)return callback(err||new Error("Missing both error and buffer"));const chunk=this.readRecordFromBuffer(buffer,chunkInfo.chunkPosition,_record__WEBPACK_IMPORTED_MODULE_2__.Chunk),{compression:compression}=chunk;if("none"!==compression){const decompressFn=decompress[compression];if(!decompressFn)return callback(new Error("Unsupported compression type "+chunk.compression));const result=decompressFn(chunk.data,chunk.size);chunk.data=result}const indices=this.readRecordsFromBuffer(buffer.slice(chunk.length),chunkInfo.count,chunkInfo.chunkPosition+chunk.length,_record__WEBPACK_IMPORTED_MODULE_2__.IndexData);return this._lastChunkInfo=chunkInfo,this._lastReadResult={chunk:chunk,indices:indices},callback(null,this._lastReadResult)})}readRecordsFromBuffer(buffer,count,fileOffset,cls){const records=[];let bufferOffset=0;for(let i=0;i<count;i++){const record=this.readRecordFromBuffer(buffer.slice(bufferOffset),fileOffset+bufferOffset,cls);bufferOffset+=record.end-record.offset,records.push(record)}return records}readRecordFromBuffer(buffer,fileOffset,cls){const headerLength=buffer.readInt32LE(0),record=Object(_header__WEBPACK_IMPORTED_MODULE_0__.parseHeader)(buffer.slice(4,4+headerLength),cls),dataOffset=4+headerLength+4,dataLength=buffer.readInt32LE(4+headerLength),data=buffer.slice(dataOffset,dataOffset+dataLength);return record.parseData(data),record.offset=fileOffset,record.dataOffset=record.offset+4+headerLength+4,record.end=record.dataOffset+dataLength,record.length=record.end-record.offset,record}}}.call(this,__webpack_require__("./node_modules/timers-browserify/main.js").setImmediate)},"./src/MessageReader.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(global){__webpack_require__.d(__webpack_exports__,"MessageReader",(function(){return MessageReader}));var int53__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/int53/index.js"),int53__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(int53__WEBPACK_IMPORTED_MODULE_0__),_fields__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/fields.js"),_parseMessageDefinition__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/parseMessageDefinition.js");function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class StandardTypeReader{constructor(buffer){_defineProperty(this,"buffer",void 0),_defineProperty(this,"offset",void 0),_defineProperty(this,"view",void 0),_defineProperty(this,"_decoder",void 0),_defineProperty(this,"_decoderStatus","NOT_INITIALIZED"),this.buffer=buffer,this.offset=0,this.view=new DataView(buffer.buffer,buffer.byteOffset)}_intializeTextDecoder(){if(void 0!==global.TextDecoder)try{this._decoder=new global.TextDecoder("ascii"),this._decoderStatus="INITIALIZED"}catch(e){this._decoderStatus="NOT_AVAILABLE"}else this._decoderStatus="NOT_AVAILABLE"}json(){const resultString=this.string();try{return JSON.parse(resultString)}catch(_unused){return"Could not parse "+resultString}}string(){const len=this.int32(),codePoints=new Uint8Array(this.buffer.buffer,this.buffer.byteOffset+this.offset,len);if(this.offset+=len,codePoints.length<1e3)return String.fromCharCode.apply(null,codePoints);if("NOT_INITIALIZED"===this._decoderStatus&&this._intializeTextDecoder(),this._decoder)return this._decoder.decode(codePoints);let data="";for(let i=0;i<len;i++)data+=String.fromCharCode(codePoints[i]);return data}bool(){return 0!==this.uint8()}int8(){return this.view.getInt8(this.offset++)}uint8(){return this.view.getUint8(this.offset++)}typedArray(len,arrayType){const arrayLength=null==len?this.uint32():len,data=new arrayType(this.view.buffer,this.offset+this.view.byteOffset,arrayLength);return this.offset+=arrayLength,data}int16(){const result=this.view.getInt16(this.offset,!0);return this.offset+=2,result}uint16(){const result=this.view.getUint16(this.offset,!0);return this.offset+=2,result}int32(){const result=this.view.getInt32(this.offset,!0);return this.offset+=4,result}uint32(){const result=this.view.getUint32(this.offset,!0);return this.offset+=4,result}float32(){const result=this.view.getFloat32(this.offset,!0);return this.offset+=4,result}float64(){const result=this.view.getFloat64(this.offset,!0);return this.offset+=8,result}int64(){const offset=this.offset;return this.offset+=8,int53__WEBPACK_IMPORTED_MODULE_0___default.a.readInt64LE(this.buffer,offset)}uint64(){const offset=this.offset;return this.offset+=8,int53__WEBPACK_IMPORTED_MODULE_0___default.a.readUInt64LE(this.buffer,offset)}time(){const offset=this.offset;return this.offset+=8,Object(_fields__WEBPACK_IMPORTED_MODULE_1__.extractTime)(this.buffer,offset)}duration(){const offset=this.offset;return this.offset+=8,Object(_fields__WEBPACK_IMPORTED_MODULE_1__.extractTime)(this.buffer,offset)}}const findTypeByName=(types,name="")=>{let foundName="";const matches=types.filter(type=>{const typeName=type.name||"";if(!name)return!typeName;const nameEnd=name.indexOf("/")>-1?name:"/"+name;return!!typeName.endsWith(nameEnd)&&(foundName=typeName,!0)});if(1!==matches.length)throw new Error(`Expected 1 top level type definition for '${name}' but found ${matches.length}.`);return{...matches[0],name:foundName}},friendlyName=name=>name.replace(/\//g,"_"),createParser=(types,freeze)=>{const unnamedTypes=types.filter(type=>!type.name);if(1!==unnamedTypes.length)throw new Error("multiple unnamed types");const[unnamedType]=unnamedTypes,namedTypes=types.filter(type=>!!type.name),constructorBody=type=>{const readerLines=[];return type.definitions.forEach(def=>{if(!def.isConstant)if(def.isArray){if("uint8"===def.type||"int8"===def.type){const arrayType="uint8"===def.type?"Uint8Array":"Int8Array";return void readerLines.push(`this.${def.name} = reader.typedArray(${String(def.arrayLength)}, ${arrayType});`)}const lenField="length_"+def.name;readerLines.push(`var ${lenField} = ${def.arrayLength?def.arrayLength:"reader.uint32();"}`);const arrayName="this."+def.name;if(readerLines.push(`${arrayName} = new Array(${lenField})`),readerLines.push(`for (var i = 0; i < ${lenField}; i++) {`),def.isComplex){const defType=findTypeByName(types,def.type);readerLines.push(`  ${arrayName}[i] = new Record.${friendlyName(defType.name)}(reader);`)}else readerLines.push(`  ${arrayName}[i] = reader.${def.type}();`);readerLines.push("}")}else if(def.isComplex){const defType=findTypeByName(types,def.type);readerLines.push(`this.${def.name} = new Record.${friendlyName(defType.name)}(reader);`)}else readerLines.push(`this.${def.name} = reader.${def.type}();`)}),freeze&&readerLines.push("Object.freeze(this);"),readerLines.join("\n    ")};let js=`\n  var Record = function (reader) {\n    ${constructorBody(unnamedType)}\n  };\n`,_read;namedTypes.forEach(t=>{js+=`\n  Record.${friendlyName(t.name)} = function(reader) {\n    ${constructorBody(t)}\n  };\n`}),js+="\n  return function read(reader) {\n    return new Record(reader);\n  };";try{_read=eval(`(function buildReader() { ${js} })()`)}catch(e){throw console.error("error building parser:",js),e}return function(buffer){const reader=new StandardTypeReader(buffer);return _read(reader)}};class MessageReader{constructor(definitions,options={}){_defineProperty(this,"reader",void 0);let parsedDefinitions=definitions;"string"==typeof parsedDefinitions&&(console.warn("Passing string message defintions to MessageReader is deprecated. Instead call `parseMessageDefinition` on it and pass in the resulting parsed message definition object."),parsedDefinitions=Object(_parseMessageDefinition__WEBPACK_IMPORTED_MODULE_2__.parseMessageDefinition)(parsedDefinitions)),this.reader=createParser(parsedDefinitions,!!options.freeze)}readMessage(buffer){return this.reader(buffer)}}}.call(this,__webpack_require__("./node_modules/webpack/buildin/global.js"))},"./src/MessageWriter.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(Buffer){__webpack_require__.d(__webpack_exports__,"MessageWriter",(function(){return MessageWriter}));var int53__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/int53/index.js"),int53__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(int53__WEBPACK_IMPORTED_MODULE_0__);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function writeTime(time,buffer,offset){buffer.writeUInt32LE(time.sec,offset),buffer.writeUInt32LE(time.nsec,offset+4)}class StandardTypeOffsetCalculator{constructor(){_defineProperty(this,"offset",0)}_incrementAndReturn(byteCount){const offset=this.offset;return this.offset+=byteCount,offset}json(value){return this.string(JSON.stringify(value))}string(value){const length=4+value.length;return this._incrementAndReturn(length)}bool(){return this.uint8()}int8(){return this._incrementAndReturn(1)}uint8(){return this._incrementAndReturn(1)}int16(){return this._incrementAndReturn(2)}uint16(){return this._incrementAndReturn(2)}int32(){return this._incrementAndReturn(4)}uint32(){return this._incrementAndReturn(4)}float32(){return this._incrementAndReturn(4)}float64(){return this._incrementAndReturn(8)}int64(){return this._incrementAndReturn(8)}uint64(){return this._incrementAndReturn(8)}time(){return this._incrementAndReturn(8)}duration(){return this._incrementAndReturn(8)}}class StandardTypeWriter{constructor(buffer){_defineProperty(this,"buffer",void 0),_defineProperty(this,"view",void 0),_defineProperty(this,"offsetCalculator",void 0),this.buffer=buffer,this.view=new DataView(buffer.buffer,buffer.byteOffset),this.offsetCalculator=new StandardTypeOffsetCalculator}json(value){this.string(JSON.stringify(value))}string(value){const stringOffset=this.offsetCalculator.string(value);this.view.setInt32(stringOffset,value.length,!0),this.buffer.write(value,stringOffset+4,value.length,"ascii")}bool(value){this.uint8(value?1:0)}int8(value){this.view.setInt8(this.offsetCalculator.int8(),value)}uint8(value){this.view.setUint8(this.offsetCalculator.uint8(),value)}int16(value){this.view.setInt16(this.offsetCalculator.int16(),value,!0)}uint16(value){this.view.setUint16(this.offsetCalculator.uint16(),value,!0)}int32(value){this.view.setInt32(this.offsetCalculator.int32(),value,!0)}uint32(value){this.view.setUint32(this.offsetCalculator.uint32(),value,!0)}float32(value){this.view.setFloat32(this.offsetCalculator.float32(),value,!0)}float64(value){this.view.setFloat64(this.offsetCalculator.float64(),value,!0)}int64(value){int53__WEBPACK_IMPORTED_MODULE_0___default.a.writeInt64LE(value,this.buffer,this.offsetCalculator.int64())}uint64(value){int53__WEBPACK_IMPORTED_MODULE_0___default.a.writeUInt64LE(value,this.buffer,this.offsetCalculator.uint64())}time(time){writeTime(time,this.buffer,this.offsetCalculator.time())}duration(time){writeTime(time,this.buffer,this.offsetCalculator.time())}}const findTypeByName=(types,name="")=>{let foundName="";const matches=types.filter(type=>{const typeName=type.name||"";if(!name)return!typeName;const nameEnd=name.indexOf("/")>-1?name:"/"+name;return!!typeName.endsWith(nameEnd)&&(foundName=typeName,!0)});if(1!==matches.length)throw new Error(`Expected 1 top level type definition for '${name}' but found ${matches.length}.`);return{...matches[0],name:foundName}},friendlyName=name=>name.replace(/\//g,"_");function createWriterAndSizeCalculator(types){const unnamedTypes=types.filter(type=>!type.name);if(1!==unnamedTypes.length)throw new Error("multiple unnamed types");const[unnamedType]=unnamedTypes,namedTypes=types.filter(type=>!!type.name),constructorBody=(type,argName)=>{const lines=[];return type.definitions.forEach(def=>{if(def.isConstant)return;const accessMessageField=`message["${def.name}"]`;if(def.isArray){const lenField="length_"+def.name;if(def.arrayLength?lines.push(`var ${lenField} = ${def.arrayLength};`):(lines.push(`var ${lenField} = ${accessMessageField}.length;`),lines.push(`${argName}.uint32(${lenField});`)),lines.push(`for (var i = 0; i < ${lenField}; i++) {`),def.isComplex){const defType=findTypeByName(types,def.type);lines.push(`  ${friendlyName(defType.name)}(${argName}, ${accessMessageField}[i]);`)}else lines.push(`  ${argName}.${def.type}(${accessMessageField}[i]);`);lines.push("}")}else if(def.isComplex){const defType=findTypeByName(types,def.type);lines.push(`${friendlyName(defType.name)}(${argName}, ${accessMessageField});`)}else lines.push(`${argName}.${def.type}(${accessMessageField});`)}),lines.join("\n    ")};let writerJs="",calculateSizeJs="",_write,_calculateSize;namedTypes.forEach(t=>{writerJs+=`\n  function ${friendlyName(t.name)}(writer, message) {\n    ${constructorBody(t,"writer")}\n  };\n`,calculateSizeJs+=`\n  function ${friendlyName(t.name)}(offsetCalculator, message) {\n    ${constructorBody(t,"offsetCalculator")}\n  };\n`}),writerJs+=`\n  return function write(writer, message) {\n    ${constructorBody(unnamedType,"writer")}\n    return writer.buffer;\n  };`,calculateSizeJs+=`\n  return function calculateSize(offsetCalculator, message) {\n    ${constructorBody(unnamedType,"offsetCalculator")}\n    return offsetCalculator.offset;\n  };`;try{_write=eval(`(function buildWriter() { ${writerJs} })()`)}catch(e){throw console.error("error building writer:",writerJs),e}try{_calculateSize=eval(`(function buildSizeCalculator() { ${calculateSizeJs} })()`)}catch(e){throw console.error("error building size calculator:",calculateSizeJs),e}return{writer:function(message,buffer){const writer=new StandardTypeWriter(buffer);return _write(writer,message)},bufferSizeCalculator(message){const offsetCalculator=new StandardTypeOffsetCalculator;return _calculateSize(offsetCalculator,message)}}}class MessageWriter{constructor(definitions){_defineProperty(this,"writer",void 0),_defineProperty(this,"bufferSizeCalculator",void 0);const{writer:writer,bufferSizeCalculator:bufferSizeCalculator}=createWriterAndSizeCalculator(definitions);this.writer=writer,this.bufferSizeCalculator=bufferSizeCalculator}calculateBufferSize(message){return this.bufferSizeCalculator(message)}writeMessage(message,bufferToWrite){let buffer=bufferToWrite;if(!buffer){const bufferSize=this.calculateBufferSize(message);buffer=Buffer.allocUnsafe(bufferSize)}return this.writer(message,buffer)}}}.call(this,__webpack_require__("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./src/ReadResult.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return ReadResult}));class ReadResult{constructor(topic,message,timestamp,data,chunkOffset,totalChunks,freeze){_defineProperty(this,"topic",void 0),_defineProperty(this,"message",void 0),_defineProperty(this,"timestamp",void 0),_defineProperty(this,"data",void 0),_defineProperty(this,"chunkOffset",void 0),_defineProperty(this,"totalChunks",void 0),this.topic=topic,this.message=message,this.timestamp=timestamp,this.data=data,this.chunkOffset=chunkOffset,this.totalChunks=totalChunks,freeze&&(Object.freeze(timestamp),Object.freeze(this))}}},"./src/TimeUtil.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function fromDate(date){return{sec:Math.floor(date.getTime()/1e3),nsec:1e6*date.getMilliseconds()}}function toDate(time){return new Date(1e3*time.sec+time.nsec/1e6)}function compare(left,right){return left.sec-right.sec||left.nsec-right.nsec}function isLessThan(left,right){return this.compare(left,right)<0}function isGreaterThan(left,right){return this.compare(left,right)>0}function areSame(left,right){return left.sec===right.sec&&left.nsec===right.nsec}function toString(time){return`{${time.sec}, ${time.nsec}}`}function add(left,right){const durationNanos=left.nsec+right.nsec,secsFromNanos=Math.floor(durationNanos/1e9),remainingDurationNanos=durationNanos%1e9,result={sec:left.sec+right.sec+secsFromNanos,nsec:Math.abs(-1===Math.sign(remainingDurationNanos)?1e9+remainingDurationNanos:remainingDurationNanos)};if(result.sec<0||result.nsec<0)throw new Error(`Invalid time: ${toString(result)} produced from TimeUtil.add(${toString(left)}, ${toString(right)}})`);return result}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"fromDate",(function(){return fromDate})),__webpack_require__.d(__webpack_exports__,"toDate",(function(){return toDate})),__webpack_require__.d(__webpack_exports__,"compare",(function(){return compare})),__webpack_require__.d(__webpack_exports__,"isLessThan",(function(){return isLessThan})),__webpack_require__.d(__webpack_exports__,"isGreaterThan",(function(){return isGreaterThan})),__webpack_require__.d(__webpack_exports__,"areSame",(function(){return areSame})),__webpack_require__.d(__webpack_exports__,"add",(function(){return add}))},"./src/bag.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return Bag})),__webpack_require__("./src/BagReader.js");var _MessageReader__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/MessageReader.js"),_ReadResult__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/ReadResult.js"),_TimeUtil__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("./src/record.js"),__webpack_require__("./src/TimeUtil.js")),_parseMessageDefinition__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/parseMessageDefinition.js");function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class Bag{constructor(bagReader){_defineProperty(this,"reader",void 0),_defineProperty(this,"header",void 0),_defineProperty(this,"connections",void 0),_defineProperty(this,"chunkInfos",void 0),_defineProperty(this,"startTime",void 0),_defineProperty(this,"endTime",void 0),this.reader=bagReader}async open(){this.header=await this.reader.readHeaderAsync();const{connectionCount:connectionCount,chunkCount:chunkCount,indexPosition:indexPosition}=this.header,result=await this.reader.readConnectionsAndChunkInfoAsync(indexPosition,connectionCount,chunkCount);this.connections={},result.connections.forEach(connection=>{this.connections[connection.conn]=connection}),this.chunkInfos=result.chunkInfos,chunkCount>0&&(this.startTime=this.chunkInfos[0].startTime,this.endTime=this.chunkInfos[chunkCount-1].endTime)}async readMessages(opts,callback){const connections=this.connections,startTime=opts.startTime||{sec:0,nsec:0},endTime=opts.endTime||{sec:Number.MAX_VALUE,nsec:Number.MAX_VALUE},topics=opts.topics||Object.keys(connections).map(id=>connections[id].topic),filteredConnections=Object.keys(connections).filter(id=>-1!==topics.indexOf(connections[id].topic)).map(id=>+id),{decompress:decompress={}}=opts,chunkInfos=this.chunkInfos.filter(info=>_TimeUtil__WEBPACK_IMPORTED_MODULE_4__.compare(info.startTime,endTime)<=0&&_TimeUtil__WEBPACK_IMPORTED_MODULE_4__.compare(startTime,info.endTime)<=0);function parseMsg(msg,chunkOffset){const connection=connections[msg.conn],{topic:topic}=connection,{data:data,time:timestamp}=msg;let message=null;return opts.noParse||(connection.reader=connection.reader||new _MessageReader__WEBPACK_IMPORTED_MODULE_1__.MessageReader(Object(_parseMessageDefinition__WEBPACK_IMPORTED_MODULE_5__.parseMessageDefinition)(connection.messageDefinition),{freeze:opts.freeze}),message=connection.reader.readMessage(data)),new _ReadResult__WEBPACK_IMPORTED_MODULE_2__.default(topic,message,timestamp,data,chunkOffset,chunkInfos.length,opts.freeze)}for(let i=0;i<chunkInfos.length;i++){const info=chunkInfos[i];(await this.reader.readChunkMessagesAsync(info,filteredConnections,startTime,endTime,decompress)).forEach(msg=>callback(parseMsg(msg,i)))}}}_defineProperty(Bag,"open",file=>{throw new Error("This method should have been overridden based on the environment. Make sure you are correctly importing the node or web version of Bag.")})},"./src/fields.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"extractFields",(function(){return extractFields})),__webpack_require__.d(__webpack_exports__,"extractTime",(function(){return extractTime}));const EQUALS_CHARCODE="=".charCodeAt(0);function extractFields(buffer){if(buffer.length<4)throw new Error("Header fields are truncated.");let i=0;const fields={};for(;i<buffer.length;){const length=buffer.readInt32LE(i);if(i+=4,i+length>buffer.length)throw new Error("Header fields are corrupt.");const field=buffer.slice(i,i+length),index=field.indexOf(EQUALS_CHARCODE);if(-1===index)throw new Error("Header field is missing equals sign.");fields[field.slice(0,index).toString()]=field.slice(index+1),i+=length}return fields}function extractTime(buffer,offset){return{sec:buffer.readUInt32LE(offset),nsec:buffer.readUInt32LE(offset+4)}}},"./src/header.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parseHeader",(function(){return parseHeader}));var _fields__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/fields.js");function parseHeader(buffer,cls){const fields=Object(_fields__WEBPACK_IMPORTED_MODULE_0__.extractFields)(buffer);if(void 0===fields.op)throw new Error("Header is missing 'op' field.");const opcode=fields.op.readUInt8(0);if(opcode!==cls.opcode)throw new Error(`Expected ${cls.name} (${cls.opcode}) but found ${opcode}`);return new cls(fields)}__webpack_require__("./src/record.js")},"./src/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _TimeUtil__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/TimeUtil.js");__webpack_require__.d(__webpack_exports__,"TimeUtil",(function(){return _TimeUtil__WEBPACK_IMPORTED_MODULE_0__})),__webpack_require__("./src/bag.js"),__webpack_require__("./src/BagReader.js");var _MessageReader__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/MessageReader.js");__webpack_require__.d(__webpack_exports__,"MessageReader",(function(){return _MessageReader__WEBPACK_IMPORTED_MODULE_3__.MessageReader}));var _MessageWriter__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/MessageWriter.js");__webpack_require__.d(__webpack_exports__,"MessageWriter",(function(){return _MessageWriter__WEBPACK_IMPORTED_MODULE_4__.MessageWriter}));var _parseMessageDefinition__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/parseMessageDefinition.js");__webpack_require__.d(__webpack_exports__,"rosPrimitiveTypes",(function(){return _parseMessageDefinition__WEBPACK_IMPORTED_MODULE_5__.rosPrimitiveTypes})),__webpack_require__.d(__webpack_exports__,"parseMessageDefinition",(function(){return _parseMessageDefinition__WEBPACK_IMPORTED_MODULE_5__.parseMessageDefinition}));var _types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/types.js");for(var __WEBPACK_IMPORT_KEY__ in _types__WEBPACK_IMPORTED_MODULE_6__)["TimeUtil","default","MessageReader","MessageWriter","rosPrimitiveTypes","parseMessageDefinition","default"].indexOf(__WEBPACK_IMPORT_KEY__)<0&&function(key){__webpack_require__.d(__webpack_exports__,key,(function(){return _types__WEBPACK_IMPORTED_MODULE_6__[key]}))}(__WEBPACK_IMPORT_KEY__);var _fields__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/fields.js");__webpack_require__.d(__webpack_exports__,"extractFields",(function(){return _fields__WEBPACK_IMPORTED_MODULE_7__.extractFields})),__webpack_require__.d(__webpack_exports__,"extractTime",(function(){return _fields__WEBPACK_IMPORTED_MODULE_7__.extractTime}))},"./src/nmerge.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var heap__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/heap/index.js"),heap__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(heap__WEBPACK_IMPORTED_MODULE_0__);__webpack_exports__.default=function(key,...iterables){const heap=new heap__WEBPACK_IMPORTED_MODULE_0___default.a((a,b)=>key(a.value,b.value));for(let i=0;i<iterables.length;i++){const{value:value,done:done}=iterables[i].next();done||heap.push({i:i,value:value})}return{next:()=>{if(heap.empty())return{done:!0};const{i:i}=heap.front(),next=iterables[i].next();return next.done?{value:heap.pop().value,done:!1}:{value:heap.replace({i:i,value:next.value}).value,done:!1}}}}},"./src/parseMessageDefinition.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"rosPrimitiveTypes",(function(){return rosPrimitiveTypes})),__webpack_require__.d(__webpack_exports__,"parseMessageDefinition",(function(){return parseMessageDefinition}));const rosPrimitiveTypes=new Set(["string","bool","int8","uint8","int16","uint16","int32","uint32","float32","float64","int64","uint64","time","duration","json"]);function normalizeType(type){let normalizedType=type;return"char"===type&&(normalizedType="uint8"),"byte"===type&&(normalizedType="int8"),normalizedType}const buildType=lines=>{const definitions=[];let complexTypeName;return lines.forEach(({isJson:isJson,line:line})=>{const splits=line.replace(/#.*/gi,"").split(" ").filter(word=>word);if(!splits[1])return;const type=splits[0].trim(),name=splits[1].trim();if("MSG:"===type)complexTypeName=name;else if(name.indexOf("=")>-1||splits.indexOf("=")>-1){const matches=line.match(/(\S+)\s*=\s*(.*)\s*/);if(!matches)throw new Error("Malformed line: "+line);let value=matches[2];if("string"!==type){value=value.replace(/True/gi,"true"),value=value.replace(/False/gi,"false");try{value=JSON.parse(value.replace(/\s*#.*/g,""))}catch(error){throw console.warn("Error in this constant definition: "+line),error}"bool"===type&&(value=Boolean(value))}(type.includes("int")&&value>Number.MAX_SAFE_INTEGER||value<Number.MIN_SAFE_INTEGER)&&console.warn("Found integer constant outside safe integer range: "+line),definitions.push({type:normalizeType(type),name:matches[1],isConstant:!0,value:value})}else if(type.indexOf("]")===type.length-1){const typeSplits=type.split("["),baseType=typeSplits[0],len=typeSplits[1].replace("]","");definitions.push(function(type,name,arrayLength){const normalizedType=normalizeType(type);return{type:normalizedType,name:name,isArray:!0,arrayLength:null===arrayLength?void 0:arrayLength,isComplex:!rosPrimitiveTypes.has(normalizedType)}}(baseType,name,len?parseInt(len,10):void 0))}else definitions.push(function(type,name){const normalizedType=normalizeType(type);return{type:normalizedType,name:name,isArray:!1,isComplex:!rosPrimitiveTypes.has(normalizedType)}}(isJson?"json":type,name))}),{name:complexTypeName,definitions:definitions}};function parseMessageDefinition(messageDefinition){const allLines=messageDefinition.split("\n").map(line=>line.trim()).filter(line=>line);let definitionLines=[];const types=[];let nextDefinitionIsJson=!1;return allLines.forEach(line=>{line.startsWith("#")?line.startsWith("#pragma rosbag_parse_json")&&(nextDefinitionIsJson=!0):line.startsWith("==")?(nextDefinitionIsJson=!1,types.push(buildType(definitionLines)),definitionLines=[]):(definitionLines.push({isJson:nextDefinitionIsJson,line:line}),nextDefinitionIsJson=!1)}),types.push(buildType(definitionLines)),types.forEach(({definitions:definitions})=>{definitions.forEach(definition=>{if(definition.isComplex){const foundName=((types,name)=>{const matches=types.filter(type=>{const typeName=type.name||"";if(!name)return!typeName;const nameEnd=name.indexOf("/")>-1?name:"/"+name;return typeName.endsWith(nameEnd)});if(1!==matches.length)throw new Error(`Expected 1 top level type definition for '${name}' but found ${matches.length}`);return matches[0]})(types,definition.type).name;if(void 0===foundName)throw new Error("Missing type definition for "+definition.type);definition.type=foundName}})}),types}},"./src/record.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Record",(function(){return Record})),__webpack_require__.d(__webpack_exports__,"BagHeader",(function(){return BagHeader})),__webpack_require__.d(__webpack_exports__,"Chunk",(function(){return Chunk})),__webpack_require__.d(__webpack_exports__,"Connection",(function(){return Connection})),__webpack_require__.d(__webpack_exports__,"MessageData",(function(){return MessageData})),__webpack_require__.d(__webpack_exports__,"IndexData",(function(){return IndexData})),__webpack_require__.d(__webpack_exports__,"ChunkInfo",(function(){return ChunkInfo}));var int53__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/int53/index.js"),int53__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(int53__WEBPACK_IMPORTED_MODULE_0__),_fields__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/fields.js");function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}__webpack_require__("./src/MessageReader.js");const readUInt64LE=buffer=>int53__WEBPACK_IMPORTED_MODULE_0___default.a.readUInt64LE(buffer,0);class Record{constructor(_fields){_defineProperty(this,"offset",void 0),_defineProperty(this,"dataOffset",void 0),_defineProperty(this,"end",void 0),_defineProperty(this,"length",void 0)}parseData(_buffer){}}class BagHeader extends Record{constructor(fields){super(fields),_defineProperty(this,"indexPosition",void 0),_defineProperty(this,"connectionCount",void 0),_defineProperty(this,"chunkCount",void 0),this.indexPosition=readUInt64LE(fields.index_pos),this.connectionCount=fields.conn_count.readInt32LE(0),this.chunkCount=fields.chunk_count.readInt32LE(0)}}_defineProperty(BagHeader,"opcode",3);class Chunk extends Record{constructor(fields){super(fields),_defineProperty(this,"compression",void 0),_defineProperty(this,"size",void 0),_defineProperty(this,"data",void 0),this.compression=fields.compression.toString(),this.size=fields.size.readUInt32LE(0)}parseData(buffer){this.data=buffer}}_defineProperty(Chunk,"opcode",5);const getField=(fields,key)=>{if(void 0===fields[key])throw new Error(`Connection header is missing ${key}.`);return fields[key].toString()};class Connection extends Record{constructor(fields){super(fields),_defineProperty(this,"conn",void 0),_defineProperty(this,"topic",void 0),_defineProperty(this,"type",void 0),_defineProperty(this,"md5sum",void 0),_defineProperty(this,"messageDefinition",void 0),_defineProperty(this,"callerid",void 0),_defineProperty(this,"latching",void 0),_defineProperty(this,"reader",void 0),this.conn=fields.conn.readUInt32LE(0),this.topic=fields.topic.toString(),this.type=void 0,this.md5sum=void 0,this.messageDefinition=""}parseData(buffer){const fields=Object(_fields__WEBPACK_IMPORTED_MODULE_1__.extractFields)(buffer);this.type=getField(fields,"type"),this.md5sum=getField(fields,"md5sum"),this.messageDefinition=getField(fields,"message_definition"),void 0!==fields.callerid&&(this.callerid=fields.callerid.toString()),void 0!==fields.latching&&(this.latching="1"===fields.latching.toString())}}_defineProperty(Connection,"opcode",7);class MessageData extends Record{constructor(fields){super(fields),_defineProperty(this,"conn",void 0),_defineProperty(this,"time",void 0),_defineProperty(this,"data",void 0),this.conn=fields.conn.readUInt32LE(0),this.time=Object(_fields__WEBPACK_IMPORTED_MODULE_1__.extractTime)(fields.time,0)}parseData(buffer){this.data=buffer}}_defineProperty(MessageData,"opcode",2);class IndexData extends Record{constructor(fields){super(fields),_defineProperty(this,"ver",void 0),_defineProperty(this,"conn",void 0),_defineProperty(this,"count",void 0),_defineProperty(this,"indices",void 0),this.ver=fields.ver.readUInt32LE(0),this.conn=fields.conn.readUInt32LE(0),this.count=fields.count.readUInt32LE(0)}parseData(buffer){this.indices=[];for(let i=0;i<this.count;i++)this.indices.push({time:Object(_fields__WEBPACK_IMPORTED_MODULE_1__.extractTime)(buffer,12*i),offset:buffer.readUInt32LE(12*i+8)})}}_defineProperty(IndexData,"opcode",4);class ChunkInfo extends Record{constructor(fields){super(fields),_defineProperty(this,"ver",void 0),_defineProperty(this,"chunkPosition",void 0),_defineProperty(this,"startTime",void 0),_defineProperty(this,"endTime",void 0),_defineProperty(this,"count",void 0),_defineProperty(this,"connections",void 0),_defineProperty(this,"nextChunk",void 0),this.ver=fields.ver.readUInt32LE(0),this.chunkPosition=readUInt64LE(fields.chunk_pos),this.startTime=Object(_fields__WEBPACK_IMPORTED_MODULE_1__.extractTime)(fields.start_time,0),this.endTime=Object(_fields__WEBPACK_IMPORTED_MODULE_1__.extractTime)(fields.end_time,0),this.count=fields.count.readUInt32LE(0)}parseData(buffer){this.connections=[];for(let i=0;i<this.count;i++)this.connections.push({conn:buffer.readUInt32LE(8*i),count:buffer.readUInt32LE(8*i+4)})}}_defineProperty(ChunkInfo,"opcode",6)},"./src/types.js":function(module,exports){},"./src/web/index.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(setImmediate){__webpack_require__.d(__webpack_exports__,"Reader",(function(){return Reader})),__webpack_require__.d(__webpack_exports__,"open",(function(){return open}));var buffer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/node-libs-browser/node_modules/buffer/index.js"),_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/index.js");__webpack_require__.d(__webpack_exports__,"TimeUtil",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.TimeUtil})),__webpack_require__.d(__webpack_exports__,"MessageReader",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.MessageReader})),__webpack_require__.d(__webpack_exports__,"MessageWriter",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.MessageWriter})),__webpack_require__.d(__webpack_exports__,"parseMessageDefinition",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.parseMessageDefinition})),__webpack_require__.d(__webpack_exports__,"rosPrimitiveTypes",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.rosPrimitiveTypes})),__webpack_require__.d(__webpack_exports__,"extractFields",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.extractFields})),__webpack_require__.d(__webpack_exports__,"extractTime",(function(){return _index__WEBPACK_IMPORTED_MODULE_1__.extractTime}));var _bag__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/bag.js"),_BagReader__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/BagReader.js");__webpack_require__.d(__webpack_exports__,"BagReader",(function(){return _BagReader__WEBPACK_IMPORTED_MODULE_3__.default}));var _types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/types.js");for(var __WEBPACK_IMPORT_KEY__ in _types__WEBPACK_IMPORTED_MODULE_4__)["Reader","TimeUtil","BagReader","MessageReader","MessageWriter","open","parseMessageDefinition","rosPrimitiveTypes","extractFields","extractTime","default"].indexOf(__WEBPACK_IMPORT_KEY__)<0&&function(key){__webpack_require__.d(__webpack_exports__,key,(function(){return _types__WEBPACK_IMPORTED_MODULE_4__[key]}))}(__WEBPACK_IMPORT_KEY__);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class Reader{constructor(blob){_defineProperty(this,"_blob",void 0),_defineProperty(this,"_size",void 0),this._blob=blob,this._size=blob.size}read(offset,length,cb){const reader=new FileReader;reader.onload=function(){reader.onload=null,reader.onerror=null,setImmediate(cb,null,buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(reader.result))},reader.onerror=function(){reader.onload=null,reader.onerror=null,setImmediate(cb,new Error(reader.error))},reader.readAsArrayBuffer(this._blob.slice(offset,offset+length))}size(){return this._size}}const open=async file=>{if(!(file instanceof Blob))throw new Error("Expected file to be a File or Blob. Make sure you are correctly importing the node or web version of Bag.");const bag=new _bag__WEBPACK_IMPORTED_MODULE_2__.default(new _BagReader__WEBPACK_IMPORTED_MODULE_3__.default(new Reader(file)));return await bag.open(),bag};_bag__WEBPACK_IMPORTED_MODULE_2__.default.open=open,__webpack_exports__.default=_bag__WEBPACK_IMPORTED_MODULE_2__.default}.call(this,__webpack_require__("./node_modules/timers-browserify/main.js").setImmediate)}})},module.exports=factory()},function(module,exports,__webpack_require__){module.exports=__webpack_require__(316)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.arrayToPoint=function(v){if(!v)return null;return{x:v[0],y:v[1],z:v[2]}},exports.lerp=function(t,a,b){if(t=Math.min(Math.max(t,0),1),a===b)return a;return a+t*(b-a)},exports.encodeURLQueryParamValue=function(value){return value.replace(QUERY_REGEXP,(char,allowedChar)=>allowedChar||encodeURIComponent(char))},exports.downloadTextFile=function(text,fileName){return downloadFiles([{blob:new Blob([text]),fileName:fileName}])},exports.downloadFiles=downloadFiles,exports.positiveModulo=function(number,modulus){return(number%modulus+modulus)%modulus},exports.objectValues=function(o){return Object.values(o)},exports.debounceReduce=void 0;var _lodash=__webpack_require__(7);const QUERY_REGEXP=/([a-zA-Z0-9\-._~!$'()*,;=:@/?])|./gu;function downloadFiles(files){const{body:body}=document;if(!body)return;const link=document.createElement("a");link.style.display="none",body.appendChild(link);const urls=files.map(file=>{const url=window.URL.createObjectURL(file.blob);return link.setAttribute("download",file.fileName),link.setAttribute("href",url),link.click(),url});window.requestAnimationFrame(()=>{body.removeChild(link),urls.forEach(url=>{URL.revokeObjectURL(url)})})}exports.debounceReduce=({action:action,wait:wait,reducer:reducer,initialValue:initialValue})=>{let current=initialValue;const debounced=(0,_lodash.debounce)(()=>{action(current),current=initialValue},wait,{leading:!0,trailing:!0});return next=>{current=reducer(current,next),debounced()}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFieldOffsetsAndReaders=function(fields){const result={};for(const _ref of fields){const{name:name,datatype:datatype,offset:offset=0}=_ref;result[name]={datatype:datatype,offset:offset,reader:(0,_readers.getReader)(datatype,offset)}}return result},exports.reinterpretBufferToFloat=reinterpretBufferToFloat,exports.expandBufferToFloat=expandBufferToFloat,exports.getVertexValue=function(buffer,index){const data=buffer.buffer,offset=buffer.offset,stride=buffer.stride;return data[index*stride+offset]},exports.getVertexValues=function(buffer,index,count){const ret=[],data=buffer.buffer,offset=buffer.offset,stride=buffer.stride;for(let i=0;i<count;i++)ret.push(data[index*stride+offset+i]);return ret},exports.getVertexCount=function(buffer){return buffer.buffer.length/buffer.stride},exports.createPositionBuffer=function({data:data,fields:fields,pointCount:pointCount,stride:stride,sphericalRangeScale:sphericalRangeScale}){const positions=(0,_maybeConvertSphericalCoordinatePointCloudToCartesian.default)({data:data,fields:fields,pointCount:pointCount,stride:stride,sphericalRangeScale:sphericalRangeScale});if(positions)return positions;if(fields.y.offset-fields.x.offset===FLOAT_SIZE&&fields.z.offset-fields.y.offset===FLOAT_SIZE&&hasValidStride(stride))return{buffer:reinterpretBufferToFloat(data),offset:fields.x.offset/FLOAT_SIZE,stride:stride/FLOAT_SIZE};return console.info(`Vertex buffer stride will be too big (${stride}). Extracting positions from data in CPU`),extractValues({data:data,readers:[fields.x.reader,fields.y.reader,fields.z.reader],pointCount:pointCount,stride:stride})},exports.createColorBuffer=function({data:data,fields:fields,colorMode:colorMode,pointCount:pointCount,stride:stride}){if("flat"===colorMode.mode)return null;if("rgb"===colorMode.mode){const rgbOffset=fields.rgb.offset||0;return hasValidStride(FLOAT_SIZE*stride)?{buffer:expandBufferToFloat(data),offset:rgbOffset,stride:stride}:(console.info(`Vertex buffer stride will be too big (${4*stride}). Extracting RGB colors from data in CPU`),extractValues({data:data,readers:[new _readers.Uint8Reader(rgbOffset+0),new _readers.Uint8Reader(rgbOffset+1),new _readers.Uint8Reader(rgbOffset+2)],stride:stride,pointCount:pointCount}))}const colorField=fields[colorMode.colorField||"rgb"];if(colorField.datatype===_types.DATATYPE.float32&&colorField.offset%FLOAT_SIZE==0&&hasValidStride(stride))return{buffer:reinterpretBufferToFloat(data),offset:colorField.offset/FLOAT_SIZE,stride:stride/FLOAT_SIZE};return console.info("Cannot reinterpret data. Extracting color buffer using CPU"),extractValues({data:data,readers:[colorField.reader],stride:stride,pointCount:pointCount})},exports.FLOAT_SIZE=void 0;var obj,_readers=__webpack_require__(328),_types=__webpack_require__(30),_maybeConvertSphericalCoordinatePointCloudToCartesian=(obj=__webpack_require__(330))&&obj.__esModule?obj:{default:obj};const FLOAT_SIZE=Float32Array.BYTES_PER_ELEMENT;function reinterpretBufferToFloat(buffer){return new Float32Array(new Uint8Array(buffer).buffer,0,buffer.length/Float32Array.BYTES_PER_ELEMENT)}function expandBufferToFloat(buffer){return new Float32Array(buffer)}function hasValidStride(stride){return stride<=255&&stride%FLOAT_SIZE==0}function extractValues({data:data,readers:readers,pointCount:pointCount,stride:stride}){const buffer=new Float32Array(3*pointCount);for(let i=0;i<pointCount;i++){const pointStart=i*stride;for(let j=0;j<readers.length;j++){const reader=readers[j];let value=Number.NaN;null!=reader&&(value=reader.read(data,pointStart)),buffer[3*i+j]=value}}return{buffer:buffer,offset:0,stride:3}}exports.FLOAT_SIZE=FLOAT_SIZE},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(371),mapCacheDelete=__webpack_require__(389),mapCacheGet=__webpack_require__(391),mapCacheHas=__webpack_require__(392),mapCacheSet=__webpack_require__(393);function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},function(module,exports){module.exports=function(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}},function(module,exports,__webpack_require__){var Map=__webpack_require__(25)(__webpack_require__(14),"Map");module.exports=Map},function(module,exports,__webpack_require__){var baseIsArguments=__webpack_require__(412),isObjectLike=__webpack_require__(33),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},function(module,exports){module.exports=function(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(434),baseKeys=__webpack_require__(440),isArrayLike=__webpack_require__(92);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}},function(module,exports){module.exports=function(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(139),isLength=__webpack_require__(91);module.exports=function(value){return null!=value&&isLength(value.length)&&!isFunction(value)}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(11),isSymbol=__webpack_require__(94),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=function(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(31),isObjectLike=__webpack_require__(33);module.exports=function(value){return"symbol"==typeof value||isObjectLike(value)&&"[object Symbol]"==baseGetTag(value)}},function(module,exports){module.exports=function(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out}},function(module,exports){module.exports=function(out,a,b){var ax=a[0],ay=a[1],az=a[2],bx=b[0],by=b[1],bz=b[2];return out[0]=ay*bz-az*by,out[1]=az*bx-ax*bz,out[2]=ax*by-ay*bx,out}},function(module,exports,__webpack_require__){"use strict";(function(process){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}exports.log=function(){var _console;return"object"===("undefined"==typeof console?"undefined":_typeof(console))&&console.log&&(_console=console).log.apply(_console,arguments)},exports.formatArgs=function(args){if(args[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+args[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),!this.useColors)return;var c="color: "+this.color;args.splice(1,0,c,"color: inherit");var index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,(function(match){"%%"!==match&&(index++,"%c"===match&&(lastC=index))})),args.splice(lastC,0,c)},exports.save=function(namespaces){try{namespaces?exports.storage.setItem("debug",namespaces):exports.storage.removeItem("debug")}catch(error){}},exports.load=function(){var r;try{r=exports.storage.getItem("debug")}catch(error){}!r&&void 0!==process&&"env"in process&&(r=process.env.DEBUG);return r},exports.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},exports.storage=function(){try{return localStorage}catch(error){}}(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],module.exports=__webpack_require__(495)(exports),module.exports.formatters.j=function(v){try{return JSON.stringify(v)}catch(error){return"[UnexpectedJSONParseError]: "+error.message}}}).call(this,__webpack_require__(16))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return truncate})),__webpack_require__.d(__webpack_exports__,"b",(function(){return safeJoin})),__webpack_require__.d(__webpack_exports__,"a",(function(){return isMatchingPattern}));var _is__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5);function truncate(str,max){return void 0===max&&(max=0),"string"!=typeof str||0===max||str.length<=max?str:str.substr(0,max)+"..."}function safeJoin(input,delimiter){if(!Array.isArray(input))return"";for(var output=[],i=0;i<input.length;i++){var value=input[i];try{output.push(String(value))}catch(e){output.push("[value cannot be serialized]")}}return output.join(delimiter)}function isMatchingPattern(value,pattern){return Object(_is__WEBPACK_IMPORTED_MODULE_0__.j)(pattern)?pattern.test(value):"string"==typeof pattern&&-1!==value.indexOf(pattern)}},function(module,exports){module.exports=function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}},function(module,exports,__webpack_require__){var getNative=__webpack_require__(17),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(21),isObject=__webpack_require__(18);module.exports=function(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return"[object Function]"==tag||"[object GeneratorFunction]"==tag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag}},function(module,exports,__webpack_require__){(function(global){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(8))},function(module,exports){var funcToString=Function.prototype.toString;module.exports=function(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}},function(module,exports,__webpack_require__){var baseTimes=__webpack_require__(181),isArguments=__webpack_require__(58),isArray=__webpack_require__(10),isBuffer=__webpack_require__(59),isIndex=__webpack_require__(60),isTypedArray=__webpack_require__(105),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}},function(module,exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(184),baseUnary=__webpack_require__(36),nodeUtil=__webpack_require__(62),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},function(module,exports){module.exports=function(func,transform){return function(arg){return func(transform(arg))}}},function(module,exports,__webpack_require__){var baseMatches=__webpack_require__(187),baseMatchesProperty=__webpack_require__(225),identity=__webpack_require__(73),isArray=__webpack_require__(10),property=__webpack_require__(234);module.exports=function(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}},function(module,exports,__webpack_require__){var baseIsEqualDeep=__webpack_require__(211),isObjectLike=__webpack_require__(12);module.exports=function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(110),arraySome=__webpack_require__(214),cacheHas=__webpack_require__(111);module.exports=function(array,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=2&bitmask?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(68),setCacheAdd=__webpack_require__(212),setCacheHas=__webpack_require__(213);function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},function(module,exports){module.exports=function(cache,key){return cache.has(key)}},function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(9).Uint8Array;module.exports=Uint8Array},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(114),getSymbols=__webpack_require__(70),keys=__webpack_require__(27);module.exports=function(object){return baseGetAllKeys(object,keys,getSymbols)}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(69),isArray=__webpack_require__(10);module.exports=function(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}},function(module,exports){module.exports=function(){return[]}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(18);module.exports=function(value){return value==value&&!isObject(value)}},function(module,exports){module.exports=function(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(68);function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache,module.exports=memoize},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(69),getPrototype=__webpack_require__(76),getSymbols=__webpack_require__(70),stubArray=__webpack_require__(115),getSymbolsIn=Object.getOwnPropertySymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray;module.exports=getSymbolsIn},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(104),baseKeysIn=__webpack_require__(240),isArrayLike=__webpack_require__(64);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}},function(module,exports){module.exports=function(array){var length=null==array?0:array.length;return length?array[length-1]:void 0}},function(module,exports){},function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(124);module.exports=function(array){return(null==array?0:array.length)?baseFlatten(array,1):[]}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(69),isFlattenable=__webpack_require__(280);module.exports=function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}},function(module,exports,__webpack_require__){var apply=__webpack_require__(281),nativeMax=Math.max;module.exports=function(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}},function(module,exports,__webpack_require__){var baseSetToString=__webpack_require__(282),setToString=__webpack_require__(284)(baseSetToString);module.exports=setToString},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){let resolve,reject;const promise=new Promise((res,rej)=>{resolve=res,reject=rej});return promise.resolve=resolve,promise.reject=reject,promise}},function(module,__webpack_exports__,__webpack_require__){"use strict";var Severity;__webpack_require__.d(__webpack_exports__,"a",(function(){return Severity})),function(Severity){Severity.Fatal="fatal",Severity.Error="error",Severity.Warning="warning",Severity.Log="log",Severity.Info="info",Severity.Debug="debug",Severity.Critical="critical"}(Severity||(Severity={})),function(Severity){Severity.fromString=function(level){switch(level){case"debug":return Severity.Debug;case"info":return Severity.Info;case"warn":case"warning":return Severity.Warning;case"error":return Severity.Error;case"fatal":return Severity.Fatal;case"critical":return Severity.Critical;case"log":default:return Severity.Log}}}(Severity||(Severity={}))},function(module,__webpack_exports__,__webpack_require__){"use strict";var Status;__webpack_require__.d(__webpack_exports__,"a",(function(){return Status})),function(Status){Status.Unknown="unknown",Status.Skipped="skipped",Status.Success="success",Status.RateLimit="rate_limit",Status.Invalid="invalid",Status.Failed="failed"}(Status||(Status={})),function(Status){Status.fromHttpCode=function(code){return code>=200&&code<300?Status.Success:429===code?Status.RateLimit:code>=400&&code<500?Status.Invalid:code>=500?Status.Failed:Status.Unknown}}(Status||(Status={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PlayerCapabilities=exports.cast=void 0;exports.cast=message=>message;exports.PlayerCapabilities={advertise:"advertise",setSpeed:"setSpeed"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getReverseWrapperArrayView=exports.PrimitiveArrayView=exports.getArrayView=void 0;var _lodash=__webpack_require__(7),_index=__webpack_require__(46),_messageDefinitionUtils=__webpack_require__(29);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}exports.getArrayView=(getElement,elementSize,getBigIntElement)=>{var _Symbol$iterator;return _Symbol$iterator=Symbol.iterator,class{constructor(begin,length){_defineProperty(this,"_begin",void 0),_defineProperty(this,"_length",void 0),this._begin=begin,this._length=length}get(index,bigInt){return bigInt&&getBigIntElement?getBigIntElement(this._begin+index*elementSize):getElement(this._begin+index*elementSize)}length(){return this._length}*[_Symbol$iterator](){let offset=this._begin;const length=this._length;for(let i=0;i<length;i+=1)yield getElement(offset),offset+=elementSize}[_messageDefinitionUtils.deepParseSymbol](){const ret=new Array(this._length);let offset=this._begin;const length=this._length;for(let i=0;i<length;i+=1){const o=getElement(offset);ret[i]=(0,_index.isBobject)(o)?(0,_index.deepParse)(o):o,offset+=elementSize}return ret}toArray(){const ret=new Array(this.length());let offset=this._begin;const length=this._length;for(let i=0;i<length;i+=1)ret[i]=getElement(offset),offset+=elementSize;return ret}find(predicate){return(0,_lodash.find)(this.toArray(),predicate)}offset(){return this._begin}}};var _Symbol$iterator2=Symbol.iterator;class PrimitiveArrayView{constructor(value){_defineProperty(this,"value",void 0),this.value=value}get(index){return this.value[index]}length(){return this.value.length}*[_Symbol$iterator2](){for(const o of this.value)yield o}[_messageDefinitionUtils.deepParseSymbol](){return this.value}toArray(){return this.value}find(predicate){return(0,_lodash.find)(this.toArray(),predicate)}}exports.PrimitiveArrayView=PrimitiveArrayView;exports.getReverseWrapperArrayView=Class=>{var _Symbol$iterator3;return _Symbol$iterator3=Symbol.iterator,class{constructor(value){_defineProperty(this,"value",void 0),this.value=value}get(index){return new Class(this.value[index])}length(){return this.value.length}*[_Symbol$iterator3](){for(const o of this.value)yield(0,_index.isBobject)(o)?o:new Class(o)}[_messageDefinitionUtils.deepParseSymbol](){return this.value.map(o=>(0,_index.isBobject)(o)?(0,_index.deepParse)(o):(0,_index.deepParse)(new Class(o)))}toArray(){const ret=[];let i=0;for(const o of this)ret[i]=o,i+=1;return ret}find(predicate){return(0,_lodash.find)(this.toArray(),predicate)}}}},function(module,exports,__webpack_require__){"use strict";module.exports=(string,count=1,options)=>{if(options={indent:" ",includeEmptyLines:!1,...options},"string"!=typeof string)throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof string}\``);if("number"!=typeof count)throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof count}\``);if("string"!=typeof options.indent)throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof options.indent}\``);if(0===count)return string;const regex=options.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return string.replace(regex,options.indent.repeat(count))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTime=function(obj){return!!obj&&"object"==typeof obj&&"sec"in obj&&"nsec"in obj&&2===Object.getOwnPropertyNames(obj).length},exports.formatTimeRaw=function(stamp){if(stamp.sec<0||stamp.nsec<0)return console.error("Times are not allowed to be negative"),"(invalid negative time)";return`${stamp.sec}.${stamp.nsec.toFixed().padStart(9,"0")}`},exports.fromSecondStamp=fromSecondStamp,exports.toDate=function(stamp){const{sec:sec,nsec:nsec}=stamp;return new Date(1e3*sec+nsec/1e6)},exports.fromDate=function(date){const millis=date.getTime(),remainder=millis%1e3;return{sec:Math.floor(millis/1e3),nsec:1e6*remainder}},exports.percentOf=function(start,end,target){const totalDuration=subtractTimes(end,start);return toSec(subtractTimes(target,start))/toSec(totalDuration)*100},exports.interpolateTimes=interpolateTimes,exports.subtractTimes=subtractTimes,exports.toNanoSec=toNanoSec,exports.toMicroSec=function({sec:sec,nsec:nsec}){return(1e9*sec+nsec)/1e3},exports.toSec=toSec,exports.fromSec=function(value){let sec=Math.trunc(value),nsec=Math.round(1e9*(value-sec));return sec+=Math.trunc(nsec/1e9),nsec%=1e9,{sec:sec,nsec:nsec}},exports.fromNanoSec=fromNanoSec,exports.toMillis=function(time,roundUp=!0){const secondsMillis=1e3*time.sec,nsecMillis=time.nsec/1e6;return roundUp?secondsMillis+Math.ceil(nsecMillis):secondsMillis+Math.floor(nsecMillis)},exports.fromMillis=fromMillis,exports.fromMicros=function(value){let sec=Math.trunc(value/1e6),nsec=Math.round(1e3*(value-1e6*sec));return sec+=Math.trunc(nsec/1e9),nsec%=1e9,{sec:sec,nsec:nsec}},exports.findClosestTimestampIndex=findClosestTimestampIndex,exports.getNextFrame=function(currentTime,timestamps=[],goLeft){if(!timestamps.length)return null;const effectiveIdx=findClosestTimestampIndex(currentTime,timestamps);if(-1===effectiveIdx)return null;let nextIdx=0;const maxIdx=timestamps.length-1;-1===effectiveIdx?nextIdx=goLeft?maxIdx:0:(nextIdx=effectiveIdx+(goLeft?-1:1),nextIdx<0?nextIdx=maxIdx:nextIdx>maxIdx&&(nextIdx=0));return fromSecondStamp(timestamps[nextIdx])},exports.rosTimeToUrlTime=rosTimeToUrlTime,exports.transformBatchTimestamp=function({seconds:seconds,nanoseconds:nanoseconds}){return rosTimeToUrlTime({sec:seconds,nsec:nanoseconds})},exports.clampTime=clampTime,exports.parseRosTimeStr=parseRosTimeStr,exports.getSeekToTime=function(search){const params=new URLSearchParams(search||window.location.search),absoluteSeek=params.get(_globalConstants.SEEK_TO_QUERY_KEY),defaultResult={type:"relative",startOffset:fromNanoSec(_globalConstants.SEEK_ON_START_NS)};if(null!=absoluteSeek){if(!absoluteSeek.includes(".")){const absoluteSeekVal=parseInt(absoluteSeek);return isNaN(absoluteSeek)||absoluteSeekVal<0?defaultResult:{type:"absolute",time:fromMillis(absoluteSeekVal)}}const seekToRosTime=parseRosTimeStr(absoluteSeek);return seekToRosTime?{type:"absolute",time:seekToRosTime}:defaultResult}const relativeSeek=params.get(_globalConstants.SEEK_TO_RELATIVE_MS_QUERY_KEY);if(null!=relativeSeek){const relativeSeekVal=parseInt(relativeSeek);return isNaN(relativeSeek)||relativeSeekVal<0?defaultResult:{type:"relative",startOffset:fromMillis(relativeSeekVal)}}const seekFraction=params.get(_globalConstants.SEEK_TO_FRACTION_QUERY_KEY);if(null!=seekFraction){const seekFractionVal=parseFloat(seekFraction);return isNaN(seekFraction)||seekFractionVal<0?defaultResult:{type:"fraction",fraction:seekFractionVal}}return defaultResult},exports.getSeekTimeFromSpec=function(spec,start,end){return clampTime("absolute"===spec.type?spec.time:"relative"===spec.type?_rosbag.TimeUtil.add(_rosbag.TimeUtil.isLessThan(spec.startOffset,{sec:0,nsec:0})?end:start,spec.startOffset):interpolateTimes(start,end,spec.fraction),start,end)},exports.getTimestampForMessage=function(message,timestampMethod){if("headerStamp"===timestampMethod){var _message$message$head,_message$message$head2,_message$message$head3,_message$message$head4;return null!=(null===(_message$message$head=message.message.header)||void 0===_message$message$head||null===(_message$message$head2=_message$message$head.stamp)||void 0===_message$message$head2?void 0:_message$message$head2.sec)&&null!=(null===(_message$message$head3=message.message.header)||void 0===_message$message$head3||null===(_message$message$head4=_message$message$head3.stamp)||void 0===_message$message$head4?void 0:_message$message$head4.nsec)?message.message.header.stamp:void 0}return message.receiveTime},exports.getDisplayedTimestampMethod=function(timestampMethod){return"headerStamp"===timestampMethod?"Header stamp":"Receive time"},exports.formatSeconds=function(sec){const date=new Date(0);return date.setSeconds(sec),date.toISOString().substr(11,8)},exports.isTimeInRangeInclusive=exports.DEFAULT_ZERO_TIME=void 0;var _rosbag=__webpack_require__(81),_globalConstants=__webpack_require__(13);exports.DEFAULT_ZERO_TIME={sec:0,nsec:0};const isNum=/^\d+\.?\d*$/;function fromSecondStamp(stamp){if(!isNum.test(stamp))throw new Error("Could not parse time from "+stamp);const[secondString="0",nanoString="0"]=stamp.split("."),nanosecond=nanoString.length<=9?nanoString.padEnd(9,"0"):nanoString.slice(0,9);return{sec:parseInt(secondString),nsec:parseInt(nanosecond)}}function interpolateTimes(start,end,fraction){const duration=subtractTimes(end,start);return _rosbag.TimeUtil.add(start,fromNanoSec(fraction*toNanoSec(duration)))}function fixTime(t){let{sec:sec,nsec:nsec}=t;for(;nsec>=1e9;)nsec-=1e9,sec+=1;for(;nsec<0;)nsec+=1e9,sec-=1;return{sec:sec,nsec:nsec}}function subtractTimes({sec:sec1,nsec:nsec1},{sec:sec2,nsec:nsec2}){return fixTime({sec:sec1-sec2,nsec:nsec1-nsec2})}function toNanoSec({sec:sec,nsec:nsec}){return 1e9*sec+nsec}function toSec({sec:sec,nsec:nsec}){return sec+1e-9*nsec}function fromNanoSec(nsec){return{sec:Math.trunc(nsec/1e9),nsec:nsec%1e9}}function fromMillis(value){let sec=Math.trunc(value/1e3),nsec=Math.round(1e6*(value-1e3*sec));return sec+=Math.trunc(nsec/1e9),nsec%=1e9,{sec:sec,nsec:nsec}}function findClosestTimestampIndex(currentTime,frameTimestamps=[]){const currT=toSec(currentTime),timestamps=frameTimestamps.map(Number),maxIdx=frameTimestamps.length-1;if(0===frameTimestamps.length)return-1;let[l,r]=[0,maxIdx];if(currT<=timestamps[0])return 0;if(currT>=timestamps[maxIdx])return maxIdx;for(;l<=r;){const m=l+Math.floor((r-l)/2),prevT=timestamps[m],nextT=timestamps[m+1];if(prevT<=currT&&currT<nextT)return m;prevT<currT&&nextT<=currT?l=m+1:r=m-1}return-1}function rosTimeToUrlTime({sec:sec,nsec:nsec}){return`${sec}.${String.prototype.padStart.call(nsec,9,"0")}`}function clampTime(time,start,end){return _rosbag.TimeUtil.compare(start,time)>0?start:_rosbag.TimeUtil.compare(end,time)<0?end:time}function parseRosTimeStr(str){if(!str)return;if(/^\d+\.?$/.test(str))return{sec:parseInt(str,10)||0,nsec:0};if(!/^\d+\.\d+$/.test(str))return;const partials=str.split(".");if(0===partials.length)return;const digitsShort=9-partials[1].length,nsec=Math.round(parseInt(partials[1],10)*10**digitsShort);return fixTime({sec:parseInt(partials[0],10)||0,nsec:nsec})}exports.isTimeInRangeInclusive=(time,start,end)=>!(_rosbag.TimeUtil.compare(start,time)>0||_rosbag.TimeUtil.compare(end,time)<0)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(Math){var trimLeft=/^\s+/,trimRight=/\s+$/,tinyCounter=0,mathRound=Math.round,mathMin=Math.min,mathMax=Math.max,mathRandom=Math.random;function tinycolor(color,opts){if(opts=opts||{},(color=color||"")instanceof tinycolor)return color;if(!(this instanceof tinycolor))return new tinycolor(color,opts);var rgb=function(color){var rgb={r:0,g:0,b:0},a=1,s=null,v=null,l=null,ok=!1,format=!1;"string"==typeof color&&(color=function(color){color=color.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var match,named=!1;if(names[color])color=names[color],named=!0;else if("transparent"==color)return{r:0,g:0,b:0,a:0,format:"name"};if(match=matchers.rgb.exec(color))return{r:match[1],g:match[2],b:match[3]};if(match=matchers.rgba.exec(color))return{r:match[1],g:match[2],b:match[3],a:match[4]};if(match=matchers.hsl.exec(color))return{h:match[1],s:match[2],l:match[3]};if(match=matchers.hsla.exec(color))return{h:match[1],s:match[2],l:match[3],a:match[4]};if(match=matchers.hsv.exec(color))return{h:match[1],s:match[2],v:match[3]};if(match=matchers.hsva.exec(color))return{h:match[1],s:match[2],v:match[3],a:match[4]};if(match=matchers.hex8.exec(color))return{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),a:convertHexToDecimal(match[4]),format:named?"name":"hex8"};if(match=matchers.hex6.exec(color))return{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),format:named?"name":"hex"};if(match=matchers.hex4.exec(color))return{r:parseIntFromHex(match[1]+""+match[1]),g:parseIntFromHex(match[2]+""+match[2]),b:parseIntFromHex(match[3]+""+match[3]),a:convertHexToDecimal(match[4]+""+match[4]),format:named?"name":"hex8"};if(match=matchers.hex3.exec(color))return{r:parseIntFromHex(match[1]+""+match[1]),g:parseIntFromHex(match[2]+""+match[2]),b:parseIntFromHex(match[3]+""+match[3]),format:named?"name":"hex"};return!1}(color));"object"==typeof color&&(isValidCSSUnit(color.r)&&isValidCSSUnit(color.g)&&isValidCSSUnit(color.b)?(r=color.r,g=color.g,b=color.b,rgb={r:255*bound01(r,255),g:255*bound01(g,255),b:255*bound01(b,255)},ok=!0,format="%"===String(color.r).substr(-1)?"prgb":"rgb"):isValidCSSUnit(color.h)&&isValidCSSUnit(color.s)&&isValidCSSUnit(color.v)?(s=convertToPercentage(color.s),v=convertToPercentage(color.v),rgb=function(h,s,v){h=6*bound01(h,360),s=bound01(s,100),v=bound01(v,100);var i=Math.floor(h),f=h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),mod=i%6;return{r:255*[v,q,p,p,t,v][mod],g:255*[t,v,v,q,p,p][mod],b:255*[p,p,t,v,v,q][mod]}}(color.h,s,v),ok=!0,format="hsv"):isValidCSSUnit(color.h)&&isValidCSSUnit(color.s)&&isValidCSSUnit(color.l)&&(s=convertToPercentage(color.s),l=convertToPercentage(color.l),rgb=function(h,s,l){var r,g,b;function hue2rgb(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}if(h=bound01(h,360),s=bound01(s,100),l=bound01(l,100),0===s)r=g=b=l;else{var q=l<.5?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3)}return{r:255*r,g:255*g,b:255*b}}(color.h,s,l),ok=!0,format="hsl"),color.hasOwnProperty("a")&&(a=color.a));var r,g,b;return a=boundAlpha(a),{ok:ok,format:color.format||format,r:mathMin(255,mathMax(rgb.r,0)),g:mathMin(255,mathMax(rgb.g,0)),b:mathMin(255,mathMax(rgb.b,0)),a:a}}(color);this._originalInput=color,this._r=rgb.r,this._g=rgb.g,this._b=rgb.b,this._a=rgb.a,this._roundA=mathRound(100*this._a)/100,this._format=opts.format||rgb.format,this._gradientType=opts.gradientType,this._r<1&&(this._r=mathRound(this._r)),this._g<1&&(this._g=mathRound(this._g)),this._b<1&&(this._b=mathRound(this._b)),this._ok=rgb.ok,this._tc_id=tinyCounter++}function rgbToHsl(r,g,b){r=bound01(r,255),g=bound01(g,255),b=bound01(b,255);var h,s,max=mathMax(r,g,b),min=mathMin(r,g,b),l=(max+min)/2;if(max==min)h=s=0;else{var d=max-min;switch(s=l>.5?d/(2-max-min):d/(max+min),max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,l:l}}function rgbToHsv(r,g,b){r=bound01(r,255),g=bound01(g,255),b=bound01(b,255);var h,s,max=mathMax(r,g,b),min=mathMin(r,g,b),v=max,d=max-min;if(s=0===max?0:d/max,max==min)h=0;else{switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,v:v}}function rgbToHex(r,g,b,allow3Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];return allow3Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)?hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0):hex.join("")}function rgbaToArgbHex(r,g,b,a){return[pad2(convertDecimalToHex(a)),pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))].join("")}function desaturate(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.s-=amount/100,hsl.s=clamp01(hsl.s),tinycolor(hsl)}function saturate(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.s+=amount/100,hsl.s=clamp01(hsl.s),tinycolor(hsl)}function greyscale(color){return tinycolor(color).desaturate(100)}function lighten(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.l+=amount/100,hsl.l=clamp01(hsl.l),tinycolor(hsl)}function brighten(color,amount){amount=0===amount?0:amount||10;var rgb=tinycolor(color).toRgb();return rgb.r=mathMax(0,mathMin(255,rgb.r-mathRound(-amount/100*255))),rgb.g=mathMax(0,mathMin(255,rgb.g-mathRound(-amount/100*255))),rgb.b=mathMax(0,mathMin(255,rgb.b-mathRound(-amount/100*255))),tinycolor(rgb)}function darken(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.l-=amount/100,hsl.l=clamp01(hsl.l),tinycolor(hsl)}function spin(color,amount){var hsl=tinycolor(color).toHsl(),hue=(hsl.h+amount)%360;return hsl.h=hue<0?360+hue:hue,tinycolor(hsl)}function complement(color){var hsl=tinycolor(color).toHsl();return hsl.h=(hsl.h+180)%360,tinycolor(hsl)}function triad(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+120)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+240)%360,s:hsl.s,l:hsl.l})]}function tetrad(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+90)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+180)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+270)%360,s:hsl.s,l:hsl.l})]}function splitcomplement(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+72)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+216)%360,s:hsl.s,l:hsl.l})]}function analogous(color,results,slices){results=results||6,slices=slices||30;var hsl=tinycolor(color).toHsl(),part=360/slices,ret=[tinycolor(color)];for(hsl.h=(hsl.h-(part*results>>1)+720)%360;--results;)hsl.h=(hsl.h+part)%360,ret.push(tinycolor(hsl));return ret}function monochromatic(color,results){results=results||6;for(var hsv=tinycolor(color).toHsv(),h=hsv.h,s=hsv.s,v=hsv.v,ret=[],modification=1/results;results--;)ret.push(tinycolor({h:h,s:s,v:v})),v=(v+modification)%1;return ret}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var rgb=this.toRgb();return(299*rgb.r+587*rgb.g+114*rgb.b)/1e3},getLuminance:function(){var RsRGB,GsRGB,BsRGB,rgb=this.toRgb();return RsRGB=rgb.r/255,GsRGB=rgb.g/255,BsRGB=rgb.b/255,.2126*(RsRGB<=.03928?RsRGB/12.92:Math.pow((RsRGB+.055)/1.055,2.4))+.7152*(GsRGB<=.03928?GsRGB/12.92:Math.pow((GsRGB+.055)/1.055,2.4))+.0722*(BsRGB<=.03928?BsRGB/12.92:Math.pow((BsRGB+.055)/1.055,2.4))},setAlpha:function(value){return this._a=boundAlpha(value),this._roundA=mathRound(100*this._a)/100,this},toHsv:function(){var hsv=rgbToHsv(this._r,this._g,this._b);return{h:360*hsv.h,s:hsv.s,v:hsv.v,a:this._a}},toHsvString:function(){var hsv=rgbToHsv(this._r,this._g,this._b),h=mathRound(360*hsv.h),s=mathRound(100*hsv.s),v=mathRound(100*hsv.v);return 1==this._a?"hsv("+h+", "+s+"%, "+v+"%)":"hsva("+h+", "+s+"%, "+v+"%, "+this._roundA+")"},toHsl:function(){var hsl=rgbToHsl(this._r,this._g,this._b);return{h:360*hsl.h,s:hsl.s,l:hsl.l,a:this._a}},toHslString:function(){var hsl=rgbToHsl(this._r,this._g,this._b),h=mathRound(360*hsl.h),s=mathRound(100*hsl.s),l=mathRound(100*hsl.l);return 1==this._a?"hsl("+h+", "+s+"%, "+l+"%)":"hsla("+h+", "+s+"%, "+l+"%, "+this._roundA+")"},toHex:function(allow3Char){return rgbToHex(this._r,this._g,this._b,allow3Char)},toHexString:function(allow3Char){return"#"+this.toHex(allow3Char)},toHex8:function(allow4Char){return function(r,g,b,a,allow4Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16)),pad2(convertDecimalToHex(a))];if(allow4Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)&&hex[3].charAt(0)==hex[3].charAt(1))return hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0)+hex[3].charAt(0);return hex.join("")}(this._r,this._g,this._b,this._a,allow4Char)},toHex8String:function(allow4Char){return"#"+this.toHex8(allow4Char)},toRgb:function(){return{r:mathRound(this._r),g:mathRound(this._g),b:mathRound(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+mathRound(this._r)+", "+mathRound(this._g)+", "+mathRound(this._b)+")":"rgba("+mathRound(this._r)+", "+mathRound(this._g)+", "+mathRound(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:mathRound(100*bound01(this._r,255))+"%",g:mathRound(100*bound01(this._g,255))+"%",b:mathRound(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+mathRound(100*bound01(this._r,255))+"%, "+mathRound(100*bound01(this._g,255))+"%, "+mathRound(100*bound01(this._b,255))+"%)":"rgba("+mathRound(100*bound01(this._r,255))+"%, "+mathRound(100*bound01(this._g,255))+"%, "+mathRound(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(secondColor){var hex8String="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),secondHex8String=hex8String,gradientType=this._gradientType?"GradientType = 1, ":"";if(secondColor){var s=tinycolor(secondColor);secondHex8String="#"+rgbaToArgbHex(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+gradientType+"startColorstr="+hex8String+",endColorstr="+secondHex8String+")"},toString:function(format){var formatSet=!!format;format=format||this._format;var formattedString=!1,hasAlpha=this._a<1&&this._a>=0;return formatSet||!hasAlpha||"hex"!==format&&"hex6"!==format&&"hex3"!==format&&"hex4"!==format&&"hex8"!==format&&"name"!==format?("rgb"===format&&(formattedString=this.toRgbString()),"prgb"===format&&(formattedString=this.toPercentageRgbString()),"hex"!==format&&"hex6"!==format||(formattedString=this.toHexString()),"hex3"===format&&(formattedString=this.toHexString(!0)),"hex4"===format&&(formattedString=this.toHex8String(!0)),"hex8"===format&&(formattedString=this.toHex8String()),"name"===format&&(formattedString=this.toName()),"hsl"===format&&(formattedString=this.toHslString()),"hsv"===format&&(formattedString=this.toHsvString()),formattedString||this.toHexString()):"name"===format&&0===this._a?this.toName():this.toRgbString()},clone:function(){return tinycolor(this.toString())},_applyModification:function(fn,args){var color=fn.apply(null,[this].concat([].slice.call(args)));return this._r=color._r,this._g=color._g,this._b=color._b,this.setAlpha(color._a),this},lighten:function(){return this._applyModification(lighten,arguments)},brighten:function(){return this._applyModification(brighten,arguments)},darken:function(){return this._applyModification(darken,arguments)},desaturate:function(){return this._applyModification(desaturate,arguments)},saturate:function(){return this._applyModification(saturate,arguments)},greyscale:function(){return this._applyModification(greyscale,arguments)},spin:function(){return this._applyModification(spin,arguments)},_applyCombination:function(fn,args){return fn.apply(null,[this].concat([].slice.call(args)))},analogous:function(){return this._applyCombination(analogous,arguments)},complement:function(){return this._applyCombination(complement,arguments)},monochromatic:function(){return this._applyCombination(monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(splitcomplement,arguments)},triad:function(){return this._applyCombination(triad,arguments)},tetrad:function(){return this._applyCombination(tetrad,arguments)}},tinycolor.fromRatio=function(color,opts){if("object"==typeof color){var newColor={};for(var i in color)color.hasOwnProperty(i)&&(newColor[i]="a"===i?color[i]:convertToPercentage(color[i]));color=newColor}return tinycolor(color,opts)},tinycolor.equals=function(color1,color2){return!(!color1||!color2)&&tinycolor(color1).toRgbString()==tinycolor(color2).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:mathRandom(),g:mathRandom(),b:mathRandom()})},tinycolor.mix=function(color1,color2,amount){amount=0===amount?0:amount||50;var rgb1=tinycolor(color1).toRgb(),rgb2=tinycolor(color2).toRgb(),p=amount/100;return tinycolor({r:(rgb2.r-rgb1.r)*p+rgb1.r,g:(rgb2.g-rgb1.g)*p+rgb1.g,b:(rgb2.b-rgb1.b)*p+rgb1.b,a:(rgb2.a-rgb1.a)*p+rgb1.a})},tinycolor.readability=function(color1,color2){var c1=tinycolor(color1),c2=tinycolor(color2);return(Math.max(c1.getLuminance(),c2.getLuminance())+.05)/(Math.min(c1.getLuminance(),c2.getLuminance())+.05)},tinycolor.isReadable=function(color1,color2,wcag2){var wcag2Parms,out,readability=tinycolor.readability(color1,color2);switch(out=!1,(wcag2Parms=function(parms){var level,size;level=((parms=parms||{level:"AA",size:"small"}).level||"AA").toUpperCase(),size=(parms.size||"small").toLowerCase(),"AA"!==level&&"AAA"!==level&&(level="AA");"small"!==size&&"large"!==size&&(size="small");return{level:level,size:size}}(wcag2)).level+wcag2Parms.size){case"AAsmall":case"AAAlarge":out=readability>=4.5;break;case"AAlarge":out=readability>=3;break;case"AAAsmall":out=readability>=7}return out},tinycolor.mostReadable=function(baseColor,colorList,args){var readability,includeFallbackColors,level,size,bestColor=null,bestScore=0;includeFallbackColors=(args=args||{}).includeFallbackColors,level=args.level,size=args.size;for(var i=0;i<colorList.length;i++)(readability=tinycolor.readability(baseColor,colorList[i]))>bestScore&&(bestScore=readability,bestColor=tinycolor(colorList[i]));return tinycolor.isReadable(baseColor,bestColor,{level:level,size:size})||!includeFallbackColors?bestColor:(args.includeFallbackColors=!1,tinycolor.mostReadable(baseColor,["#fff","#000"],args))};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=function(o){var flipped={};for(var i in o)o.hasOwnProperty(i)&&(flipped[o[i]]=i);return flipped}(names);function boundAlpha(a){return a=parseFloat(a),(isNaN(a)||a<0||a>1)&&(a=1),a}function bound01(n,max){(function(n){return"string"==typeof n&&-1!=n.indexOf(".")&&1===parseFloat(n)})(n)&&(n="100%");var processPercent=function(n){return"string"==typeof n&&-1!=n.indexOf("%")}(n);return n=mathMin(max,mathMax(0,parseFloat(n))),processPercent&&(n=parseInt(n*max,10)/100),Math.abs(n-max)<1e-6?1:n%max/parseFloat(max)}function clamp01(val){return mathMin(1,mathMax(0,val))}function parseIntFromHex(val){return parseInt(val,16)}function pad2(c){return 1==c.length?"0"+c:""+c}function convertToPercentage(n){return n<=1&&(n=100*n+"%"),n}function convertDecimalToHex(d){return Math.round(255*parseFloat(d)).toString(16)}function convertHexToDecimal(h){return parseIntFromHex(h)/255}var CSS_UNIT,PERMISSIVE_MATCH3,PERMISSIVE_MATCH4,matchers=(PERMISSIVE_MATCH3="[\\s|\\(]+("+(CSS_UNIT="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",{CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function isValidCSSUnit(color){return!!matchers.CSS_UNIT.exec(color)}module.exports?module.exports=tinycolor:void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return tinycolor}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(Math)},function(module,exports){var getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function(){return getRandomValues(rnds8),rnds8}}else{var rnds=new Array(16);module.exports=function(){for(var r,i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),rnds[i]=r>>>((3&i)<<3)&255;return rnds}}},function(module,exports){for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);module.exports=function(buf,offset){var i=offset||0,bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join("")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toRgba=toRgba,exports.getClickedPointColor=function(maybeFullyDecodedMarker,instanceIndex){const{positionBuffer:positionBuffer,colorBuffer:colorBuffer,settings:settings,is_bigendian:is_bigendian}=maybeFullyDecodedMarker;if((0,_lodash.isEmpty)(positionBuffer)||(0,_lodash.isNil)(instanceIndex)||instanceIndex>=(0,_buffers.getVertexCount)(positionBuffer))return;const pointIndex=instanceIndex||0,{colorMode:colorMode}=settings;if(!colorMode)return;if("rgb"===colorMode.mode&&!(0,_lodash.isEmpty)(colorBuffer)){const vertexValues=(0,_buffers.getVertexValues)(colorBuffer,pointIndex,3);return is_bigendian?[...vertexValues,1]:[vertexValues[2],vertexValues[1],vertexValues[0],1]}if("gradient"===colorMode.mode&&!(0,_lodash.isEmpty)(colorBuffer)){const{minColorValue:minColorValue,maxColorValue:maxColorValue}=maybeFullyDecodedMarker,colorFieldValue=(0,_buffers.getVertexValue)(colorBuffer,pointIndex),colorFieldRange=maxColorValue-minColorValue||1/0,pct=Math.max(0,Math.min((colorFieldValue-minColorValue)/colorFieldRange,1)),{minColor:minColor,maxColor:maxColor}=colorMode,parsedMinColor=toRgba(minColor||_types.DEFAULT_MIN_COLOR),parsedMaxColor=toRgba(maxColor||_types.DEFAULT_MAX_COLOR);return[(0,_util.lerp)(pct,parsedMinColor[0],parsedMaxColor[0]),(0,_util.lerp)(pct,parsedMinColor[1],parsedMaxColor[1]),(0,_util.lerp)(pct,parsedMinColor[2],parsedMaxColor[2]),1]}if("rainbow"===colorMode.mode&&!(0,_lodash.isEmpty)(colorBuffer)){const{minColorValue:minColorValue,maxColorValue:maxColorValue}=maybeFullyDecodedMarker,colorFieldValue=(0,_buffers.getVertexValue)(colorBuffer,pointIndex),colorFieldRange=maxColorValue-minColorValue||1/0;return getRainbowColor(Math.max(0,Math.min((colorFieldValue-minColorValue)/colorFieldRange,1)))}if("flat"===colorMode.mode)return toRgba(colorMode.flatColor||_types.DEFAULT_FLAT_COLOR)},exports.getAdditionalFieldNames=function(fields){const allFields=fields.map(field=>field.name);return(0,_lodash.difference)(allFields,["rgb","x","y","z"])},exports.decodeData=function(marker){const{fields:fields,data:data,width:width,row_step:row_step,height:height,point_step:point_step}=marker,offsets=(0,_buffers.getFieldOffsetsAndReaders)(fields),ret=[];if(!offsets)return ret;for(let row=0;row<height;row++){const dataOffset=row*row_step;for(let col=0;col<width;col++){const dataStart=col*point_step+dataOffset,values={};for(const field of fields){const reader=offsets[field.name].reader;reader&&(values[field.name]=reader.read(data,dataStart))}ret.push(values)}}return ret},exports.getRainbowColor=getRainbowColor;var _lodash=__webpack_require__(7),_index=__webpack_require__(6),_buffers=__webpack_require__(84),_types=__webpack_require__(30),_util=__webpack_require__(83);function toRgba(rgba){return(0,_index.toRGBA)({r:255*rgba.r,g:255*rgba.g,b:255*rgba.b,a:rgba.a})}function getRainbowColor(pct){const h=5*(1-pct)+1,i=Math.floor(h);let f=h%1;0==(1&i)&&(f=1-f);const n=1-f;let r=0,g=0,b=0;return i<=1?(r=n,g=0,b=1):2===i?(r=0,g=n,b=1):3===i?(r=0,g=1,b=n):4===i?(r=n,g=1,b=0):(r=1,g=n,b=0),[255*r,255*g,255*b,1]}},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(85);function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache,module.exports=memoize},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(31),isObject=__webpack_require__(86);module.exports=function(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return"[object Function]"==tag||"[object GeneratorFunction]"==tag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag}},function(module,exports,__webpack_require__){(function(global){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(8))},function(module,exports){var funcToString=Function.prototype.toString;module.exports=function(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}},function(module,exports){module.exports=function(value,other){return value===other||value!=value&&other!=other}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _glMatrix=__webpack_require__(26),_react=_interopRequireDefault(__webpack_require__(0)),_index=__webpack_require__(6),_CarModel=_interopRequireDefault(__webpack_require__(400));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _default=_react.default.memo((function({children:children,layerIndex:layerIndex}){const models=[],arrowMarkers=[];return children.forEach((marker,i)=>{const{pose:pose,settings:settings,interactionData:interactionData}=marker;switch(null==settings?void 0:settings.modelType){case"car-model":models.push(_react.default.createElement(_CarModel.default,{layerIndex:layerIndex,key:i},{pose:pose,alpha:settings.alpha||1,interactionData:interactionData}));break;case"arrow":default:{settings&&settings.overrideColor&&(marker=_objectSpread({},marker,{color:settings.overrideColor})),settings&&settings.size&&(marker=_objectSpread({},marker,{scale:{x:settings.size.shaftWidth||marker.scale.x,y:settings.size.headWidth||marker.scale.y,z:settings.size.headLength||marker.scale.z}}));const pos=(0,_index.pointToVec3)(marker.pose.position),orientation=(0,_index.orientationToVec4)(marker.pose.orientation),dir=_glMatrix.vec3.transformQuat([0,0,0],[1,0,0],orientation),tipPoint=_glMatrix.vec3.scaleAndAdd([0,0,0],pos,dir,3.82),tailPoint=_glMatrix.vec3.scaleAndAdd([0,0,0],pos,dir,-.88);arrowMarkers.push(_objectSpread({},marker,{points:[(0,_index.vec3ToPoint)(tailPoint),(0,_index.vec3ToPoint)(tipPoint)]}));break}}}),[...models,_react.default.createElement(_index.Arrows,{layerIndex:layerIndex,key:"arrows"},arrowMarkers)]}));exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setRgba=setRgba,exports.TextureCache=exports.defaultMapPalette=exports.COLORS=void 0;var obj,_tinycolor=(obj=__webpack_require__(134))&&obj.__esModule?obj:{default:obj};function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const COLORS={BLACK:(0,_tinycolor.default)("black"),RED:(0,_tinycolor.default)("red"),PINK:(0,_tinycolor.default)("pink"),LIME:(0,_tinycolor.default)("lime"),CYAN:(0,_tinycolor.default)("cyan"),WHITE:(0,_tinycolor.default)("white"),AQUA:(0,_tinycolor.default)("aqua"),BLUE:(0,_tinycolor.default)("blue"),ORANGE:(0,_tinycolor.default)("orange"),MAGENTA:(0,_tinycolor.default)("magenta"),YELLOW:(0,_tinycolor.default)("yellow"),GRAY:(0,_tinycolor.default)("darkgray"),DARKGRAY:(0,_tinycolor.default)("gray"),PURPLE:(0,_tinycolor.default)("purple")};function setRgba(buffer,index,color){const rgba255=color.toRgb();rgba255.a*=255,buffer[index]=rgba255.r,buffer[index+1]=rgba255.g,buffer[index+2]=rgba255.b,buffer[index+3]=rgba255.a}exports.COLORS=COLORS;const defaultMapPalette=(()=>{const buff=new Uint8Array(1024);for(let i=0;i<=100;i++){const t=1-i/100;setRgba(buff,4*i,_tinycolor.default.fromRatio({r:t,g:t,b:t}))}for(let i=101;i<=127;i++){setRgba(buff,4*i,(0,_tinycolor.default)("lime"))}for(let i=128;i<=248;i++){const t=(i-128)/126;setRgba(buff,4*i,_tinycolor.default.fromRatio({r:t,g:.2,b:.6,a:Math.max(1-t,.2)}))}return setRgba(buff,1020,COLORS.GRAY.setAlpha(.5)),setRgba(buff,1016,COLORS.ORANGE.setAlpha(.5)),setRgba(buff,1012,COLORS.CYAN.setAlpha(.5)),setRgba(buff,1008,COLORS.YELLOW.setAlpha(.5)),setRgba(buff,404,COLORS.PURPLE.setAlpha(.5)),setRgba(buff,440,COLORS.PINK.setAlpha(.5)),setRgba(buff,444,COLORS.LIME.setAlpha(.5)),setRgba(buff,448,COLORS.AQUA.setAlpha(.5)),buff})();function toTypedArray(data){if(data instanceof Int8Array)return new Uint8Array(data.buffer,data.byteOffset,data.byteLength);const result=new Uint8Array(data.length);for(let i=0;i<data.length;i++)result[i]=data[i];return result}exports.defaultMapPalette=defaultMapPalette;class TextureCacheEntry{constructor(regl,marker){_defineProperty(this,"marker",void 0),_defineProperty(this,"texture",void 0),_defineProperty(this,"regl",void 0),this.marker=marker,this.regl=regl;const{info:info,data:data}=marker;this.texture=regl.texture({format:"alpha",mipmap:!1,data:toTypedArray(data),width:info.width,height:info.height})}getTexture(marker){if(this.marker===marker)return this.texture;this.marker=marker;const{info:info,data:data}=marker;return this.texture=this.texture({format:"alpha",mipmap:!1,data:toTypedArray(data),width:info.width,height:info.height}),this.texture}}exports.TextureCache=class{constructor(regl){_defineProperty(this,"store",{}),_defineProperty(this,"regl",void 0),this.regl=regl}get(marker){const{name:name}=marker,item=this.store[name];if(!item){const entry=new TextureCacheEntry(this.regl,marker);return this.store[name]=entry,entry.texture}return item.getTexture(marker)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.decodeMarker=function(marker,sphericalRangeScale){const{fields:fields=[],settings:settings={},point_step:stride,width:width,height:height,hitmapColors:hitmapColors,data:data}=marker,offsetsAndReaders=(0,_buffers.getFieldOffsetsAndReaders)(fields),{rgb:{offset:rgbOffset}={}}=offsetsAndReaders,pointCount=width*height,colorMode=settings.colorMode?settings.colorMode:null!=rgbOffset?{mode:"rgb"}:{mode:"flat",flatColor:_types.DEFAULT_FLAT_COLOR},isHitmap=!!hitmapColors,positionBuffer=(0,_buffers.createPositionBuffer)({data:data,fields:offsetsAndReaders,pointCount:pointCount,stride:stride,sphericalRangeScale:sphericalRangeScale}),colorBuffer=isHitmap?null:(0,_buffers.createColorBuffer)({data:data,fields:offsetsAndReaders,colorMode:colorMode,pointCount:pointCount,stride:stride});let minColorValue=Number.POSITIVE_INFINITY,maxColorValue=Number.NEGATIVE_INFINITY;if(colorBuffer&&!isHitmap&&("gradient"===colorMode.mode||"rainbow"===colorMode.mode)){let hasMinValue=!1;null!=colorMode.minValue&&(hasMinValue=!0,minColorValue=colorMode.minValue);let hasMaxValue=!1;if(null!=colorMode.maxValue&&(hasMaxValue=!0,maxColorValue=colorMode.maxValue),!hasMinValue||!hasMaxValue)for(let i=0;i<(0,_buffers.getVertexCount)(colorBuffer);i++){const pos=(0,_buffers.getVertexValue)(positionBuffer,i);if(Number.isNaN(pos))continue;const value=(0,_buffers.getVertexValue)(colorBuffer,i);Number.isNaN(value)||(!hasMinValue&&value<minColorValue&&(minColorValue=value),!hasMaxValue&&value>maxColorValue&&(maxColorValue=value))}}return _objectSpread({},marker,{settings:_objectSpread({},settings,{colorMode:colorMode}),pointCount:pointCount,positionBuffer:positionBuffer,colorBuffer:colorBuffer,minColorValue:minColorValue,maxColorValue:maxColorValue,hitmapColors:hitmapColors})};var _buffers=__webpack_require__(84),_types=__webpack_require__(30);function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}},function(module,exports){module.exports=function(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}},function(module,exports){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},function(module,exports,__webpack_require__){var baseMatches=__webpack_require__(414),baseMatchesProperty=__webpack_require__(449),identity=__webpack_require__(458),isArray=__webpack_require__(11),property=__webpack_require__(459);module.exports=function(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(52),stackClear=__webpack_require__(416),stackDelete=__webpack_require__(417),stackGet=__webpack_require__(418),stackHas=__webpack_require__(419),stackSet=__webpack_require__(420);function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},function(module,exports,__webpack_require__){var baseIsEqualDeep=__webpack_require__(421),isObjectLike=__webpack_require__(33);module.exports=function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(152),arraySome=__webpack_require__(424),cacheHas=__webpack_require__(153);module.exports=function(array,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=2&bitmask?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(85),setCacheAdd=__webpack_require__(422),setCacheHas=__webpack_require__(423);function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},function(module,exports){module.exports=function(cache,key){return cache.has(key)}},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(14),stubFalse=__webpack_require__(436),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,isBuffer=(Buffer?Buffer.isBuffer:void 0)||stubFalse;module.exports=isBuffer}).call(this,__webpack_require__(19)(module))},function(module,exports){var reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=function(value,length){var type=typeof value;return!!(length=null==length?9007199254740991:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}},function(module,exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(437),baseUnary=__webpack_require__(438),nodeUtil=__webpack_require__(439),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},function(module,exports,__webpack_require__){var Set=__webpack_require__(25)(__webpack_require__(14),"Set");module.exports=Set},function(module,exports,__webpack_require__){var isObject=__webpack_require__(86);module.exports=function(value){return value==value&&!isObject(value)}},function(module,exports){module.exports=function(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}},function(module,exports,__webpack_require__){var castPath=__webpack_require__(161),toKey=__webpack_require__(55);module.exports=function(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(11),isKey=__webpack_require__(93),stringToPath=__webpack_require__(451),toString=__webpack_require__(453);module.exports=function(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}},function(module,exports){module.exports=function(out,a){var x=a[0],y=a[1],z=a[2],len=x*x+y*y+z*z;len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len,out[2]=a[2]*len);return out}},function(module,exports){module.exports=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Memo}));var Memo=function(){function Memo(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return Memo.prototype.memoize=function(obj){if(this._hasWeakSet)return!!this._inner.has(obj)||(this._inner.add(obj),!1);for(var i=0;i<this._inner.length;i++){if(this._inner[i]===obj)return!0}return this._inner.push(obj),!1},Memo.prototype.unmemoize=function(obj){if(this._hasWeakSet)this._inner.delete(obj);else for(var i=0;i<this._inner.length;i++)if(this._inner[i]===obj){this._inner.splice(i,1);break}},Memo}()},function(module,exports,__webpack_require__){"use strict";var _LayoutWorker=_interopRequireDefault(__webpack_require__(166)),_defaultHooks=_interopRequireDefault(__webpack_require__(509));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(0,_LayoutWorker.default)(_defaultHooks.default)},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(hooks){if(global.postMessage&&!global.onmessage){const rpc=new _Rpc.default(global);(0,_RpcWorkerUtils.setupWorker)(rpc),setupLayoutRenderer(hooks,rpc)}},exports.initLayoutNonWorker=function(hooks){const{local:local,remote:remote}=(0,_Rpc.createLinkedChannels)(),remoteRpc=new _Rpc.default(remote);return setupLayoutRenderer(hooks,remoteRpc),local};var _react=_interopRequireWildcard(__webpack_require__(0)),_index=__webpack_require__(6),_shallowequal=_interopRequireDefault(__webpack_require__(78)),_signal=_interopRequireDefault(__webpack_require__(127)),_OverlayProjector=__webpack_require__(79),_Collector=_interopRequireDefault(__webpack_require__(307)),_WorkerDataRpc=__webpack_require__(308),_SceneBuilder=_interopRequireDefault(__webpack_require__(320)),_threeDimensionalVizUtils=__webpack_require__(327),_useSceneBuilderAndTransformsData=_interopRequireDefault(__webpack_require__(331)),_Transforms=_interopRequireDefault(__webpack_require__(48)),_TransformsBuilder=_interopRequireDefault(__webpack_require__(333)),_World=_interopRequireDefault(__webpack_require__(334)),_WorldContext=_interopRequireDefault(__webpack_require__(499)),_globalConstants=__webpack_require__(13),_hooks=__webpack_require__(49),_NoopReactRenderer=_interopRequireDefault(__webpack_require__(500)),_Rpc=_interopRequireWildcard(__webpack_require__(47)),_RpcWorkerUtils=__webpack_require__(506);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,newObj}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ReactWorldInterface(props){const worldRef=_react.default.useRef(),[state,setState]=_react.default.useState(),onMouseEvent=_react.default.useCallback(({e:e,mouseEventName:mouseEventName})=>{const world=worldRef.current;return world?new Promise(resolve=>{world.handleOffscreenMouseEvent(_objectSpread({},e,{target:_objectSpread({},props.canvas,{getBoundingClientRect:()=>({top:e.clientTop,left:e.clientLeft})}),persist:()=>{},isPropagationStopped:()=>!1,resolve:resolve}),mouseEventName)}):Promise.resolve()},[props.canvas]);return(0,_react.useEffect)(()=>{props.registerCallbacks({setState:setState,onMouseEvent:onMouseEvent})},[props.registerCallbacks,setState,onMouseEvent,props]),state?_react.default.createElement(WorldRenderer,_extends({worldRef:worldRef},_objectSpread({},state,props))):null}function WorldRenderer(props){const{hooks:hooks,cleared:cleared,playerId:playerId,flattenMarkers:flattenMarkers,selectedNamespacesByTopic:selectedNamespacesByTopic,settingsByKey:settingsByKey,selectedTopics:selectedTopics,globalVariables:globalVariables,linkedGlobalVariables:linkedGlobalVariables,highlightMarkerMatchers:highlightMarkerMatchers,colorOverrideMarkerMatchers:colorOverrideMarkerMatchers,currentTime:currentTime,transformElements:transformElements,rootTf:rootTf,frame:frame,setAvailableNsAndErrors:setAvailableNsAndErrors,structuralDatatypes:structuralDatatypes,debug:debug}=props,transforms=(0,_react.useMemo)(()=>new _Transforms.default(transformElements),[transformElements]),{sceneBuilder:sceneBuilder,transformsBuilder:transformsBuilder}=(0,_react.useMemo)(()=>({sceneBuilder:new _SceneBuilder.default(hooks),transformsBuilder:new _TransformsBuilder.default}),[hooks]);cleared&&sceneBuilder.clear(),(0,_react.useMemo)(()=>{sceneBuilder.setPlayerId(playerId),sceneBuilder.setTransforms(transforms,rootTf),sceneBuilder.setFlattenMarkers(!!flattenMarkers),sceneBuilder.setSelectedNamespacesByTopic(selectedNamespacesByTopic),sceneBuilder.setSettingsByKey(settingsByKey),sceneBuilder.setTopics(selectedTopics),sceneBuilder.setGlobalVariables({globalVariables:globalVariables,linkedGlobalVariables:linkedGlobalVariables}),sceneBuilder.setHighlightedMatchers(highlightMarkerMatchers),sceneBuilder.setColorOverrideMatchers(colorOverrideMarkerMatchers),sceneBuilder.setFrame(frame),sceneBuilder.setCurrentTime(currentTime),sceneBuilder.setStructuralDatatypes(structuralDatatypes),sceneBuilder.render(),transformsBuilder.setTransforms(transforms,rootTf),transformsBuilder.setSelectedTransforms(selectedNamespacesByTopic[_globalConstants.$TF]||[])},[colorOverrideMarkerMatchers,currentTime,flattenMarkers,frame,globalVariables,highlightMarkerMatchers,linkedGlobalVariables,playerId,rootTf,sceneBuilder,selectedNamespacesByTopic,selectedTopics,settingsByKey,structuralDatatypes,transforms,transformsBuilder]);const staticallyAvailableNamespacesByTopic=(0,_react.useMemo)(()=>hooks.getStaticallyAvailableNamespacesByTopic(),[hooks]),{availableNamespacesByTopic:availableNamespacesByTopic,sceneErrorsByKey:sceneErrorsByKey}=(0,_useSceneBuilderAndTransformsData.default)({playerId:playerId,sceneBuilder:sceneBuilder,staticallyAvailableNamespacesByTopic:staticallyAvailableNamespacesByTopic,transforms:transforms});(0,_hooks.useChangeDetector)([availableNamespacesByTopic,sceneErrorsByKey],!0)&&setAvailableNsAndErrors(availableNamespacesByTopic,sceneErrorsByKey);const mapElement=function(sceneBuilder,props){var _props$selectedNamesp;const{MapComponent:MapComponent}=props.hooks,memoizedScene=(0,_hooks.useShallowMemo)(sceneBuilder.getScene()),metadataTopicNamespaces=(0,_hooks.useShallowMemo)(null!==(_props$selectedNamesp=props.selectedNamespacesByTopic[_globalConstants.$METADATA])&&void 0!==_props$selectedNamesp?_props$selectedNamesp:[]),onMapTileError=(0,_react.useCallback)(error=>{sceneBuilder.setTopicError(_globalConstants.$METADATA,error.message)},[sceneBuilder]);return _react.default.useMemo(()=>MapComponent&&_react.default.createElement(MapComponent,{onMapTileError:onMapTileError,metadataTopicNamespaces:metadataTopicNamespaces,scene:memoizedScene,debug:props.debug,perspective:!!props.cameraState.perspective,isDemoMode:props.isDemoMode}),[MapComponent,metadataTopicNamespaces,memoizedScene,props.debug,props.cameraState.perspective,props.isDemoMode,onMapTileError])}(sceneBuilder,props);return _react.default.createElement(_WorldContext.default.Provider,{value:props.worldContextValue},_react.default.createElement(_World.default,_extends({ref:props.worldRef,autoTextBackgroundColor:!!props.autoTextBackgroundColor,cameraState:props.cameraState,isPlaying:!!props.isPlaying,isDemoMode:props.isDemoMode,diffModeEnabled:props.diffModeEnabled,searchTextOpen:props.searchTextOpen,searchText:props.searchText,searchTextMatches:props.searchTextMatches,selectedMatchIndex:props.selectedMatchIndex,setSearchTextMatches:props.setSearchTextMatches,showCrosshair:props.showCrosshair,markerProviders:[sceneBuilder,transformsBuilder],sphericalRangeScale:props.sphericalRangeScale},props),mapElement,_react.default.createElement(_index.DrawPolygons,null,props.polygons),debug&&_react.default.createElement(_Collector.default,{setDebugStats:props.setDebugStats})))}class LayoutWorker{constructor(canvas,hooks,rpc){_defineProperty(this,"canvas",void 0),_defineProperty(this,"hooks",void 0),_defineProperty(this,"playerId",void 0),_defineProperty(this,"hasChangedPlayerId",void 0),_defineProperty(this,"rendererCallbacks",void 0),_defineProperty(this,"searchTextMatches",void 0),_defineProperty(this,"availableTfs",void 0),_defineProperty(this,"_renderSignals",[]),_defineProperty(this,"_hasOffscreenCanvas",void 0),_defineProperty(this,"resolveRenderSignal",renderSignal=>{for(;this._renderSignals.length>0;){const queuedSignal=this._renderSignals.shift();if(queuedSignal.resolve(),queuedSignal===renderSignal)break}}),_defineProperty(this,"setSearchTextMatches",markers=>{this.searchTextMatches=markers}),_defineProperty(this,"onMouseEvent",props=>this.rendererCallbacks.onMouseEvent(props)),_defineProperty(this,"renderFrame",async({cleared:cleared,rootTf:rootTf,playerId:playerId,transformElements:transformElements,flattenMarkers:flattenMarkers,frame:frame,selectedNamespacesByTopic:selectedNamespacesByTopic,settingsByKey:settingsByKey,selectedTopics:selectedTopics,globalVariables:globalVariables,linkedGlobalVariables:linkedGlobalVariables,highlightMarkerMatchers:highlightMarkerMatchers,colorOverrideMarkerMatchers:colorOverrideMarkerMatchers,currentTime:currentTime,width:width,height:height,cameraState:cameraState,isPlaying:isPlaying,isDemoMode:isDemoMode,autoTextBackgroundColor:autoTextBackgroundColor,diffModeEnabled:diffModeEnabled,searchTextOpen:searchTextOpen,searchText:searchText,selectedMatchIndex:selectedMatchIndex,showCrosshair:showCrosshair,polygons:polygons,measurePoints:measurePoints,structuralDatatypes:structuralDatatypes,worldContextValue:worldContextValue,debug:debug,sphericalRangeScale:sphericalRangeScale})=>{this.hasChangedPlayerId=!(0,_shallowequal.default)(this.playerId,playerId),this.playerId=playerId,this._hasOffscreenCanvas&&(this.canvas.width=width,this.canvas.height=height,this.canvas.clientWidth=width,this.canvas.clientHeight=height);const renderSignal=(0,_signal.default)();this._renderSignals.push(renderSignal);return this.rendererCallbacks.setState({cameraState:cameraState,cleared:cleared,colorOverrideMarkerMatchers:colorOverrideMarkerMatchers,currentTime:currentTime,flattenMarkers:flattenMarkers,frame:frame,globalVariables:globalVariables,highlightMarkerMatchers:highlightMarkerMatchers,isPlaying:isPlaying,isDemoMode:isDemoMode,linkedGlobalVariables:linkedGlobalVariables,autoTextBackgroundColor:autoTextBackgroundColor,diffModeEnabled:diffModeEnabled,playerId:playerId,resolveRenderSignal:()=>{this.resolveRenderSignal(renderSignal)},rootTf:rootTf,searchTextOpen:searchTextOpen,searchText:searchText,searchTextMatches:this.searchTextMatches,selectedMatchIndex:selectedMatchIndex,selectedNamespacesByTopic:selectedNamespacesByTopic,selectedTopics:selectedTopics,settingsByKey:settingsByKey,showCrosshair:showCrosshair,transformElements:transformElements,polygons:polygons,measurePoints:measurePoints,structuralDatatypes:structuralDatatypes,worldContextValue:worldContextValue,debug:debug,sphericalRangeScale:sphericalRangeScale}),await renderSignal,{searchTextMatches:this.searchTextMatches}}),_defineProperty(this,"_mouseEventHandler",eventName=>(e,inputArgs)=>{const args=inputArgs&&inputArgs.objects?_objectSpread({},inputArgs,{objects:inputArgs.objects.map(_threeDimensionalVizUtils.normalizeMouseEventObject)}):inputArgs,{clientX:clientX,clientY:clientY,resolve:resolve,ctrlKey:ctrlKey}=e,payload={eventName:eventName,ev:{clientX:clientX,clientY:clientY,ctrlKey:ctrlKey},args:args};"onMouseUp"===eventName?setTimeout(()=>resolve(payload),0):resolve(payload)}),this.canvas=canvas,this.hooks=hooks,this.playerId="",this.hasChangedPlayerId=!0,this.searchTextMatches=[],this.availableTfs=[];let iconDrawables=[];this._hasOffscreenCanvas=null==canvas.clientWidth,(0,_NoopReactRenderer.default)(_react.default.createElement(ReactWorldInterface,{registerCallbacks:callbacks=>{this.rendererCallbacks=callbacks},hooks:this.hooks,canvas:canvas,onClick:this._mouseEventHandler("onClick"),onDoubleClick:this._mouseEventHandler("onDoubleClick"),onMouseDown:this._mouseEventHandler("onMouseDown"),onMouseMove:this._mouseEventHandler("onMouseMove"),onMouseUp:this._mouseEventHandler("onMouseUp"),setOverlayIcons:({renderItems:renderItems,sceneBuilderDrawables:sceneBuilderDrawables})=>(iconDrawables=sceneBuilderDrawables,rpc.send("updateOverlayIcons",renderItems)),setDebugStats:stats=>{rpc.send("updateDebugStats",stats)},setSearchTextMatches:this.setSearchTextMatches,setAvailableNsAndErrors:(availableNamespacesByTopic,errorsByTopic)=>rpc.send("onAvailableNsAndErrors",{availableNamespacesByTopic:availableNamespacesByTopic,errorsByTopic:errorsByTopic})})),new _WorkerDataRpc.LayoutWorkerDataReceiver(rpc,this.renderFrame),rpc.receive("onMouseEvent",this.onMouseEvent),rpc.receive("getIconData",name=>{const icon=iconDrawables.find(i=>(0,_OverlayProjector.getIconName)(i)===name);if(icon)return(0,_threeDimensionalVizUtils.normalizeMouseEventObject)({object:icon}).object})}}function setupLayoutRenderer(hooks,rpc){rpc.receive("initialize",({canvas:canvas})=>{new LayoutWorker(canvas,hooks,rpc)})}}).call(this,__webpack_require__(8))},function(module,exports,__webpack_require__){"use strict";var h=__webpack_require__(168),n="function"==typeof Symbol&&Symbol.for,p=n?Symbol.for("react.element"):60103,q=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,t=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,v=n?Symbol.for("react.provider"):60109,w=n?Symbol.for("react.context"):60110,x=n?Symbol.for("react.forward_ref"):60112,y=n?Symbol.for("react.suspense"):60113,aa=n?Symbol.for("react.suspense_list"):60120,ba=n?Symbol.for("react.memo"):60115,ca=n?Symbol.for("react.lazy"):60116;n&&Symbol.for("react.fundamental"),n&&Symbol.for("react.responder"),n&&Symbol.for("react.scope");var z="function"==typeof Symbol&&Symbol.iterator;function A(a){for(var b=a.message,c="https://reactjs.org/docs/error-decoder.html?invariant="+b,d=1;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d]);return a.message="Minified React error #"+b+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",a}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C={};function D(a,b,c){this.props=a,this.context=b,this.refs=C,this.updater=c||B}function E(){}function F(a,b,c){this.props=a,this.context=b,this.refs=C,this.updater=c||B}D.prototype.isReactComponent={},D.prototype.setState=function(a,b){if("object"!=typeof a&&"function"!=typeof a&&null!=a)throw A(Error(85));this.updater.enqueueSetState(this,a,b,"setState")},D.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")},E.prototype=D.prototype;var G=F.prototype=new E;G.constructor=F,h(G,D.prototype),G.isPureReactComponent=!0;var H={current:null},I={suspense:null},J={current:null},K=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0};function M(a,b,c){var d,e={},g=null,l=null;if(null!=b)for(d in void 0!==b.ref&&(l=b.ref),void 0!==b.key&&(g=""+b.key),b)K.call(b,d)&&!L.hasOwnProperty(d)&&(e[d]=b[d]);var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){for(var k=Array(f),m=0;m<f;m++)k[m]=arguments[m+2];e.children=k}if(a&&a.defaultProps)for(d in f=a.defaultProps)void 0===e[d]&&(e[d]=f[d]);return{$$typeof:p,type:a,key:g,ref:l,props:e,_owner:J.current}}function N(a){return"object"==typeof a&&null!==a&&a.$$typeof===p}var O=/\/+/g,P=[];function Q(a,b,c,d){if(P.length){var e=P.pop();return e.result=a,e.keyPrefix=b,e.func=c,e.context=d,e.count=0,e}return{result:a,keyPrefix:b,func:c,context:d,count:0}}function R(a){a.result=null,a.keyPrefix=null,a.func=null,a.context=null,a.count=0,10>P.length&&P.push(a)}function U(a,b,c){return null==a?0:function S(a,b,c,d){var e=typeof a;"undefined"!==e&&"boolean"!==e||(a=null);var g=!1;if(null===a)g=!0;else switch(e){case"string":case"number":g=!0;break;case"object":switch(a.$$typeof){case p:case q:g=!0}}if(g)return c(d,a,""===b?"."+T(a,0):b),1;if(g=0,b=""===b?".":b+":",Array.isArray(a))for(var l=0;l<a.length;l++){var f=b+T(e=a[l],l);g+=S(e,f,c,d)}else if(null===a||"object"!=typeof a?f=null:f="function"==typeof(f=z&&a[z]||a["@@iterator"])?f:null,"function"==typeof f)for(a=f.call(a),l=0;!(e=a.next()).done;)g+=S(e=e.value,f=b+T(e,l++),c,d);else if("object"===e)throw c=""+a,A(Error(31),"[object Object]"===c?"object with keys {"+Object.keys(a).join(", ")+"}":c,"");return g}(a,"",b,c)}function T(a,b){return"object"==typeof a&&null!==a&&null!=a.key?function(a){var b={"=":"=0",":":"=2"};return"$"+(""+a).replace(/[=:]/g,(function(a){return b[a]}))}(a.key):b.toString(36)}function ea(a,b){a.func.call(a.context,b,a.count++)}function fa(a,b,c){var d=a.result,e=a.keyPrefix;a=a.func.call(a.context,b,a.count++),Array.isArray(a)?V(a,d,c,(function(a){return a})):null!=a&&(N(a)&&(a=function(a,b){return{$$typeof:p,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}(a,e+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+c)),d.push(a))}function V(a,b,c,d,e){var g="";null!=c&&(g=(""+c).replace(O,"$&/")+"/"),U(a,fa,b=Q(b,g,d,e)),R(b)}function W(){var a=H.current;if(null===a)throw A(Error(321));return a}var X={Children:{map:function(a,b,c){if(null==a)return a;var d=[];return V(a,d,null,b,c),d},forEach:function(a,b,c){if(null==a)return a;U(a,ea,b=Q(null,null,b,c)),R(b)},count:function(a){return U(a,(function(){return null}),null)},toArray:function(a){var b=[];return V(a,b,null,(function(a){return a})),b},only:function(a){if(!N(a))throw A(Error(143));return a}},createRef:function(){return{current:null}},Component:D,PureComponent:F,createContext:function(a,b){return void 0===b&&(b=null),(a={$$typeof:w,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:v,_context:a},a.Consumer=a},forwardRef:function(a){return{$$typeof:x,render:a}},lazy:function(a){return{$$typeof:ca,_ctor:a,_status:-1,_result:null}},memo:function(a,b){return{$$typeof:ba,type:a,compare:void 0===b?null:b}},useCallback:function(a,b){return W().useCallback(a,b)},useContext:function(a,b){return W().useContext(a,b)},useEffect:function(a,b){return W().useEffect(a,b)},useImperativeHandle:function(a,b,c){return W().useImperativeHandle(a,b,c)},useDebugValue:function(){},useLayoutEffect:function(a,b){return W().useLayoutEffect(a,b)},useMemo:function(a,b){return W().useMemo(a,b)},useReducer:function(a,b,c){return W().useReducer(a,b,c)},useRef:function(a){return W().useRef(a)},useState:function(a){return W().useState(a)},Fragment:r,Profiler:u,StrictMode:t,Suspense:y,unstable_SuspenseList:aa,createElement:M,cloneElement:function(a,b,c){if(null==a)throw A(Error(267),a);var d=h({},a.props),e=a.key,g=a.ref,l=a._owner;if(null!=b){if(void 0!==b.ref&&(g=b.ref,l=J.current),void 0!==b.key&&(e=""+b.key),a.type&&a.type.defaultProps)var f=a.type.defaultProps;for(k in b)K.call(b,k)&&!L.hasOwnProperty(k)&&(d[k]=void 0===b[k]&&void 0!==f?f[k]:b[k])}var k=arguments.length-2;if(1===k)d.children=c;else if(1<k){f=Array(k);for(var m=0;m<k;m++)f[m]=arguments[m+2];d.children=f}return{$$typeof:p,type:a.type,key:e,ref:g,props:d,_owner:l}},createFactory:function(a){var b=M.bind(null,a);return b.type=a,b},isValidElement:N,version:"16.10.2",unstable_withSuspenseConfig:function(a,b){var c=I.suspense;I.suspense=void 0===b?null:b;try{a()}finally{I.suspense=c}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:H,ReactCurrentBatchConfig:I,ReactCurrentOwner:J,IsSomeRendererActing:{current:!1},assign:h}},Y={default:X},Z=Y&&X||Y;module.exports=Z.default||Z},function(module,exports,__webpack_require__){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}module.exports=function(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map((function(n){return test2[n]})).join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach((function(letter){test3[letter]=letter})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}()?Object.assign:function(target,source){for(var from,symbols,to=toObject(target),s=1;s<arguments.length;s++){for(var key in from=Object(arguments[s]))hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},function(module,exports){function _extends(){return module.exports=_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}module.exports=_extends},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(99);module.exports=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){defineProperty(target,key,source[key])}))}return target}},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(57),baseForOwn=__webpack_require__(178),baseIteratee=__webpack_require__(107);module.exports=function(object,iteratee){var result={};return iteratee=baseIteratee(iteratee,3),baseForOwn(object,(function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))})),result}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(101),isMasked=__webpack_require__(175),isObject=__webpack_require__(18),toSource=__webpack_require__(103),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=function(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(22),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},function(module,exports){var nativeObjectToString=Object.prototype.toString;module.exports=function(value){return nativeObjectToString.call(value)}},function(module,exports,__webpack_require__){var uid,coreJsData=__webpack_require__(176),maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";module.exports=function(func){return!!maskSrcKey&&maskSrcKey in func}},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(9)["__core-js_shared__"];module.exports=coreJsData},function(module,exports){module.exports=function(object,key){return null==object?void 0:object[key]}},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(179),keys=__webpack_require__(27);module.exports=function(object,iteratee){return object&&baseFor(object,iteratee,keys)}},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(180)();module.exports=baseFor},function(module,exports){module.exports=function(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}},function(module,exports){module.exports=function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(21),isObjectLike=__webpack_require__(12);module.exports=function(value){return isObjectLike(value)&&"[object Arguments]"==baseGetTag(value)}},function(module,exports){module.exports=function(){return!1}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(21),isLength=__webpack_require__(61),isObjectLike=__webpack_require__(12),typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1,module.exports=function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}},function(module,exports,__webpack_require__){var isPrototype=__webpack_require__(63),nativeKeys=__webpack_require__(186),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}},function(module,exports,__webpack_require__){var nativeKeys=__webpack_require__(106)(Object.keys,Object);module.exports=nativeKeys},function(module,exports,__webpack_require__){var baseIsMatch=__webpack_require__(188),getMatchData=__webpack_require__(224),matchesStrictComparable=__webpack_require__(117);module.exports=function(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(65),baseIsEqual=__webpack_require__(108);module.exports=function(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,3,customizer,stack):result))return!1}}return!0}},function(module,exports){module.exports=function(){this.__data__=[],this.size=0}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(38),splice=Array.prototype.splice;module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(38);module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(38);module.exports=function(key){return assocIndexOf(this.__data__,key)>-1}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(38);module.exports=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(37);module.exports=function(){this.__data__=new ListCache,this.size=0}},function(module,exports){module.exports=function(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}},function(module,exports){module.exports=function(key){return this.__data__.get(key)}},function(module,exports){module.exports=function(key){return this.__data__.has(key)}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(37),Map=__webpack_require__(67),MapCache=__webpack_require__(68);module.exports=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}},function(module,exports,__webpack_require__){var Hash=__webpack_require__(200),ListCache=__webpack_require__(37),Map=__webpack_require__(67);module.exports=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(201),hashDelete=__webpack_require__(202),hashGet=__webpack_require__(203),hashHas=__webpack_require__(204),hashSet=__webpack_require__(205);function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(39);module.exports=function(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}},function(module,exports){module.exports=function(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(39),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(39),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(39);module.exports=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(40);module.exports=function(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}},function(module,exports){module.exports=function(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(40);module.exports=function(key){return getMapData(this,key).get(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(40);module.exports=function(key){return getMapData(this,key).has(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(40);module.exports=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(65),equalArrays=__webpack_require__(109),equalByTag=__webpack_require__(215),equalObjects=__webpack_require__(218),getTag=__webpack_require__(41),isArray=__webpack_require__(10),isBuffer=__webpack_require__(59),isTypedArray=__webpack_require__(105),objectTag="[object Object]",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?"[object Array]":getTag(object),othTag=othIsArr?"[object Array]":getTag(other),objIsObj=(objTag="[object Arguments]"==objTag?objectTag:objTag)==objectTag,othIsObj=(othTag="[object Arguments]"==othTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}},function(module,exports){module.exports=function(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this}},function(module,exports){module.exports=function(value){return this.__data__.has(value)}},function(module,exports){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(22),Uint8Array=__webpack_require__(112),eq=__webpack_require__(66),equalArrays=__webpack_require__(109),mapToArray=__webpack_require__(216),setToArray=__webpack_require__(217),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case"[object DataView]":if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case"[object ArrayBuffer]":return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case"[object Boolean]":case"[object Date]":case"[object Number]":return eq(+object,+other);case"[object Error]":return object.name==other.name&&object.message==other.message;case"[object RegExp]":case"[object String]":return object==other+"";case"[object Map]":var convert=mapToArray;case"[object Set]":var isPartial=1&bitmask;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=2,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case"[object Symbol]":if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}},function(module,exports){module.exports=function(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}},function(module,exports){module.exports=function(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}},function(module,exports,__webpack_require__){var getAllKeys=__webpack_require__(113),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}},function(module,exports){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}},function(module,exports,__webpack_require__){var DataView=__webpack_require__(17)(__webpack_require__(9),"DataView");module.exports=DataView},function(module,exports,__webpack_require__){var Promise=__webpack_require__(17)(__webpack_require__(9),"Promise");module.exports=Promise},function(module,exports,__webpack_require__){var Set=__webpack_require__(17)(__webpack_require__(9),"Set");module.exports=Set},function(module,exports,__webpack_require__){var WeakMap=__webpack_require__(17)(__webpack_require__(9),"WeakMap");module.exports=WeakMap},function(module,exports,__webpack_require__){var isStrictComparable=__webpack_require__(116),keys=__webpack_require__(27);module.exports=function(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}},function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(108),get=__webpack_require__(226),hasIn=__webpack_require__(231),isKey=__webpack_require__(71),isStrictComparable=__webpack_require__(116),matchesStrictComparable=__webpack_require__(117),toKey=__webpack_require__(24);module.exports=function(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,3)}}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(42);module.exports=function(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(228),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped((function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)})),result}));module.exports=stringToPath},function(module,exports,__webpack_require__){var memoize=__webpack_require__(118);module.exports=function(func){var result=memoize(func,(function(key){return 500===cache.size&&cache.clear(),key})),cache=result.cache;return result}},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(230);module.exports=function(value){return null==value?"":baseToString(value)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(22),arrayMap=__webpack_require__(43),isArray=__webpack_require__(10),isSymbol=__webpack_require__(72),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}},function(module,exports,__webpack_require__){var baseHasIn=__webpack_require__(232),hasPath=__webpack_require__(233);module.exports=function(object,path){return null!=object&&hasPath(object,path,baseHasIn)}},function(module,exports){module.exports=function(object,key){return null!=object&&key in Object(object)}},function(module,exports,__webpack_require__){var castPath=__webpack_require__(23),isArguments=__webpack_require__(58),isArray=__webpack_require__(10),isIndex=__webpack_require__(60),isLength=__webpack_require__(61),toKey=__webpack_require__(24);module.exports=function(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}},function(module,exports,__webpack_require__){var baseProperty=__webpack_require__(235),basePropertyDeep=__webpack_require__(236),isKey=__webpack_require__(71),toKey=__webpack_require__(24);module.exports=function(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}},function(module,exports){module.exports=function(key){return function(object){return null==object?void 0:object[key]}}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(42);module.exports=function(path){return function(object){return baseGet(object,path)}}},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(43),baseIteratee=__webpack_require__(107),basePickBy=__webpack_require__(238),getAllKeysIn=__webpack_require__(75);module.exports=function(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),(function(prop){return[prop]}));return predicate=baseIteratee(predicate),basePickBy(object,props,(function(value,path){return predicate(value,path[0])}))}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(42),baseSet=__webpack_require__(239),castPath=__webpack_require__(23);module.exports=function(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(74),castPath=__webpack_require__(23),isIndex=__webpack_require__(60),isObject=__webpack_require__(18),toKey=__webpack_require__(24);module.exports=function(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];void 0===(newValue=customizer?customizer(objValue,key,nested):void 0)&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(18),isPrototype=__webpack_require__(63),nativeKeysIn=__webpack_require__(241),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}},function(module,exports){module.exports=function(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}},function(module,exports,__webpack_require__){"use strict";function defaultEqualityCheck(a,b){return a===b}function areArgumentsShallowlyEqual(equalityCheck,prev,next){if(null===prev||null===next||prev.length!==next.length)return!1;for(var length=prev.length,i=0;i<length;i++)if(!equalityCheck(prev[i],next[i]))return!1;return!0}function defaultMemoize(func){var equalityCheck=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultEqualityCheck,lastArgs=null,lastResult=null;return function(){return areArgumentsShallowlyEqual(equalityCheck,lastArgs,arguments)||(lastResult=func.apply(null,arguments)),lastArgs=arguments,lastResult}}function getDependencies(funcs){var dependencies=Array.isArray(funcs[0])?funcs[0]:funcs;if(!dependencies.every((function(dep){return"function"==typeof dep}))){var dependencyTypes=dependencies.map((function(dep){return typeof dep})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+dependencyTypes+"]")}return dependencies}function createSelectorCreator(memoize){for(var _len=arguments.length,memoizeOptions=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)memoizeOptions[_key-1]=arguments[_key];return function(){for(var _len2=arguments.length,funcs=Array(_len2),_key2=0;_key2<_len2;_key2++)funcs[_key2]=arguments[_key2];var recomputations=0,resultFunc=funcs.pop(),dependencies=getDependencies(funcs),memoizedResultFunc=memoize.apply(void 0,[function(){return recomputations++,resultFunc.apply(null,arguments)}].concat(memoizeOptions)),selector=defaultMemoize((function(){for(var params=[],length=dependencies.length,i=0;i<length;i++)params.push(dependencies[i].apply(null,arguments));return memoizedResultFunc.apply(null,params)}));return selector.resultFunc=resultFunc,selector.recomputations=function(){return recomputations},selector.resetRecomputations=function(){return recomputations=0},selector}}exports.__esModule=!0,exports.defaultMemoize=defaultMemoize,exports.createSelectorCreator=createSelectorCreator,exports.createStructuredSelector=function(selectors){var selectorCreator=arguments.length>1&&void 0!==arguments[1]?arguments[1]:createSelector;if("object"!=typeof selectors)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof selectors);var objectKeys=Object.keys(selectors);return selectorCreator(objectKeys.map((function(key){return selectors[key]})),(function(){for(var _len3=arguments.length,values=Array(_len3),_key3=0;_key3<_len3;_key3++)values[_key3]=arguments[_key3];return values.reduce((function(composition,value,index){return composition[objectKeys[index]]=value,composition}),{})}))};var createSelector=exports.createSelector=createSelectorCreator(defaultMemoize)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(244)},function(module,exports,__webpack_require__){"use strict";var UserAgent_DEPRECATED=__webpack_require__(245),isEventSupported=__webpack_require__(246);function normalizeWheel(event){var sX=0,sY=0,pX=0,pY=0;return"detail"in event&&(sY=event.detail),"wheelDelta"in event&&(sY=-event.wheelDelta/120),"wheelDeltaY"in event&&(sY=-event.wheelDeltaY/120),"wheelDeltaX"in event&&(sX=-event.wheelDeltaX/120),"axis"in event&&event.axis===event.HORIZONTAL_AXIS&&(sX=sY,sY=0),pX=10*sX,pY=10*sY,"deltaY"in event&&(pY=event.deltaY),"deltaX"in event&&(pX=event.deltaX),(pX||pY)&&event.deltaMode&&(1==event.deltaMode?(pX*=40,pY*=40):(pX*=800,pY*=800)),pX&&!sX&&(sX=pX<1?-1:1),pY&&!sY&&(sY=pY<1?-1:1),{spinX:sX,spinY:sY,pixelX:pX,pixelY:pY}}normalizeWheel.getEventType=function(){return UserAgent_DEPRECATED.firefox()?"DOMMouseScroll":isEventSupported("wheel")?"wheel":"mousewheel"},module.exports=normalizeWheel},function(module,exports){var _ie,_firefox,_opera,_webkit,_chrome,_ie_real_version,_osx,_windows,_linux,_android,_win64,_iphone,_ipad,_native,_mobile,_populated=!1;function _populate(){if(!_populated){_populated=!0;var uas=navigator.userAgent,agent=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(uas),os=/(Mac OS X)|(Windows)|(Linux)/.exec(uas);if(_iphone=/\b(iPhone|iP[ao]d)/.exec(uas),_ipad=/\b(iP[ao]d)/.exec(uas),_android=/Android/i.exec(uas),_native=/FBAN\/\w+;/i.exec(uas),_mobile=/Mobile/i.exec(uas),_win64=!!/Win64/.exec(uas),agent){(_ie=agent[1]?parseFloat(agent[1]):agent[5]?parseFloat(agent[5]):NaN)&&document&&document.documentMode&&(_ie=document.documentMode);var trident=/(?:Trident\/(\d+.\d+))/.exec(uas);_ie_real_version=trident?parseFloat(trident[1])+4:_ie,_firefox=agent[2]?parseFloat(agent[2]):NaN,_opera=agent[3]?parseFloat(agent[3]):NaN,(_webkit=agent[4]?parseFloat(agent[4]):NaN)?(agent=/(?:Chrome\/(\d+\.\d+))/.exec(uas),_chrome=agent&&agent[1]?parseFloat(agent[1]):NaN):_chrome=NaN}else _ie=_firefox=_opera=_chrome=_webkit=NaN;if(os){if(os[1]){var ver=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(uas);_osx=!ver||parseFloat(ver[1].replace("_","."))}else _osx=!1;_windows=!!os[2],_linux=!!os[3]}else _osx=_windows=_linux=!1}}var UserAgent_DEPRECATED={ie:function(){return _populate()||_ie},ieCompatibilityMode:function(){return _populate()||_ie_real_version>_ie},ie64:function(){return UserAgent_DEPRECATED.ie()&&_win64},firefox:function(){return _populate()||_firefox},opera:function(){return _populate()||_opera},webkit:function(){return _populate()||_webkit},safari:function(){return UserAgent_DEPRECATED.webkit()},chrome:function(){return _populate()||_chrome},windows:function(){return _populate()||_windows},osx:function(){return _populate()||_osx},linux:function(){return _populate()||_linux},iphone:function(){return _populate()||_iphone},mobile:function(){return _populate()||_iphone||_ipad||_android||_mobile},nativeApp:function(){return _populate()||_native},android:function(){return _populate()||_android},ipad:function(){return _populate()||_ipad}};module.exports=UserAgent_DEPRECATED},function(module,exports,__webpack_require__){"use strict";var useHasFeature,ExecutionEnvironment=__webpack_require__(247);ExecutionEnvironment.canUseDOM&&(useHasFeature=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),module.exports=function(eventNameSuffix,capture){if(!ExecutionEnvironment.canUseDOM||capture&&!("addEventListener"in document))return!1;var eventName="on"+eventNameSuffix,isSupported=eventName in document;if(!isSupported){var element=document.createElement("div");element.setAttribute(eventName,"return;"),isSupported="function"==typeof element[eventName]}return!isSupported&&useHasFeature&&"wheel"===eventNameSuffix&&(isSupported=document.implementation.hasFeature("Events.wheel","3.0")),isSupported}},function(module,exports,__webpack_require__){"use strict";var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:canUseDOM&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM};module.exports=ExecutionEnvironment},function(module,exports,__webpack_require__){module.exports=function(){"use strict";var isTypedArray=function(x){return x instanceof Uint8Array||x instanceof Uint16Array||x instanceof Uint32Array||x instanceof Int8Array||x instanceof Int16Array||x instanceof Int32Array||x instanceof Float32Array||x instanceof Float64Array||x instanceof Uint8ClampedArray},extend=function(base,opts){for(var keys=Object.keys(opts),i=0;i<keys.length;++i)base[keys[i]]=opts[keys[i]];return base};function raise(message){var error=new Error("(regl) "+message);throw console.error(error),error}function check(pred,message){pred||raise(message)}function encolon(message){return message?": "+message:""}function checkOneOf(value,list,message){list.indexOf(value)<0&&raise("invalid value"+encolon(message)+". must be one of: "+list)}var constructorKeys=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function leftPad(str,n){for(str+="";str.length<n;)str=" "+str;return str}function ShaderFile(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function ShaderLine(number,line){this.number=number,this.line=line,this.errors=[]}function ShaderError(fileNumber,lineNumber,message){this.file=fileNumber,this.line=lineNumber,this.message=message}function guessCommand(){var error=new Error,stack=(error.stack||error).toString(),pat=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(stack);if(pat)return pat[1];var pat2=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(stack);return pat2?pat2[1]:"unknown"}function guessCallSite(){var error=new Error,stack=(error.stack||error).toString(),pat=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(stack);if(pat)return pat[1];var pat2=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(stack);return pat2?pat2[1]:"unknown"}function parseSource(source,command){var str,lines=source.split("\n"),lineNumber=1,fileNumber=0,files={unknown:new ShaderFile,0:new ShaderFile};files.unknown.name=files[0].name=command||guessCommand(),files.unknown.lines.push(new ShaderLine(0,""));for(var i=0;i<lines.length;++i){var line=lines[i],parts=/^\s*\#\s*(\w+)\s+(.+)\s*$/.exec(line);if(parts)switch(parts[1]){case"line":var lineNumberInfo=/(\d+)(\s+\d+)?/.exec(parts[2]);lineNumberInfo&&(lineNumber=0|lineNumberInfo[1],lineNumberInfo[2]&&((fileNumber=0|lineNumberInfo[2])in files||(files[fileNumber]=new ShaderFile)));break;case"define":var nameInfo=/SHADER_NAME(_B64)?\s+(.*)$/.exec(parts[2]);nameInfo&&(files[fileNumber].name=nameInfo[1]?(str=nameInfo[2],"undefined"!=typeof atob?atob(str):"base64:"+str):nameInfo[2])}files[fileNumber].lines.push(new ShaderLine(lineNumber++,line))}return Object.keys(files).forEach((function(fileNumber){var file=files[fileNumber];file.lines.forEach((function(line){file.index[line.number]=line}))})),files}function saveCommandRef(object){object._commandRef=guessCommand()}function commandRaise(message,command){var callSite=guessCallSite();raise(message+" in command "+(command||guessCommand())+("unknown"===callSite?"":" called from "+callSite))}function checkCommandType(value,type,message,command){typeof value!==type&&commandRaise("invalid parameter type"+encolon(message)+". expected "+type+", got "+typeof value,command||guessCommand())}var TYPE_SIZE={};function pixelSize(type,channels){return 32820===type||32819===type||33635===type?2:34042===type?4:TYPE_SIZE[type]*channels}function isPow2(v){return!(v&v-1||!v)}TYPE_SIZE[5120]=TYPE_SIZE[5121]=1,TYPE_SIZE[5122]=TYPE_SIZE[5123]=TYPE_SIZE[36193]=TYPE_SIZE[33635]=TYPE_SIZE[32819]=TYPE_SIZE[32820]=2,TYPE_SIZE[5124]=TYPE_SIZE[5125]=TYPE_SIZE[5126]=TYPE_SIZE[34042]=4;var check$1=extend(check,{optional:function(block){block()},raise:raise,commandRaise:commandRaise,command:function(pred,message,command){pred||commandRaise(message,command||guessCommand())},parameter:function(param,possibilities,message){param in possibilities||raise("unknown parameter ("+param+")"+encolon(message)+". possible values: "+Object.keys(possibilities).join())},commandParameter:function(param,possibilities,message,command){param in possibilities||commandRaise("unknown parameter ("+param+")"+encolon(message)+". possible values: "+Object.keys(possibilities).join(),command||guessCommand())},constructor:function(obj){Object.keys(obj).forEach((function(key){constructorKeys.indexOf(key)<0&&raise('invalid regl constructor argument "'+key+'". must be one of '+constructorKeys)}))},type:function(value,type,message){typeof value!==type&&raise("invalid parameter type"+encolon(message)+". expected "+type+", got "+typeof value)},commandType:checkCommandType,isTypedArray:function(data,message){isTypedArray(data)||raise("invalid parameter type"+encolon(message)+". must be a typed array")},nni:function(value,message){value>=0&&(0|value)===value||raise("invalid parameter type, ("+value+")"+encolon(message)+". must be a nonnegative integer")},oneOf:checkOneOf,shaderError:function(gl,shader,source,type,command){if(!gl.getShaderParameter(shader,gl.COMPILE_STATUS)){var errLog=gl.getShaderInfoLog(shader),typeName=type===gl.FRAGMENT_SHADER?"fragment":"vertex";checkCommandType(source,"string",typeName+" shader source must be a string",command);var files=parseSource(source,command),errors=function(errLog){var result=[];return errLog.split("\n").forEach((function(errMsg){if(!(errMsg.length<5)){var parts=/^ERROR\:\s+(\d+)\:(\d+)\:\s*(.*)$/.exec(errMsg);parts?result.push(new ShaderError(0|parts[1],0|parts[2],parts[3].trim())):errMsg.length>0&&result.push(new ShaderError("unknown",0,errMsg))}})),result}(errLog);!function(files,errors){errors.forEach((function(error){var file=files[error.file];if(file){var line=file.index[error.line];if(line)return line.errors.push(error),void(file.hasErrors=!0)}files.unknown.hasErrors=!0,files.unknown.lines[0].errors.push(error)}))}(files,errors),Object.keys(files).forEach((function(fileNumber){var file=files[fileNumber];if(file.hasErrors){var strings=[""],styles=[""];push("file number "+fileNumber+": "+file.name+"\n","color:red;text-decoration:underline;font-weight:bold"),file.lines.forEach((function(line){if(line.errors.length>0){push(leftPad(line.number,4)+"|  ","background-color:yellow; font-weight:bold"),push(line.line+"\n","color:red; background-color:yellow; font-weight:bold");var offset=0;line.errors.forEach((function(error){var message=error.message,token=/^\s*\'(.*)\'\s*\:\s*(.*)$/.exec(message);if(token){var tokenPat=token[1];switch(message=token[2],tokenPat){case"assign":tokenPat="="}offset=Math.max(line.line.indexOf(tokenPat,offset),0)}else offset=0;push(leftPad("| ",6)),push(leftPad("^^^",offset+3)+"\n","font-weight:bold"),push(leftPad("| ",6)),push(message+"\n","font-weight:bold")})),push(leftPad("| ",6)+"\n")}else push(leftPad(line.number,4)+"|  "),push(line.line+"\n","color:red")})),"undefined"==typeof document||window.chrome?console.log(strings.join("")):(styles[0]=strings.join("%c"),console.log.apply(console,styles))}function push(str,style){strings.push(str),styles.push(style||"")}})),check.raise("Error compiling "+typeName+" shader, "+files[0].name)}},linkError:function(gl,program,fragShader,vertShader,command){if(!gl.getProgramParameter(program,gl.LINK_STATUS)){var errLog=gl.getProgramInfoLog(program),fragParse=parseSource(fragShader,command),header='Error linking program with vertex shader, "'+parseSource(vertShader,command)[0].name+'", and fragment shader "'+fragParse[0].name+'"';"undefined"!=typeof document?console.log("%c"+header+"\n%c"+errLog,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(header+"\n"+errLog),check.raise(header)}},callSite:guessCallSite,saveCommandRef:saveCommandRef,saveDrawInfo:function(opts,uniforms,attributes,stringStore){function id(str){return str?stringStore.id(str):0}function addProps(dict,set){Object.keys(set).forEach((function(u){dict[stringStore.id(u)]=!0}))}saveCommandRef(opts),opts._fragId=id(opts.static.frag),opts._vertId=id(opts.static.vert);var uniformSet=opts._uniformSet={};addProps(uniformSet,uniforms.static),addProps(uniformSet,uniforms.dynamic);var attributeSet=opts._attributeSet={};addProps(attributeSet,attributes.static),addProps(attributeSet,attributes.dynamic),opts._hasCount="count"in opts.static||"count"in opts.dynamic||"elements"in opts.static||"elements"in opts.dynamic},framebufferFormat:function(attachment,texFormats,rbFormats){attachment.texture?checkOneOf(attachment.texture._texture.internalformat,texFormats,"unsupported texture format for attachment"):checkOneOf(attachment.renderbuffer._renderbuffer.format,rbFormats,"unsupported renderbuffer format for attachment")},guessCommand:guessCommand,texture2D:function(info,mipData,limits){var i,w=mipData.width,h=mipData.height,c=mipData.channels;check(w>0&&w<=limits.maxTextureSize&&h>0&&h<=limits.maxTextureSize,"invalid texture shape"),33071===info.wrapS&&33071===info.wrapT||check(isPow2(w)&&isPow2(h),"incompatible wrap mode for texture, both width and height must be power of 2"),1===mipData.mipmask?1!==w&&1!==h&&check(9984!==info.minFilter&&9986!==info.minFilter&&9985!==info.minFilter&&9987!==info.minFilter,"min filter requires mipmap"):(check(isPow2(w)&&isPow2(h),"texture must be a square power of 2 to support mipmapping"),check(mipData.mipmask===(w<<1)-1,"missing or incomplete mipmap data")),5126===mipData.type&&(limits.extensions.indexOf("oes_texture_float_linear")<0&&check(9728===info.minFilter&&9728===info.magFilter,"filter not supported, must enable oes_texture_float_linear"),check(!info.genMipmaps,"mipmap generation not supported with float textures"));var mipimages=mipData.images;for(i=0;i<16;++i)if(mipimages[i]){var mw=w>>i,mh=h>>i;check(mipData.mipmask&1<<i,"missing mipmap data");var img=mipimages[i];if(check(img.width===mw&&img.height===mh,"invalid shape for mip images"),check(img.format===mipData.format&&img.internalformat===mipData.internalformat&&img.type===mipData.type,"incompatible type for mip image"),img.compressed);else if(img.data){var rowSize=Math.ceil(pixelSize(img.type,c)*mw/img.unpackAlignment)*img.unpackAlignment;check(img.data.byteLength===rowSize*mh,"invalid data for image, buffer size is inconsistent with image format")}else img.element||img.copy}else info.genMipmaps||check(0==(mipData.mipmask&1<<i),"extra mipmap data");mipData.compressed&&check(!info.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(texture,info,faces,limits){var w=texture.width,h=texture.height,c=texture.channels;check(w>0&&w<=limits.maxTextureSize&&h>0&&h<=limits.maxTextureSize,"invalid texture shape"),check(w===h,"cube map must be square"),check(33071===info.wrapS&&33071===info.wrapT,"wrap mode not supported by cube map");for(var i=0;i<faces.length;++i){var face=faces[i];check(face.width===w&&face.height===h,"inconsistent cube map face shape"),info.genMipmaps&&(check(!face.compressed,"can not generate mipmap for compressed textures"),check(1===face.mipmask,"can not specify mipmaps and generate mipmaps"));for(var mipmaps=face.images,j=0;j<16;++j){var img=mipmaps[j];if(img){var mw=w>>j,mh=h>>j;check(face.mipmask&1<<j,"missing mipmap data"),check(img.width===mw&&img.height===mh,"invalid shape for mip images"),check(img.format===texture.format&&img.internalformat===texture.internalformat&&img.type===texture.type,"incompatible type for mip image"),img.compressed||(img.data?check(img.data.byteLength===mw*mh*Math.max(pixelSize(img.type,c),img.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):img.element||img.copy)}}}}}),VARIABLE_COUNTER=0;function DynamicVariable(type,data){this.id=VARIABLE_COUNTER++,this.type=type,this.data=data}function escapeStr(str){return str.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function toAccessorString(str){return"["+function splitParts(str){if(0===str.length)return[];var firstChar=str.charAt(0),lastChar=str.charAt(str.length-1);if(str.length>1&&firstChar===lastChar&&('"'===firstChar||"'"===firstChar))return['"'+escapeStr(str.substr(1,str.length-2))+'"'];var parts=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(str);if(parts)return splitParts(str.substr(0,parts.index)).concat(splitParts(parts[1])).concat(splitParts(str.substr(parts.index+parts[0].length)));var subparts=str.split(".");if(1===subparts.length)return['"'+escapeStr(str)+'"'];for(var result=[],i=0;i<subparts.length;++i)result=result.concat(splitParts(subparts[i]));return result}(str).join("][")+"]"}var dynamic={DynamicVariable:DynamicVariable,define:function(type,data){return new DynamicVariable(type,toAccessorString(data+""))},isDynamic:function(x){return"function"==typeof x&&!x._reglType||x instanceof DynamicVariable},unbox:function(x,path){return"function"==typeof x?new DynamicVariable(0,x):x},accessor:toAccessorString},raf={next:"function"==typeof requestAnimationFrame?function(cb){return requestAnimationFrame(cb)}:function(cb){return setTimeout(cb,16)},cancel:"function"==typeof cancelAnimationFrame?function(raf){return cancelAnimationFrame(raf)}:clearTimeout},clock="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function parseExtensions(input){return"string"==typeof input?input.split():(check$1(Array.isArray(input),"invalid extension array"),input)}function getElement(desc){return"string"==typeof desc?(check$1("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(desc)):desc}function parseArgs(args_){var element,container,canvas,gl,obj,args=args_||{},contextAttributes={},extensions=[],optionalExtensions=[],pixelRatio="undefined"==typeof window?1:window.devicePixelRatio,profile=!1,onDone=function(err){err&&check$1.raise(err)},onDestroy=function(){};if("string"==typeof args?(check$1("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),element=document.querySelector(args),check$1(element,"invalid query string for element")):"object"==typeof args?"string"==typeof(obj=args).nodeName&&"function"==typeof obj.appendChild&&"function"==typeof obj.getBoundingClientRect?element=args:function(obj){return"function"==typeof obj.drawArrays||"function"==typeof obj.drawElements}(args)?canvas=(gl=args).canvas:(check$1.constructor(args),"gl"in args?gl=args.gl:"canvas"in args?canvas=getElement(args.canvas):"container"in args&&(container=getElement(args.container)),"attributes"in args&&(contextAttributes=args.attributes,check$1.type(contextAttributes,"object","invalid context attributes")),"extensions"in args&&(extensions=parseExtensions(args.extensions)),"optionalExtensions"in args&&(optionalExtensions=parseExtensions(args.optionalExtensions)),"onDone"in args&&(check$1.type(args.onDone,"function","invalid or missing onDone callback"),onDone=args.onDone),"profile"in args&&(profile=!!args.profile),"pixelRatio"in args&&(pixelRatio=+args.pixelRatio,check$1(pixelRatio>0,"invalid pixel ratio"))):check$1.raise("invalid arguments to regl"),element&&("canvas"===element.nodeName.toLowerCase()?canvas=element:container=element),!gl){if(!canvas){check$1("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var result=function(element,onDone,pixelRatio){var canvas=document.createElement("canvas");function resize(){var w=window.innerWidth,h=window.innerHeight;if(element!==document.body){var bounds=element.getBoundingClientRect();w=bounds.right-bounds.left,h=bounds.bottom-bounds.top}canvas.width=pixelRatio*w,canvas.height=pixelRatio*h,extend(canvas.style,{width:w+"px",height:h+"px"})}return extend(canvas.style,{border:0,margin:0,padding:0,top:0,left:0}),element.appendChild(canvas),element===document.body&&(canvas.style.position="absolute",extend(element.style,{margin:0,padding:0})),window.addEventListener("resize",resize,!1),resize(),{canvas:canvas,onDestroy:function(){window.removeEventListener("resize",resize),element.removeChild(canvas)}}}(container||document.body,0,pixelRatio);if(!result)return null;canvas=result.canvas,onDestroy=result.onDestroy}gl=function(canvas,contextAttributes){function get(name){try{return canvas.getContext(name,contextAttributes)}catch(e){return null}}return get("webgl")||get("experimental-webgl")||get("webgl-experimental")}(canvas,contextAttributes)}return gl?{gl:gl,canvas:canvas,container:container,extensions:extensions,optionalExtensions:optionalExtensions,pixelRatio:pixelRatio,profile:profile,onDone:onDone,onDestroy:onDestroy}:(onDestroy(),onDone("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function loop(n,f){for(var result=Array(n),i=0;i<n;++i)result[i]=f(i);return result}function log2(v){var r,shift;return r=(v>65535)<<4,r|=shift=((v>>>=r)>255)<<3,r|=shift=((v>>>=shift)>15)<<2,(r|=shift=((v>>>=shift)>3)<<1)|(v>>>=shift)>>1}function createPool(){var bufferPool=loop(8,(function(){return[]}));function alloc(n){var sz=function(v){for(var i=16;i<=1<<28;i*=16)if(v<=i)return i;return 0}(n),bin=bufferPool[log2(sz)>>2];return bin.length>0?bin.pop():new ArrayBuffer(sz)}function free(buf){bufferPool[log2(buf.byteLength)>>2].push(buf)}return{alloc:alloc,free:free,allocType:function(type,n){var result=null;switch(type){case 5120:result=new Int8Array(alloc(n),0,n);break;case 5121:result=new Uint8Array(alloc(n),0,n);break;case 5122:result=new Int16Array(alloc(2*n),0,n);break;case 5123:result=new Uint16Array(alloc(2*n),0,n);break;case 5124:result=new Int32Array(alloc(4*n),0,n);break;case 5125:result=new Uint32Array(alloc(4*n),0,n);break;case 5126:result=new Float32Array(alloc(4*n),0,n);break;default:return null}return result.length!==n?result.subarray(0,n):result},freeType:function(array){free(array.buffer)}}}var pool=createPool();function isNDArrayLike(obj){return!!obj&&"object"==typeof obj&&Array.isArray(obj.shape)&&Array.isArray(obj.stride)&&"number"==typeof obj.offset&&obj.shape.length===obj.stride.length&&(Array.isArray(obj.data)||isTypedArray(obj.data))}pool.zero=createPool();var values=function(obj){return Object.keys(obj).map((function(key){return obj[key]}))},flattenUtils={shape:function(array_){for(var shape=[],array=array_;array.length;array=array[0])shape.push(array.length);return shape},flatten:function(array,shape,type,out_){var sz=1;if(shape.length)for(var i=0;i<shape.length;++i)sz*=shape[i];else sz=0;var out=out_||pool.allocType(type,sz);switch(shape.length){case 0:break;case 1:!function(array,nx,out){for(var i=0;i<nx;++i)out[i]=array[i]}(array,shape[0],out);break;case 2:!function(array,nx,ny,out){for(var ptr=0,i=0;i<nx;++i)for(var row=array[i],j=0;j<ny;++j)out[ptr++]=row[j]}(array,shape[0],shape[1],out);break;case 3:flatten3D(array,shape[0],shape[1],shape[2],out,0);break;default:!function flattenRec(array,shape,level,out,ptr){for(var stride=1,i=level+1;i<shape.length;++i)stride*=shape[i];var n=shape[level];if(shape.length-level==4){var nx=shape[level+1],ny=shape[level+2],nz=shape[level+3];for(i=0;i<n;++i)flatten3D(array[i],nx,ny,nz,out,ptr),ptr+=stride}else for(i=0;i<n;++i)flattenRec(array[i],shape,level+1,out,ptr),ptr+=stride}(array,shape,0,out,0)}return out}};function flatten3D(array,nx,ny,nz,out,ptr_){for(var ptr=ptr_,i=0;i<nx;++i)for(var row=array[i],j=0;j<ny;++j)for(var col=row[j],k=0;k<nz;++k)out[ptr++]=col[k]}var arrayTypes={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},glTypes={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},usageTypes={dynamic:35048,stream:35040,static:35044},arrayFlatten=flattenUtils.flatten,arrayShape=flattenUtils.shape,DTYPES_SIZES=[];function typedArrayCode(data){return 0|arrayTypes[Object.prototype.toString.call(data)]}function copyArray(out,inp){for(var i=0;i<inp.length;++i)out[i]=inp[i]}function transpose(result,data,shapeX,shapeY,strideX,strideY,offset){for(var ptr=0,i=0;i<shapeX;++i)for(var j=0;j<shapeY;++j)result[ptr++]=data[strideX*i+strideY*j+offset]}DTYPES_SIZES[5120]=1,DTYPES_SIZES[5122]=2,DTYPES_SIZES[5124]=4,DTYPES_SIZES[5121]=1,DTYPES_SIZES[5123]=2,DTYPES_SIZES[5125]=4,DTYPES_SIZES[5126]=4;var primTypes={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},FLOAT=new Float32Array(1),INT=new Uint32Array(FLOAT.buffer);function convertToHalfFloat(array){for(var ushorts=pool.allocType(5123,array.length),i=0;i<array.length;++i)if(isNaN(array[i]))ushorts[i]=65535;else if(array[i]===1/0)ushorts[i]=31744;else if(array[i]===-1/0)ushorts[i]=64512;else{FLOAT[0]=array[i];var x=INT[0],sgn=x>>>31<<15,exp=(x<<1>>>24)-127,frac=x>>13&1023;if(exp<-24)ushorts[i]=sgn;else if(exp<-14){var s=-14-exp;ushorts[i]=sgn+(frac+1024>>s)}else ushorts[i]=exp>15?sgn+31744:sgn+(exp+15<<10)+frac}return ushorts}function isArrayLike(s){return Array.isArray(s)||isTypedArray(s)}var isPow2$1=function(v){return!(v&v-1||!v)},MIPMAP_FILTERS=[9984,9986,9985,9987],CHANNELS_FORMAT=[0,6409,6410,6407,6408],FORMAT_CHANNELS={};function objectName(str){return"[object "+str+"]"}FORMAT_CHANNELS[6409]=FORMAT_CHANNELS[6406]=FORMAT_CHANNELS[6402]=1,FORMAT_CHANNELS[34041]=FORMAT_CHANNELS[6410]=2,FORMAT_CHANNELS[6407]=FORMAT_CHANNELS[35904]=3,FORMAT_CHANNELS[6408]=FORMAT_CHANNELS[35906]=4;var CANVAS_CLASS=objectName("HTMLCanvasElement"),CONTEXT2D_CLASS=objectName("CanvasRenderingContext2D"),BITMAP_CLASS=objectName("ImageBitmap"),IMAGE_CLASS=objectName("HTMLImageElement"),VIDEO_CLASS=objectName("HTMLVideoElement"),PIXEL_CLASSES=Object.keys(arrayTypes).concat([CANVAS_CLASS,CONTEXT2D_CLASS,BITMAP_CLASS,IMAGE_CLASS,VIDEO_CLASS]),TYPE_SIZES=[];TYPE_SIZES[5121]=1,TYPE_SIZES[5126]=4,TYPE_SIZES[36193]=2,TYPE_SIZES[5123]=2,TYPE_SIZES[5125]=4;var FORMAT_SIZES_SPECIAL=[];function isNumericArray(arr){return Array.isArray(arr)&&(0===arr.length||"number"==typeof arr[0])}function isRectArray(arr){return!!Array.isArray(arr)&&!(0===arr.length||!isArrayLike(arr[0]))}function classString(x){return Object.prototype.toString.call(x)}function isCanvasElement(object){return classString(object)===CANVAS_CLASS}function isPixelData(object){if(!object)return!1;var className=classString(object);return PIXEL_CLASSES.indexOf(className)>=0||isNumericArray(object)||isRectArray(object)||isNDArrayLike(object)}function typedArrayCode$1(data){return 0|arrayTypes[Object.prototype.toString.call(data)]}function preConvert(image,n){return pool.allocType(36193===image.type?5126:image.type,n)}function postConvert(image,data){36193===image.type?(image.data=convertToHalfFloat(data),pool.freeType(data)):image.data=data}function getTextureSize(format,type,width,height,isMipmap,isCube){var s;if(s=void 0!==FORMAT_SIZES_SPECIAL[format]?FORMAT_SIZES_SPECIAL[format]:FORMAT_CHANNELS[format]*TYPE_SIZES[type],isCube&&(s*=6),isMipmap){for(var total=0,w=width;w>=1;)total+=s*w*w,w/=2;return total}return s*width*height}function createTextureSet(gl,extensions,limits,reglPoll,contextState,stats,config){var mipmapHint={"don't care":4352,"dont care":4352,nice:4354,fast:4353},wrapModes={repeat:10497,clamp:33071,mirror:33648},magFilters={nearest:9728,linear:9729},minFilters=extend({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},magFilters),colorSpace={none:0,browser:37444},textureTypes={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},textureFormats={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},compressedTextureFormats={};extensions.ext_srgb&&(textureFormats.srgb=35904,textureFormats.srgba=35906),extensions.oes_texture_float&&(textureTypes.float32=textureTypes.float=5126),extensions.oes_texture_half_float&&(textureTypes.float16=textureTypes["half float"]=36193),extensions.webgl_depth_texture&&(extend(textureFormats,{depth:6402,"depth stencil":34041}),extend(textureTypes,{uint16:5123,uint32:5125,"depth stencil":34042})),extensions.webgl_compressed_texture_s3tc&&extend(compressedTextureFormats,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),extensions.webgl_compressed_texture_atc&&extend(compressedTextureFormats,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),extensions.webgl_compressed_texture_pvrtc&&extend(compressedTextureFormats,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),extensions.webgl_compressed_texture_etc1&&(compressedTextureFormats["rgb etc1"]=36196);var supportedCompressedFormats=Array.prototype.slice.call(gl.getParameter(34467));Object.keys(compressedTextureFormats).forEach((function(name){var format=compressedTextureFormats[name];supportedCompressedFormats.indexOf(format)>=0&&(textureFormats[name]=format)}));var supportedFormats=Object.keys(textureFormats);limits.textureFormats=supportedFormats;var textureFormatsInvert=[];Object.keys(textureFormats).forEach((function(key){var val=textureFormats[key];textureFormatsInvert[val]=key}));var textureTypesInvert=[];Object.keys(textureTypes).forEach((function(key){var val=textureTypes[key];textureTypesInvert[val]=key}));var magFiltersInvert=[];Object.keys(magFilters).forEach((function(key){magFiltersInvert[magFilters[key]]=key}));var minFiltersInvert=[];Object.keys(minFilters).forEach((function(key){var val=minFilters[key];minFiltersInvert[val]=key}));var wrapModesInvert=[];Object.keys(wrapModes).forEach((function(key){wrapModesInvert[wrapModes[key]]=key}));var colorFormats=supportedFormats.reduce((function(color,key){var glenum=textureFormats[key];return 6409===glenum||6406===glenum||6409===glenum||6410===glenum||6402===glenum||34041===glenum?color[glenum]=glenum:32855===glenum||key.indexOf("rgba")>=0?color[glenum]=6408:color[glenum]=6407,color}),{});function TexFlags(){this.internalformat=6408,this.format=6408,this.type=5121,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=37444,this.width=0,this.height=0,this.channels=0}function copyFlags(result,other){result.internalformat=other.internalformat,result.format=other.format,result.type=other.type,result.compressed=other.compressed,result.premultiplyAlpha=other.premultiplyAlpha,result.flipY=other.flipY,result.unpackAlignment=other.unpackAlignment,result.colorSpace=other.colorSpace,result.width=other.width,result.height=other.height,result.channels=other.channels}function parseFlags(flags,options){if("object"==typeof options&&options){if("premultiplyAlpha"in options&&(check$1.type(options.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),flags.premultiplyAlpha=options.premultiplyAlpha),"flipY"in options&&(check$1.type(options.flipY,"boolean","invalid texture flip"),flags.flipY=options.flipY),"alignment"in options&&(check$1.oneOf(options.alignment,[1,2,4,8],"invalid texture unpack alignment"),flags.unpackAlignment=options.alignment),"colorSpace"in options&&(check$1.parameter(options.colorSpace,colorSpace,"invalid colorSpace"),flags.colorSpace=colorSpace[options.colorSpace]),"type"in options){var type=options.type;check$1(extensions.oes_texture_float||!("float"===type||"float32"===type),"you must enable the OES_texture_float extension in order to use floating point textures."),check$1(extensions.oes_texture_half_float||!("half float"===type||"float16"===type),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),check$1(extensions.webgl_depth_texture||!("uint16"===type||"uint32"===type||"depth stencil"===type),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),check$1.parameter(type,textureTypes,"invalid texture type"),flags.type=textureTypes[type]}var w=flags.width,h=flags.height,c=flags.channels,hasChannels=!1;"shape"in options?(check$1(Array.isArray(options.shape)&&options.shape.length>=2,"shape must be an array"),w=options.shape[0],h=options.shape[1],3===options.shape.length&&(c=options.shape[2],check$1(c>0&&c<=4,"invalid number of channels"),hasChannels=!0),check$1(w>=0&&w<=limits.maxTextureSize,"invalid width"),check$1(h>=0&&h<=limits.maxTextureSize,"invalid height")):("radius"in options&&(w=h=options.radius,check$1(w>=0&&w<=limits.maxTextureSize,"invalid radius")),"width"in options&&(w=options.width,check$1(w>=0&&w<=limits.maxTextureSize,"invalid width")),"height"in options&&(h=options.height,check$1(h>=0&&h<=limits.maxTextureSize,"invalid height")),"channels"in options&&(c=options.channels,check$1(c>0&&c<=4,"invalid number of channels"),hasChannels=!0)),flags.width=0|w,flags.height=0|h,flags.channels=0|c;var hasFormat=!1;if("format"in options){var formatStr=options.format;check$1(extensions.webgl_depth_texture||!("depth"===formatStr||"depth stencil"===formatStr),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),check$1.parameter(formatStr,textureFormats,"invalid texture format");var internalformat=flags.internalformat=textureFormats[formatStr];flags.format=colorFormats[internalformat],formatStr in textureTypes&&("type"in options||(flags.type=textureTypes[formatStr])),formatStr in compressedTextureFormats&&(flags.compressed=!0),hasFormat=!0}!hasChannels&&hasFormat?flags.channels=FORMAT_CHANNELS[flags.format]:hasChannels&&!hasFormat?flags.channels!==CHANNELS_FORMAT[flags.format]&&(flags.format=flags.internalformat=CHANNELS_FORMAT[flags.channels]):hasFormat&&hasChannels&&check$1(flags.channels===FORMAT_CHANNELS[flags.format],"number of channels inconsistent with specified format")}}function setFlags(flags){gl.pixelStorei(37440,flags.flipY),gl.pixelStorei(37441,flags.premultiplyAlpha),gl.pixelStorei(37443,flags.colorSpace),gl.pixelStorei(3317,flags.unpackAlignment)}function TexImage(){TexFlags.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function parseImage(image,options){var data=null;if(isPixelData(options)?data=options:options&&(check$1.type(options,"object","invalid pixel data type"),parseFlags(image,options),"x"in options&&(image.xOffset=0|options.x),"y"in options&&(image.yOffset=0|options.y),isPixelData(options.data)&&(data=options.data)),check$1(!image.compressed||data instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),options.copy){check$1(!data,"can not specify copy and data field for the same texture");var viewW=contextState.viewportWidth,viewH=contextState.viewportHeight;image.width=image.width||viewW-image.xOffset,image.height=image.height||viewH-image.yOffset,image.needsCopy=!0,check$1(image.xOffset>=0&&image.xOffset<viewW&&image.yOffset>=0&&image.yOffset<viewH&&image.width>0&&image.width<=viewW&&image.height>0&&image.height<=viewH,"copy texture read out of bounds")}else if(data){if(isTypedArray(data))image.channels=image.channels||4,image.data=data,"type"in options||5121!==image.type||(image.type=typedArrayCode$1(data));else if(isNumericArray(data))image.channels=image.channels||4,function(result,data){var n=data.length;switch(result.type){case 5121:case 5123:case 5125:case 5126:var converted=pool.allocType(result.type,n);converted.set(data),result.data=converted;break;case 36193:result.data=convertToHalfFloat(data);break;default:check$1.raise("unsupported texture type, must specify a typed array")}}(image,data),image.alignment=1,image.needsFree=!0;else if(isNDArrayLike(data)){var array=data.data;Array.isArray(array)||5121!==image.type||(image.type=typedArrayCode$1(array));var shapeX,shapeY,shapeC,strideX,strideY,strideC,shape=data.shape,stride=data.stride;3===shape.length?(shapeC=shape[2],strideC=stride[2]):(check$1(2===shape.length,"invalid ndarray pixel data, must be 2 or 3D"),shapeC=1,strideC=1),shapeX=shape[0],shapeY=shape[1],strideX=stride[0],strideY=stride[1],image.alignment=1,image.width=shapeX,image.height=shapeY,image.channels=shapeC,image.format=image.internalformat=CHANNELS_FORMAT[shapeC],image.needsFree=!0,function(image,array,strideX,strideY,strideC,offset){for(var w=image.width,h=image.height,c=image.channels,data=preConvert(image,w*h*c),p=0,i=0;i<h;++i)for(var j=0;j<w;++j)for(var k=0;k<c;++k)data[p++]=array[strideX*j+strideY*i+strideC*k+offset];postConvert(image,data)}(image,array,strideX,strideY,strideC,data.offset)}else if(isCanvasElement(data)||classString(data)===CONTEXT2D_CLASS)isCanvasElement(data)?image.element=data:image.element=data.canvas,image.width=image.element.width,image.height=image.element.height,image.channels=4;else if(function(object){return classString(object)===BITMAP_CLASS}(data))image.element=data,image.width=data.width,image.height=data.height,image.channels=4;else if(function(object){return classString(object)===IMAGE_CLASS}(data))image.element=data,image.width=data.naturalWidth,image.height=data.naturalHeight,image.channels=4;else if(function(object){return classString(object)===VIDEO_CLASS}(data))image.element=data,image.width=data.videoWidth,image.height=data.videoHeight,image.channels=4;else if(isRectArray(data)){var w=image.width||data[0].length,h=image.height||data.length,c=image.channels;c=isArrayLike(data[0][0])?c||data[0][0].length:c||1;for(var arrayShape=flattenUtils.shape(data),n=1,dd=0;dd<arrayShape.length;++dd)n*=arrayShape[dd];var allocData=preConvert(image,n);flattenUtils.flatten(data,arrayShape,"",allocData),postConvert(image,allocData),image.alignment=1,image.width=w,image.height=h,image.channels=c,image.format=image.internalformat=CHANNELS_FORMAT[c],image.needsFree=!0}}else image.width=image.width||1,image.height=image.height||1,image.channels=image.channels||4;5126===image.type?check$1(limits.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):36193===image.type&&check$1(limits.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function setImage(info,target,miplevel){var element=info.element,data=info.data,internalformat=info.internalformat,format=info.format,type=info.type,width=info.width,height=info.height,channels=info.channels;if(setFlags(info),element)gl.texImage2D(target,miplevel,format,format,type,element);else if(info.compressed)gl.compressedTexImage2D(target,miplevel,internalformat,width,height,0,data);else if(info.needsCopy)reglPoll(),gl.copyTexImage2D(target,miplevel,format,info.xOffset,info.yOffset,width,height,0);else{var nullData=!data;nullData&&(data=pool.zero.allocType(type,width*height*channels)),gl.texImage2D(target,miplevel,format,width,height,0,format,type,data),nullData&&data&&pool.zero.freeType(data)}}function setSubImage(info,target,x,y,miplevel){var element=info.element,data=info.data,internalformat=info.internalformat,format=info.format,type=info.type,width=info.width,height=info.height;setFlags(info),element?gl.texSubImage2D(target,miplevel,x,y,format,type,element):info.compressed?gl.compressedTexSubImage2D(target,miplevel,x,y,internalformat,width,height,data):info.needsCopy?(reglPoll(),gl.copyTexSubImage2D(target,miplevel,x,y,info.xOffset,info.yOffset,width,height)):gl.texSubImage2D(target,miplevel,x,y,width,height,format,type,data)}var imagePool=[];function allocImage(){return imagePool.pop()||new TexImage}function freeImage(image){image.needsFree&&pool.freeType(image.data),TexImage.call(image),imagePool.push(image)}function MipMap(){TexFlags.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function parseMipMapFromShape(mipmap,width,height){var img=mipmap.images[0]=allocImage();mipmap.mipmask=1,img.width=mipmap.width=width,img.height=mipmap.height=height,img.channels=mipmap.channels=4}function parseMipMapFromObject(mipmap,options){var imgData=null;if(isPixelData(options))copyFlags(imgData=mipmap.images[0]=allocImage(),mipmap),parseImage(imgData,options),mipmap.mipmask=1;else if(parseFlags(mipmap,options),Array.isArray(options.mipmap))for(var mipData=options.mipmap,i=0;i<mipData.length;++i)copyFlags(imgData=mipmap.images[i]=allocImage(),mipmap),imgData.width>>=i,imgData.height>>=i,parseImage(imgData,mipData[i]),mipmap.mipmask|=1<<i;else copyFlags(imgData=mipmap.images[0]=allocImage(),mipmap),parseImage(imgData,options),mipmap.mipmask=1;copyFlags(mipmap,mipmap.images[0]),(mipmap.compressed&&33776===mipmap.internalformat||33777===mipmap.internalformat||33778===mipmap.internalformat||33779===mipmap.internalformat)&&check$1(mipmap.width%4==0&&mipmap.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function setMipMap(mipmap,target){for(var images=mipmap.images,i=0;i<images.length;++i){if(!images[i])return;setImage(images[i],target,i)}}var mipPool=[];function allocMipMap(){var result=mipPool.pop()||new MipMap;TexFlags.call(result),result.mipmask=0;for(var i=0;i<16;++i)result.images[i]=null;return result}function freeMipMap(mipmap){for(var images=mipmap.images,i=0;i<images.length;++i)images[i]&&freeImage(images[i]),images[i]=null;mipPool.push(mipmap)}function TexInfo(){this.minFilter=9728,this.magFilter=9728,this.wrapS=33071,this.wrapT=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function parseTexInfo(info,options){if("min"in options){var minFilter=options.min;check$1.parameter(minFilter,minFilters),info.minFilter=minFilters[minFilter],MIPMAP_FILTERS.indexOf(info.minFilter)>=0&&!("faces"in options)&&(info.genMipmaps=!0)}if("mag"in options){var magFilter=options.mag;check$1.parameter(magFilter,magFilters),info.magFilter=magFilters[magFilter]}var wrapS=info.wrapS,wrapT=info.wrapT;if("wrap"in options){var wrap=options.wrap;"string"==typeof wrap?(check$1.parameter(wrap,wrapModes),wrapS=wrapT=wrapModes[wrap]):Array.isArray(wrap)&&(check$1.parameter(wrap[0],wrapModes),check$1.parameter(wrap[1],wrapModes),wrapS=wrapModes[wrap[0]],wrapT=wrapModes[wrap[1]])}else{if("wrapS"in options){var optWrapS=options.wrapS;check$1.parameter(optWrapS,wrapModes),wrapS=wrapModes[optWrapS]}if("wrapT"in options){var optWrapT=options.wrapT;check$1.parameter(optWrapT,wrapModes),wrapT=wrapModes[optWrapT]}}if(info.wrapS=wrapS,info.wrapT=wrapT,"anisotropic"in options){var anisotropic=options.anisotropic;check$1("number"==typeof anisotropic&&anisotropic>=1&&anisotropic<=limits.maxAnisotropic,"aniso samples must be between 1 and "),info.anisotropic=options.anisotropic}if("mipmap"in options){var hasMipMap=!1;switch(typeof options.mipmap){case"string":check$1.parameter(options.mipmap,mipmapHint,"invalid mipmap hint"),info.mipmapHint=mipmapHint[options.mipmap],info.genMipmaps=!0,hasMipMap=!0;break;case"boolean":hasMipMap=info.genMipmaps=options.mipmap;break;case"object":check$1(Array.isArray(options.mipmap),"invalid mipmap type"),info.genMipmaps=!1,hasMipMap=!0;break;default:check$1.raise("invalid mipmap type")}hasMipMap&&!("min"in options)&&(info.minFilter=9984)}}function setTexInfo(info,target){gl.texParameteri(target,10241,info.minFilter),gl.texParameteri(target,10240,info.magFilter),gl.texParameteri(target,10242,info.wrapS),gl.texParameteri(target,10243,info.wrapT),extensions.ext_texture_filter_anisotropic&&gl.texParameteri(target,34046,info.anisotropic),info.genMipmaps&&(gl.hint(33170,info.mipmapHint),gl.generateMipmap(target))}var textureCount=0,textureSet={},numTexUnits=limits.maxTextureUnits,textureUnits=Array(numTexUnits).map((function(){return null}));function REGLTexture(target){TexFlags.call(this),this.mipmask=0,this.internalformat=6408,this.id=textureCount++,this.refCount=1,this.target=target,this.texture=gl.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new TexInfo,config.profile&&(this.stats={size:0})}function tempBind(texture){gl.activeTexture(33984),gl.bindTexture(texture.target,texture.texture)}function tempRestore(){var prev=textureUnits[0];prev?gl.bindTexture(prev.target,prev.texture):gl.bindTexture(3553,null)}function destroy(texture){var handle=texture.texture;check$1(handle,"must not double destroy texture");var unit=texture.unit,target=texture.target;unit>=0&&(gl.activeTexture(33984+unit),gl.bindTexture(target,null),textureUnits[unit]=null),gl.deleteTexture(handle),texture.texture=null,texture.params=null,texture.pixels=null,texture.refCount=0,delete textureSet[texture.id],stats.textureCount--}return extend(REGLTexture.prototype,{bind:function(){this.bindCount+=1;var unit=this.unit;if(unit<0){for(var i=0;i<numTexUnits;++i){var other=textureUnits[i];if(other){if(other.bindCount>0)continue;other.unit=-1}textureUnits[i]=this,unit=i;break}unit>=numTexUnits&&check$1.raise("insufficient number of texture units"),config.profile&&stats.maxTextureUnits<unit+1&&(stats.maxTextureUnits=unit+1),this.unit=unit,gl.activeTexture(33984+unit),gl.bindTexture(this.target,this.texture)}return unit},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&destroy(this)}}),config.profile&&(stats.getTotalTextureSize=function(){var total=0;return Object.keys(textureSet).forEach((function(key){total+=textureSet[key].stats.size})),total}),{create2D:function(a,b){var texture=new REGLTexture(3553);function reglTexture2D(a,b){var texInfo=texture.texInfo;TexInfo.call(texInfo);var mipData=allocMipMap();return"number"==typeof a?parseMipMapFromShape(mipData,0|a,"number"==typeof b?0|b:0|a):a?(check$1.type(a,"object","invalid arguments to regl.texture"),parseTexInfo(texInfo,a),parseMipMapFromObject(mipData,a)):parseMipMapFromShape(mipData,1,1),texInfo.genMipmaps&&(mipData.mipmask=(mipData.width<<1)-1),texture.mipmask=mipData.mipmask,copyFlags(texture,mipData),check$1.texture2D(texInfo,mipData,limits),texture.internalformat=mipData.internalformat,reglTexture2D.width=mipData.width,reglTexture2D.height=mipData.height,tempBind(texture),setMipMap(mipData,3553),setTexInfo(texInfo,3553),tempRestore(),freeMipMap(mipData),config.profile&&(texture.stats.size=getTextureSize(texture.internalformat,texture.type,mipData.width,mipData.height,texInfo.genMipmaps,!1)),reglTexture2D.format=textureFormatsInvert[texture.internalformat],reglTexture2D.type=textureTypesInvert[texture.type],reglTexture2D.mag=magFiltersInvert[texInfo.magFilter],reglTexture2D.min=minFiltersInvert[texInfo.minFilter],reglTexture2D.wrapS=wrapModesInvert[texInfo.wrapS],reglTexture2D.wrapT=wrapModesInvert[texInfo.wrapT],reglTexture2D}return textureSet[texture.id]=texture,stats.textureCount++,reglTexture2D(a,b),reglTexture2D.subimage=function(image,x_,y_,level_){check$1(!!image,"must specify image data");var x=0|x_,y=0|y_,level=0|level_,imageData=allocImage();return copyFlags(imageData,texture),imageData.width=0,imageData.height=0,parseImage(imageData,image),imageData.width=imageData.width||(texture.width>>level)-x,imageData.height=imageData.height||(texture.height>>level)-y,check$1(texture.type===imageData.type&&texture.format===imageData.format&&texture.internalformat===imageData.internalformat,"incompatible format for texture.subimage"),check$1(x>=0&&y>=0&&x+imageData.width<=texture.width&&y+imageData.height<=texture.height,"texture.subimage write out of bounds"),check$1(texture.mipmask&1<<level,"missing mipmap data"),check$1(imageData.data||imageData.element||imageData.needsCopy,"missing image data"),tempBind(texture),setSubImage(imageData,3553,x,y,level),tempRestore(),freeImage(imageData),reglTexture2D},reglTexture2D.resize=function(w_,h_){var data,w=0|w_,h=0|h_||w;if(w===texture.width&&h===texture.height)return reglTexture2D;reglTexture2D.width=texture.width=w,reglTexture2D.height=texture.height=h,tempBind(texture);for(var channels=texture.channels,type=texture.type,i=0;texture.mipmask>>i;++i){var _w=w>>i,_h=h>>i;if(!_w||!_h)break;data=pool.zero.allocType(type,_w*_h*channels),gl.texImage2D(3553,i,texture.format,_w,_h,0,texture.format,texture.type,data),data&&pool.zero.freeType(data)}return tempRestore(),config.profile&&(texture.stats.size=getTextureSize(texture.internalformat,texture.type,w,h,!1,!1)),reglTexture2D},reglTexture2D._reglType="texture2d",reglTexture2D._texture=texture,config.profile&&(reglTexture2D.stats=texture.stats),reglTexture2D.destroy=function(){texture.decRef()},reglTexture2D},createCube:function(a0,a1,a2,a3,a4,a5){var texture=new REGLTexture(34067);textureSet[texture.id]=texture,stats.cubeCount++;var faces=new Array(6);function reglTextureCube(a0,a1,a2,a3,a4,a5){var i,texInfo=texture.texInfo;for(TexInfo.call(texInfo),i=0;i<6;++i)faces[i]=allocMipMap();if("number"!=typeof a0&&a0)if("object"==typeof a0)if(a1)parseMipMapFromObject(faces[0],a0),parseMipMapFromObject(faces[1],a1),parseMipMapFromObject(faces[2],a2),parseMipMapFromObject(faces[3],a3),parseMipMapFromObject(faces[4],a4),parseMipMapFromObject(faces[5],a5);else if(parseTexInfo(texInfo,a0),parseFlags(texture,a0),"faces"in a0){var face_input=a0.faces;for(check$1(Array.isArray(face_input)&&6===face_input.length,"cube faces must be a length 6 array"),i=0;i<6;++i)check$1("object"==typeof face_input[i]&&!!face_input[i],"invalid input for cube map face"),copyFlags(faces[i],texture),parseMipMapFromObject(faces[i],face_input[i])}else for(i=0;i<6;++i)parseMipMapFromObject(faces[i],a0);else check$1.raise("invalid arguments to cube map");else{var s=0|a0||1;for(i=0;i<6;++i)parseMipMapFromShape(faces[i],s,s)}for(copyFlags(texture,faces[0]),limits.npotTextureCube||check$1(isPow2$1(texture.width)&&isPow2$1(texture.height),"your browser does not support non power or two texture dimensions"),texInfo.genMipmaps?texture.mipmask=(faces[0].width<<1)-1:texture.mipmask=faces[0].mipmask,check$1.textureCube(texture,texInfo,faces,limits),texture.internalformat=faces[0].internalformat,reglTextureCube.width=faces[0].width,reglTextureCube.height=faces[0].height,tempBind(texture),i=0;i<6;++i)setMipMap(faces[i],34069+i);for(setTexInfo(texInfo,34067),tempRestore(),config.profile&&(texture.stats.size=getTextureSize(texture.internalformat,texture.type,reglTextureCube.width,reglTextureCube.height,texInfo.genMipmaps,!0)),reglTextureCube.format=textureFormatsInvert[texture.internalformat],reglTextureCube.type=textureTypesInvert[texture.type],reglTextureCube.mag=magFiltersInvert[texInfo.magFilter],reglTextureCube.min=minFiltersInvert[texInfo.minFilter],reglTextureCube.wrapS=wrapModesInvert[texInfo.wrapS],reglTextureCube.wrapT=wrapModesInvert[texInfo.wrapT],i=0;i<6;++i)freeMipMap(faces[i]);return reglTextureCube}return reglTextureCube(a0,a1,a2,a3,a4,a5),reglTextureCube.subimage=function(face,image,x_,y_,level_){check$1(!!image,"must specify image data"),check$1("number"==typeof face&&face===(0|face)&&face>=0&&face<6,"invalid face");var x=0|x_,y=0|y_,level=0|level_,imageData=allocImage();return copyFlags(imageData,texture),imageData.width=0,imageData.height=0,parseImage(imageData,image),imageData.width=imageData.width||(texture.width>>level)-x,imageData.height=imageData.height||(texture.height>>level)-y,check$1(texture.type===imageData.type&&texture.format===imageData.format&&texture.internalformat===imageData.internalformat,"incompatible format for texture.subimage"),check$1(x>=0&&y>=0&&x+imageData.width<=texture.width&&y+imageData.height<=texture.height,"texture.subimage write out of bounds"),check$1(texture.mipmask&1<<level,"missing mipmap data"),check$1(imageData.data||imageData.element||imageData.needsCopy,"missing image data"),tempBind(texture),setSubImage(imageData,34069+face,x,y,level),tempRestore(),freeImage(imageData),reglTextureCube},reglTextureCube.resize=function(radius_){var radius=0|radius_;if(radius!==texture.width){reglTextureCube.width=texture.width=radius,reglTextureCube.height=texture.height=radius,tempBind(texture);for(var i=0;i<6;++i)for(var j=0;texture.mipmask>>j;++j)gl.texImage2D(34069+i,j,texture.format,radius>>j,radius>>j,0,texture.format,texture.type,null);return tempRestore(),config.profile&&(texture.stats.size=getTextureSize(texture.internalformat,texture.type,reglTextureCube.width,reglTextureCube.height,!1,!0)),reglTextureCube}},reglTextureCube._reglType="textureCube",reglTextureCube._texture=texture,config.profile&&(reglTextureCube.stats=texture.stats),reglTextureCube.destroy=function(){texture.decRef()},reglTextureCube},clear:function(){for(var i=0;i<numTexUnits;++i)gl.activeTexture(33984+i),gl.bindTexture(3553,null),textureUnits[i]=null;values(textureSet).forEach(destroy),stats.cubeCount=0,stats.textureCount=0},getTexture:function(wrapper){return null},restore:function(){for(var i=0;i<numTexUnits;++i){var tex=textureUnits[i];tex&&(tex.bindCount=0,tex.unit=-1,textureUnits[i]=null)}values(textureSet).forEach((function(texture){texture.texture=gl.createTexture(),gl.bindTexture(texture.target,texture.texture);for(var i=0;i<32;++i)if(0!=(texture.mipmask&1<<i))if(3553===texture.target)gl.texImage2D(3553,i,texture.internalformat,texture.width>>i,texture.height>>i,0,texture.internalformat,texture.type,null);else for(var j=0;j<6;++j)gl.texImage2D(34069+j,i,texture.internalformat,texture.width>>i,texture.height>>i,0,texture.internalformat,texture.type,null);setTexInfo(texture.texInfo,texture.target)}))}}}FORMAT_SIZES_SPECIAL[32854]=2,FORMAT_SIZES_SPECIAL[32855]=2,FORMAT_SIZES_SPECIAL[36194]=2,FORMAT_SIZES_SPECIAL[34041]=4,FORMAT_SIZES_SPECIAL[33776]=.5,FORMAT_SIZES_SPECIAL[33777]=.5,FORMAT_SIZES_SPECIAL[33778]=1,FORMAT_SIZES_SPECIAL[33779]=1,FORMAT_SIZES_SPECIAL[35986]=.5,FORMAT_SIZES_SPECIAL[35987]=1,FORMAT_SIZES_SPECIAL[34798]=1,FORMAT_SIZES_SPECIAL[35840]=.5,FORMAT_SIZES_SPECIAL[35841]=.25,FORMAT_SIZES_SPECIAL[35842]=.5,FORMAT_SIZES_SPECIAL[35843]=.25,FORMAT_SIZES_SPECIAL[36196]=.5;var FORMAT_SIZES=[];function getRenderbufferSize(format,width,height){return FORMAT_SIZES[format]*width*height}FORMAT_SIZES[32854]=2,FORMAT_SIZES[32855]=2,FORMAT_SIZES[36194]=2,FORMAT_SIZES[33189]=2,FORMAT_SIZES[36168]=1,FORMAT_SIZES[34041]=4,FORMAT_SIZES[35907]=4,FORMAT_SIZES[34836]=16,FORMAT_SIZES[34842]=8,FORMAT_SIZES[34843]=6;var colorTextureFormatEnums=[6407,6408],textureFormatChannels=[];textureFormatChannels[6408]=4,textureFormatChannels[6407]=3;var textureTypeSizes=[];textureTypeSizes[5121]=1,textureTypeSizes[5126]=4,textureTypeSizes[36193]=2;var colorRenderbufferFormatEnums=[32854,32855,36194,35907,34842,34843,34836],statusCode={};function AttributeRecord(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.offset=0,this.stride=0,this.divisor=0}function wrapReadPixels(gl,framebufferState,reglPoll,context,glAttributes,extensions,limits){function readPixelsImpl(input){var type;null===framebufferState.next?(check$1(glAttributes.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),type=5121):(check$1(null!==framebufferState.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),type=framebufferState.next.colorAttachments[0].texture._texture.type,extensions.oes_texture_float?(check$1(5121===type||5126===type,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),5126===type&&check$1(limits.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):check$1(5121===type,"Reading from a framebuffer is only allowed for the type 'uint8'"));var x=0,y=0,width=context.framebufferWidth,height=context.framebufferHeight,data=null;isTypedArray(input)?data=input:input&&(check$1.type(input,"object","invalid arguments to regl.read()"),x=0|input.x,y=0|input.y,check$1(x>=0&&x<context.framebufferWidth,"invalid x offset for regl.read"),check$1(y>=0&&y<context.framebufferHeight,"invalid y offset for regl.read"),width=0|(input.width||context.framebufferWidth-x),height=0|(input.height||context.framebufferHeight-y),data=input.data||null),data&&(5121===type?check$1(data instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):5126===type&&check$1(data instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),check$1(width>0&&width+x<=context.framebufferWidth,"invalid width for read pixels"),check$1(height>0&&height+y<=context.framebufferHeight,"invalid height for read pixels"),reglPoll();var size=width*height*4;return data||(5121===type?data=new Uint8Array(size):5126===type&&(data=data||new Float32Array(size))),check$1.isTypedArray(data,"data buffer for regl.read() must be a typedarray"),check$1(data.byteLength>=size,"data buffer for regl.read() too small"),gl.pixelStorei(3333,4),gl.readPixels(x,y,width,height,6408,type,data),data}return function(options){return options&&"framebuffer"in options?function(options){var result;return framebufferState.setFBO({framebuffer:options.framebuffer},(function(){result=readPixelsImpl(options)})),result}(options):readPixelsImpl(options)}}function slice(x){return Array.prototype.slice.call(x)}function join(x){return slice(x).join("")}statusCode[36053]="complete",statusCode[36054]="incomplete attachment",statusCode[36057]="incomplete dimensions",statusCode[36055]="incomplete, missing attachment",statusCode[36061]="unsupported";var CUTE_COMPONENTS="xyzw".split(""),S_PROFILE="profile",S_FRAMEBUFFER="framebuffer",S_VERT="vert",S_FRAG="frag",S_ELEMENTS="elements",S_PRIMITIVE="primitive",S_COUNT="count",S_OFFSET="offset",S_INSTANCES="instances",S_FRAMEBUFFER_WIDTH=S_FRAMEBUFFER+"Width",S_FRAMEBUFFER_HEIGHT=S_FRAMEBUFFER+"Height",NESTED_OPTIONS=["blend.func","blend.equation","stencil.func","stencil.opFront","stencil.opBack","sample.coverage","viewport","scissor.box","polygonOffset.offset"],blendFuncs={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},invalidBlendCombinations=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],compareFuncs={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},stencilOps={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},shaderType={frag:35632,vert:35633},orientationType={cw:2304,ccw:2305};function isBufferArgs(x){return Array.isArray(x)||isTypedArray(x)||isNDArrayLike(x)}function sortState(state){return state.sort((function(a,b){return"viewport"===a?-1:"viewport"===b?1:a<b?-1:1}))}function Declaration(thisDep,contextDep,propDep,append){this.thisDep=thisDep,this.contextDep=contextDep,this.propDep=propDep,this.append=append}function isStatic(decl){return decl&&!(decl.thisDep||decl.contextDep||decl.propDep)}function createStaticDecl(append){return new Declaration(!1,!1,!1,append)}function createDynamicDecl(dyn,append){var type=dyn.type;if(0===type){var numArgs=dyn.data.length;return new Declaration(!0,numArgs>=1,numArgs>=2,append)}if(4===type){var data=dyn.data;return new Declaration(data.thisDep,data.contextDep,data.propDep,append)}return new Declaration(3===type,2===type,1===type,append)}var SCOPE_DECL=new Declaration(!1,!1,!1,(function(){}));function reglCore(gl,stringStore,extensions,limits,bufferState,elementState,textureState,framebufferState,uniformState,attributeState,shaderState,drawState,contextState,timer,config){var AttributeRecord=attributeState.Record,blendEquations={add:32774,subtract:32778,"reverse subtract":32779};extensions.ext_blend_minmax&&(blendEquations.min=32775,blendEquations.max=32776);var extInstancing=extensions.angle_instanced_arrays,extDrawBuffers=extensions.webgl_draw_buffers,currentState={dirty:!0,profile:config.profile},nextState={},GL_STATE_NAMES=[],GL_FLAGS={},GL_VARIABLES={};function propName(name){return name.replace(".","_")}function stateFlag(sname,cap,init){var name=propName(sname);GL_STATE_NAMES.push(sname),nextState[name]=currentState[name]=!!init,GL_FLAGS[name]=cap}function stateVariable(sname,func,init){var name=propName(sname);GL_STATE_NAMES.push(sname),Array.isArray(init)?(currentState[name]=init.slice(),nextState[name]=init.slice()):currentState[name]=nextState[name]=init,GL_VARIABLES[name]=func}stateFlag("dither",3024),stateFlag("blend.enable",3042),stateVariable("blend.color","blendColor",[0,0,0,0]),stateVariable("blend.equation","blendEquationSeparate",[32774,32774]),stateVariable("blend.func","blendFuncSeparate",[1,0,1,0]),stateFlag("depth.enable",2929,!0),stateVariable("depth.func","depthFunc",513),stateVariable("depth.range","depthRange",[0,1]),stateVariable("depth.mask","depthMask",!0),stateVariable("colorMask","colorMask",[!0,!0,!0,!0]),stateFlag("cull.enable",2884),stateVariable("cull.face","cullFace",1029),stateVariable("frontFace","frontFace",2305),stateVariable("lineWidth","lineWidth",1),stateFlag("polygonOffset.enable",32823),stateVariable("polygonOffset.offset","polygonOffset",[0,0]),stateFlag("sample.alpha",32926),stateFlag("sample.enable",32928),stateVariable("sample.coverage","sampleCoverage",[1,!1]),stateFlag("stencil.enable",2960),stateVariable("stencil.mask","stencilMask",-1),stateVariable("stencil.func","stencilFunc",[519,0,-1]),stateVariable("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),stateVariable("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),stateFlag("scissor.enable",3089),stateVariable("scissor.box","scissor",[0,0,gl.drawingBufferWidth,gl.drawingBufferHeight]),stateVariable("viewport","viewport",[0,0,gl.drawingBufferWidth,gl.drawingBufferHeight]);var sharedState={gl:gl,context:contextState,strings:stringStore,next:nextState,current:currentState,draw:drawState,elements:elementState,buffer:bufferState,shader:shaderState,attributes:attributeState.state,uniforms:uniformState,framebuffer:framebufferState,extensions:extensions,timer:timer,isBufferArgs:isBufferArgs},sharedConstants={primTypes:primTypes,compareFuncs:compareFuncs,blendFuncs:blendFuncs,blendEquations:blendEquations,stencilOps:stencilOps,glTypes:glTypes,orientationType:orientationType};check$1.optional((function(){sharedState.isArrayLike=isArrayLike})),extDrawBuffers&&(sharedConstants.backBuffer=[1029],sharedConstants.drawBuffer=loop(limits.maxDrawbuffers,(function(i){return 0===i?[0]:loop(i,(function(j){return 36064+j}))})));var drawCallCounter=0;function createREGLEnvironment(){var env=function(){var varCounter=0,linkedNames=[],linkedValues=[];function block(){var code=[],vars=[];return extend((function(){code.push.apply(code,slice(arguments))}),{def:function(){var name="v"+varCounter++;return vars.push(name),arguments.length>0&&(code.push(name,"="),code.push.apply(code,slice(arguments)),code.push(";")),name},toString:function(){return join([vars.length>0?"var "+vars+";":"",join(code)])}})}function scope(){var entry=block(),exit=block(),entryToString=entry.toString,exitToString=exit.toString;function save(object,prop){exit(object,prop,"=",entry.def(object,prop),";")}return extend((function(){entry.apply(entry,slice(arguments))}),{def:entry.def,entry:entry,exit:exit,save:save,set:function(object,prop,value){save(object,prop),entry(object,prop,"=",value,";")},toString:function(){return entryToString()+exitToString()}})}var globalBlock=block(),procedures={};return{global:globalBlock,link:function(value){for(var i=0;i<linkedValues.length;++i)if(linkedValues[i]===value)return linkedNames[i];var name="g"+varCounter++;return linkedNames.push(name),linkedValues.push(value),name},block:block,proc:function(name,count){var args=[];function arg(){var name="a"+args.length;return args.push(name),name}count=count||0;for(var i=0;i<count;++i)arg();var body=scope(),bodyToString=body.toString;return procedures[name]=extend(body,{arg:arg,toString:function(){return join(["function(",args.join(),"){",bodyToString(),"}"])}})},scope:scope,cond:function(){var pred=join(arguments),thenBlock=scope(),elseBlock=scope(),thenToString=thenBlock.toString,elseToString=elseBlock.toString;return extend(thenBlock,{then:function(){return thenBlock.apply(thenBlock,slice(arguments)),this},else:function(){return elseBlock.apply(elseBlock,slice(arguments)),this},toString:function(){var elseClause=elseToString();return elseClause&&(elseClause="else{"+elseClause+"}"),join(["if(",pred,"){",thenToString(),"}",elseClause])}})},compile:function(){var code=['"use strict";',globalBlock,"return {"];Object.keys(procedures).forEach((function(name){code.push('"',name,'":',procedures[name].toString(),",")})),code.push("}");var src=join(code).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,linkedNames.concat(src)).apply(null,linkedValues)}}}(),link=env.link,global=env.global;env.id=drawCallCounter++,env.batchId="0";var SHARED=link(sharedState),shared=env.shared={props:"a0"};Object.keys(sharedState).forEach((function(prop){shared[prop]=global.def(SHARED,".",prop)})),check$1.optional((function(){env.CHECK=link(check$1),env.commandStr=check$1.guessCommand(),env.command=link(env.commandStr),env.assert=function(block,pred,message){block("if(!(",pred,"))",this.CHECK,".commandRaise(",link(message),",",this.command,");")},sharedConstants.invalidBlendCombinations=invalidBlendCombinations}));var nextVars=env.next={},currentVars=env.current={};Object.keys(GL_VARIABLES).forEach((function(variable){Array.isArray(currentState[variable])&&(nextVars[variable]=global.def(shared.next,".",variable),currentVars[variable]=global.def(shared.current,".",variable))}));var constants=env.constants={};Object.keys(sharedConstants).forEach((function(name){constants[name]=global.def(JSON.stringify(sharedConstants[name]))})),env.invoke=function(block,x){switch(x.type){case 0:var argList=["this",shared.context,shared.props,env.batchId];return block.def(link(x.data),".call(",argList.slice(0,Math.max(x.data.length+1,4)),")");case 1:return block.def(shared.props,x.data);case 2:return block.def(shared.context,x.data);case 3:return block.def("this",x.data);case 4:return x.data.append(env,block),x.data.ref}},env.attribCache={};var scopeAttribs={};return env.scopeAttrib=function(name){var id=stringStore.id(name);if(id in scopeAttribs)return scopeAttribs[id];var binding=attributeState.scope[id];return binding||(binding=attributeState.scope[id]=new AttributeRecord),scopeAttribs[id]=link(binding)},env}function parseArguments(options,attributes,uniforms,context,env){var staticOptions=options.static,dynamicOptions=options.dynamic;check$1.optional((function(){var KEY_NAMES=[S_FRAMEBUFFER,S_VERT,S_FRAG,S_ELEMENTS,S_PRIMITIVE,S_OFFSET,S_COUNT,S_INSTANCES,S_PROFILE].concat(GL_STATE_NAMES);function checkKeys(dict){Object.keys(dict).forEach((function(key){check$1.command(KEY_NAMES.indexOf(key)>=0,'unknown parameter "'+key+'"',env.commandStr)}))}checkKeys(staticOptions),checkKeys(dynamicOptions)}));var framebuffer=function(options,env){var staticOptions=options.static,dynamicOptions=options.dynamic;if(S_FRAMEBUFFER in staticOptions){var framebuffer=staticOptions[S_FRAMEBUFFER];return framebuffer?(framebuffer=framebufferState.getFramebuffer(framebuffer),check$1.command(framebuffer,"invalid framebuffer object"),createStaticDecl((function(env,block){var FRAMEBUFFER=env.link(framebuffer),shared=env.shared;block.set(shared.framebuffer,".next",FRAMEBUFFER);var CONTEXT=shared.context;return block.set(CONTEXT,"."+S_FRAMEBUFFER_WIDTH,FRAMEBUFFER+".width"),block.set(CONTEXT,"."+S_FRAMEBUFFER_HEIGHT,FRAMEBUFFER+".height"),FRAMEBUFFER}))):createStaticDecl((function(env,scope){var shared=env.shared;scope.set(shared.framebuffer,".next","null");var CONTEXT=shared.context;return scope.set(CONTEXT,"."+S_FRAMEBUFFER_WIDTH,CONTEXT+".drawingBufferWidth"),scope.set(CONTEXT,"."+S_FRAMEBUFFER_HEIGHT,CONTEXT+".drawingBufferHeight"),"null"}))}if(S_FRAMEBUFFER in dynamicOptions){var dyn=dynamicOptions[S_FRAMEBUFFER];return createDynamicDecl(dyn,(function(env,scope){var FRAMEBUFFER_FUNC=env.invoke(scope,dyn),shared=env.shared,FRAMEBUFFER_STATE=shared.framebuffer,FRAMEBUFFER=scope.def(FRAMEBUFFER_STATE,".getFramebuffer(",FRAMEBUFFER_FUNC,")");check$1.optional((function(){env.assert(scope,"!"+FRAMEBUFFER_FUNC+"||"+FRAMEBUFFER,"invalid framebuffer object")})),scope.set(FRAMEBUFFER_STATE,".next",FRAMEBUFFER);var CONTEXT=shared.context;return scope.set(CONTEXT,"."+S_FRAMEBUFFER_WIDTH,FRAMEBUFFER+"?"+FRAMEBUFFER+".width:"+CONTEXT+".drawingBufferWidth"),scope.set(CONTEXT,"."+S_FRAMEBUFFER_HEIGHT,FRAMEBUFFER+"?"+FRAMEBUFFER+".height:"+CONTEXT+".drawingBufferHeight"),FRAMEBUFFER}))}return null}(options),viewportAndScissor=function(options,framebuffer,env){var staticOptions=options.static,dynamicOptions=options.dynamic;function parseBox(param){if(param in staticOptions){var box=staticOptions[param];check$1.commandType(box,"object","invalid "+param,env.commandStr);var w,h,isStatic=!0,x=0|box.x,y=0|box.y;return"width"in box?(w=0|box.width,check$1.command(w>=0,"invalid "+param,env.commandStr)):isStatic=!1,"height"in box?(h=0|box.height,check$1.command(h>=0,"invalid "+param,env.commandStr)):isStatic=!1,new Declaration(!isStatic&&framebuffer&&framebuffer.thisDep,!isStatic&&framebuffer&&framebuffer.contextDep,!isStatic&&framebuffer&&framebuffer.propDep,(function(env,scope){var CONTEXT=env.shared.context,BOX_W=w;"width"in box||(BOX_W=scope.def(CONTEXT,".",S_FRAMEBUFFER_WIDTH,"-",x));var BOX_H=h;return"height"in box||(BOX_H=scope.def(CONTEXT,".",S_FRAMEBUFFER_HEIGHT,"-",y)),[x,y,BOX_W,BOX_H]}))}if(param in dynamicOptions){var dynBox=dynamicOptions[param],result=createDynamicDecl(dynBox,(function(env,scope){var BOX=env.invoke(scope,dynBox);check$1.optional((function(){env.assert(scope,BOX+"&&typeof "+BOX+'==="object"',"invalid "+param)}));var CONTEXT=env.shared.context,BOX_X=scope.def(BOX,".x|0"),BOX_Y=scope.def(BOX,".y|0"),BOX_W=scope.def('"width" in ',BOX,"?",BOX,".width|0:","(",CONTEXT,".",S_FRAMEBUFFER_WIDTH,"-",BOX_X,")"),BOX_H=scope.def('"height" in ',BOX,"?",BOX,".height|0:","(",CONTEXT,".",S_FRAMEBUFFER_HEIGHT,"-",BOX_Y,")");return check$1.optional((function(){env.assert(scope,BOX_W+">=0&&"+BOX_H+">=0","invalid "+param)})),[BOX_X,BOX_Y,BOX_W,BOX_H]}));return framebuffer&&(result.thisDep=result.thisDep||framebuffer.thisDep,result.contextDep=result.contextDep||framebuffer.contextDep,result.propDep=result.propDep||framebuffer.propDep),result}return framebuffer?new Declaration(framebuffer.thisDep,framebuffer.contextDep,framebuffer.propDep,(function(env,scope){var CONTEXT=env.shared.context;return[0,0,scope.def(CONTEXT,".",S_FRAMEBUFFER_WIDTH),scope.def(CONTEXT,".",S_FRAMEBUFFER_HEIGHT)]})):null}var viewport=parseBox("viewport");if(viewport){var prevViewport=viewport;viewport=new Declaration(viewport.thisDep,viewport.contextDep,viewport.propDep,(function(env,scope){var VIEWPORT=prevViewport.append(env,scope),CONTEXT=env.shared.context;return scope.set(CONTEXT,".viewportWidth",VIEWPORT[2]),scope.set(CONTEXT,".viewportHeight",VIEWPORT[3]),VIEWPORT}))}return{viewport:viewport,scissor_box:parseBox("scissor.box")}}(options,framebuffer,env),draw=function(options,env){var staticOptions=options.static,dynamicOptions=options.dynamic,elements=function(){if(S_ELEMENTS in staticOptions){var elements=staticOptions[S_ELEMENTS];isBufferArgs(elements)?elements=elementState.getElements(elementState.create(elements,!0)):elements&&(elements=elementState.getElements(elements),check$1.command(elements,"invalid elements",env.commandStr));var result=createStaticDecl((function(env,scope){if(elements){var result=env.link(elements);return env.ELEMENTS=result,result}return env.ELEMENTS=null,null}));return result.value=elements,result}if(S_ELEMENTS in dynamicOptions){var dyn=dynamicOptions[S_ELEMENTS];return createDynamicDecl(dyn,(function(env,scope){var shared=env.shared,IS_BUFFER_ARGS=shared.isBufferArgs,ELEMENT_STATE=shared.elements,elementDefn=env.invoke(scope,dyn),elements=scope.def("null"),elementStream=scope.def(IS_BUFFER_ARGS,"(",elementDefn,")"),ifte=env.cond(elementStream).then(elements,"=",ELEMENT_STATE,".createStream(",elementDefn,");").else(elements,"=",ELEMENT_STATE,".getElements(",elementDefn,");");return check$1.optional((function(){env.assert(ifte.else,"!"+elementDefn+"||"+elements,"invalid elements")})),scope.entry(ifte),scope.exit(env.cond(elementStream).then(ELEMENT_STATE,".destroyStream(",elements,");")),env.ELEMENTS=elements,elements}))}return null}();function parseParam(param,isOffset){if(param in staticOptions){var value=0|staticOptions[param];return check$1.command(!isOffset||value>=0,"invalid "+param,env.commandStr),createStaticDecl((function(env,scope){return isOffset&&(env.OFFSET=value),value}))}if(param in dynamicOptions){var dynValue=dynamicOptions[param];return createDynamicDecl(dynValue,(function(env,scope){var result=env.invoke(scope,dynValue);return isOffset&&(env.OFFSET=result,check$1.optional((function(){env.assert(scope,result+">=0","invalid "+param)}))),result}))}return isOffset&&elements?createStaticDecl((function(env,scope){return env.OFFSET="0",0})):null}var OFFSET=parseParam(S_OFFSET,!0);return{elements:elements,primitive:function(){if(S_PRIMITIVE in staticOptions){var primitive=staticOptions[S_PRIMITIVE];return check$1.commandParameter(primitive,primTypes,"invalid primitve",env.commandStr),createStaticDecl((function(env,scope){return primTypes[primitive]}))}if(S_PRIMITIVE in dynamicOptions){var dynPrimitive=dynamicOptions[S_PRIMITIVE];return createDynamicDecl(dynPrimitive,(function(env,scope){var PRIM_TYPES=env.constants.primTypes,prim=env.invoke(scope,dynPrimitive);return check$1.optional((function(){env.assert(scope,prim+" in "+PRIM_TYPES,"invalid primitive, must be one of "+Object.keys(primTypes))})),scope.def(PRIM_TYPES,"[",prim,"]")}))}return elements?isStatic(elements)?elements.value?createStaticDecl((function(env,scope){return scope.def(env.ELEMENTS,".primType")})):createStaticDecl((function(){return 4})):new Declaration(elements.thisDep,elements.contextDep,elements.propDep,(function(env,scope){var elements=env.ELEMENTS;return scope.def(elements,"?",elements,".primType:",4)})):null}(),count:function(){if(S_COUNT in staticOptions){var count=0|staticOptions[S_COUNT];return check$1.command("number"==typeof count&&count>=0,"invalid vertex count",env.commandStr),createStaticDecl((function(){return count}))}if(S_COUNT in dynamicOptions){var dynCount=dynamicOptions[S_COUNT];return createDynamicDecl(dynCount,(function(env,scope){var result=env.invoke(scope,dynCount);return check$1.optional((function(){env.assert(scope,"typeof "+result+'==="number"&&'+result+">=0&&"+result+"===("+result+"|0)","invalid vertex count")})),result}))}if(elements){if(isStatic(elements)){if(elements)return OFFSET?new Declaration(OFFSET.thisDep,OFFSET.contextDep,OFFSET.propDep,(function(env,scope){var result=scope.def(env.ELEMENTS,".vertCount-",env.OFFSET);return check$1.optional((function(){env.assert(scope,result+">=0","invalid vertex offset/element buffer too small")})),result})):createStaticDecl((function(env,scope){return scope.def(env.ELEMENTS,".vertCount")}));var result=createStaticDecl((function(){return-1}));return check$1.optional((function(){result.MISSING=!0})),result}var variable=new Declaration(elements.thisDep||OFFSET.thisDep,elements.contextDep||OFFSET.contextDep,elements.propDep||OFFSET.propDep,(function(env,scope){var elements=env.ELEMENTS;return env.OFFSET?scope.def(elements,"?",elements,".vertCount-",env.OFFSET,":-1"):scope.def(elements,"?",elements,".vertCount:-1")}));return check$1.optional((function(){variable.DYNAMIC=!0})),variable}return null}(),instances:parseParam(S_INSTANCES,!1),offset:OFFSET}}(options,env),state=function(options,env){var staticOptions=options.static,dynamicOptions=options.dynamic,STATE={};return GL_STATE_NAMES.forEach((function(prop){var param=propName(prop);function parseParam(parseStatic,parseDynamic){if(prop in staticOptions){var value=parseStatic(staticOptions[prop]);STATE[param]=createStaticDecl((function(){return value}))}else if(prop in dynamicOptions){var dyn=dynamicOptions[prop];STATE[param]=createDynamicDecl(dyn,(function(env,scope){return parseDynamic(env,scope,env.invoke(scope,dyn))}))}}switch(prop){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return parseParam((function(value){return check$1.commandType(value,"boolean",prop,env.commandStr),value}),(function(env,scope,value){return check$1.optional((function(){env.assert(scope,"typeof "+value+'==="boolean"',"invalid flag "+prop,env.commandStr)})),value}));case"depth.func":return parseParam((function(value){return check$1.commandParameter(value,compareFuncs,"invalid "+prop,env.commandStr),compareFuncs[value]}),(function(env,scope,value){var COMPARE_FUNCS=env.constants.compareFuncs;return check$1.optional((function(){env.assert(scope,value+" in "+COMPARE_FUNCS,"invalid "+prop+", must be one of "+Object.keys(compareFuncs))})),scope.def(COMPARE_FUNCS,"[",value,"]")}));case"depth.range":return parseParam((function(value){return check$1.command(isArrayLike(value)&&2===value.length&&"number"==typeof value[0]&&"number"==typeof value[1]&&value[0]<=value[1],"depth range is 2d array",env.commandStr),value}),(function(env,scope,value){return check$1.optional((function(){env.assert(scope,env.shared.isArrayLike+"("+value+")&&"+value+".length===2&&typeof "+value+'[0]==="number"&&typeof '+value+'[1]==="number"&&'+value+"[0]<="+value+"[1]","depth range must be a 2d array")})),[scope.def("+",value,"[0]"),scope.def("+",value,"[1]")]}));case"blend.func":return parseParam((function(value){check$1.commandType(value,"object","blend.func",env.commandStr);var srcRGB="srcRGB"in value?value.srcRGB:value.src,srcAlpha="srcAlpha"in value?value.srcAlpha:value.src,dstRGB="dstRGB"in value?value.dstRGB:value.dst,dstAlpha="dstAlpha"in value?value.dstAlpha:value.dst;return check$1.commandParameter(srcRGB,blendFuncs,param+".srcRGB",env.commandStr),check$1.commandParameter(srcAlpha,blendFuncs,param+".srcAlpha",env.commandStr),check$1.commandParameter(dstRGB,blendFuncs,param+".dstRGB",env.commandStr),check$1.commandParameter(dstAlpha,blendFuncs,param+".dstAlpha",env.commandStr),check$1.command(-1===invalidBlendCombinations.indexOf(srcRGB+", "+dstRGB),"unallowed blending combination (srcRGB, dstRGB) = ("+srcRGB+", "+dstRGB+")",env.commandStr),[blendFuncs[srcRGB],blendFuncs[dstRGB],blendFuncs[srcAlpha],blendFuncs[dstAlpha]]}),(function(env,scope,value){var BLEND_FUNCS=env.constants.blendFuncs;function read(prefix,suffix){var func=scope.def('"',prefix,suffix,'" in ',value,"?",value,".",prefix,suffix,":",value,".",prefix);return check$1.optional((function(){env.assert(scope,func+" in "+BLEND_FUNCS,"invalid "+prop+"."+prefix+suffix+", must be one of "+Object.keys(blendFuncs))})),func}check$1.optional((function(){env.assert(scope,value+"&&typeof "+value+'==="object"',"invalid blend func, must be an object")}));var srcRGB=read("src","RGB"),dstRGB=read("dst","RGB");check$1.optional((function(){var INVALID_BLEND_COMBINATIONS=env.constants.invalidBlendCombinations;env.assert(scope,INVALID_BLEND_COMBINATIONS+".indexOf("+srcRGB+'+", "+'+dstRGB+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var SRC_RGB=scope.def(BLEND_FUNCS,"[",srcRGB,"]"),SRC_ALPHA=scope.def(BLEND_FUNCS,"[",read("src","Alpha"),"]");return[SRC_RGB,scope.def(BLEND_FUNCS,"[",dstRGB,"]"),SRC_ALPHA,scope.def(BLEND_FUNCS,"[",read("dst","Alpha"),"]")]}));case"blend.equation":return parseParam((function(value){return"string"==typeof value?(check$1.commandParameter(value,blendEquations,"invalid "+prop,env.commandStr),[blendEquations[value],blendEquations[value]]):"object"==typeof value?(check$1.commandParameter(value.rgb,blendEquations,prop+".rgb",env.commandStr),check$1.commandParameter(value.alpha,blendEquations,prop+".alpha",env.commandStr),[blendEquations[value.rgb],blendEquations[value.alpha]]):void check$1.commandRaise("invalid blend.equation",env.commandStr)}),(function(env,scope,value){var BLEND_EQUATIONS=env.constants.blendEquations,RGB=scope.def(),ALPHA=scope.def(),ifte=env.cond("typeof ",value,'==="string"');return check$1.optional((function(){function checkProp(block,name,value){env.assert(block,value+" in "+BLEND_EQUATIONS,"invalid "+name+", must be one of "+Object.keys(blendEquations))}checkProp(ifte.then,prop,value),env.assert(ifte.else,value+"&&typeof "+value+'==="object"',"invalid "+prop),checkProp(ifte.else,prop+".rgb",value+".rgb"),checkProp(ifte.else,prop+".alpha",value+".alpha")})),ifte.then(RGB,"=",ALPHA,"=",BLEND_EQUATIONS,"[",value,"];"),ifte.else(RGB,"=",BLEND_EQUATIONS,"[",value,".rgb];",ALPHA,"=",BLEND_EQUATIONS,"[",value,".alpha];"),scope(ifte),[RGB,ALPHA]}));case"blend.color":return parseParam((function(value){return check$1.command(isArrayLike(value)&&4===value.length,"blend.color must be a 4d array",env.commandStr),loop(4,(function(i){return+value[i]}))}),(function(env,scope,value){return check$1.optional((function(){env.assert(scope,env.shared.isArrayLike+"("+value+")&&"+value+".length===4","blend.color must be a 4d array")})),loop(4,(function(i){return scope.def("+",value,"[",i,"]")}))}));case"stencil.mask":return parseParam((function(value){return check$1.commandType(value,"number",param,env.commandStr),0|value}),(function(env,scope,value){return check$1.optional((function(){env.assert(scope,"typeof "+value+'==="number"',"invalid stencil.mask")})),scope.def(value,"|0")}));case"stencil.func":return parseParam((function(value){check$1.commandType(value,"object",param,env.commandStr);var cmp=value.cmp||"keep",ref=value.ref||0,mask="mask"in value?value.mask:-1;return check$1.commandParameter(cmp,compareFuncs,prop+".cmp",env.commandStr),check$1.commandType(ref,"number",prop+".ref",env.commandStr),check$1.commandType(mask,"number",prop+".mask",env.commandStr),[compareFuncs[cmp],ref,mask]}),(function(env,scope,value){var COMPARE_FUNCS=env.constants.compareFuncs;return check$1.optional((function(){function assert(){env.assert(scope,Array.prototype.join.call(arguments,""),"invalid stencil.func")}assert(value+"&&typeof ",value,'==="object"'),assert('!("cmp" in ',value,")||(",value,".cmp in ",COMPARE_FUNCS,")")})),[scope.def('"cmp" in ',value,"?",COMPARE_FUNCS,"[",value,".cmp]",":",7680),scope.def(value,".ref|0"),scope.def('"mask" in ',value,"?",value,".mask|0:-1")]}));case"stencil.opFront":case"stencil.opBack":return parseParam((function(value){check$1.commandType(value,"object",param,env.commandStr);var fail=value.fail||"keep",zfail=value.zfail||"keep",zpass=value.zpass||"keep";return check$1.commandParameter(fail,stencilOps,prop+".fail",env.commandStr),check$1.commandParameter(zfail,stencilOps,prop+".zfail",env.commandStr),check$1.commandParameter(zpass,stencilOps,prop+".zpass",env.commandStr),["stencil.opBack"===prop?1029:1028,stencilOps[fail],stencilOps[zfail],stencilOps[zpass]]}),(function(env,scope,value){var STENCIL_OPS=env.constants.stencilOps;function read(name){return check$1.optional((function(){env.assert(scope,'!("'+name+'" in '+value+")||("+value+"."+name+" in "+STENCIL_OPS+")","invalid "+prop+"."+name+", must be one of "+Object.keys(stencilOps))})),scope.def('"',name,'" in ',value,"?",STENCIL_OPS,"[",value,".",name,"]:",7680)}return check$1.optional((function(){env.assert(scope,value+"&&typeof "+value+'==="object"',"invalid "+prop)})),["stencil.opBack"===prop?1029:1028,read("fail"),read("zfail"),read("zpass")]}));case"polygonOffset.offset":return parseParam((function(value){check$1.commandType(value,"object",param,env.commandStr);var factor=0|value.factor,units=0|value.units;return check$1.commandType(factor,"number",param+".factor",env.commandStr),check$1.commandType(units,"number",param+".units",env.commandStr),[factor,units]}),(function(env,scope,value){return check$1.optional((function(){env.assert(scope,value+"&&typeof "+value+'==="object"',"invalid "+prop)})),[scope.def(value,".factor|0"),scope.def(value,".units|0")]}));case"cull.face":return parseParam((function(value){var face=0;return"front"===value?face=1028:"back"===value&&(face=1029),check$1.command(!!face,param,env.commandStr),face}),(function(env,scope,value){return check$1.optional((function(){env.assert(scope,value+'==="front"||'+value+'==="back"',"invalid cull.face")})),scope.def(value,'==="front"?',1028,":",1029)}));case"lineWidth":return parseParam((function(value){return check$1.command("number"==typeof value&&value>=limits.lineWidthDims[0]&&value<=limits.lineWidthDims[1],"invalid line width, must be a positive number between "+limits.lineWidthDims[0]+" and "+limits.lineWidthDims[1],env.commandStr),value}),(function(env,scope,value){return check$1.optional((function(){env.assert(scope,"typeof "+value+'==="number"&&'+value+">="+limits.lineWidthDims[0]+"&&"+value+"<="+limits.lineWidthDims[1],"invalid line width")})),value}));case"frontFace":return parseParam((function(value){return check$1.commandParameter(value,orientationType,param,env.commandStr),orientationType[value]}),(function(env,scope,value){return check$1.optional((function(){env.assert(scope,value+'==="cw"||'+value+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),scope.def(value+'==="cw"?2304:2305')}));case"colorMask":return parseParam((function(value){return check$1.command(isArrayLike(value)&&4===value.length,"color.mask must be length 4 array",env.commandStr),value.map((function(v){return!!v}))}),(function(env,scope,value){return check$1.optional((function(){env.assert(scope,env.shared.isArrayLike+"("+value+")&&"+value+".length===4","invalid color.mask")})),loop(4,(function(i){return"!!"+value+"["+i+"]"}))}));case"sample.coverage":return parseParam((function(value){check$1.command("object"==typeof value&&value,param,env.commandStr);var sampleValue="value"in value?value.value:1,sampleInvert=!!value.invert;return check$1.command("number"==typeof sampleValue&&sampleValue>=0&&sampleValue<=1,"sample.coverage.value must be a number between 0 and 1",env.commandStr),[sampleValue,sampleInvert]}),(function(env,scope,value){return check$1.optional((function(){env.assert(scope,value+"&&typeof "+value+'==="object"',"invalid sample.coverage")})),[scope.def('"value" in ',value,"?+",value,".value:1"),scope.def("!!",value,".invert")]}))}})),STATE}(options,env),shader=function(options){var staticOptions=options.static,dynamicOptions=options.dynamic;function parseShader(name){if(name in staticOptions){var id=stringStore.id(staticOptions[name]);check$1.optional((function(){shaderState.shader(shaderType[name],id,check$1.guessCommand())}));var result=createStaticDecl((function(){return id}));return result.id=id,result}if(name in dynamicOptions){var dyn=dynamicOptions[name];return createDynamicDecl(dyn,(function(env,scope){var str=env.invoke(scope,dyn),id=scope.def(env.shared.strings,".id(",str,")");return check$1.optional((function(){scope(env.shared.shader,".shader(",shaderType[name],",",id,",",env.command,");")})),id}))}return null}var progVar,frag=parseShader(S_FRAG),vert=parseShader(S_VERT),program=null;return isStatic(frag)&&isStatic(vert)?(program=shaderState.program(vert.id,frag.id),progVar=createStaticDecl((function(env,scope){return env.link(program)}))):progVar=new Declaration(frag&&frag.thisDep||vert&&vert.thisDep,frag&&frag.contextDep||vert&&vert.contextDep,frag&&frag.propDep||vert&&vert.propDep,(function(env,scope){var fragId,SHADER_STATE=env.shared.shader;fragId=frag?frag.append(env,scope):scope.def(SHADER_STATE,".",S_FRAG);var progDef=SHADER_STATE+".program("+(vert?vert.append(env,scope):scope.def(SHADER_STATE,".",S_VERT))+","+fragId;return check$1.optional((function(){progDef+=","+env.command})),scope.def(progDef+")")})),{frag:frag,vert:vert,progVar:progVar,program:program}}(options);function copyBox(name){var defn=viewportAndScissor[name];defn&&(state[name]=defn)}copyBox("viewport"),copyBox(propName("scissor.box"));var dirty=Object.keys(state).length>0,result={framebuffer:framebuffer,draw:draw,shader:shader,state:state,dirty:dirty};return result.profile=function(options){var profileEnable,staticOptions=options.static,dynamicOptions=options.dynamic;if(S_PROFILE in staticOptions){var value=!!staticOptions[S_PROFILE];(profileEnable=createStaticDecl((function(env,scope){return value}))).enable=value}else if(S_PROFILE in dynamicOptions){var dyn=dynamicOptions[S_PROFILE];profileEnable=createDynamicDecl(dyn,(function(env,scope){return env.invoke(scope,dyn)}))}return profileEnable}(options),result.uniforms=function(uniforms,env){var staticUniforms=uniforms.static,dynamicUniforms=uniforms.dynamic,UNIFORMS={};return Object.keys(staticUniforms).forEach((function(name){var result,value=staticUniforms[name];if("number"==typeof value||"boolean"==typeof value)result=createStaticDecl((function(){return value}));else if("function"==typeof value){var reglType=value._reglType;"texture2d"===reglType||"textureCube"===reglType?result=createStaticDecl((function(env){return env.link(value)})):"framebuffer"===reglType||"framebufferCube"===reglType?(check$1.command(value.color.length>0,'missing color attachment for framebuffer sent to uniform "'+name+'"',env.commandStr),result=createStaticDecl((function(env){return env.link(value.color[0])}))):check$1.commandRaise('invalid data for uniform "'+name+'"',env.commandStr)}else isArrayLike(value)?result=createStaticDecl((function(env){return env.global.def("[",loop(value.length,(function(i){return check$1.command("number"==typeof value[i]||"boolean"==typeof value[i],"invalid uniform "+name,env.commandStr),value[i]})),"]")})):check$1.commandRaise('invalid or missing data for uniform "'+name+'"',env.commandStr);result.value=value,UNIFORMS[name]=result})),Object.keys(dynamicUniforms).forEach((function(key){var dyn=dynamicUniforms[key];UNIFORMS[key]=createDynamicDecl(dyn,(function(env,scope){return env.invoke(scope,dyn)}))})),UNIFORMS}(uniforms,env),result.attributes=function(attributes,env){var staticAttributes=attributes.static,dynamicAttributes=attributes.dynamic,attributeDefs={};return Object.keys(staticAttributes).forEach((function(attribute){var value=staticAttributes[attribute],id=stringStore.id(attribute),record=new AttributeRecord;if(isBufferArgs(value))record.state=1,record.buffer=bufferState.getBuffer(bufferState.create(value,34962,!1,!0)),record.type=0;else{var buffer=bufferState.getBuffer(value);if(buffer)record.state=1,record.buffer=buffer,record.type=0;else if(check$1.command("object"==typeof value&&value,"invalid data for attribute "+attribute,env.commandStr),"constant"in value){var constant=value.constant;record.buffer="null",record.state=2,"number"==typeof constant?record.x=constant:(check$1.command(isArrayLike(constant)&&constant.length>0&&constant.length<=4,"invalid constant for attribute "+attribute,env.commandStr),CUTE_COMPONENTS.forEach((function(c,i){i<constant.length&&(record[c]=constant[i])})))}else{buffer=isBufferArgs(value.buffer)?bufferState.getBuffer(bufferState.create(value.buffer,34962,!1,!0)):bufferState.getBuffer(value.buffer),check$1.command(!!buffer,'missing buffer for attribute "'+attribute+'"',env.commandStr);var offset=0|value.offset;check$1.command(offset>=0,'invalid offset for attribute "'+attribute+'"',env.commandStr);var stride=0|value.stride;check$1.command(stride>=0&&stride<256,'invalid stride for attribute "'+attribute+'", must be integer betweeen [0, 255]',env.commandStr);var size=0|value.size;check$1.command(!("size"in value)||size>0&&size<=4,'invalid size for attribute "'+attribute+'", must be 1,2,3,4',env.commandStr);var normalized=!!value.normalized,type=0;"type"in value&&(check$1.commandParameter(value.type,glTypes,"invalid type for attribute "+attribute,env.commandStr),type=glTypes[value.type]);var divisor=0|value.divisor;"divisor"in value&&(check$1.command(0===divisor||extInstancing,'cannot specify divisor for attribute "'+attribute+'", instancing not supported',env.commandStr),check$1.command(divisor>=0,'invalid divisor for attribute "'+attribute+'"',env.commandStr)),check$1.optional((function(){var command=env.commandStr,VALID_KEYS=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(value).forEach((function(prop){check$1.command(VALID_KEYS.indexOf(prop)>=0,'unknown parameter "'+prop+'" for attribute pointer "'+attribute+'" (valid parameters are '+VALID_KEYS+")",command)}))})),record.buffer=buffer,record.state=1,record.size=size,record.normalized=normalized,record.type=type||buffer.dtype,record.offset=offset,record.stride=stride,record.divisor=divisor}}attributeDefs[attribute]=createStaticDecl((function(env,scope){var cache=env.attribCache;if(id in cache)return cache[id];var result={isStream:!1};return Object.keys(record).forEach((function(key){result[key]=record[key]})),record.buffer&&(result.buffer=env.link(record.buffer),result.type=result.type||result.buffer+".dtype"),cache[id]=result,result}))})),Object.keys(dynamicAttributes).forEach((function(attribute){var dyn=dynamicAttributes[attribute];attributeDefs[attribute]=createDynamicDecl(dyn,(function(env,block){var VALUE=env.invoke(block,dyn),shared=env.shared,IS_BUFFER_ARGS=shared.isBufferArgs,BUFFER_STATE=shared.buffer;check$1.optional((function(){env.assert(block,VALUE+"&&(typeof "+VALUE+'==="object"||typeof '+VALUE+'==="function")&&('+IS_BUFFER_ARGS+"("+VALUE+")||"+BUFFER_STATE+".getBuffer("+VALUE+")||"+BUFFER_STATE+".getBuffer("+VALUE+".buffer)||"+IS_BUFFER_ARGS+"("+VALUE+'.buffer)||("constant" in '+VALUE+"&&(typeof "+VALUE+'.constant==="number"||'+shared.isArrayLike+"("+VALUE+".constant))))",'invalid dynamic attribute "'+attribute+'"')}));var result={isStream:block.def(!1)},defaultRecord=new AttributeRecord;defaultRecord.state=1,Object.keys(defaultRecord).forEach((function(key){result[key]=block.def(""+defaultRecord[key])}));var BUFFER=result.buffer,TYPE=result.type;function emitReadRecord(name){block(result[name],"=",VALUE,".",name,"|0;")}return block("if(",IS_BUFFER_ARGS,"(",VALUE,")){",result.isStream,"=true;",BUFFER,"=",BUFFER_STATE,".createStream(",34962,",",VALUE,");",TYPE,"=",BUFFER,".dtype;","}else{",BUFFER,"=",BUFFER_STATE,".getBuffer(",VALUE,");","if(",BUFFER,"){",TYPE,"=",BUFFER,".dtype;",'}else if("constant" in ',VALUE,"){",result.state,"=",2,";","if(typeof "+VALUE+'.constant === "number"){',result[CUTE_COMPONENTS[0]],"=",VALUE,".constant;",CUTE_COMPONENTS.slice(1).map((function(n){return result[n]})).join("="),"=0;","}else{",CUTE_COMPONENTS.map((function(name,i){return result[name]+"="+VALUE+".constant.length>"+i+"?"+VALUE+".constant["+i+"]:0;"})).join(""),"}}else{","if(",IS_BUFFER_ARGS,"(",VALUE,".buffer)){",BUFFER,"=",BUFFER_STATE,".createStream(",34962,",",VALUE,".buffer);","}else{",BUFFER,"=",BUFFER_STATE,".getBuffer(",VALUE,".buffer);","}",TYPE,'="type" in ',VALUE,"?",shared.glTypes,"[",VALUE,".type]:",BUFFER,".dtype;",result.normalized,"=!!",VALUE,".normalized;"),emitReadRecord("size"),emitReadRecord("offset"),emitReadRecord("stride"),emitReadRecord("divisor"),block("}}"),block.exit("if(",result.isStream,"){",BUFFER_STATE,".destroyStream(",BUFFER,");","}"),result}))})),attributeDefs}(attributes,env),result.context=function(context){var staticContext=context.static,dynamicContext=context.dynamic,result={};return Object.keys(staticContext).forEach((function(name){var value=staticContext[name];result[name]=createStaticDecl((function(env,scope){return"number"==typeof value||"boolean"==typeof value?""+value:env.link(value)}))})),Object.keys(dynamicContext).forEach((function(name){var dyn=dynamicContext[name];result[name]=createDynamicDecl(dyn,(function(env,scope){return env.invoke(scope,dyn)}))})),result}(context),result}function emitContext(env,scope,context){var CONTEXT=env.shared.context,contextEnter=env.scope();Object.keys(context).forEach((function(name){scope.save(CONTEXT,"."+name);var defn=context[name];contextEnter(CONTEXT,".",name,"=",defn.append(env,scope),";")})),scope(contextEnter)}function emitPollFramebuffer(env,scope,framebuffer,skipCheck){var EXT_DRAW_BUFFERS,shared=env.shared,GL=shared.gl,FRAMEBUFFER_STATE=shared.framebuffer;extDrawBuffers&&(EXT_DRAW_BUFFERS=scope.def(shared.extensions,".webgl_draw_buffers"));var NEXT,constants=env.constants,DRAW_BUFFERS=constants.drawBuffer,BACK_BUFFER=constants.backBuffer;NEXT=framebuffer?framebuffer.append(env,scope):scope.def(FRAMEBUFFER_STATE,".next"),skipCheck||scope("if(",NEXT,"!==",FRAMEBUFFER_STATE,".cur){"),scope("if(",NEXT,"){",GL,".bindFramebuffer(",36160,",",NEXT,".framebuffer);"),extDrawBuffers&&scope(EXT_DRAW_BUFFERS,".drawBuffersWEBGL(",DRAW_BUFFERS,"[",NEXT,".colorAttachments.length]);"),scope("}else{",GL,".bindFramebuffer(",36160,",null);"),extDrawBuffers&&scope(EXT_DRAW_BUFFERS,".drawBuffersWEBGL(",BACK_BUFFER,");"),scope("}",FRAMEBUFFER_STATE,".cur=",NEXT,";"),skipCheck||scope("}")}function emitPollState(env,scope,args){var shared=env.shared,GL=shared.gl,CURRENT_VARS=env.current,NEXT_VARS=env.next,CURRENT_STATE=shared.current,NEXT_STATE=shared.next,block=env.cond(CURRENT_STATE,".dirty");GL_STATE_NAMES.forEach((function(prop){var NEXT,CURRENT,param=propName(prop);if(!(param in args.state))if(param in NEXT_VARS){NEXT=NEXT_VARS[param],CURRENT=CURRENT_VARS[param];var parts=loop(currentState[param].length,(function(i){return block.def(NEXT,"[",i,"]")}));block(env.cond(parts.map((function(p,i){return p+"!=="+CURRENT+"["+i+"]"})).join("||")).then(GL,".",GL_VARIABLES[param],"(",parts,");",parts.map((function(p,i){return CURRENT+"["+i+"]="+p})).join(";"),";"))}else{NEXT=block.def(NEXT_STATE,".",param);var ifte=env.cond(NEXT,"!==",CURRENT_STATE,".",param);block(ifte),param in GL_FLAGS?ifte(env.cond(NEXT).then(GL,".enable(",GL_FLAGS[param],");").else(GL,".disable(",GL_FLAGS[param],");"),CURRENT_STATE,".",param,"=",NEXT,";"):ifte(GL,".",GL_VARIABLES[param],"(",NEXT,");",CURRENT_STATE,".",param,"=",NEXT,";")}})),0===Object.keys(args.state).length&&block(CURRENT_STATE,".dirty=false;"),scope(block)}function emitSetOptions(env,scope,options,filter){var shared=env.shared,CURRENT_VARS=env.current,CURRENT_STATE=shared.current,GL=shared.gl;sortState(Object.keys(options)).forEach((function(param){var defn=options[param];if(!filter||filter(defn)){var variable=defn.append(env,scope);if(GL_FLAGS[param]){var flag=GL_FLAGS[param];isStatic(defn)?scope(GL,variable?".enable(":".disable(",flag,");"):scope(env.cond(variable).then(GL,".enable(",flag,");").else(GL,".disable(",flag,");")),scope(CURRENT_STATE,".",param,"=",variable,";")}else if(isArrayLike(variable)){var CURRENT=CURRENT_VARS[param];scope(GL,".",GL_VARIABLES[param],"(",variable,");",variable.map((function(v,i){return CURRENT+"["+i+"]="+v})).join(";"),";")}else scope(GL,".",GL_VARIABLES[param],"(",variable,");",CURRENT_STATE,".",param,"=",variable,";")}}))}function injectExtensions(env,scope){extInstancing&&(env.instancing=scope.def(env.shared.extensions,".angle_instanced_arrays"))}function emitProfile(env,scope,args,useScope,incrementCounter){var CPU_START,QUERY_COUNTER,USE_PROFILE,shared=env.shared,STATS=env.stats,CURRENT_STATE=shared.current,TIMER=shared.timer,profileArg=args.profile;function perfCounter(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function emitProfileStart(block){block(CPU_START=scope.def(),"=",perfCounter(),";"),"string"==typeof incrementCounter?block(STATS,".count+=",incrementCounter,";"):block(STATS,".count++;"),timer&&(useScope?block(QUERY_COUNTER=scope.def(),"=",TIMER,".getNumPendingQueries();"):block(TIMER,".beginQuery(",STATS,");"))}function emitProfileEnd(block){block(STATS,".cpuTime+=",perfCounter(),"-",CPU_START,";"),timer&&(useScope?block(TIMER,".pushScopeStats(",QUERY_COUNTER,",",TIMER,".getNumPendingQueries(),",STATS,");"):block(TIMER,".endQuery();"))}function scopeProfile(value){var prev=scope.def(CURRENT_STATE,".profile");scope(CURRENT_STATE,".profile=",value,";"),scope.exit(CURRENT_STATE,".profile=",prev,";")}if(profileArg){if(isStatic(profileArg))return void(profileArg.enable?(emitProfileStart(scope),emitProfileEnd(scope.exit),scopeProfile("true")):scopeProfile("false"));scopeProfile(USE_PROFILE=profileArg.append(env,scope))}else USE_PROFILE=scope.def(CURRENT_STATE,".profile");var start=env.block();emitProfileStart(start),scope("if(",USE_PROFILE,"){",start,"}");var end=env.block();emitProfileEnd(end),scope.exit("if(",USE_PROFILE,"){",end,"}")}function emitAttributes(env,scope,args,attributes,filter){var shared=env.shared;attributes.forEach((function(attribute){var record,name=attribute.name,arg=args.attributes[name];if(arg){if(!filter(arg))return;record=arg.append(env,scope)}else{if(!filter(SCOPE_DECL))return;var scopeAttrib=env.scopeAttrib(name);check$1.optional((function(){env.assert(scope,scopeAttrib+".state","missing attribute "+name)})),record={},Object.keys(new AttributeRecord).forEach((function(key){record[key]=scope.def(scopeAttrib,".",key)}))}!function(ATTRIBUTE,size,record){var GL=shared.gl,LOCATION=scope.def(ATTRIBUTE,".location"),BINDING=scope.def(shared.attributes,"[",LOCATION,"]"),STATE=record.state,BUFFER=record.buffer,CONST_COMPONENTS=[record.x,record.y,record.z,record.w],COMMON_KEYS=["buffer","normalized","offset","stride"];function emitBuffer(){scope("if(!",BINDING,".buffer){",GL,".enableVertexAttribArray(",LOCATION,");}");var SIZE,TYPE=record.type;if(SIZE=record.size?scope.def(record.size,"||",size):size,scope("if(",BINDING,".type!==",TYPE,"||",BINDING,".size!==",SIZE,"||",COMMON_KEYS.map((function(key){return BINDING+"."+key+"!=="+record[key]})).join("||"),"){",GL,".bindBuffer(",34962,",",BUFFER,".buffer);",GL,".vertexAttribPointer(",[LOCATION,SIZE,TYPE,record.normalized,record.stride,record.offset],");",BINDING,".type=",TYPE,";",BINDING,".size=",SIZE,";",COMMON_KEYS.map((function(key){return BINDING+"."+key+"="+record[key]+";"})).join(""),"}"),extInstancing){var DIVISOR=record.divisor;scope("if(",BINDING,".divisor!==",DIVISOR,"){",env.instancing,".vertexAttribDivisorANGLE(",[LOCATION,DIVISOR],");",BINDING,".divisor=",DIVISOR,";}")}}function emitConstant(){scope("if(",BINDING,".buffer){",GL,".disableVertexAttribArray(",LOCATION,");","}if(",CUTE_COMPONENTS.map((function(c,i){return BINDING+"."+c+"!=="+CONST_COMPONENTS[i]})).join("||"),"){",GL,".vertexAttrib4f(",LOCATION,",",CONST_COMPONENTS,");",CUTE_COMPONENTS.map((function(c,i){return BINDING+"."+c+"="+CONST_COMPONENTS[i]+";"})).join(""),"}")}1===STATE?emitBuffer():2===STATE?emitConstant():(scope("if(",STATE,"===",1,"){"),emitBuffer(),scope("}else{"),emitConstant(),scope("}"))}(env.link(attribute),function(x){switch(x){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(attribute.info.type),record)}))}function emitUniforms(env,scope,args,uniforms,filter){for(var infix,shared=env.shared,GL=shared.gl,i=0;i<uniforms.length;++i){var VALUE,uniform=uniforms[i],name=uniform.name,type=uniform.info.type,arg=args.uniforms[name],LOCATION=env.link(uniform)+".location";if(arg){if(!filter(arg))continue;if(isStatic(arg)){var value=arg.value;if(check$1.command(null!=value,'missing uniform "'+name+'"',env.commandStr),35678===type||35680===type){check$1.command("function"==typeof value&&(35678===type&&("texture2d"===value._reglType||"framebuffer"===value._reglType)||35680===type&&("textureCube"===value._reglType||"framebufferCube"===value._reglType)),"invalid texture for uniform "+name,env.commandStr);var TEX_VALUE=env.link(value._texture||value.color[0]._texture);scope(GL,".uniform1i(",LOCATION,",",TEX_VALUE+".bind());"),scope.exit(TEX_VALUE,".unbind();")}else if(35674===type||35675===type||35676===type){check$1.optional((function(){check$1.command(isArrayLike(value),"invalid matrix for uniform "+name,env.commandStr),check$1.command(35674===type&&4===value.length||35675===type&&9===value.length||35676===type&&16===value.length,"invalid length for matrix uniform "+name,env.commandStr)}));var MAT_VALUE=env.global.def("new Float32Array(["+Array.prototype.slice.call(value)+"])"),dim=2;35675===type?dim=3:35676===type&&(dim=4),scope(GL,".uniformMatrix",dim,"fv(",LOCATION,",false,",MAT_VALUE,");")}else{switch(type){case 5126:check$1.commandType(value,"number","uniform "+name,env.commandStr),infix="1f";break;case 35664:check$1.command(isArrayLike(value)&&2===value.length,"uniform "+name,env.commandStr),infix="2f";break;case 35665:check$1.command(isArrayLike(value)&&3===value.length,"uniform "+name,env.commandStr),infix="3f";break;case 35666:check$1.command(isArrayLike(value)&&4===value.length,"uniform "+name,env.commandStr),infix="4f";break;case 35670:check$1.commandType(value,"boolean","uniform "+name,env.commandStr),infix="1i";break;case 5124:check$1.commandType(value,"number","uniform "+name,env.commandStr),infix="1i";break;case 35671:case 35667:check$1.command(isArrayLike(value)&&2===value.length,"uniform "+name,env.commandStr),infix="2i";break;case 35672:case 35668:check$1.command(isArrayLike(value)&&3===value.length,"uniform "+name,env.commandStr),infix="3i";break;case 35673:case 35669:check$1.command(isArrayLike(value)&&4===value.length,"uniform "+name,env.commandStr),infix="4i"}scope(GL,".uniform",infix,"(",LOCATION,",",isArrayLike(value)?Array.prototype.slice.call(value):value,");")}continue}VALUE=arg.append(env,scope)}else{if(!filter(SCOPE_DECL))continue;VALUE=scope.def(shared.uniforms,"[",stringStore.id(name),"]")}35678===type?scope("if(",VALUE,"&&",VALUE,'._reglType==="framebuffer"){',VALUE,"=",VALUE,".color[0];","}"):35680===type&&scope("if(",VALUE,"&&",VALUE,'._reglType==="framebufferCube"){',VALUE,"=",VALUE,".color[0];","}"),check$1.optional((function(){function check(pred,message){env.assert(scope,pred,'bad data or missing for uniform "'+name+'".  '+message)}function checkType(type){check("typeof "+VALUE+'==="'+type+'"',"invalid type, expected "+type)}function checkVector(n,type){check(shared.isArrayLike+"("+VALUE+")&&"+VALUE+".length==="+n,"invalid vector, should have length "+n,env.commandStr)}function checkTexture(target){check("typeof "+VALUE+'==="function"&&'+VALUE+'._reglType==="texture'+(3553===target?"2d":"Cube")+'"',"invalid texture type",env.commandStr)}switch(type){case 5124:checkType("number");break;case 35667:checkVector(2);break;case 35668:checkVector(3);break;case 35669:checkVector(4);break;case 5126:checkType("number");break;case 35664:checkVector(2);break;case 35665:checkVector(3);break;case 35666:checkVector(4);break;case 35670:checkType("boolean");break;case 35671:checkVector(2);break;case 35672:checkVector(3);break;case 35673:case 35674:checkVector(4);break;case 35675:checkVector(9);break;case 35676:checkVector(16);break;case 35678:checkTexture(3553);break;case 35680:checkTexture(34067)}}));var unroll=1;switch(type){case 35678:case 35680:var TEX=scope.def(VALUE,"._texture");scope(GL,".uniform1i(",LOCATION,",",TEX,".bind());"),scope.exit(TEX,".unbind();");continue;case 5124:case 35670:infix="1i";break;case 35667:case 35671:infix="2i",unroll=2;break;case 35668:case 35672:infix="3i",unroll=3;break;case 35669:case 35673:infix="4i",unroll=4;break;case 5126:infix="1f";break;case 35664:infix="2f",unroll=2;break;case 35665:infix="3f",unroll=3;break;case 35666:infix="4f",unroll=4;break;case 35674:infix="Matrix2fv";break;case 35675:infix="Matrix3fv";break;case 35676:infix="Matrix4fv"}if(scope(GL,".uniform",infix,"(",LOCATION,","),"M"===infix.charAt(0)){var matSize=Math.pow(type-35674+2,2),STORAGE=env.global.def("new Float32Array(",matSize,")");scope("false,(Array.isArray(",VALUE,")||",VALUE," instanceof Float32Array)?",VALUE,":(",loop(matSize,(function(i){return STORAGE+"["+i+"]="+VALUE+"["+i+"]"})),",",STORAGE,")")}else scope(unroll>1?loop(unroll,(function(i){return VALUE+"["+i+"]"})):VALUE);scope(");")}}function emitDraw(env,outer,inner,args){var shared=env.shared,GL=shared.gl,DRAW_STATE=shared.draw,drawOptions=args.draw,ELEMENTS=function(){var ELEMENTS,defn=drawOptions.elements,scope=outer;return defn?((defn.contextDep&&args.contextDynamic||defn.propDep)&&(scope=inner),ELEMENTS=defn.append(env,scope)):ELEMENTS=scope.def(DRAW_STATE,".",S_ELEMENTS),ELEMENTS&&scope("if("+ELEMENTS+")"+GL+".bindBuffer(34963,"+ELEMENTS+".buffer.buffer);"),ELEMENTS}();function emitValue(name){var defn=drawOptions[name];return defn?defn.contextDep&&args.contextDynamic||defn.propDep?defn.append(env,inner):defn.append(env,outer):outer.def(DRAW_STATE,".",name)}var INSTANCES,EXT_INSTANCING,PRIMITIVE=emitValue(S_PRIMITIVE),OFFSET=emitValue(S_OFFSET),COUNT=function(){var COUNT,defn=drawOptions.count,scope=outer;return defn?((defn.contextDep&&args.contextDynamic||defn.propDep)&&(scope=inner),COUNT=defn.append(env,scope),check$1.optional((function(){defn.MISSING&&env.assert(outer,"false","missing vertex count"),defn.DYNAMIC&&env.assert(scope,COUNT+">=0","missing vertex count")}))):(COUNT=scope.def(DRAW_STATE,".",S_COUNT),check$1.optional((function(){env.assert(scope,COUNT+">=0","missing vertex count")}))),COUNT}();if("number"==typeof COUNT){if(0===COUNT)return}else inner("if(",COUNT,"){"),inner.exit("}");extInstancing&&(INSTANCES=emitValue(S_INSTANCES),EXT_INSTANCING=env.instancing);var ELEMENT_TYPE=ELEMENTS+".type",elementsStatic=drawOptions.elements&&isStatic(drawOptions.elements);function emitInstancing(){function drawElements(){inner(EXT_INSTANCING,".drawElementsInstancedANGLE(",[PRIMITIVE,COUNT,ELEMENT_TYPE,OFFSET+"<<(("+ELEMENT_TYPE+"-5121)>>1)",INSTANCES],");")}function drawArrays(){inner(EXT_INSTANCING,".drawArraysInstancedANGLE(",[PRIMITIVE,OFFSET,COUNT,INSTANCES],");")}ELEMENTS?elementsStatic?drawElements():(inner("if(",ELEMENTS,"){"),drawElements(),inner("}else{"),drawArrays(),inner("}")):drawArrays()}function emitRegular(){function drawElements(){inner(GL+".drawElements("+[PRIMITIVE,COUNT,ELEMENT_TYPE,OFFSET+"<<(("+ELEMENT_TYPE+"-5121)>>1)"]+");")}function drawArrays(){inner(GL+".drawArrays("+[PRIMITIVE,OFFSET,COUNT]+");")}ELEMENTS?elementsStatic?drawElements():(inner("if(",ELEMENTS,"){"),drawElements(),inner("}else{"),drawArrays(),inner("}")):drawArrays()}extInstancing&&("number"!=typeof INSTANCES||INSTANCES>=0)?"string"==typeof INSTANCES?(inner("if(",INSTANCES,">0){"),emitInstancing(),inner("}else if(",INSTANCES,"<0){"),emitRegular(),inner("}")):emitInstancing():emitRegular()}function createBody(emitBody,parentEnv,args,program,count){var env=createREGLEnvironment(),scope=env.proc("body",count);return check$1.optional((function(){env.commandStr=parentEnv.commandStr,env.command=env.link(parentEnv.commandStr)})),extInstancing&&(env.instancing=scope.def(env.shared.extensions,".angle_instanced_arrays")),emitBody(env,scope,args,program),env.compile().body}function emitDrawBody(env,draw,args,program){injectExtensions(env,draw),emitAttributes(env,draw,args,program.attributes,(function(){return!0})),emitUniforms(env,draw,args,program.uniforms,(function(){return!0})),emitDraw(env,draw,draw,args)}function emitBatchDynamicShaderBody(env,scope,args,program){function all(){return!0}env.batchId="a1",injectExtensions(env,scope),emitAttributes(env,scope,args,program.attributes,all),emitUniforms(env,scope,args,program.uniforms,all),emitDraw(env,scope,scope,args)}function emitBatchBody(env,scope,args,program){injectExtensions(env,scope);var contextDynamic=args.contextDep,BATCH_ID=scope.def(),PROPS=scope.def();env.shared.props=PROPS,env.batchId=BATCH_ID;var outer=env.scope(),inner=env.scope();function isInnerDefn(defn){return defn.contextDep&&contextDynamic||defn.propDep}function isOuterDefn(defn){return!isInnerDefn(defn)}if(scope(outer.entry,"for(",BATCH_ID,"=0;",BATCH_ID,"<","a1",";++",BATCH_ID,"){",PROPS,"=","a0","[",BATCH_ID,"];",inner,"}",outer.exit),args.needsContext&&emitContext(env,inner,args.context),args.needsFramebuffer&&emitPollFramebuffer(env,inner,args.framebuffer),emitSetOptions(env,inner,args.state,isInnerDefn),args.profile&&isInnerDefn(args.profile)&&emitProfile(env,inner,args,!1,!0),program)emitAttributes(env,outer,args,program.attributes,isOuterDefn),emitAttributes(env,inner,args,program.attributes,isInnerDefn),emitUniforms(env,outer,args,program.uniforms,isOuterDefn),emitUniforms(env,inner,args,program.uniforms,isInnerDefn),emitDraw(env,outer,inner,args);else{var progCache=env.global.def("{}"),PROGRAM=args.shader.progVar.append(env,inner),PROG_ID=inner.def(PROGRAM,".id"),CACHED_PROC=inner.def(progCache,"[",PROG_ID,"]");inner(env.shared.gl,".useProgram(",PROGRAM,".program);","if(!",CACHED_PROC,"){",CACHED_PROC,"=",progCache,"[",PROG_ID,"]=",env.link((function(program){return createBody(emitBatchDynamicShaderBody,env,args,program,2)})),"(",PROGRAM,");}",CACHED_PROC,".call(this,a0[",BATCH_ID,"],",BATCH_ID,");")}}function splatObject(env,options,name){var object=options.static[name];if(object&&function(object){if("object"==typeof object&&!isArrayLike(object)){for(var props=Object.keys(object),i=0;i<props.length;++i)if(dynamic.isDynamic(object[props[i]]))return!0;return!1}}(object)){var globals=env.global,keys=Object.keys(object),thisDep=!1,contextDep=!1,propDep=!1,objectRef=env.global.def("{}");keys.forEach((function(key){var value=object[key];if(dynamic.isDynamic(value)){"function"==typeof value&&(value=object[key]=dynamic.unbox(value));var deps=createDynamicDecl(value,null);thisDep=thisDep||deps.thisDep,propDep=propDep||deps.propDep,contextDep=contextDep||deps.contextDep}else{switch(globals(objectRef,".",key,"="),typeof value){case"number":globals(value);break;case"string":globals('"',value,'"');break;case"object":Array.isArray(value)&&globals("[",value.join(),"]");break;default:globals(env.link(value))}globals(";")}})),options.dynamic[name]=new dynamic.DynamicVariable(4,{thisDep:thisDep,contextDep:contextDep,propDep:propDep,ref:objectRef,append:function(env,block){keys.forEach((function(key){var value=object[key];if(dynamic.isDynamic(value)){var ref=env.invoke(block,value);block(objectRef,".",key,"=",ref,";")}}))}}),delete options.static[name]}}return{next:nextState,current:currentState,procs:function(){var env=createREGLEnvironment(),poll=env.proc("poll"),refresh=env.proc("refresh"),common=env.block();poll(common),refresh(common);var INSTANCING,shared=env.shared,GL=shared.gl,NEXT_STATE=shared.next,CURRENT_STATE=shared.current;common(CURRENT_STATE,".dirty=false;"),emitPollFramebuffer(env,poll),emitPollFramebuffer(env,refresh,null,!0),extInstancing&&(INSTANCING=env.link(extInstancing));for(var i=0;i<limits.maxAttributes;++i){var BINDING=refresh.def(shared.attributes,"[",i,"]"),ifte=env.cond(BINDING,".buffer");ifte.then(GL,".enableVertexAttribArray(",i,");",GL,".bindBuffer(",34962,",",BINDING,".buffer.buffer);",GL,".vertexAttribPointer(",i,",",BINDING,".size,",BINDING,".type,",BINDING,".normalized,",BINDING,".stride,",BINDING,".offset);").else(GL,".disableVertexAttribArray(",i,");",GL,".vertexAttrib4f(",i,",",BINDING,".x,",BINDING,".y,",BINDING,".z,",BINDING,".w);",BINDING,".buffer=null;"),refresh(ifte),extInstancing&&refresh(INSTANCING,".vertexAttribDivisorANGLE(",i,",",BINDING,".divisor);")}return Object.keys(GL_FLAGS).forEach((function(flag){var cap=GL_FLAGS[flag],NEXT=common.def(NEXT_STATE,".",flag),block=env.block();block("if(",NEXT,"){",GL,".enable(",cap,")}else{",GL,".disable(",cap,")}",CURRENT_STATE,".",flag,"=",NEXT,";"),refresh(block),poll("if(",NEXT,"!==",CURRENT_STATE,".",flag,"){",block,"}")})),Object.keys(GL_VARIABLES).forEach((function(name){var NEXT,CURRENT,func=GL_VARIABLES[name],init=currentState[name],block=env.block();if(block(GL,".",func,"("),isArrayLike(init)){var n=init.length;NEXT=env.global.def(NEXT_STATE,".",name),CURRENT=env.global.def(CURRENT_STATE,".",name),block(loop(n,(function(i){return NEXT+"["+i+"]"})),");",loop(n,(function(i){return CURRENT+"["+i+"]="+NEXT+"["+i+"];"})).join("")),poll("if(",loop(n,(function(i){return NEXT+"["+i+"]!=="+CURRENT+"["+i+"]"})).join("||"),"){",block,"}")}else NEXT=common.def(NEXT_STATE,".",name),CURRENT=common.def(CURRENT_STATE,".",name),block(NEXT,");",CURRENT_STATE,".",name,"=",NEXT,";"),poll("if(",NEXT,"!==",CURRENT,"){",block,"}");refresh(block)})),env.compile()}(),compile:function(options,attributes,uniforms,context,stats){var env=createREGLEnvironment();env.stats=env.link(stats),Object.keys(attributes.static).forEach((function(key){splatObject(env,attributes,key)})),NESTED_OPTIONS.forEach((function(name){splatObject(env,options,name)}));var args=parseArguments(options,attributes,uniforms,context,env);return function(env,args){var draw=env.proc("draw",1);injectExtensions(env,draw),emitContext(env,draw,args.context),emitPollFramebuffer(env,draw,args.framebuffer),emitPollState(env,draw,args),emitSetOptions(env,draw,args.state),emitProfile(env,draw,args,!1,!0);var program=args.shader.progVar.append(env,draw);if(draw(env.shared.gl,".useProgram(",program,".program);"),args.shader.program)emitDrawBody(env,draw,args,args.shader.program);else{var drawCache=env.global.def("{}"),PROG_ID=draw.def(program,".id"),CACHED_PROC=draw.def(drawCache,"[",PROG_ID,"]");draw(env.cond(CACHED_PROC).then(CACHED_PROC,".call(this,a0);").else(CACHED_PROC,"=",drawCache,"[",PROG_ID,"]=",env.link((function(program){return createBody(emitDrawBody,env,args,program,1)})),"(",program,");",CACHED_PROC,".call(this,a0);"))}Object.keys(args.state).length>0&&draw(env.shared.current,".dirty=true;")}(env,args),function(env,args){var scope=env.proc("scope",3);env.batchId="a2";var shared=env.shared,CURRENT_STATE=shared.current;function saveShader(name){var shader=args.shader[name];shader&&scope.set(shared.shader,"."+name,shader.append(env,scope))}emitContext(env,scope,args.context),args.framebuffer&&args.framebuffer.append(env,scope),sortState(Object.keys(args.state)).forEach((function(name){var value=args.state[name].append(env,scope);isArrayLike(value)?value.forEach((function(v,i){scope.set(env.next[name],"["+i+"]",v)})):scope.set(shared.next,"."+name,value)})),emitProfile(env,scope,args,!0,!0),[S_ELEMENTS,S_OFFSET,S_COUNT,S_INSTANCES,S_PRIMITIVE].forEach((function(opt){var variable=args.draw[opt];variable&&scope.set(shared.draw,"."+opt,""+variable.append(env,scope))})),Object.keys(args.uniforms).forEach((function(opt){scope.set(shared.uniforms,"["+stringStore.id(opt)+"]",args.uniforms[opt].append(env,scope))})),Object.keys(args.attributes).forEach((function(name){var record=args.attributes[name].append(env,scope),scopeAttrib=env.scopeAttrib(name);Object.keys(new AttributeRecord).forEach((function(prop){scope.set(scopeAttrib,"."+prop,record[prop])}))})),saveShader(S_VERT),saveShader(S_FRAG),Object.keys(args.state).length>0&&(scope(CURRENT_STATE,".dirty=true;"),scope.exit(CURRENT_STATE,".dirty=true;")),scope("a1(",env.shared.context,",a0,",env.batchId,");")}(env,args),function(env,args){var batch=env.proc("batch",2);env.batchId="0",injectExtensions(env,batch);var contextDynamic=!1,needsContext=!0;Object.keys(args.context).forEach((function(name){contextDynamic=contextDynamic||args.context[name].propDep})),contextDynamic||(emitContext(env,batch,args.context),needsContext=!1);var framebuffer=args.framebuffer,needsFramebuffer=!1;function isInnerDefn(defn){return defn.contextDep&&contextDynamic||defn.propDep}framebuffer?(framebuffer.propDep?contextDynamic=needsFramebuffer=!0:framebuffer.contextDep&&contextDynamic&&(needsFramebuffer=!0),needsFramebuffer||emitPollFramebuffer(env,batch,framebuffer)):emitPollFramebuffer(env,batch,null),args.state.viewport&&args.state.viewport.propDep&&(contextDynamic=!0),emitPollState(env,batch,args),emitSetOptions(env,batch,args.state,(function(defn){return!isInnerDefn(defn)})),args.profile&&isInnerDefn(args.profile)||emitProfile(env,batch,args,!1,"a1"),args.contextDep=contextDynamic,args.needsContext=needsContext,args.needsFramebuffer=needsFramebuffer;var progDefn=args.shader.progVar;if(progDefn.contextDep&&contextDynamic||progDefn.propDep)emitBatchBody(env,batch,args,null);else{var PROGRAM=progDefn.append(env,batch);if(batch(env.shared.gl,".useProgram(",PROGRAM,".program);"),args.shader.program)emitBatchBody(env,batch,args,args.shader.program);else{var batchCache=env.global.def("{}"),PROG_ID=batch.def(PROGRAM,".id"),CACHED_PROC=batch.def(batchCache,"[",PROG_ID,"]");batch(env.cond(CACHED_PROC).then(CACHED_PROC,".call(this,a0,a1);").else(CACHED_PROC,"=",batchCache,"[",PROG_ID,"]=",env.link((function(program){return createBody(emitBatchBody,env,args,program,2)})),"(",PROGRAM,");",CACHED_PROC,".call(this,a0,a1);"))}}Object.keys(args.state).length>0&&batch(env.shared.current,".dirty=true;")}(env,args),env.compile()}}}var createTimer=function(gl,extensions){if(!extensions.ext_disjoint_timer_query)return null;var queryPool=[];function freeQuery(query){queryPool.push(query)}var pendingQueries=[];function PendingStats(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var pendingStatsPool=[];function freePendingStats(pendingStats){pendingStatsPool.push(pendingStats)}var pendingStats=[];function pushScopeStats(start,end,stats){var ps=pendingStatsPool.pop()||new PendingStats;ps.startQueryIndex=start,ps.endQueryIndex=end,ps.sum=0,ps.stats=stats,pendingStats.push(ps)}var timeSum=[],queryPtr=[];return{beginQuery:function(stats){var query=queryPool.pop()||extensions.ext_disjoint_timer_query.createQueryEXT();extensions.ext_disjoint_timer_query.beginQueryEXT(35007,query),pendingQueries.push(query),pushScopeStats(pendingQueries.length-1,pendingQueries.length,stats)},endQuery:function(){extensions.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:pushScopeStats,update:function(){var ptr,i,n=pendingQueries.length;if(0!==n){queryPtr.length=Math.max(queryPtr.length,n+1),timeSum.length=Math.max(timeSum.length,n+1),timeSum[0]=0,queryPtr[0]=0;var queryTime=0;for(ptr=0,i=0;i<pendingQueries.length;++i){var query=pendingQueries[i];extensions.ext_disjoint_timer_query.getQueryObjectEXT(query,34919)?(queryTime+=extensions.ext_disjoint_timer_query.getQueryObjectEXT(query,34918),freeQuery(query)):pendingQueries[ptr++]=query,timeSum[i+1]=queryTime,queryPtr[i+1]=ptr}for(pendingQueries.length=ptr,ptr=0,i=0;i<pendingStats.length;++i){var stats=pendingStats[i],start=stats.startQueryIndex,end=stats.endQueryIndex;stats.sum+=timeSum[end]-timeSum[start];var startPtr=queryPtr[start],endPtr=queryPtr[end];endPtr===startPtr?(stats.stats.gpuTime+=stats.sum/1e6,freePendingStats(stats)):(stats.startQueryIndex=startPtr,stats.endQueryIndex=endPtr,pendingStats[ptr++]=stats)}pendingStats.length=ptr}},getNumPendingQueries:function(){return pendingQueries.length},clear:function(){queryPool.push.apply(queryPool,pendingQueries);for(var i=0;i<queryPool.length;i++)extensions.ext_disjoint_timer_query.deleteQueryEXT(queryPool[i]);pendingQueries.length=0,queryPool.length=0},restore:function(){pendingQueries.length=0,queryPool.length=0}}};function find(haystack,needle){for(var i=0;i<haystack.length;++i)if(haystack[i]===needle)return i;return-1}return function(args){var config=parseArgs(args);if(!config)return null;var gl=config.gl,glAttributes=gl.getContextAttributes(),contextLost=gl.isContextLost(),extensionState=function(gl,config){var extensions={};function tryLoadExtension(name_){check$1.type(name_,"string","extension name must be string");var ext,name=name_.toLowerCase();try{ext=extensions[name]=gl.getExtension(name)}catch(e){}return!!ext}for(var i=0;i<config.extensions.length;++i){var name=config.extensions[i];if(!tryLoadExtension(name))return config.onDestroy(),config.onDone('"'+name+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return config.optionalExtensions.forEach(tryLoadExtension),{extensions:extensions,restore:function(){Object.keys(extensions).forEach((function(name){if(extensions[name]&&!tryLoadExtension(name))throw new Error("(regl): error restoring extension "+name)}))}}}(gl,config);if(!extensionState)return null;var stringIds,stringValues,stringStore=(stringIds={"":0},stringValues=[""],{id:function(str){var result=stringIds[str];return result||(result=stringIds[str]=stringValues.length,stringValues.push(str),result)},str:function(id){return stringValues[id]}}),stats$$1={bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},extensions=extensionState.extensions,timer=createTimer(0,extensions),START_TIME=clock(),WIDTH=gl.drawingBufferWidth,HEIGHT=gl.drawingBufferHeight,contextState={tick:0,time:0,viewportWidth:WIDTH,viewportHeight:HEIGHT,framebufferWidth:WIDTH,framebufferHeight:HEIGHT,drawingBufferWidth:WIDTH,drawingBufferHeight:HEIGHT,pixelRatio:config.pixelRatio},limits=function(gl,extensions){var maxAnisotropic=1;extensions.ext_texture_filter_anisotropic&&(maxAnisotropic=gl.getParameter(34047));var maxDrawbuffers=1,maxColorAttachments=1;extensions.webgl_draw_buffers&&(maxDrawbuffers=gl.getParameter(34852),maxColorAttachments=gl.getParameter(36063));var readFloat=!!extensions.oes_texture_float;if(readFloat){var readFloatTexture=gl.createTexture();gl.bindTexture(3553,readFloatTexture),gl.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var fbo=gl.createFramebuffer();if(gl.bindFramebuffer(36160,fbo),gl.framebufferTexture2D(36160,36064,3553,readFloatTexture,0),gl.bindTexture(3553,null),36053!==gl.checkFramebufferStatus(36160))readFloat=!1;else{gl.viewport(0,0,1,1),gl.clearColor(1,0,0,1),gl.clear(16384);var pixels=pool.allocType(5126,4);gl.readPixels(0,0,1,1,6408,5126,pixels),gl.getError()?readFloat=!1:(gl.deleteFramebuffer(fbo),gl.deleteTexture(readFloatTexture),readFloat=1===pixels[0]),pool.freeType(pixels)}}var npotTextureCube=!0;if("undefined"==typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var cubeTexture=gl.createTexture(),data=pool.allocType(5121,36);gl.activeTexture(33984),gl.bindTexture(34067,cubeTexture),gl.texImage2D(34069,0,6408,3,3,0,6408,5121,data),pool.freeType(data),gl.bindTexture(34067,null),gl.deleteTexture(cubeTexture),npotTextureCube=!gl.getError()}return{colorBits:[gl.getParameter(3410),gl.getParameter(3411),gl.getParameter(3412),gl.getParameter(3413)],depthBits:gl.getParameter(3414),stencilBits:gl.getParameter(3415),subpixelBits:gl.getParameter(3408),extensions:Object.keys(extensions).filter((function(ext){return!!extensions[ext]})),maxAnisotropic:maxAnisotropic,maxDrawbuffers:maxDrawbuffers,maxColorAttachments:maxColorAttachments,pointSizeDims:gl.getParameter(33901),lineWidthDims:gl.getParameter(33902),maxViewportDims:gl.getParameter(3386),maxCombinedTextureUnits:gl.getParameter(35661),maxCubeMapSize:gl.getParameter(34076),maxRenderbufferSize:gl.getParameter(34024),maxTextureUnits:gl.getParameter(34930),maxTextureSize:gl.getParameter(3379),maxAttributes:gl.getParameter(34921),maxVertexUniforms:gl.getParameter(36347),maxVertexTextureUnits:gl.getParameter(35660),maxVaryingVectors:gl.getParameter(36348),maxFragmentUniforms:gl.getParameter(36349),glsl:gl.getParameter(35724),renderer:gl.getParameter(7937),vendor:gl.getParameter(7936),version:gl.getParameter(7938),readFloat:readFloat,npotTextureCube:npotTextureCube}}(gl,extensions),attributeState=function(gl,extensions,limits,stringStore){for(var NUM_ATTRIBUTES=limits.maxAttributes,attributeBindings=new Array(NUM_ATTRIBUTES),i=0;i<NUM_ATTRIBUTES;++i)attributeBindings[i]=new AttributeRecord;return{Record:AttributeRecord,scope:{},state:attributeBindings}}(0,0,limits),bufferState=function(gl,stats,config,attributeState){var bufferCount=0,bufferSet={};function REGLBuffer(type){this.id=bufferCount++,this.buffer=gl.createBuffer(),this.type=type,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,config.profile&&(this.stats={size:0})}REGLBuffer.prototype.bind=function(){gl.bindBuffer(this.type,this.buffer)},REGLBuffer.prototype.destroy=function(){destroy(this)};var streamPool=[];function initBufferFromTypedArray(buffer,data,usage){buffer.byteLength=data.byteLength,gl.bufferData(buffer.type,data,usage)}function initBufferFromData(buffer,data,usage,dtype,dimension,persist){var shape,flatData;if(buffer.usage=usage,Array.isArray(data)){if(buffer.dtype=dtype||5126,data.length>0)if(Array.isArray(data[0])){shape=arrayShape(data);for(var dim=1,i=1;i<shape.length;++i)dim*=shape[i];buffer.dimension=dim,initBufferFromTypedArray(buffer,flatData=arrayFlatten(data,shape,buffer.dtype),usage),persist?buffer.persistentData=flatData:pool.freeType(flatData)}else if("number"==typeof data[0]){buffer.dimension=dimension;var typedData=pool.allocType(buffer.dtype,data.length);copyArray(typedData,data),initBufferFromTypedArray(buffer,typedData,usage),persist?buffer.persistentData=typedData:pool.freeType(typedData)}else isTypedArray(data[0])?(buffer.dimension=data[0].length,buffer.dtype=dtype||typedArrayCode(data[0])||5126,initBufferFromTypedArray(buffer,flatData=arrayFlatten(data,[data.length,data[0].length],buffer.dtype),usage),persist?buffer.persistentData=flatData:pool.freeType(flatData)):check$1.raise("invalid buffer data")}else if(isTypedArray(data))buffer.dtype=dtype||typedArrayCode(data),buffer.dimension=dimension,initBufferFromTypedArray(buffer,data,usage),persist&&(buffer.persistentData=new Uint8Array(new Uint8Array(data.buffer)));else if(isNDArrayLike(data)){shape=data.shape;var stride=data.stride,offset=data.offset,shapeX=0,shapeY=0,strideX=0,strideY=0;1===shape.length?(shapeX=shape[0],shapeY=1,strideX=stride[0],strideY=0):2===shape.length?(shapeX=shape[0],shapeY=shape[1],strideX=stride[0],strideY=stride[1]):check$1.raise("invalid shape"),buffer.dtype=dtype||typedArrayCode(data.data)||5126,buffer.dimension=shapeY;var transposeData=pool.allocType(buffer.dtype,shapeX*shapeY);transpose(transposeData,data.data,shapeX,shapeY,strideX,strideY,offset),initBufferFromTypedArray(buffer,transposeData,usage),persist?buffer.persistentData=transposeData:pool.freeType(transposeData)}else check$1.raise("invalid buffer data")}function destroy(buffer){stats.bufferCount--;for(var i=0;i<attributeState.state.length;++i){var record=attributeState.state[i];record.buffer===buffer&&(gl.disableVertexAttribArray(i),record.buffer=null)}var handle=buffer.buffer;check$1(handle,"buffer must not be deleted already"),gl.deleteBuffer(handle),buffer.buffer=null,delete bufferSet[buffer.id]}return config.profile&&(stats.getTotalBufferSize=function(){var total=0;return Object.keys(bufferSet).forEach((function(key){total+=bufferSet[key].stats.size})),total}),{create:function(options,type,deferInit,persistent){stats.bufferCount++;var buffer=new REGLBuffer(type);function reglBuffer(options){var usage=35044,data=null,byteLength=0,dtype=0,dimension=1;return Array.isArray(options)||isTypedArray(options)||isNDArrayLike(options)?data=options:"number"==typeof options?byteLength=0|options:options&&(check$1.type(options,"object","buffer arguments must be an object, a number or an array"),"data"in options&&(check$1(null===data||Array.isArray(data)||isTypedArray(data)||isNDArrayLike(data),"invalid data for buffer"),data=options.data),"usage"in options&&(check$1.parameter(options.usage,usageTypes,"invalid buffer usage"),usage=usageTypes[options.usage]),"type"in options&&(check$1.parameter(options.type,glTypes,"invalid buffer type"),dtype=glTypes[options.type]),"dimension"in options&&(check$1.type(options.dimension,"number","invalid dimension"),dimension=0|options.dimension),"length"in options&&(check$1.nni(byteLength,"buffer length must be a nonnegative integer"),byteLength=0|options.length)),buffer.bind(),data?initBufferFromData(buffer,data,usage,dtype,dimension,persistent):(byteLength&&gl.bufferData(buffer.type,byteLength,usage),buffer.dtype=dtype||5121,buffer.usage=usage,buffer.dimension=dimension,buffer.byteLength=byteLength),config.profile&&(buffer.stats.size=buffer.byteLength*DTYPES_SIZES[buffer.dtype]),reglBuffer}function setSubData(data,offset){check$1(offset+data.byteLength<=buffer.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+data.byteLength+" starting from offset "+offset+" to a buffer of size "+buffer.byteLength),gl.bufferSubData(buffer.type,offset,data)}return bufferSet[buffer.id]=buffer,deferInit||reglBuffer(options),reglBuffer._reglType="buffer",reglBuffer._buffer=buffer,reglBuffer.subdata=function(data,offset_){var shape,offset=0|(offset_||0);if(buffer.bind(),isTypedArray(data))setSubData(data,offset);else if(Array.isArray(data)){if(data.length>0)if("number"==typeof data[0]){var converted=pool.allocType(buffer.dtype,data.length);copyArray(converted,data),setSubData(converted,offset),pool.freeType(converted)}else if(Array.isArray(data[0])||isTypedArray(data[0])){shape=arrayShape(data);var flatData=arrayFlatten(data,shape,buffer.dtype);setSubData(flatData,offset),pool.freeType(flatData)}else check$1.raise("invalid buffer data")}else if(isNDArrayLike(data)){shape=data.shape;var stride=data.stride,shapeX=0,shapeY=0,strideX=0,strideY=0;1===shape.length?(shapeX=shape[0],shapeY=1,strideX=stride[0],strideY=0):2===shape.length?(shapeX=shape[0],shapeY=shape[1],strideX=stride[0],strideY=stride[1]):check$1.raise("invalid shape");var dtype=Array.isArray(data.data)?buffer.dtype:typedArrayCode(data.data),transposeData=pool.allocType(dtype,shapeX*shapeY);transpose(transposeData,data.data,shapeX,shapeY,strideX,strideY,data.offset),setSubData(transposeData,offset),pool.freeType(transposeData)}else check$1.raise("invalid data for buffer subdata");return reglBuffer},config.profile&&(reglBuffer.stats=buffer.stats),reglBuffer.destroy=function(){destroy(buffer)},reglBuffer},createStream:function(type,data){var buffer=streamPool.pop();return buffer||(buffer=new REGLBuffer(type)),buffer.bind(),initBufferFromData(buffer,data,35040,0,1,!1),buffer},destroyStream:function(stream$$1){streamPool.push(stream$$1)},clear:function(){values(bufferSet).forEach(destroy),streamPool.forEach(destroy)},getBuffer:function(wrapper){return wrapper&&wrapper._buffer instanceof REGLBuffer?wrapper._buffer:null},restore:function(){values(bufferSet).forEach((function(buffer){buffer.buffer=gl.createBuffer(),gl.bindBuffer(buffer.type,buffer.buffer),gl.bufferData(buffer.type,buffer.persistentData||buffer.byteLength,buffer.usage)}))},_initBuffer:initBufferFromData}}(gl,stats$$1,config,attributeState),elementState=function(gl,extensions,bufferState,stats){var elementSet={},elementCount=0,elementTypes={uint8:5121,uint16:5123};function REGLElementBuffer(buffer){this.id=elementCount++,elementSet[this.id]=this,this.buffer=buffer,this.primType=4,this.vertCount=0,this.type=0}extensions.oes_element_index_uint&&(elementTypes.uint32=5125),REGLElementBuffer.prototype.bind=function(){this.buffer.bind()};var bufferPool=[];function initElements(elements,data,usage,prim,count,byteLength,type){if(elements.buffer.bind(),data){var predictedType=type;type||isTypedArray(data)&&(!isNDArrayLike(data)||isTypedArray(data.data))||(predictedType=extensions.oes_element_index_uint?5125:5123),bufferState._initBuffer(elements.buffer,data,usage,predictedType,3)}else gl.bufferData(34963,byteLength,usage),elements.buffer.dtype=dtype||5121,elements.buffer.usage=usage,elements.buffer.dimension=3,elements.buffer.byteLength=byteLength;var dtype=type;if(!type){switch(elements.buffer.dtype){case 5121:case 5120:dtype=5121;break;case 5123:case 5122:dtype=5123;break;case 5125:case 5124:dtype=5125;break;default:check$1.raise("unsupported type for element array")}elements.buffer.dtype=dtype}elements.type=dtype,check$1(5125!==dtype||!!extensions.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var vertCount=count;vertCount<0&&(vertCount=elements.buffer.byteLength,5123===dtype?vertCount>>=1:5125===dtype&&(vertCount>>=2)),elements.vertCount=vertCount;var primType=prim;if(prim<0){primType=4;var dimension=elements.buffer.dimension;1===dimension&&(primType=0),2===dimension&&(primType=1),3===dimension&&(primType=4)}elements.primType=primType}function destroyElements(elements){stats.elementsCount--,check$1(null!==elements.buffer,"must not double destroy elements"),delete elementSet[elements.id],elements.buffer.destroy(),elements.buffer=null}return{create:function(options,persistent){var buffer=bufferState.create(null,34963,!0),elements=new REGLElementBuffer(buffer._buffer);function reglElements(options){if(options)if("number"==typeof options)buffer(options),elements.primType=4,elements.vertCount=0|options,elements.type=5121;else{var data=null,usage=35044,primType=-1,vertCount=-1,byteLength=0,dtype=0;Array.isArray(options)||isTypedArray(options)||isNDArrayLike(options)?data=options:(check$1.type(options,"object","invalid arguments for elements"),"data"in options&&(data=options.data,check$1(Array.isArray(data)||isTypedArray(data)||isNDArrayLike(data),"invalid data for element buffer")),"usage"in options&&(check$1.parameter(options.usage,usageTypes,"invalid element buffer usage"),usage=usageTypes[options.usage]),"primitive"in options&&(check$1.parameter(options.primitive,primTypes,"invalid element buffer primitive"),primType=primTypes[options.primitive]),"count"in options&&(check$1("number"==typeof options.count&&options.count>=0,"invalid vertex count for elements"),vertCount=0|options.count),"type"in options&&(check$1.parameter(options.type,elementTypes,"invalid buffer type"),dtype=elementTypes[options.type]),"length"in options?byteLength=0|options.length:(byteLength=vertCount,5123===dtype||5122===dtype?byteLength*=2:5125!==dtype&&5124!==dtype||(byteLength*=4))),initElements(elements,data,usage,primType,vertCount,byteLength,dtype)}else buffer(),elements.primType=4,elements.vertCount=0,elements.type=5121;return reglElements}return stats.elementsCount++,reglElements(options),reglElements._reglType="elements",reglElements._elements=elements,reglElements.subdata=function(data,offset){return buffer.subdata(data,offset),reglElements},reglElements.destroy=function(){destroyElements(elements)},reglElements},createStream:function(data){var result=bufferPool.pop();return result||(result=new REGLElementBuffer(bufferState.create(null,34963,!0,!1)._buffer)),initElements(result,data,35040,-1,-1,0,0),result},destroyStream:function(elements){bufferPool.push(elements)},getElements:function(elements){return"function"==typeof elements&&elements._elements instanceof REGLElementBuffer?elements._elements:null},clear:function(){values(elementSet).forEach(destroyElements)}}}(gl,extensions,bufferState,stats$$1),shaderState=function(gl,stringStore,stats,config){var fragShaders={},vertShaders={};function ActiveInfo(name,id,location,info){this.name=name,this.id=id,this.location=location,this.info=info}function insertActiveInfo(list,info){for(var i=0;i<list.length;++i)if(list[i].id===info.id)return void(list[i].location=info.location);list.push(info)}function getShader(type,id,command){var cache=35632===type?fragShaders:vertShaders,shader=cache[id];if(!shader){var source=stringStore.str(id);shader=gl.createShader(type),gl.shaderSource(shader,source),gl.compileShader(shader),check$1.shaderError(gl,shader,source,type,command),cache[id]=shader}return shader}var programCache={},programList=[],PROGRAM_COUNTER=0;function REGLProgram(fragId,vertId){this.id=PROGRAM_COUNTER++,this.fragId=fragId,this.vertId=vertId,this.program=null,this.uniforms=[],this.attributes=[],config.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function linkProgram(desc,command){var i,info,fragShader=getShader(35632,desc.fragId),vertShader=getShader(35633,desc.vertId),program=desc.program=gl.createProgram();gl.attachShader(program,fragShader),gl.attachShader(program,vertShader),gl.linkProgram(program),check$1.linkError(gl,program,stringStore.str(desc.fragId),stringStore.str(desc.vertId),command);var numUniforms=gl.getProgramParameter(program,35718);config.profile&&(desc.stats.uniformsCount=numUniforms);var uniforms=desc.uniforms;for(i=0;i<numUniforms;++i)if(info=gl.getActiveUniform(program,i))if(info.size>1)for(var j=0;j<info.size;++j){var name=info.name.replace("[0]","["+j+"]");insertActiveInfo(uniforms,new ActiveInfo(name,stringStore.id(name),gl.getUniformLocation(program,name),info))}else insertActiveInfo(uniforms,new ActiveInfo(info.name,stringStore.id(info.name),gl.getUniformLocation(program,info.name),info));var numAttributes=gl.getProgramParameter(program,35721);config.profile&&(desc.stats.attributesCount=numAttributes);var attributes=desc.attributes;for(i=0;i<numAttributes;++i)(info=gl.getActiveAttrib(program,i))&&insertActiveInfo(attributes,new ActiveInfo(info.name,stringStore.id(info.name),gl.getAttribLocation(program,info.name),info))}return config.profile&&(stats.getMaxUniformsCount=function(){var m=0;return programList.forEach((function(desc){desc.stats.uniformsCount>m&&(m=desc.stats.uniformsCount)})),m},stats.getMaxAttributesCount=function(){var m=0;return programList.forEach((function(desc){desc.stats.attributesCount>m&&(m=desc.stats.attributesCount)})),m}),{clear:function(){var deleteShader=gl.deleteShader.bind(gl);values(fragShaders).forEach(deleteShader),fragShaders={},values(vertShaders).forEach(deleteShader),vertShaders={},programList.forEach((function(desc){gl.deleteProgram(desc.program)})),programList.length=0,programCache={},stats.shaderCount=0},program:function(vertId,fragId,command){check$1.command(vertId>=0,"missing vertex shader",command),check$1.command(fragId>=0,"missing fragment shader",command);var cache=programCache[fragId];cache||(cache=programCache[fragId]={});var program=cache[vertId];return program||(program=new REGLProgram(fragId,vertId),stats.shaderCount++,linkProgram(program,command),cache[vertId]=program,programList.push(program)),program},restore:function(){fragShaders={},vertShaders={};for(var i=0;i<programList.length;++i)linkProgram(programList[i])},shader:getShader,frag:-1,vert:-1}}(gl,stringStore,stats$$1,config),textureState=createTextureSet(gl,extensions,limits,(function(){core.procs.poll()}),contextState,stats$$1,config),renderbufferState=function(gl,extensions,limits,stats,config){var formatTypes={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};extensions.ext_srgb&&(formatTypes.srgba=35907),extensions.ext_color_buffer_half_float&&(formatTypes.rgba16f=34842,formatTypes.rgb16f=34843),extensions.webgl_color_buffer_float&&(formatTypes.rgba32f=34836);var formatTypesInvert=[];Object.keys(formatTypes).forEach((function(key){var val=formatTypes[key];formatTypesInvert[val]=key}));var renderbufferCount=0,renderbufferSet={};function REGLRenderbuffer(renderbuffer){this.id=renderbufferCount++,this.refCount=1,this.renderbuffer=renderbuffer,this.format=32854,this.width=0,this.height=0,config.profile&&(this.stats={size:0})}function destroy(rb){var handle=rb.renderbuffer;check$1(handle,"must not double destroy renderbuffer"),gl.bindRenderbuffer(36161,null),gl.deleteRenderbuffer(handle),rb.renderbuffer=null,rb.refCount=0,delete renderbufferSet[rb.id],stats.renderbufferCount--}return REGLRenderbuffer.prototype.decRef=function(){--this.refCount<=0&&destroy(this)},config.profile&&(stats.getTotalRenderbufferSize=function(){var total=0;return Object.keys(renderbufferSet).forEach((function(key){total+=renderbufferSet[key].stats.size})),total}),{create:function(a,b){var renderbuffer=new REGLRenderbuffer(gl.createRenderbuffer());function reglRenderbuffer(a,b){var w=0,h=0,format=32854;if("object"==typeof a&&a){var options=a;if("shape"in options){var shape=options.shape;check$1(Array.isArray(shape)&&shape.length>=2,"invalid renderbuffer shape"),w=0|shape[0],h=0|shape[1]}else"radius"in options&&(w=h=0|options.radius),"width"in options&&(w=0|options.width),"height"in options&&(h=0|options.height);"format"in options&&(check$1.parameter(options.format,formatTypes,"invalid renderbuffer format"),format=formatTypes[options.format])}else"number"==typeof a?(w=0|a,h="number"==typeof b?0|b:w):a?check$1.raise("invalid arguments to renderbuffer constructor"):w=h=1;if(check$1(w>0&&h>0&&w<=limits.maxRenderbufferSize&&h<=limits.maxRenderbufferSize,"invalid renderbuffer size"),w!==renderbuffer.width||h!==renderbuffer.height||format!==renderbuffer.format)return reglRenderbuffer.width=renderbuffer.width=w,reglRenderbuffer.height=renderbuffer.height=h,renderbuffer.format=format,gl.bindRenderbuffer(36161,renderbuffer.renderbuffer),gl.renderbufferStorage(36161,format,w,h),check$1(0===gl.getError(),"invalid render buffer format"),config.profile&&(renderbuffer.stats.size=getRenderbufferSize(renderbuffer.format,renderbuffer.width,renderbuffer.height)),reglRenderbuffer.format=formatTypesInvert[renderbuffer.format],reglRenderbuffer}return renderbufferSet[renderbuffer.id]=renderbuffer,stats.renderbufferCount++,reglRenderbuffer(a,b),reglRenderbuffer.resize=function(w_,h_){var w=0|w_,h=0|h_||w;return w===renderbuffer.width&&h===renderbuffer.height||(check$1(w>0&&h>0&&w<=limits.maxRenderbufferSize&&h<=limits.maxRenderbufferSize,"invalid renderbuffer size"),reglRenderbuffer.width=renderbuffer.width=w,reglRenderbuffer.height=renderbuffer.height=h,gl.bindRenderbuffer(36161,renderbuffer.renderbuffer),gl.renderbufferStorage(36161,renderbuffer.format,w,h),check$1(0===gl.getError(),"invalid render buffer format"),config.profile&&(renderbuffer.stats.size=getRenderbufferSize(renderbuffer.format,renderbuffer.width,renderbuffer.height))),reglRenderbuffer},reglRenderbuffer._reglType="renderbuffer",reglRenderbuffer._renderbuffer=renderbuffer,config.profile&&(reglRenderbuffer.stats=renderbuffer.stats),reglRenderbuffer.destroy=function(){renderbuffer.decRef()},reglRenderbuffer},clear:function(){values(renderbufferSet).forEach(destroy)},restore:function(){values(renderbufferSet).forEach((function(rb){rb.renderbuffer=gl.createRenderbuffer(),gl.bindRenderbuffer(36161,rb.renderbuffer),gl.renderbufferStorage(36161,rb.format,rb.width,rb.height)})),gl.bindRenderbuffer(36161,null)}}}(gl,extensions,limits,stats$$1,config),framebufferState=function(gl,extensions,limits,textureState,renderbufferState,stats){var framebufferState={cur:null,next:null,dirty:!1,setFBO:null},colorTextureFormats=["rgba"],colorRenderbufferFormats=["rgba4","rgb565","rgb5 a1"];extensions.ext_srgb&&colorRenderbufferFormats.push("srgba"),extensions.ext_color_buffer_half_float&&colorRenderbufferFormats.push("rgba16f","rgb16f"),extensions.webgl_color_buffer_float&&colorRenderbufferFormats.push("rgba32f");var colorTypes=["uint8"];function FramebufferAttachment(target,texture,renderbuffer){this.target=target,this.texture=texture,this.renderbuffer=renderbuffer;var w=0,h=0;texture?(w=texture.width,h=texture.height):renderbuffer&&(w=renderbuffer.width,h=renderbuffer.height),this.width=w,this.height=h}function decRef(attachment){attachment&&(attachment.texture&&attachment.texture._texture.decRef(),attachment.renderbuffer&&attachment.renderbuffer._renderbuffer.decRef())}function incRefAndCheckShape(attachment,width,height){if(attachment)if(attachment.texture){var texture=attachment.texture._texture,tw=Math.max(1,texture.width),th=Math.max(1,texture.height);check$1(tw===width&&th===height,"inconsistent width/height for supplied texture"),texture.refCount+=1}else{var renderbuffer=attachment.renderbuffer._renderbuffer;check$1(renderbuffer.width===width&&renderbuffer.height===height,"inconsistent width/height for renderbuffer"),renderbuffer.refCount+=1}}function attach(location,attachment){attachment&&(attachment.texture?gl.framebufferTexture2D(36160,location,attachment.target,attachment.texture._texture.texture,0):gl.framebufferRenderbuffer(36160,location,36161,attachment.renderbuffer._renderbuffer.renderbuffer))}function parseAttachment(attachment){var target=3553,texture=null,renderbuffer=null,data=attachment;"object"==typeof attachment&&(data=attachment.data,"target"in attachment&&(target=0|attachment.target)),check$1.type(data,"function","invalid attachment data");var type=data._reglType;return"texture2d"===type?(texture=data,check$1(3553===target)):"textureCube"===type?(texture=data,check$1(target>=34069&&target<34075,"invalid cube map target")):"renderbuffer"===type?(renderbuffer=data,target=36161):check$1.raise("invalid regl object for attachment"),new FramebufferAttachment(target,texture,renderbuffer)}function allocAttachment(width,height,isTexture,format,type){if(isTexture){var texture=textureState.create2D({width:width,height:height,format:format,type:type});return texture._texture.refCount=0,new FramebufferAttachment(3553,texture,null)}var rb=renderbufferState.create({width:width,height:height,format:format});return rb._renderbuffer.refCount=0,new FramebufferAttachment(36161,null,rb)}function unwrapAttachment(attachment){return attachment&&(attachment.texture||attachment.renderbuffer)}function resizeAttachment(attachment,w,h){attachment&&(attachment.texture?attachment.texture.resize(w,h):attachment.renderbuffer&&attachment.renderbuffer.resize(w,h),attachment.width=w,attachment.height=h)}extensions.oes_texture_half_float&&colorTypes.push("half float","float16"),extensions.oes_texture_float&&colorTypes.push("float","float32");var framebufferCount=0,framebufferSet={};function REGLFramebuffer(){this.id=framebufferCount++,framebufferSet[this.id]=this,this.framebuffer=gl.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function decFBORefs(framebuffer){framebuffer.colorAttachments.forEach(decRef),decRef(framebuffer.depthAttachment),decRef(framebuffer.stencilAttachment),decRef(framebuffer.depthStencilAttachment)}function destroy(framebuffer){var handle=framebuffer.framebuffer;check$1(handle,"must not double destroy framebuffer"),gl.deleteFramebuffer(handle),framebuffer.framebuffer=null,stats.framebufferCount--,delete framebufferSet[framebuffer.id]}function updateFramebuffer(framebuffer){var i;gl.bindFramebuffer(36160,framebuffer.framebuffer);var colorAttachments=framebuffer.colorAttachments;for(i=0;i<colorAttachments.length;++i)attach(36064+i,colorAttachments[i]);for(i=colorAttachments.length;i<limits.maxColorAttachments;++i)gl.framebufferTexture2D(36160,36064+i,3553,null,0);gl.framebufferTexture2D(36160,33306,3553,null,0),gl.framebufferTexture2D(36160,36096,3553,null,0),gl.framebufferTexture2D(36160,36128,3553,null,0),attach(36096,framebuffer.depthAttachment),attach(36128,framebuffer.stencilAttachment),attach(33306,framebuffer.depthStencilAttachment);var status=gl.checkFramebufferStatus(36160);gl.isContextLost()||36053===status||check$1.raise("framebuffer configuration not supported, status = "+statusCode[status]),gl.bindFramebuffer(36160,framebufferState.next?framebufferState.next.framebuffer:null),framebufferState.cur=framebufferState.next,gl.getError()}function createFBO(a0,a1){var framebuffer=new REGLFramebuffer;function reglFramebuffer(a,b){var i;check$1(framebufferState.next!==framebuffer,"can not update framebuffer which is currently in use");var width=0,height=0,needsDepth=!0,needsStencil=!0,colorBuffer=null,colorTexture=!0,colorFormat="rgba",colorType="uint8",colorCount=1,depthBuffer=null,stencilBuffer=null,depthStencilBuffer=null,depthStencilTexture=!1;if("number"==typeof a)width=0|a,height=0|b||width;else if(a){check$1.type(a,"object","invalid arguments for framebuffer");var options=a;if("shape"in options){var shape=options.shape;check$1(Array.isArray(shape)&&shape.length>=2,"invalid shape for framebuffer"),width=shape[0],height=shape[1]}else"radius"in options&&(width=height=options.radius),"width"in options&&(width=options.width),"height"in options&&(height=options.height);("color"in options||"colors"in options)&&(colorBuffer=options.color||options.colors,Array.isArray(colorBuffer)&&check$1(1===colorBuffer.length||extensions.webgl_draw_buffers,"multiple render targets not supported")),colorBuffer||("colorCount"in options&&(colorCount=0|options.colorCount,check$1(colorCount>0,"invalid color buffer count")),"colorTexture"in options&&(colorTexture=!!options.colorTexture,colorFormat="rgba4"),"colorType"in options&&(colorType=options.colorType,colorTexture?(check$1(extensions.oes_texture_float||!("float"===colorType||"float32"===colorType),"you must enable OES_texture_float in order to use floating point framebuffer objects"),check$1(extensions.oes_texture_half_float||!("half float"===colorType||"float16"===colorType),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===colorType||"float16"===colorType?(check$1(extensions.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),colorFormat="rgba16f"):"float"!==colorType&&"float32"!==colorType||(check$1(extensions.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),colorFormat="rgba32f"),check$1.oneOf(colorType,colorTypes,"invalid color type")),"colorFormat"in options&&(colorFormat=options.colorFormat,colorTextureFormats.indexOf(colorFormat)>=0?colorTexture=!0:colorRenderbufferFormats.indexOf(colorFormat)>=0?colorTexture=!1:colorTexture?check$1.oneOf(options.colorFormat,colorTextureFormats,"invalid color format for texture"):check$1.oneOf(options.colorFormat,colorRenderbufferFormats,"invalid color format for renderbuffer"))),("depthTexture"in options||"depthStencilTexture"in options)&&(depthStencilTexture=!(!options.depthTexture&&!options.depthStencilTexture),check$1(!depthStencilTexture||extensions.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in options&&("boolean"==typeof options.depth?needsDepth=options.depth:(depthBuffer=options.depth,needsStencil=!1)),"stencil"in options&&("boolean"==typeof options.stencil?needsStencil=options.stencil:(stencilBuffer=options.stencil,needsDepth=!1)),"depthStencil"in options&&("boolean"==typeof options.depthStencil?needsDepth=needsStencil=options.depthStencil:(depthStencilBuffer=options.depthStencil,needsDepth=!1,needsStencil=!1))}else width=height=1;var colorAttachments=null,depthAttachment=null,stencilAttachment=null,depthStencilAttachment=null;if(Array.isArray(colorBuffer))colorAttachments=colorBuffer.map(parseAttachment);else if(colorBuffer)colorAttachments=[parseAttachment(colorBuffer)];else for(colorAttachments=new Array(colorCount),i=0;i<colorCount;++i)colorAttachments[i]=allocAttachment(width,height,colorTexture,colorFormat,colorType);check$1(extensions.webgl_draw_buffers||colorAttachments.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),check$1(colorAttachments.length<=limits.maxColorAttachments,"too many color attachments, not supported"),width=width||colorAttachments[0].width,height=height||colorAttachments[0].height,depthBuffer?depthAttachment=parseAttachment(depthBuffer):needsDepth&&!needsStencil&&(depthAttachment=allocAttachment(width,height,depthStencilTexture,"depth","uint32")),stencilBuffer?stencilAttachment=parseAttachment(stencilBuffer):needsStencil&&!needsDepth&&(stencilAttachment=allocAttachment(width,height,!1,"stencil","uint8")),depthStencilBuffer?depthStencilAttachment=parseAttachment(depthStencilBuffer):!depthBuffer&&!stencilBuffer&&needsStencil&&needsDepth&&(depthStencilAttachment=allocAttachment(width,height,depthStencilTexture,"depth stencil","depth stencil")),check$1(!!depthBuffer+!!stencilBuffer+!!depthStencilBuffer<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var commonColorAttachmentSize=null;for(i=0;i<colorAttachments.length;++i)if(incRefAndCheckShape(colorAttachments[i],width,height),check$1(!colorAttachments[i]||colorAttachments[i].texture&&colorTextureFormatEnums.indexOf(colorAttachments[i].texture._texture.format)>=0||colorAttachments[i].renderbuffer&&colorRenderbufferFormatEnums.indexOf(colorAttachments[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),colorAttachments[i]&&colorAttachments[i].texture){var colorAttachmentSize=textureFormatChannels[colorAttachments[i].texture._texture.format]*textureTypeSizes[colorAttachments[i].texture._texture.type];null===commonColorAttachmentSize?commonColorAttachmentSize=colorAttachmentSize:check$1(commonColorAttachmentSize===colorAttachmentSize,"all color attachments much have the same number of bits per pixel.")}return incRefAndCheckShape(depthAttachment,width,height),check$1(!depthAttachment||depthAttachment.texture&&6402===depthAttachment.texture._texture.format||depthAttachment.renderbuffer&&33189===depthAttachment.renderbuffer._renderbuffer.format,"invalid depth attachment for framebuffer object"),incRefAndCheckShape(stencilAttachment,width,height),check$1(!stencilAttachment||stencilAttachment.renderbuffer&&36168===stencilAttachment.renderbuffer._renderbuffer.format,"invalid stencil attachment for framebuffer object"),incRefAndCheckShape(depthStencilAttachment,width,height),check$1(!depthStencilAttachment||depthStencilAttachment.texture&&34041===depthStencilAttachment.texture._texture.format||depthStencilAttachment.renderbuffer&&34041===depthStencilAttachment.renderbuffer._renderbuffer.format,"invalid depth-stencil attachment for framebuffer object"),decFBORefs(framebuffer),framebuffer.width=width,framebuffer.height=height,framebuffer.colorAttachments=colorAttachments,framebuffer.depthAttachment=depthAttachment,framebuffer.stencilAttachment=stencilAttachment,framebuffer.depthStencilAttachment=depthStencilAttachment,reglFramebuffer.color=colorAttachments.map(unwrapAttachment),reglFramebuffer.depth=unwrapAttachment(depthAttachment),reglFramebuffer.stencil=unwrapAttachment(stencilAttachment),reglFramebuffer.depthStencil=unwrapAttachment(depthStencilAttachment),reglFramebuffer.width=framebuffer.width,reglFramebuffer.height=framebuffer.height,updateFramebuffer(framebuffer),reglFramebuffer}return stats.framebufferCount++,reglFramebuffer(a0,a1),extend(reglFramebuffer,{resize:function(w_,h_){check$1(framebufferState.next!==framebuffer,"can not resize a framebuffer which is currently in use");var w=Math.max(0|w_,1),h=Math.max(0|h_||w,1);if(w===framebuffer.width&&h===framebuffer.height)return reglFramebuffer;for(var colorAttachments=framebuffer.colorAttachments,i=0;i<colorAttachments.length;++i)resizeAttachment(colorAttachments[i],w,h);return resizeAttachment(framebuffer.depthAttachment,w,h),resizeAttachment(framebuffer.stencilAttachment,w,h),resizeAttachment(framebuffer.depthStencilAttachment,w,h),framebuffer.width=reglFramebuffer.width=w,framebuffer.height=reglFramebuffer.height=h,updateFramebuffer(framebuffer),reglFramebuffer},_reglType:"framebuffer",_framebuffer:framebuffer,destroy:function(){destroy(framebuffer),decFBORefs(framebuffer)},use:function(block){framebufferState.setFBO({framebuffer:reglFramebuffer},block)}})}return extend(framebufferState,{getFramebuffer:function(object){if("function"==typeof object&&"framebuffer"===object._reglType){var fbo=object._framebuffer;if(fbo instanceof REGLFramebuffer)return fbo}return null},create:createFBO,createCube:function(options){var faces=Array(6);function reglFramebufferCube(a){var i;check$1(faces.indexOf(framebufferState.next)<0,"can not update framebuffer which is currently in use");var colorCubes,params={color:null},radius=0,colorBuffer=null,colorFormat="rgba",colorType="uint8",colorCount=1;if("number"==typeof a)radius=0|a;else if(a){check$1.type(a,"object","invalid arguments for framebuffer");var options=a;if("shape"in options){var shape=options.shape;check$1(Array.isArray(shape)&&shape.length>=2,"invalid shape for framebuffer"),check$1(shape[0]===shape[1],"cube framebuffer must be square"),radius=shape[0]}else"radius"in options&&(radius=0|options.radius),"width"in options?(radius=0|options.width,"height"in options&&check$1(options.height===radius,"must be square")):"height"in options&&(radius=0|options.height);("color"in options||"colors"in options)&&(colorBuffer=options.color||options.colors,Array.isArray(colorBuffer)&&check$1(1===colorBuffer.length||extensions.webgl_draw_buffers,"multiple render targets not supported")),colorBuffer||("colorCount"in options&&(colorCount=0|options.colorCount,check$1(colorCount>0,"invalid color buffer count")),"colorType"in options&&(check$1.oneOf(options.colorType,colorTypes,"invalid color type"),colorType=options.colorType),"colorFormat"in options&&(colorFormat=options.colorFormat,check$1.oneOf(options.colorFormat,colorTextureFormats,"invalid color format for texture"))),"depth"in options&&(params.depth=options.depth),"stencil"in options&&(params.stencil=options.stencil),"depthStencil"in options&&(params.depthStencil=options.depthStencil)}else radius=1;if(colorBuffer)if(Array.isArray(colorBuffer))for(colorCubes=[],i=0;i<colorBuffer.length;++i)colorCubes[i]=colorBuffer[i];else colorCubes=[colorBuffer];else{colorCubes=Array(colorCount);var cubeMapParams={radius:radius,format:colorFormat,type:colorType};for(i=0;i<colorCount;++i)colorCubes[i]=textureState.createCube(cubeMapParams)}for(params.color=Array(colorCubes.length),i=0;i<colorCubes.length;++i){var cube=colorCubes[i];check$1("function"==typeof cube&&"textureCube"===cube._reglType,"invalid cube map"),radius=radius||cube.width,check$1(cube.width===radius&&cube.height===radius,"invalid cube map shape"),params.color[i]={target:34069,data:colorCubes[i]}}for(i=0;i<6;++i){for(var j=0;j<colorCubes.length;++j)params.color[j].target=34069+i;i>0&&(params.depth=faces[0].depth,params.stencil=faces[0].stencil,params.depthStencil=faces[0].depthStencil),faces[i]?faces[i](params):faces[i]=createFBO(params)}return extend(reglFramebufferCube,{width:radius,height:radius,color:colorCubes})}return reglFramebufferCube(options),extend(reglFramebufferCube,{faces:faces,resize:function(radius_){var i,radius=0|radius_;if(check$1(radius>0&&radius<=limits.maxCubeMapSize,"invalid radius for cube fbo"),radius===reglFramebufferCube.width)return reglFramebufferCube;var colors=reglFramebufferCube.color;for(i=0;i<colors.length;++i)colors[i].resize(radius);for(i=0;i<6;++i)faces[i].resize(radius);return reglFramebufferCube.width=reglFramebufferCube.height=radius,reglFramebufferCube},_reglType:"framebufferCube",destroy:function(){faces.forEach((function(f){f.destroy()}))}})},clear:function(){values(framebufferSet).forEach(destroy)},restore:function(){framebufferState.cur=null,framebufferState.next=null,framebufferState.dirty=!0,values(framebufferSet).forEach((function(fb){fb.framebuffer=gl.createFramebuffer(),updateFramebuffer(fb)}))}})}(gl,extensions,limits,textureState,renderbufferState,stats$$1),core=reglCore(gl,stringStore,extensions,limits,bufferState,elementState,0,framebufferState,{},attributeState,shaderState,{elements:null,primitive:4,count:-1,offset:0,instances:-1},contextState,timer,config),readPixels=wrapReadPixels(gl,framebufferState,core.procs.poll,contextState,glAttributes,extensions,limits),nextState=core.next,canvas=gl.canvas,rafCallbacks=[],lossCallbacks=[],restoreCallbacks=[],destroyCallbacks=[config.onDestroy],activeRAF=null;function handleRAF(){if(0===rafCallbacks.length)return timer&&timer.update(),void(activeRAF=null);activeRAF=raf.next(handleRAF),poll();for(var i=rafCallbacks.length-1;i>=0;--i){var cb=rafCallbacks[i];cb&&cb(contextState,null,0)}gl.flush(),timer&&timer.update()}function startRAF(){!activeRAF&&rafCallbacks.length>0&&(activeRAF=raf.next(handleRAF))}function stopRAF(){activeRAF&&(raf.cancel(handleRAF),activeRAF=null)}function handleContextLoss(event){event.preventDefault(),contextLost=!0,stopRAF(),lossCallbacks.forEach((function(cb){cb()}))}function handleContextRestored(event){gl.getError(),contextLost=!1,extensionState.restore(),shaderState.restore(),bufferState.restore(),textureState.restore(),renderbufferState.restore(),framebufferState.restore(),timer&&timer.restore(),core.procs.refresh(),startRAF(),restoreCallbacks.forEach((function(cb){cb()}))}function compileProcedure(options){function separateDynamic(object){var staticItems={},dynamicItems={};return Object.keys(object).forEach((function(option){var value=object[option];dynamic.isDynamic(value)?dynamicItems[option]=dynamic.unbox(value,option):staticItems[option]=value})),{dynamic:dynamicItems,static:staticItems}}check$1(!!options,"invalid args to regl({...})"),check$1.type(options,"object","invalid args to regl({...})");var context=separateDynamic(options.context||{}),uniforms=separateDynamic(options.uniforms||{}),attributes=separateDynamic(options.attributes||{}),opts=separateDynamic(function(options){var result=extend({},options);function merge(name){if(name in result){var child=result[name];delete result[name],Object.keys(child).forEach((function(prop){result[name+"."+prop]=child[prop]}))}}return delete result.uniforms,delete result.attributes,delete result.context,"stencil"in result&&result.stencil.op&&(result.stencil.opBack=result.stencil.opFront=result.stencil.op,delete result.stencil.op),merge("blend"),merge("depth"),merge("cull"),merge("stencil"),merge("polygonOffset"),merge("scissor"),merge("sample"),result}(options)),stats$$1={gpuTime:0,cpuTime:0,count:0},compiled=core.compile(opts,attributes,uniforms,context,stats$$1),draw=compiled.draw,batch=compiled.batch,scope=compiled.scope,EMPTY_ARRAY=[];return extend((function(args,body){var i;if(contextLost&&check$1.raise("context lost"),"function"==typeof args)return scope.call(this,null,args,0);if("function"==typeof body){if("number"==typeof args){for(i=0;i<args;++i)scope.call(this,null,body,i);return}if(Array.isArray(args)){for(i=0;i<args.length;++i)scope.call(this,args[i],body,i);return}return scope.call(this,args,body,0)}if("number"==typeof args){if(args>0)return batch.call(this,function(count){for(;EMPTY_ARRAY.length<count;)EMPTY_ARRAY.push(null);return EMPTY_ARRAY}(0|args),0|args)}else{if(!Array.isArray(args))return draw.call(this,args);if(args.length)return batch.call(this,args,args.length)}}),{stats:stats$$1})}canvas&&(canvas.addEventListener("webglcontextlost",handleContextLoss,!1),canvas.addEventListener("webglcontextrestored",handleContextRestored,!1));var setFBO=framebufferState.setFBO=compileProcedure({framebuffer:dynamic.define.call(null,1,"framebuffer")});function clearImpl(_,options){var clearFlags=0;core.procs.poll();var c=options.color;c&&(gl.clearColor(+c[0]||0,+c[1]||0,+c[2]||0,+c[3]||0),clearFlags|=16384),"depth"in options&&(gl.clearDepth(+options.depth),clearFlags|=256),"stencil"in options&&(gl.clearStencil(0|options.stencil),clearFlags|=1024),check$1(!!clearFlags,"called regl.clear with no buffer specified"),gl.clear(clearFlags)}function frame(cb){return check$1.type(cb,"function","regl.frame() callback must be a function"),rafCallbacks.push(cb),startRAF(),{cancel:function(){var i=find(rafCallbacks,cb);check$1(i>=0,"cannot cancel a frame twice"),rafCallbacks[i]=function pendingCancel(){var index=find(rafCallbacks,pendingCancel);rafCallbacks[index]=rafCallbacks[rafCallbacks.length-1],rafCallbacks.length-=1,rafCallbacks.length<=0&&stopRAF()}}}}function pollViewport(){var viewport=nextState.viewport,scissorBox=nextState.scissor_box;viewport[0]=viewport[1]=scissorBox[0]=scissorBox[1]=0,contextState.viewportWidth=contextState.framebufferWidth=contextState.drawingBufferWidth=viewport[2]=scissorBox[2]=gl.drawingBufferWidth,contextState.viewportHeight=contextState.framebufferHeight=contextState.drawingBufferHeight=viewport[3]=scissorBox[3]=gl.drawingBufferHeight}function poll(){contextState.tick+=1,contextState.time=now(),pollViewport(),core.procs.poll()}function refresh(){pollViewport(),core.procs.refresh(),timer&&timer.update()}function now(){return(clock()-START_TIME)/1e3}refresh();var regl=extend(compileProcedure,{clear:function(options){if(check$1("object"==typeof options&&options,"regl.clear() takes an object as input"),"framebuffer"in options)if(options.framebuffer&&"framebufferCube"===options.framebuffer_reglType)for(var i=0;i<6;++i)setFBO(extend({framebuffer:options.framebuffer.faces[i]},options),clearImpl);else setFBO(options,clearImpl);else clearImpl(0,options)},prop:dynamic.define.bind(null,1),context:dynamic.define.bind(null,2),this:dynamic.define.bind(null,3),draw:compileProcedure({}),buffer:function(options){return bufferState.create(options,34962,!1,!1)},elements:function(options){return elementState.create(options,!1)},texture:textureState.create2D,cube:textureState.createCube,renderbuffer:renderbufferState.create,framebuffer:framebufferState.create,framebufferCube:framebufferState.createCube,attributes:glAttributes,frame:frame,on:function(event,callback){var callbacks;switch(check$1.type(callback,"function","listener callback must be a function"),event){case"frame":return frame(callback);case"lost":callbacks=lossCallbacks;break;case"restore":callbacks=restoreCallbacks;break;case"destroy":callbacks=destroyCallbacks;break;default:check$1.raise("invalid event, must be one of frame,lost,restore,destroy")}return callbacks.push(callback),{cancel:function(){for(var i=0;i<callbacks.length;++i)if(callbacks[i]===callback)return callbacks[i]=callbacks[callbacks.length-1],void callbacks.pop()}}},limits:limits,hasExtension:function(name){return limits.extensions.indexOf(name.toLowerCase())>=0},read:readPixels,destroy:function(){rafCallbacks.length=0,stopRAF(),canvas&&(canvas.removeEventListener("webglcontextlost",handleContextLoss),canvas.removeEventListener("webglcontextrestored",handleContextRestored)),shaderState.clear(),framebufferState.clear(),renderbufferState.clear(),textureState.clear(),elementState.clear(),bufferState.clear(),timer&&timer.clear(),destroyCallbacks.forEach((function(cb){cb()}))},_gl:gl,_refresh:refresh,poll:function(){poll(),timer&&timer.update()},now:now,stats:stats$$1});return config.onDone(null,regl),regl}}()},function(module,exports){module.exports=function(objA,objB,compare,compareContext){var ret=compare?compare.call(compareContext,objA,objB):void 0;if(void 0!==ret)return!!ret;if(objA===objB)return!0;if("object"!=typeof objA||!objA||"object"!=typeof objB||!objB)return!1;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(var bHasOwnProperty=Object.prototype.hasOwnProperty.bind(objB),idx=0;idx<keysA.length;idx++){var key=keysA[idx];if(!bHasOwnProperty(key))return!1;var valueA=objA[key],valueB=objB[key];if(!1===(ret=compare?compare.call(compareContext,valueA,valueB,key):void 0)||void 0===ret&&valueA!==valueB)return!1}return!0}},function(module,exports,__webpack_require__){var createEncoderModule=__webpack_require__(251),createDecoderModule=__webpack_require__(252);module.exports={createEncoderModule:createEncoderModule,createDecoderModule:createDecoderModule}},function(module,exports,__webpack_require__){(function(global,__filename,process,__dirname){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.arrayIteratorImpl=function(l){var p=0;return function(){return p<l.length?{done:!1,value:l[p++]}:{done:!0}}},$jscomp.arrayIterator=function(l){return{next:$jscomp.arrayIteratorImpl(l)}},$jscomp.makeIterator=function(l){var p="undefined"!=typeof Symbol&&Symbol.iterator&&l[Symbol.iterator];return p?p.call(l):$jscomp.arrayIterator(l)},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,$jscomp.getGlobal=function(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var p=0;p<l.length;++p){var n=l[p];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,p,n){return l==Array.prototype||l==Object.prototype||(l[p]=n.value),l},$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$";$jscomp.polyfill=function(l,p,n,r){p&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(l,p,n,r):$jscomp.polyfillUnisolated(l,p,n,r))},$jscomp.polyfillUnisolated=function(l,p,n,r){for(n=$jscomp.global,l=l.split("."),r=0;r<l.length-1;r++){var k=l[r];if(!(k in n))return;n=n[k]}(p=p(r=n[l=l[l.length-1]]))!=r&&null!=p&&$jscomp.defineProperty(n,l,{configurable:!0,writable:!0,value:p})},$jscomp.polyfillIsolated=function(l,p,n,r){var k=l.split(".");l=1===k.length,r=k[0],r=!l&&r in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var C=0;C<k.length-1;C++){var h=k[C];if(!(h in r))return;r=r[h]}k=k[k.length-1],null!=(p=p(n=$jscomp.IS_SYMBOL_NATIVE&&"es6"===n?r[k]:null))&&(l?$jscomp.defineProperty($jscomp.polyfills,k,{configurable:!0,writable:!0,value:p}):p!==n&&($jscomp.propertyToPolyfillSymbol[k]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(k):$jscomp.POLYFILL_PREFIX+k,k=$jscomp.propertyToPolyfillSymbol[k],$jscomp.defineProperty(r,k,{configurable:!0,writable:!0,value:p})))},$jscomp.polyfill("Promise",(function(l){function p(){this.batch_=null}function n(h){return h instanceof k?h:new k((function(q,v){q(h)}))}if(l&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&void 0===$jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return l;p.prototype.asyncExecute=function(h){if(null==this.batch_){this.batch_=[];var q=this;this.asyncExecuteFunction((function(){q.executeBatch_()}))}this.batch_.push(h)};var r=$jscomp.global.setTimeout;p.prototype.asyncExecuteFunction=function(h){r(h,0)},p.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var h=this.batch_;this.batch_=[];for(var q=0;q<h.length;++q){var v=h[q];h[q]=null;try{v()}catch(B){this.asyncThrow_(B)}}}this.batch_=null},p.prototype.asyncThrow_=function(h){this.asyncExecuteFunction((function(){throw h}))};var k=function(h){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[],this.isRejectionHandled_=!1;var q=this.createResolveAndReject_();try{h(q.resolve,q.reject)}catch(v){q.reject(v)}};k.prototype.createResolveAndReject_=function(){function h(B){return function(G){v||(v=!0,B.call(q,G))}}var q=this,v=!1;return{resolve:h(this.resolveTo_),reject:h(this.reject_)}},k.prototype.resolveTo_=function(h){if(h===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(h instanceof k)this.settleSameAsPromise_(h);else{a:switch(typeof h){case"object":var q=null!=h;break a;case"function":q=!0;break a;default:q=!1}q?this.resolveToNonPromiseObj_(h):this.fulfill_(h)}},k.prototype.resolveToNonPromiseObj_=function(h){var q=void 0;try{q=h.then}catch(v){return void this.reject_(v)}"function"==typeof q?this.settleSameAsThenable_(q,h):this.fulfill_(h)},k.prototype.reject_=function(h){this.settle_(2,h)},k.prototype.fulfill_=function(h){this.settle_(1,h)},k.prototype.settle_=function(h,q){if(0!=this.state_)throw Error("Cannot settle("+h+", "+q+"): Promise already settled in state"+this.state_);this.state_=h,this.result_=q,2===this.state_&&this.scheduleUnhandledRejectionCheck_(),this.executeOnSettledCallbacks_()},k.prototype.scheduleUnhandledRejectionCheck_=function(){var h=this;r((function(){if(h.notifyUnhandledRejection_()){var q=$jscomp.global.console;void 0!==q&&q.error(h.result_)}}),1)},k.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var h=$jscomp.global.CustomEvent,q=$jscomp.global.Event,v=$jscomp.global.dispatchEvent;return void 0===v||("function"==typeof h?h=new h("unhandledrejection",{cancelable:!0}):"function"==typeof q?h=new q("unhandledrejection",{cancelable:!0}):(h=$jscomp.global.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,h),h.promise=this,h.reason=this.result_,v(h))},k.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var h=0;h<this.onSettledCallbacks_.length;++h)C.asyncExecute(this.onSettledCallbacks_[h]);this.onSettledCallbacks_=null}};var C=new p;return k.prototype.settleSameAsPromise_=function(h){var q=this.createResolveAndReject_();h.callWhenSettled_(q.resolve,q.reject)},k.prototype.settleSameAsThenable_=function(h,q){var v=this.createResolveAndReject_();try{h.call(q,v.resolve,v.reject)}catch(B){v.reject(B)}},k.prototype.then=function(h,q){function v(I,M){return"function"==typeof I?function(y){try{B(I(y))}catch(D){G(D)}}:M}var B,G,X=new k((function(I,M){B=I,G=M}));return this.callWhenSettled_(v(h,B),v(q,G)),X},k.prototype.catch=function(h){return this.then(void 0,h)},k.prototype.callWhenSettled_=function(h,q){function v(){switch(B.state_){case 1:h(B.result_);break;case 2:q(B.result_);break;default:throw Error("Unexpected state: "+B.state_)}}var B=this;null==this.onSettledCallbacks_?C.asyncExecute(v):this.onSettledCallbacks_.push(v),this.isRejectionHandled_=!0},k.resolve=n,k.reject=function(h){return new k((function(q,v){v(h)}))},k.race=function(h){return new k((function(q,v){for(var B=$jscomp.makeIterator(h),G=B.next();!G.done;G=B.next())n(G.value).callWhenSettled_(q,v)}))},k.all=function(h){var q=$jscomp.makeIterator(h),v=q.next();return v.done?n([]):new k((function(B,G){function X(y){return function(D){I[y]=D,0==--M&&B(I)}}var I=[],M=0;do{I.push(void 0),M++,n(v.value).callWhenSettled_(X(I.length-1),G),v=q.next()}while(!v.done)}))},k}),"es6","es3"),$jscomp.checkEs6ConformanceViaProxy=function(){try{var l={},p=Object.create(new $jscomp.global.Proxy(l,{get:function(n,r,k){return n==l&&"q"==r&&k==p}}));return!0===p.q}catch(n){return!1}},$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy(),$jscomp.owns=function(l,p){return Object.prototype.hasOwnProperty.call(l,p)},$jscomp.polyfill("Array.prototype.copyWithin",(function(l){function p(n){return 1/0===(n=Number(n))||-1/0===n?n:0|n}return l||function(n,r,k){var C=this.length;if(n=p(n),r=p(r),k=void 0===k?C:p(k),n=0>n?Math.max(C+n,0):Math.min(n,C),r=0>r?Math.max(C+r,0):Math.min(r,C),k=0>k?Math.max(C+k,0):Math.min(k,C),n<r)for(;r<k;)r in this?this[n++]=this[r++]:(delete this[n++],r++);else for(n+=(k=Math.min(k,C+r-n))-r;k>r;)--k in this?this[--n]=this[k]:delete this[--n];return this}}),"es6","es3"),$jscomp.typedArrayCopyWithin=function(l){return l||Array.prototype.copyWithin},$jscomp.polyfill("Int8Array.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5"),$jscomp.polyfill("Uint8Array.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5"),$jscomp.polyfill("Uint8ClampedArray.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5"),$jscomp.polyfill("Int16Array.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5"),$jscomp.polyfill("Uint16Array.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5"),$jscomp.polyfill("Int32Array.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5"),$jscomp.polyfill("Uint32Array.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5"),$jscomp.polyfill("Float32Array.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5"),$jscomp.polyfill("Float64Array.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5");var l,DracoEncoderModule=(l=(l="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||__filename,function(p){function r(f,b){f||h("Assertion failed: "+b)}function k(f,b){return 0<f%b&&(f+=b-f%b),f}function C(f){fa=f,a.HEAP8=R=new Int8Array(f),a.HEAP16=ma=new Int16Array(f),a.HEAP32=L=new Int32Array(f),a.HEAPU8=na=new Uint8Array(f),a.HEAPU16=new Uint16Array(f),a.HEAPU32=new Uint32Array(f),a.HEAPF32=oa=new Float32Array(f),a.HEAPF64=new Float64Array(f)}function h(f){throw a.onAbort&&a.onAbort(f),Y(f+=""),xa=!0,f=new WebAssembly.RuntimeError("abort("+f+"). Build with -s ASSERTIONS=1 for more info."),pa(f),f}function q(f,b){return String.prototype.startsWith?f.startsWith(b):0===f.indexOf(b)}function v(){try{if(Z)return new Uint8Array(Z);if(ha)return ha(O);throw"both async and sync fetching of the wasm failed"}catch(f){h(f)}}function G(f){for(;0<f.length;){var b=f.shift();if("function"==typeof b)b(a);else{var c=b.func;"number"==typeof c?void 0===b.arg?qa.get(c)():qa.get(c)(b.arg):c(void 0===b.arg?null:b.arg)}}}function X(f){this.excPtr=f,this.ptr=f-H.SIZE,this.set_type=function(b){L[this.ptr+H.TYPE_OFFSET>>2]=b},this.get_type=function(){return L[this.ptr+H.TYPE_OFFSET>>2]},this.set_destructor=function(b){L[this.ptr+H.DESTRUCTOR_OFFSET>>2]=b},this.get_destructor=function(){return L[this.ptr+H.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(b){L[this.ptr+H.REFCOUNT_OFFSET>>2]=b},this.set_caught=function(b){R[this.ptr+H.CAUGHT_OFFSET>>0]=b?1:0},this.get_caught=function(){return 0!=R[this.ptr+H.CAUGHT_OFFSET>>0]},this.set_rethrown=function(b){R[this.ptr+H.RETHROWN_OFFSET>>0]=b?1:0},this.get_rethrown=function(){return 0!=R[this.ptr+H.RETHROWN_OFFSET>>0]},this.init=function(b,c){this.set_type(b),this.set_destructor(c),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){L[this.ptr+H.REFCOUNT_OFFSET>>2]+=1},this.release_ref=function(){var b=L[this.ptr+H.REFCOUNT_OFFSET>>2];return L[this.ptr+H.REFCOUNT_OFFSET>>2]=b-1,1===b}}function I(){return 0<I.uncaught_exceptions}function M(f){function b(){if(!ja&&(ja=!0,a.calledRun=!0,!xa)){if(ya=!0,G(za),G(Aa),Ba(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)Ca.unshift(a.postRun.shift());G(Ca)}}if(!(0<V)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)Da.unshift(a.preRun.shift());G(Da),0<V||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),b()}),1)):b())}}function y(){}function D(f){return(f||y).__cache__}function ra(f,b){var c=D(b),d=c[f];return d||((d=Object.create((b||y).prototype)).ptr=f,c[f]=d)}function aa(f){if("string"==typeof f){for(var b=0,c=0;c<f.length;++c){var d=f.charCodeAt(c);55296<=d&&57343>=d&&(d=65536+((1023&d)<<10)|1023&f.charCodeAt(++c)),127>=d?++b:b=2047>=d?b+2:65535>=d?b+3:b+4}if(c=0,0<(d=(b=Array(b+1)).length)){d=c+d-1;for(var e=0;e<f.length;++e){var g=f.charCodeAt(e);if(55296<=g&&57343>=g&&(g=65536+((1023&g)<<10)|1023&f.charCodeAt(++e)),127>=g){if(c>=d)break;b[c++]=g}else{if(2047>=g){if(c+1>=d)break;b[c++]=192|g>>6}else{if(65535>=g){if(c+2>=d)break;b[c++]=224|g>>12}else{if(c+3>=d)break;b[c++]=240|g>>18,b[c++]=128|g>>12&63}b[c++]=128|g>>6&63}b[c++]=128|63&g}}b[c]=0}return f=m.alloc(b,R),m.copy(b,R,f),f}return f}function ka(f){if("object"==typeof f){var b=m.alloc(f,R);return m.copy(f,R,b),b}return f}function la(f){if("object"==typeof f){var b=m.alloc(f,ma);return m.copy(f,ma,b),b}return f}function W(f){if("object"==typeof f){var b=m.alloc(f,L);return m.copy(f,L,b),b}return f}function ba(f){if("object"==typeof f){var b=m.alloc(f,oa);return m.copy(f,oa,b),b}return f}function S(){throw"cannot construct a VoidPtr, no constructor in IDL"}function P(){this.ptr=Ea(),D(P)[this.ptr]=this}function z(){this.ptr=Fa(),D(z)[this.ptr]=this}function J(){this.ptr=Ga(),D(J)[this.ptr]=this}function E(){this.ptr=Ha(),D(E)[this.ptr]=this}function Q(){this.ptr=Ia(),D(Q)[this.ptr]=this}function K(){this.ptr=Ja(),D(K)[this.ptr]=this}function F(){this.ptr=Ka(),D(F)[this.ptr]=this}function w(){this.ptr=La(),D(w)[this.ptr]=this}function u(){this.ptr=Ma(),D(u)[this.ptr]=this}function x(){this.ptr=Na(),D(x)[this.ptr]=this}function A(f){f&&"object"==typeof f&&(f=f.ptr),this.ptr=Oa(f),D(A)[this.ptr]=this}var Ba,pa,a=void 0!==(p=p||{})?p:{};a.ready=new Promise((function(f,b){Ba=f,pa=b}));var Pa=!1,Qa=!1;a.onRuntimeInitialized=function(){Pa=!0,Qa&&"function"==typeof a.onModuleLoaded&&a.onModuleLoaded(a)},a.onModuleParsed=function(){Qa=!0,Pa&&"function"==typeof a.onModuleLoaded&&a.onModuleLoaded(a)},a.isVersionSupported=function(f){return"string"==typeof f&&!(2>(f=f.split(".")).length||3<f.length)&&(1==f[0]&&0<=f[1]&&4>=f[1]||!(0!=f[0]||10<f[1]))};var T,ca={};for(T in a)a.hasOwnProperty(T)&&(ca[T]=a[T]);var sa,Ra,ia=!1,U=!1;ia="object"==typeof window,U="function"==typeof importScripts,sa="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,Ra=!ia&&!sa&&!U;var ta,ua,N="";if(sa){N=U?__webpack_require__(44).dirname(N)+"/":__dirname+"/";var va=function(f,b){return ta||(ta=__webpack_require__(122)),ua||(ua=__webpack_require__(44)),f=ua.normalize(f),ta.readFileSync(f,b?null:"utf8")},ha=function(f){return(f=va(f,!0)).buffer||(f=new Uint8Array(f)),r(f.buffer),f};1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),a.inspect=function(){return"[Emscripten Module object]"}}else Ra?("undefined"!=typeof read&&(va=function(f){return read(f)}),ha=function(f){return"function"==typeof readbuffer?new Uint8Array(readbuffer(f)):(r("object"==typeof(f=read(f,"binary"))),f)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(ia||U)&&(U?N=self.location.href:"undefined"!=typeof document&&document.currentScript&&(N=document.currentScript.src),l&&(N=l),N=0!==N.indexOf("blob:")?N.substr(0,N.lastIndexOf("/")+1):"",va=function(f){var b=new XMLHttpRequest;return b.open("GET",f,!1),b.send(null),b.responseText},U&&(ha=function(f){var b=new XMLHttpRequest;return b.open("GET",f,!1),b.responseType="arraybuffer",b.send(null),new Uint8Array(b.response)}));a.print||console.log.bind(console);var Z,Y=a.printErr||console.warn.bind(console);for(T in ca)ca.hasOwnProperty(T)&&(a[T]=ca[T]);ca=null,a.wasmBinary&&(Z=a.wasmBinary),"object"!=typeof WebAssembly&&h("no native wasm support detected");var da,xa=!1;"undefined"!=typeof TextDecoder&&new TextDecoder("utf8"),"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var R,na,ma,L,oa,Sa=a.INITIAL_MEMORY||16777216;if(da=a.wasmMemory?a.wasmMemory:new WebAssembly.Memory({initial:Sa/65536,maximum:32768}))var fa=da.buffer;Sa=fa.byteLength,C(fa);var qa,Da=[],za=[],Aa=[],Ca=[],ya=!1,V=0,wa=null,ea=null;a.preloadedImages={},a.preloadedAudios={};var f,O="draco_encoder.wasm";q(O,"data:application/octet-stream;base64,")||(f=O,O=a.locateFile?a.locateFile(f,N):N+f);var H={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};za.push({func:function(){Ta()}});var Va={__cxa_allocate_exception:function(f){return Ua(f+H.SIZE)+H.SIZE},__cxa_throw:function(f,b,c){throw new X(f).init(b,c),"uncaught_exception"in I?I.uncaught_exceptions++:I.uncaught_exceptions=1,f},abort:function(){h()},array_bounds_check_error:function(f,b){throw"Array index "+f+" out of bounds: [0,"+b+")"},emscripten_memcpy_big:function(f,b,c){na.copyWithin(f,b,b+c)},emscripten_resize_heap:function(f){f>>>=0;var b=na.length;if(2147483648<f)return!1;for(var c=1;4>=c;c*=2){var d=b*(1+.2/c);d=Math.min(d,f+100663296),d=Math.min(2147483648,k(Math.max(16777216,f,d),65536));a:{try{da.grow(d-fa.byteLength+65535>>>16),C(da.buffer);var e=1;break a}catch(g){}e=void 0}if(e)return!0}return!1},memory:da};!function(){function f(e,g){a.asm=e.exports,qa=a.asm.__indirect_function_table,V--,a.monitorRunDependencies&&a.monitorRunDependencies(V),0==V&&(null!==wa&&(clearInterval(wa),wa=null),ea&&(e=ea,ea=null,e()))}function b(e){f(e.instance)}function c(e){return(Z||!ia&&!U||"function"!=typeof fetch||q(O,"file://")?Promise.resolve().then(v):fetch(O,{credentials:"same-origin"}).then((function(f){if(!f.ok)throw"failed to load wasm binary file at '"+O+"'";return f.arrayBuffer()})).catch((function(){return v()}))).then((function(g){return WebAssembly.instantiate(g,d)})).then(e,(function(g){Y("failed to asynchronously prepare wasm: "+g),h(g)}))}var d={env:Va,wasi_snapshot_preview1:Va};if(V++,a.monitorRunDependencies&&a.monitorRunDependencies(V),a.instantiateWasm)try{return a.instantiateWasm(d,f)}catch(e){return Y("Module.instantiateWasm callback failed with error: "+e),!1}(Z||"function"!=typeof WebAssembly.instantiateStreaming||q(O,"data:application/octet-stream;base64,")||q(O,"file://")||"function"!=typeof fetch?c(b):fetch(O,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,d).then(b,(function(g){return Y("wasm streaming compile failed: "+g),Y("falling back to ArrayBuffer instantiation"),c(b)}))}))).catch(pa)}();var Ta=a.___wasm_call_ctors=function(){return(Ta=a.___wasm_call_ctors=a.asm.__wasm_call_ctors).apply(null,arguments)};a.___em_js__array_bounds_check_error=function(){return(a.___em_js__array_bounds_check_error=a.asm.__em_js__array_bounds_check_error).apply(null,arguments)};var Wa=a._emscripten_bind_VoidPtr___destroy___0=function(){return(Wa=a._emscripten_bind_VoidPtr___destroy___0=a.asm.emscripten_bind_VoidPtr___destroy___0).apply(null,arguments)},Ea=a._emscripten_bind_GeometryAttribute_GeometryAttribute_0=function(){return(Ea=a._emscripten_bind_GeometryAttribute_GeometryAttribute_0=a.asm.emscripten_bind_GeometryAttribute_GeometryAttribute_0).apply(null,arguments)},Xa=a._emscripten_bind_GeometryAttribute___destroy___0=function(){return(Xa=a._emscripten_bind_GeometryAttribute___destroy___0=a.asm.emscripten_bind_GeometryAttribute___destroy___0).apply(null,arguments)},Fa=a._emscripten_bind_PointAttribute_PointAttribute_0=function(){return(Fa=a._emscripten_bind_PointAttribute_PointAttribute_0=a.asm.emscripten_bind_PointAttribute_PointAttribute_0).apply(null,arguments)},Ya=a._emscripten_bind_PointAttribute_size_0=function(){return(Ya=a._emscripten_bind_PointAttribute_size_0=a.asm.emscripten_bind_PointAttribute_size_0).apply(null,arguments)},Za=a._emscripten_bind_PointAttribute_attribute_type_0=function(){return(Za=a._emscripten_bind_PointAttribute_attribute_type_0=a.asm.emscripten_bind_PointAttribute_attribute_type_0).apply(null,arguments)},$a=a._emscripten_bind_PointAttribute_data_type_0=function(){return($a=a._emscripten_bind_PointAttribute_data_type_0=a.asm.emscripten_bind_PointAttribute_data_type_0).apply(null,arguments)},ab=a._emscripten_bind_PointAttribute_num_components_0=function(){return(ab=a._emscripten_bind_PointAttribute_num_components_0=a.asm.emscripten_bind_PointAttribute_num_components_0).apply(null,arguments)},bb=a._emscripten_bind_PointAttribute_normalized_0=function(){return(bb=a._emscripten_bind_PointAttribute_normalized_0=a.asm.emscripten_bind_PointAttribute_normalized_0).apply(null,arguments)},cb=a._emscripten_bind_PointAttribute_byte_stride_0=function(){return(cb=a._emscripten_bind_PointAttribute_byte_stride_0=a.asm.emscripten_bind_PointAttribute_byte_stride_0).apply(null,arguments)},db=a._emscripten_bind_PointAttribute_byte_offset_0=function(){return(db=a._emscripten_bind_PointAttribute_byte_offset_0=a.asm.emscripten_bind_PointAttribute_byte_offset_0).apply(null,arguments)},eb=a._emscripten_bind_PointAttribute_unique_id_0=function(){return(eb=a._emscripten_bind_PointAttribute_unique_id_0=a.asm.emscripten_bind_PointAttribute_unique_id_0).apply(null,arguments)},fb=a._emscripten_bind_PointAttribute___destroy___0=function(){return(fb=a._emscripten_bind_PointAttribute___destroy___0=a.asm.emscripten_bind_PointAttribute___destroy___0).apply(null,arguments)},Ga=a._emscripten_bind_PointCloud_PointCloud_0=function(){return(Ga=a._emscripten_bind_PointCloud_PointCloud_0=a.asm.emscripten_bind_PointCloud_PointCloud_0).apply(null,arguments)},gb=a._emscripten_bind_PointCloud_num_attributes_0=function(){return(gb=a._emscripten_bind_PointCloud_num_attributes_0=a.asm.emscripten_bind_PointCloud_num_attributes_0).apply(null,arguments)},hb=a._emscripten_bind_PointCloud_num_points_0=function(){return(hb=a._emscripten_bind_PointCloud_num_points_0=a.asm.emscripten_bind_PointCloud_num_points_0).apply(null,arguments)},ib=a._emscripten_bind_PointCloud___destroy___0=function(){return(ib=a._emscripten_bind_PointCloud___destroy___0=a.asm.emscripten_bind_PointCloud___destroy___0).apply(null,arguments)},Ha=a._emscripten_bind_Mesh_Mesh_0=function(){return(Ha=a._emscripten_bind_Mesh_Mesh_0=a.asm.emscripten_bind_Mesh_Mesh_0).apply(null,arguments)},jb=a._emscripten_bind_Mesh_num_faces_0=function(){return(jb=a._emscripten_bind_Mesh_num_faces_0=a.asm.emscripten_bind_Mesh_num_faces_0).apply(null,arguments)},kb=a._emscripten_bind_Mesh_num_attributes_0=function(){return(kb=a._emscripten_bind_Mesh_num_attributes_0=a.asm.emscripten_bind_Mesh_num_attributes_0).apply(null,arguments)},lb=a._emscripten_bind_Mesh_num_points_0=function(){return(lb=a._emscripten_bind_Mesh_num_points_0=a.asm.emscripten_bind_Mesh_num_points_0).apply(null,arguments)},mb=a._emscripten_bind_Mesh_set_num_points_1=function(){return(mb=a._emscripten_bind_Mesh_set_num_points_1=a.asm.emscripten_bind_Mesh_set_num_points_1).apply(null,arguments)},nb=a._emscripten_bind_Mesh___destroy___0=function(){return(nb=a._emscripten_bind_Mesh___destroy___0=a.asm.emscripten_bind_Mesh___destroy___0).apply(null,arguments)},Ia=a._emscripten_bind_Metadata_Metadata_0=function(){return(Ia=a._emscripten_bind_Metadata_Metadata_0=a.asm.emscripten_bind_Metadata_Metadata_0).apply(null,arguments)},ob=a._emscripten_bind_Metadata___destroy___0=function(){return(ob=a._emscripten_bind_Metadata___destroy___0=a.asm.emscripten_bind_Metadata___destroy___0).apply(null,arguments)},Ja=a._emscripten_bind_DracoInt8Array_DracoInt8Array_0=function(){return(Ja=a._emscripten_bind_DracoInt8Array_DracoInt8Array_0=a.asm.emscripten_bind_DracoInt8Array_DracoInt8Array_0).apply(null,arguments)},pb=a._emscripten_bind_DracoInt8Array_GetValue_1=function(){return(pb=a._emscripten_bind_DracoInt8Array_GetValue_1=a.asm.emscripten_bind_DracoInt8Array_GetValue_1).apply(null,arguments)},qb=a._emscripten_bind_DracoInt8Array_size_0=function(){return(qb=a._emscripten_bind_DracoInt8Array_size_0=a.asm.emscripten_bind_DracoInt8Array_size_0).apply(null,arguments)},rb=a._emscripten_bind_DracoInt8Array___destroy___0=function(){return(rb=a._emscripten_bind_DracoInt8Array___destroy___0=a.asm.emscripten_bind_DracoInt8Array___destroy___0).apply(null,arguments)},Ka=a._emscripten_bind_MetadataBuilder_MetadataBuilder_0=function(){return(Ka=a._emscripten_bind_MetadataBuilder_MetadataBuilder_0=a.asm.emscripten_bind_MetadataBuilder_MetadataBuilder_0).apply(null,arguments)},sb=a._emscripten_bind_MetadataBuilder_AddStringEntry_3=function(){return(sb=a._emscripten_bind_MetadataBuilder_AddStringEntry_3=a.asm.emscripten_bind_MetadataBuilder_AddStringEntry_3).apply(null,arguments)},tb=a._emscripten_bind_MetadataBuilder_AddIntEntry_3=function(){return(tb=a._emscripten_bind_MetadataBuilder_AddIntEntry_3=a.asm.emscripten_bind_MetadataBuilder_AddIntEntry_3).apply(null,arguments)},ub=a._emscripten_bind_MetadataBuilder_AddIntEntryArray_4=function(){return(ub=a._emscripten_bind_MetadataBuilder_AddIntEntryArray_4=a.asm.emscripten_bind_MetadataBuilder_AddIntEntryArray_4).apply(null,arguments)},vb=a._emscripten_bind_MetadataBuilder_AddDoubleEntry_3=function(){return(vb=a._emscripten_bind_MetadataBuilder_AddDoubleEntry_3=a.asm.emscripten_bind_MetadataBuilder_AddDoubleEntry_3).apply(null,arguments)},wb=a._emscripten_bind_MetadataBuilder___destroy___0=function(){return(wb=a._emscripten_bind_MetadataBuilder___destroy___0=a.asm.emscripten_bind_MetadataBuilder___destroy___0).apply(null,arguments)},La=a._emscripten_bind_PointCloudBuilder_PointCloudBuilder_0=function(){return(La=a._emscripten_bind_PointCloudBuilder_PointCloudBuilder_0=a.asm.emscripten_bind_PointCloudBuilder_PointCloudBuilder_0).apply(null,arguments)},xb=a._emscripten_bind_PointCloudBuilder_AddFloatAttribute_5=function(){return(xb=a._emscripten_bind_PointCloudBuilder_AddFloatAttribute_5=a.asm.emscripten_bind_PointCloudBuilder_AddFloatAttribute_5).apply(null,arguments)},yb=a._emscripten_bind_PointCloudBuilder_AddInt8Attribute_5=function(){return(yb=a._emscripten_bind_PointCloudBuilder_AddInt8Attribute_5=a.asm.emscripten_bind_PointCloudBuilder_AddInt8Attribute_5).apply(null,arguments)},zb=a._emscripten_bind_PointCloudBuilder_AddUInt8Attribute_5=function(){return(zb=a._emscripten_bind_PointCloudBuilder_AddUInt8Attribute_5=a.asm.emscripten_bind_PointCloudBuilder_AddUInt8Attribute_5).apply(null,arguments)},Ab=a._emscripten_bind_PointCloudBuilder_AddInt16Attribute_5=function(){return(Ab=a._emscripten_bind_PointCloudBuilder_AddInt16Attribute_5=a.asm.emscripten_bind_PointCloudBuilder_AddInt16Attribute_5).apply(null,arguments)},Bb=a._emscripten_bind_PointCloudBuilder_AddUInt16Attribute_5=function(){return(Bb=a._emscripten_bind_PointCloudBuilder_AddUInt16Attribute_5=a.asm.emscripten_bind_PointCloudBuilder_AddUInt16Attribute_5).apply(null,arguments)},Cb=a._emscripten_bind_PointCloudBuilder_AddInt32Attribute_5=function(){return(Cb=a._emscripten_bind_PointCloudBuilder_AddInt32Attribute_5=a.asm.emscripten_bind_PointCloudBuilder_AddInt32Attribute_5).apply(null,arguments)},Db=a._emscripten_bind_PointCloudBuilder_AddUInt32Attribute_5=function(){return(Db=a._emscripten_bind_PointCloudBuilder_AddUInt32Attribute_5=a.asm.emscripten_bind_PointCloudBuilder_AddUInt32Attribute_5).apply(null,arguments)},Eb=a._emscripten_bind_PointCloudBuilder_AddMetadata_2=function(){return(Eb=a._emscripten_bind_PointCloudBuilder_AddMetadata_2=a.asm.emscripten_bind_PointCloudBuilder_AddMetadata_2).apply(null,arguments)},Fb=a._emscripten_bind_PointCloudBuilder_SetMetadataForAttribute_3=function(){return(Fb=a._emscripten_bind_PointCloudBuilder_SetMetadataForAttribute_3=a.asm.emscripten_bind_PointCloudBuilder_SetMetadataForAttribute_3).apply(null,arguments)},Gb=a._emscripten_bind_PointCloudBuilder___destroy___0=function(){return(Gb=a._emscripten_bind_PointCloudBuilder___destroy___0=a.asm.emscripten_bind_PointCloudBuilder___destroy___0).apply(null,arguments)},Ma=a._emscripten_bind_MeshBuilder_MeshBuilder_0=function(){return(Ma=a._emscripten_bind_MeshBuilder_MeshBuilder_0=a.asm.emscripten_bind_MeshBuilder_MeshBuilder_0).apply(null,arguments)},Hb=a._emscripten_bind_MeshBuilder_AddFacesToMesh_3=function(){return(Hb=a._emscripten_bind_MeshBuilder_AddFacesToMesh_3=a.asm.emscripten_bind_MeshBuilder_AddFacesToMesh_3).apply(null,arguments)},Ib=a._emscripten_bind_MeshBuilder_AddFloatAttributeToMesh_5=function(){return(Ib=a._emscripten_bind_MeshBuilder_AddFloatAttributeToMesh_5=a.asm.emscripten_bind_MeshBuilder_AddFloatAttributeToMesh_5).apply(null,arguments)},Jb=a._emscripten_bind_MeshBuilder_AddInt32AttributeToMesh_5=function(){return(Jb=a._emscripten_bind_MeshBuilder_AddInt32AttributeToMesh_5=a.asm.emscripten_bind_MeshBuilder_AddInt32AttributeToMesh_5).apply(null,arguments)},Kb=a._emscripten_bind_MeshBuilder_AddMetadataToMesh_2=function(){return(Kb=a._emscripten_bind_MeshBuilder_AddMetadataToMesh_2=a.asm.emscripten_bind_MeshBuilder_AddMetadataToMesh_2).apply(null,arguments)},Lb=a._emscripten_bind_MeshBuilder_AddFloatAttribute_5=function(){return(Lb=a._emscripten_bind_MeshBuilder_AddFloatAttribute_5=a.asm.emscripten_bind_MeshBuilder_AddFloatAttribute_5).apply(null,arguments)},Mb=a._emscripten_bind_MeshBuilder_AddInt8Attribute_5=function(){return(Mb=a._emscripten_bind_MeshBuilder_AddInt8Attribute_5=a.asm.emscripten_bind_MeshBuilder_AddInt8Attribute_5).apply(null,arguments)},Nb=a._emscripten_bind_MeshBuilder_AddUInt8Attribute_5=function(){return(Nb=a._emscripten_bind_MeshBuilder_AddUInt8Attribute_5=a.asm.emscripten_bind_MeshBuilder_AddUInt8Attribute_5).apply(null,arguments)},Ob=a._emscripten_bind_MeshBuilder_AddInt16Attribute_5=function(){return(Ob=a._emscripten_bind_MeshBuilder_AddInt16Attribute_5=a.asm.emscripten_bind_MeshBuilder_AddInt16Attribute_5).apply(null,arguments)},Pb=a._emscripten_bind_MeshBuilder_AddUInt16Attribute_5=function(){return(Pb=a._emscripten_bind_MeshBuilder_AddUInt16Attribute_5=a.asm.emscripten_bind_MeshBuilder_AddUInt16Attribute_5).apply(null,arguments)},Qb=a._emscripten_bind_MeshBuilder_AddInt32Attribute_5=function(){return(Qb=a._emscripten_bind_MeshBuilder_AddInt32Attribute_5=a.asm.emscripten_bind_MeshBuilder_AddInt32Attribute_5).apply(null,arguments)},Rb=a._emscripten_bind_MeshBuilder_AddUInt32Attribute_5=function(){return(Rb=a._emscripten_bind_MeshBuilder_AddUInt32Attribute_5=a.asm.emscripten_bind_MeshBuilder_AddUInt32Attribute_5).apply(null,arguments)},Sb=a._emscripten_bind_MeshBuilder_AddMetadata_2=function(){return(Sb=a._emscripten_bind_MeshBuilder_AddMetadata_2=a.asm.emscripten_bind_MeshBuilder_AddMetadata_2).apply(null,arguments)},Tb=a._emscripten_bind_MeshBuilder_SetMetadataForAttribute_3=function(){return(Tb=a._emscripten_bind_MeshBuilder_SetMetadataForAttribute_3=a.asm.emscripten_bind_MeshBuilder_SetMetadataForAttribute_3).apply(null,arguments)},Ub=a._emscripten_bind_MeshBuilder___destroy___0=function(){return(Ub=a._emscripten_bind_MeshBuilder___destroy___0=a.asm.emscripten_bind_MeshBuilder___destroy___0).apply(null,arguments)},Na=a._emscripten_bind_Encoder_Encoder_0=function(){return(Na=a._emscripten_bind_Encoder_Encoder_0=a.asm.emscripten_bind_Encoder_Encoder_0).apply(null,arguments)},Vb=a._emscripten_bind_Encoder_SetEncodingMethod_1=function(){return(Vb=a._emscripten_bind_Encoder_SetEncodingMethod_1=a.asm.emscripten_bind_Encoder_SetEncodingMethod_1).apply(null,arguments)},Wb=a._emscripten_bind_Encoder_SetAttributeQuantization_2=function(){return(Wb=a._emscripten_bind_Encoder_SetAttributeQuantization_2=a.asm.emscripten_bind_Encoder_SetAttributeQuantization_2).apply(null,arguments)},Xb=a._emscripten_bind_Encoder_SetAttributeExplicitQuantization_5=function(){return(Xb=a._emscripten_bind_Encoder_SetAttributeExplicitQuantization_5=a.asm.emscripten_bind_Encoder_SetAttributeExplicitQuantization_5).apply(null,arguments)},Yb=a._emscripten_bind_Encoder_SetSpeedOptions_2=function(){return(Yb=a._emscripten_bind_Encoder_SetSpeedOptions_2=a.asm.emscripten_bind_Encoder_SetSpeedOptions_2).apply(null,arguments)},Zb=a._emscripten_bind_Encoder_SetTrackEncodedProperties_1=function(){return(Zb=a._emscripten_bind_Encoder_SetTrackEncodedProperties_1=a.asm.emscripten_bind_Encoder_SetTrackEncodedProperties_1).apply(null,arguments)},$b=a._emscripten_bind_Encoder_EncodeMeshToDracoBuffer_2=function(){return($b=a._emscripten_bind_Encoder_EncodeMeshToDracoBuffer_2=a.asm.emscripten_bind_Encoder_EncodeMeshToDracoBuffer_2).apply(null,arguments)},ac=a._emscripten_bind_Encoder_EncodePointCloudToDracoBuffer_3=function(){return(ac=a._emscripten_bind_Encoder_EncodePointCloudToDracoBuffer_3=a.asm.emscripten_bind_Encoder_EncodePointCloudToDracoBuffer_3).apply(null,arguments)},bc=a._emscripten_bind_Encoder_GetNumberOfEncodedPoints_0=function(){return(bc=a._emscripten_bind_Encoder_GetNumberOfEncodedPoints_0=a.asm.emscripten_bind_Encoder_GetNumberOfEncodedPoints_0).apply(null,arguments)},cc=a._emscripten_bind_Encoder_GetNumberOfEncodedFaces_0=function(){return(cc=a._emscripten_bind_Encoder_GetNumberOfEncodedFaces_0=a.asm.emscripten_bind_Encoder_GetNumberOfEncodedFaces_0).apply(null,arguments)},dc=a._emscripten_bind_Encoder___destroy___0=function(){return(dc=a._emscripten_bind_Encoder___destroy___0=a.asm.emscripten_bind_Encoder___destroy___0).apply(null,arguments)},Oa=a._emscripten_bind_ExpertEncoder_ExpertEncoder_1=function(){return(Oa=a._emscripten_bind_ExpertEncoder_ExpertEncoder_1=a.asm.emscripten_bind_ExpertEncoder_ExpertEncoder_1).apply(null,arguments)},ec=a._emscripten_bind_ExpertEncoder_SetEncodingMethod_1=function(){return(ec=a._emscripten_bind_ExpertEncoder_SetEncodingMethod_1=a.asm.emscripten_bind_ExpertEncoder_SetEncodingMethod_1).apply(null,arguments)},fc=a._emscripten_bind_ExpertEncoder_SetAttributeQuantization_2=function(){return(fc=a._emscripten_bind_ExpertEncoder_SetAttributeQuantization_2=a.asm.emscripten_bind_ExpertEncoder_SetAttributeQuantization_2).apply(null,arguments)},gc=a._emscripten_bind_ExpertEncoder_SetAttributeExplicitQuantization_5=function(){return(gc=a._emscripten_bind_ExpertEncoder_SetAttributeExplicitQuantization_5=a.asm.emscripten_bind_ExpertEncoder_SetAttributeExplicitQuantization_5).apply(null,arguments)},hc=a._emscripten_bind_ExpertEncoder_SetSpeedOptions_2=function(){return(hc=a._emscripten_bind_ExpertEncoder_SetSpeedOptions_2=a.asm.emscripten_bind_ExpertEncoder_SetSpeedOptions_2).apply(null,arguments)},ic=a._emscripten_bind_ExpertEncoder_SetTrackEncodedProperties_1=function(){return(ic=a._emscripten_bind_ExpertEncoder_SetTrackEncodedProperties_1=a.asm.emscripten_bind_ExpertEncoder_SetTrackEncodedProperties_1).apply(null,arguments)},jc=a._emscripten_bind_ExpertEncoder_EncodeToDracoBuffer_2=function(){return(jc=a._emscripten_bind_ExpertEncoder_EncodeToDracoBuffer_2=a.asm.emscripten_bind_ExpertEncoder_EncodeToDracoBuffer_2).apply(null,arguments)},kc=a._emscripten_bind_ExpertEncoder_GetNumberOfEncodedPoints_0=function(){return(kc=a._emscripten_bind_ExpertEncoder_GetNumberOfEncodedPoints_0=a.asm.emscripten_bind_ExpertEncoder_GetNumberOfEncodedPoints_0).apply(null,arguments)},lc=a._emscripten_bind_ExpertEncoder_GetNumberOfEncodedFaces_0=function(){return(lc=a._emscripten_bind_ExpertEncoder_GetNumberOfEncodedFaces_0=a.asm.emscripten_bind_ExpertEncoder_GetNumberOfEncodedFaces_0).apply(null,arguments)},mc=a._emscripten_bind_ExpertEncoder___destroy___0=function(){return(mc=a._emscripten_bind_ExpertEncoder___destroy___0=a.asm.emscripten_bind_ExpertEncoder___destroy___0).apply(null,arguments)},nc=a._emscripten_enum_draco_GeometryAttribute_Type_INVALID=function(){return(nc=a._emscripten_enum_draco_GeometryAttribute_Type_INVALID=a.asm.emscripten_enum_draco_GeometryAttribute_Type_INVALID).apply(null,arguments)},oc=a._emscripten_enum_draco_GeometryAttribute_Type_POSITION=function(){return(oc=a._emscripten_enum_draco_GeometryAttribute_Type_POSITION=a.asm.emscripten_enum_draco_GeometryAttribute_Type_POSITION).apply(null,arguments)},pc=a._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=function(){return(pc=a._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=a.asm.emscripten_enum_draco_GeometryAttribute_Type_NORMAL).apply(null,arguments)},qc=a._emscripten_enum_draco_GeometryAttribute_Type_COLOR=function(){return(qc=a._emscripten_enum_draco_GeometryAttribute_Type_COLOR=a.asm.emscripten_enum_draco_GeometryAttribute_Type_COLOR).apply(null,arguments)},rc=a._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=function(){return(rc=a._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=a.asm.emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD).apply(null,arguments)},sc=a._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=function(){return(sc=a._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=a.asm.emscripten_enum_draco_GeometryAttribute_Type_GENERIC).apply(null,arguments)},tc=a._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=function(){return(tc=a._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=a.asm.emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE).apply(null,arguments)},uc=a._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=function(){return(uc=a._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=a.asm.emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD).apply(null,arguments)},vc=a._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=function(){return(vc=a._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=a.asm.emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH).apply(null,arguments)},wc=a._emscripten_enum_draco_MeshEncoderMethod_MESH_SEQUENTIAL_ENCODING=function(){return(wc=a._emscripten_enum_draco_MeshEncoderMethod_MESH_SEQUENTIAL_ENCODING=a.asm.emscripten_enum_draco_MeshEncoderMethod_MESH_SEQUENTIAL_ENCODING).apply(null,arguments)},xc=a._emscripten_enum_draco_MeshEncoderMethod_MESH_EDGEBREAKER_ENCODING=function(){return(xc=a._emscripten_enum_draco_MeshEncoderMethod_MESH_EDGEBREAKER_ENCODING=a.asm.emscripten_enum_draco_MeshEncoderMethod_MESH_EDGEBREAKER_ENCODING).apply(null,arguments)};a.___errno_location=function(){return(a.___errno_location=a.asm.__errno_location).apply(null,arguments)},a.stackSave=function(){return(a.stackSave=a.asm.stackSave).apply(null,arguments)},a.stackRestore=function(){return(a.stackRestore=a.asm.stackRestore).apply(null,arguments)},a.stackAlloc=function(){return(a.stackAlloc=a.asm.stackAlloc).apply(null,arguments)},a._setThrew=function(){return(a._setThrew=a.asm.setThrew).apply(null,arguments)},a._free=function(){return(a._free=a.asm.free).apply(null,arguments)};var ja,Ua=a._malloc=function(){return(Ua=a._malloc=a.asm.malloc).apply(null,arguments)};if(ea=function b(){ja||M(),ja||(ea=b)},a.run=M,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();M(),y.prototype=Object.create(y.prototype),y.prototype.constructor=y,y.prototype.__class__=y,y.__cache__={},a.WrapperObject=y,a.getCache=D,a.wrapPointer=ra,a.castObject=function(b,c){return ra(b.ptr,c)},a.NULL=ra(0),a.destroy=function(b){if(!b.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";b.__destroy__(),delete D(b.__class__)[b.ptr]},a.compare=function(b,c){return b.ptr===c.ptr},a.getPointer=function(b){return b.ptr},a.getClass=function(b){return b.__class__};var m={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(m.needed){for(var b=0;b<m.temps.length;b++)a._free(m.temps[b]);m.temps.length=0,a._free(m.buffer),m.buffer=0,m.size+=m.needed,m.needed=0}m.buffer||(m.size+=128,m.buffer=a._malloc(m.size),r(m.buffer)),m.pos=0},alloc:function(b,c){return r(m.buffer),b=7+(b=b.length*c.BYTES_PER_ELEMENT)&-8,m.pos+b>=m.size?(r(0<b),m.needed+=b,c=a._malloc(b),m.temps.push(c)):(c=m.buffer+m.pos,m.pos+=b),c},copy:function(b,c,d){switch(d>>>=0,c.BYTES_PER_ELEMENT){case 2:d>>>=1;break;case 4:d>>>=2;break;case 8:d>>>=3}for(var e=0;e<b.length;e++)c[d+e]=b[e]}};return S.prototype=Object.create(y.prototype),S.prototype.constructor=S,S.prototype.__class__=S,S.__cache__={},a.VoidPtr=S,S.prototype.__destroy__=S.prototype.__destroy__=function(){Wa(this.ptr)},P.prototype=Object.create(y.prototype),P.prototype.constructor=P,P.prototype.__class__=P,P.__cache__={},a.GeometryAttribute=P,P.prototype.__destroy__=P.prototype.__destroy__=function(){Xa(this.ptr)},z.prototype=Object.create(y.prototype),z.prototype.constructor=z,z.prototype.__class__=z,z.__cache__={},a.PointAttribute=z,z.prototype.size=z.prototype.size=function(){return Ya(this.ptr)},z.prototype.attribute_type=z.prototype.attribute_type=function(){return Za(this.ptr)},z.prototype.data_type=z.prototype.data_type=function(){return $a(this.ptr)},z.prototype.num_components=z.prototype.num_components=function(){return ab(this.ptr)},z.prototype.normalized=z.prototype.normalized=function(){return!!bb(this.ptr)},z.prototype.byte_stride=z.prototype.byte_stride=function(){return cb(this.ptr)},z.prototype.byte_offset=z.prototype.byte_offset=function(){return db(this.ptr)},z.prototype.unique_id=z.prototype.unique_id=function(){return eb(this.ptr)},z.prototype.__destroy__=z.prototype.__destroy__=function(){fb(this.ptr)},J.prototype=Object.create(y.prototype),J.prototype.constructor=J,J.prototype.__class__=J,J.__cache__={},a.PointCloud=J,J.prototype.num_attributes=J.prototype.num_attributes=function(){return gb(this.ptr)},J.prototype.num_points=J.prototype.num_points=function(){return hb(this.ptr)},J.prototype.__destroy__=J.prototype.__destroy__=function(){ib(this.ptr)},E.prototype=Object.create(y.prototype),E.prototype.constructor=E,E.prototype.__class__=E,E.__cache__={},a.Mesh=E,E.prototype.num_faces=E.prototype.num_faces=function(){return jb(this.ptr)},E.prototype.num_attributes=E.prototype.num_attributes=function(){return kb(this.ptr)},E.prototype.num_points=E.prototype.num_points=function(){return lb(this.ptr)},E.prototype.set_num_points=E.prototype.set_num_points=function(b){var c=this.ptr;b&&"object"==typeof b&&(b=b.ptr),mb(c,b)},E.prototype.__destroy__=E.prototype.__destroy__=function(){nb(this.ptr)},Q.prototype=Object.create(y.prototype),Q.prototype.constructor=Q,Q.prototype.__class__=Q,Q.__cache__={},a.Metadata=Q,Q.prototype.__destroy__=Q.prototype.__destroy__=function(){ob(this.ptr)},K.prototype=Object.create(y.prototype),K.prototype.constructor=K,K.prototype.__class__=K,K.__cache__={},a.DracoInt8Array=K,K.prototype.GetValue=K.prototype.GetValue=function(b){var c=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),pb(c,b)},K.prototype.size=K.prototype.size=function(){return qb(this.ptr)},K.prototype.__destroy__=K.prototype.__destroy__=function(){rb(this.ptr)},F.prototype=Object.create(y.prototype),F.prototype.constructor=F,F.prototype.__class__=F,F.__cache__={},a.MetadataBuilder=F,F.prototype.AddStringEntry=F.prototype.AddStringEntry=function(b,c,d){var e=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c=c&&"object"==typeof c?c.ptr:aa(c),d=d&&"object"==typeof d?d.ptr:aa(d),!!sb(e,b,c,d)},F.prototype.AddIntEntry=F.prototype.AddIntEntry=function(b,c,d){var e=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c=c&&"object"==typeof c?c.ptr:aa(c),d&&"object"==typeof d&&(d=d.ptr),!!tb(e,b,c,d)},F.prototype.AddIntEntryArray=F.prototype.AddIntEntryArray=function(b,c,d,e){var g=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c=c&&"object"==typeof c?c.ptr:aa(c),"object"==typeof d&&(d=W(d)),e&&"object"==typeof e&&(e=e.ptr),!!ub(g,b,c,d,e)},F.prototype.AddDoubleEntry=F.prototype.AddDoubleEntry=function(b,c,d){var e=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c=c&&"object"==typeof c?c.ptr:aa(c),d&&"object"==typeof d&&(d=d.ptr),!!vb(e,b,c,d)},F.prototype.__destroy__=F.prototype.__destroy__=function(){wb(this.ptr)},w.prototype=Object.create(y.prototype),w.prototype.constructor=w,w.prototype.__class__=w,w.__cache__={},a.PointCloudBuilder=w,w.prototype.AddFloatAttribute=w.prototype.AddFloatAttribute=function(b,c,d,e,g){var t=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),e&&"object"==typeof e&&(e=e.ptr),"object"==typeof g&&(g=ba(g)),xb(t,b,c,d,e,g)},w.prototype.AddInt8Attribute=w.prototype.AddInt8Attribute=function(b,c,d,e,g){var t=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),e&&"object"==typeof e&&(e=e.ptr),"object"==typeof g&&(g=ka(g)),yb(t,b,c,d,e,g)},w.prototype.AddUInt8Attribute=w.prototype.AddUInt8Attribute=function(b,c,d,e,g){var t=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),e&&"object"==typeof e&&(e=e.ptr),"object"==typeof g&&(g=ka(g)),zb(t,b,c,d,e,g)},w.prototype.AddInt16Attribute=w.prototype.AddInt16Attribute=function(b,c,d,e,g){var t=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),e&&"object"==typeof e&&(e=e.ptr),"object"==typeof g&&(g=la(g)),Ab(t,b,c,d,e,g)},w.prototype.AddUInt16Attribute=w.prototype.AddUInt16Attribute=function(b,c,d,e,g){var t=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),e&&"object"==typeof e&&(e=e.ptr),"object"==typeof g&&(g=la(g)),Bb(t,b,c,d,e,g)},w.prototype.AddInt32Attribute=w.prototype.AddInt32Attribute=function(b,c,d,e,g){var t=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),e&&"object"==typeof e&&(e=e.ptr),"object"==typeof g&&(g=W(g)),Cb(t,b,c,d,e,g)},w.prototype.AddUInt32Attribute=w.prototype.AddUInt32Attribute=function(b,c,d,e,g){var t=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),e&&"object"==typeof e&&(e=e.ptr),"object"==typeof g&&(g=W(g)),Db(t,b,c,d,e,g)},w.prototype.AddMetadata=w.prototype.AddMetadata=function(b,c){var d=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),!!Eb(d,b,c)},w.prototype.SetMetadataForAttribute=w.prototype.SetMetadataForAttribute=function(b,c,d){var e=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),!!Fb(e,b,c,d)},w.prototype.__destroy__=w.prototype.__destroy__=function(){Gb(this.ptr)},u.prototype=Object.create(y.prototype),u.prototype.constructor=u,u.prototype.__class__=u,u.__cache__={},a.MeshBuilder=u,u.prototype.AddFacesToMesh=u.prototype.AddFacesToMesh=function(b,c,d){var e=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),"object"==typeof d&&(d=W(d)),!!Hb(e,b,c,d)},u.prototype.AddFloatAttributeToMesh=u.prototype.AddFloatAttributeToMesh=function(b,c,d,e,g){var t=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),e&&"object"==typeof e&&(e=e.ptr),"object"==typeof g&&(g=ba(g)),Ib(t,b,c,d,e,g)},u.prototype.AddInt32AttributeToMesh=u.prototype.AddInt32AttributeToMesh=function(b,c,d,e,g){var t=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),e&&"object"==typeof e&&(e=e.ptr),"object"==typeof g&&(g=W(g)),Jb(t,b,c,d,e,g)},u.prototype.AddMetadataToMesh=u.prototype.AddMetadataToMesh=function(b,c){var d=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),!!Kb(d,b,c)},u.prototype.AddFloatAttribute=u.prototype.AddFloatAttribute=function(b,c,d,e,g){var t=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),e&&"object"==typeof e&&(e=e.ptr),"object"==typeof g&&(g=ba(g)),Lb(t,b,c,d,e,g)},u.prototype.AddInt8Attribute=u.prototype.AddInt8Attribute=function(b,c,d,e,g){var t=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),e&&"object"==typeof e&&(e=e.ptr),"object"==typeof g&&(g=ka(g)),Mb(t,b,c,d,e,g)},u.prototype.AddUInt8Attribute=u.prototype.AddUInt8Attribute=function(b,c,d,e,g){var t=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),e&&"object"==typeof e&&(e=e.ptr),"object"==typeof g&&(g=ka(g)),Nb(t,b,c,d,e,g)},u.prototype.AddInt16Attribute=u.prototype.AddInt16Attribute=function(b,c,d,e,g){var t=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),e&&"object"==typeof e&&(e=e.ptr),"object"==typeof g&&(g=la(g)),Ob(t,b,c,d,e,g)},u.prototype.AddUInt16Attribute=u.prototype.AddUInt16Attribute=function(b,c,d,e,g){var t=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),e&&"object"==typeof e&&(e=e.ptr),"object"==typeof g&&(g=la(g)),Pb(t,b,c,d,e,g)},u.prototype.AddInt32Attribute=u.prototype.AddInt32Attribute=function(b,c,d,e,g){var t=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),e&&"object"==typeof e&&(e=e.ptr),"object"==typeof g&&(g=W(g)),Qb(t,b,c,d,e,g)},u.prototype.AddUInt32Attribute=u.prototype.AddUInt32Attribute=function(b,c,d,e,g){var t=this.ptr;return m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),e&&"object"==typeof e&&(e=e.ptr),"object"==typeof g&&(g=W(g)),Rb(t,b,c,d,e,g)},u.prototype.AddMetadata=u.prototype.AddMetadata=function(b,c){var d=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),!!Sb(d,b,c)},u.prototype.SetMetadataForAttribute=u.prototype.SetMetadataForAttribute=function(b,c,d){var e=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),!!Tb(e,b,c,d)},u.prototype.__destroy__=u.prototype.__destroy__=function(){Ub(this.ptr)},x.prototype=Object.create(y.prototype),x.prototype.constructor=x,x.prototype.__class__=x,x.__cache__={},a.Encoder=x,x.prototype.SetEncodingMethod=x.prototype.SetEncodingMethod=function(b){var c=this.ptr;b&&"object"==typeof b&&(b=b.ptr),Vb(c,b)},x.prototype.SetAttributeQuantization=x.prototype.SetAttributeQuantization=function(b,c){var d=this.ptr;b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),Wb(d,b,c)},x.prototype.SetAttributeExplicitQuantization=x.prototype.SetAttributeExplicitQuantization=function(b,c,d,e,g){var t=this.ptr;m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),"object"==typeof e&&(e=ba(e)),g&&"object"==typeof g&&(g=g.ptr),Xb(t,b,c,d,e,g)},x.prototype.SetSpeedOptions=x.prototype.SetSpeedOptions=function(b,c){var d=this.ptr;b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),Yb(d,b,c)},x.prototype.SetTrackEncodedProperties=x.prototype.SetTrackEncodedProperties=function(b){var c=this.ptr;b&&"object"==typeof b&&(b=b.ptr),Zb(c,b)},x.prototype.EncodeMeshToDracoBuffer=x.prototype.EncodeMeshToDracoBuffer=function(b,c){var d=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),$b(d,b,c)},x.prototype.EncodePointCloudToDracoBuffer=x.prototype.EncodePointCloudToDracoBuffer=function(b,c,d){var e=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),ac(e,b,c,d)},x.prototype.GetNumberOfEncodedPoints=x.prototype.GetNumberOfEncodedPoints=function(){return bc(this.ptr)},x.prototype.GetNumberOfEncodedFaces=x.prototype.GetNumberOfEncodedFaces=function(){return cc(this.ptr)},x.prototype.__destroy__=x.prototype.__destroy__=function(){dc(this.ptr)},A.prototype=Object.create(y.prototype),A.prototype.constructor=A,A.prototype.__class__=A,A.__cache__={},a.ExpertEncoder=A,A.prototype.SetEncodingMethod=A.prototype.SetEncodingMethod=function(b){var c=this.ptr;b&&"object"==typeof b&&(b=b.ptr),ec(c,b)},A.prototype.SetAttributeQuantization=A.prototype.SetAttributeQuantization=function(b,c){var d=this.ptr;b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),fc(d,b,c)},A.prototype.SetAttributeExplicitQuantization=A.prototype.SetAttributeExplicitQuantization=function(b,c,d,e,g){var t=this.ptr;m.prepare(),b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),"object"==typeof e&&(e=ba(e)),g&&"object"==typeof g&&(g=g.ptr),gc(t,b,c,d,e,g)},A.prototype.SetSpeedOptions=A.prototype.SetSpeedOptions=function(b,c){var d=this.ptr;b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),hc(d,b,c)},A.prototype.SetTrackEncodedProperties=A.prototype.SetTrackEncodedProperties=function(b){var c=this.ptr;b&&"object"==typeof b&&(b=b.ptr),ic(c,b)},A.prototype.EncodeToDracoBuffer=A.prototype.EncodeToDracoBuffer=function(b,c){var d=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),jc(d,b,c)},A.prototype.GetNumberOfEncodedPoints=A.prototype.GetNumberOfEncodedPoints=function(){return kc(this.ptr)},A.prototype.GetNumberOfEncodedFaces=A.prototype.GetNumberOfEncodedFaces=function(){return lc(this.ptr)},A.prototype.__destroy__=A.prototype.__destroy__=function(){mc(this.ptr)},function(){function b(){a.INVALID=nc(),a.POSITION=oc(),a.NORMAL=pc(),a.COLOR=qc(),a.TEX_COORD=rc(),a.GENERIC=sc(),a.INVALID_GEOMETRY_TYPE=tc(),a.POINT_CLOUD=uc(),a.TRIANGULAR_MESH=vc(),a.MESH_SEQUENTIAL_ENCODING=wc(),a.MESH_EDGEBREAKER_ENCODING=xc()}ya?b():Aa.unshift(b)}(),"function"==typeof a.onModuleParsed&&a.onModuleParsed(),p.ready});module.exports=DracoEncoderModule}).call(this,__webpack_require__(8),"packages/regl-worldview/node_modules/draco3d/draco_encoder_nodejs.js",__webpack_require__(16),"/")},function(module,exports,__webpack_require__){(function(global,__filename,process,__dirname){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.arrayIteratorImpl=function(l){var n=0;return function(){return n<l.length?{done:!1,value:l[n++]}:{done:!0}}},$jscomp.arrayIterator=function(l){return{next:$jscomp.arrayIteratorImpl(l)}},$jscomp.makeIterator=function(l){var n="undefined"!=typeof Symbol&&Symbol.iterator&&l[Symbol.iterator];return n?n.call(l):$jscomp.arrayIterator(l)},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,$jscomp.getGlobal=function(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var n=0;n<l.length;++n){var m=l[n];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,n,m){return l==Array.prototype||l==Object.prototype||(l[n]=m.value),l},$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$";$jscomp.polyfill=function(l,n,m,q){n&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(l,n,m,q):$jscomp.polyfillUnisolated(l,n,m,q))},$jscomp.polyfillUnisolated=function(l,n,m,q){for(m=$jscomp.global,l=l.split("."),q=0;q<l.length-1;q++){var h=l[q];if(!(h in m))return;m=m[h]}(n=n(q=m[l=l[l.length-1]]))!=q&&null!=n&&$jscomp.defineProperty(m,l,{configurable:!0,writable:!0,value:n})},$jscomp.polyfillIsolated=function(l,n,m,q){var h=l.split(".");l=1===h.length,q=h[0],q=!l&&q in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var A=0;A<h.length-1;A++){var g=h[A];if(!(g in q))return;q=q[g]}h=h[h.length-1],null!=(n=n(m=$jscomp.IS_SYMBOL_NATIVE&&"es6"===m?q[h]:null))&&(l?$jscomp.defineProperty($jscomp.polyfills,h,{configurable:!0,writable:!0,value:n}):n!==m&&($jscomp.propertyToPolyfillSymbol[h]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(h):$jscomp.POLYFILL_PREFIX+h,h=$jscomp.propertyToPolyfillSymbol[h],$jscomp.defineProperty(q,h,{configurable:!0,writable:!0,value:n})))},$jscomp.polyfill("Promise",(function(l){function n(){this.batch_=null}function m(g){return g instanceof h?g:new h((function(p,u){p(g)}))}if(l&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&void 0===$jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return l;n.prototype.asyncExecute=function(g){if(null==this.batch_){this.batch_=[];var p=this;this.asyncExecuteFunction((function(){p.executeBatch_()}))}this.batch_.push(g)};var q=$jscomp.global.setTimeout;n.prototype.asyncExecuteFunction=function(g){q(g,0)},n.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var g=this.batch_;this.batch_=[];for(var p=0;p<g.length;++p){var u=g[p];g[p]=null;try{u()}catch(x){this.asyncThrow_(x)}}}this.batch_=null},n.prototype.asyncThrow_=function(g){this.asyncExecuteFunction((function(){throw g}))};var h=function(g){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[],this.isRejectionHandled_=!1;var p=this.createResolveAndReject_();try{g(p.resolve,p.reject)}catch(u){p.reject(u)}};h.prototype.createResolveAndReject_=function(){function g(x){return function(F){u||(u=!0,x.call(p,F))}}var p=this,u=!1;return{resolve:g(this.resolveTo_),reject:g(this.reject_)}},h.prototype.resolveTo_=function(g){if(g===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof h)this.settleSameAsPromise_(g);else{a:switch(typeof g){case"object":var p=null!=g;break a;case"function":p=!0;break a;default:p=!1}p?this.resolveToNonPromiseObj_(g):this.fulfill_(g)}},h.prototype.resolveToNonPromiseObj_=function(g){var p=void 0;try{p=g.then}catch(u){return void this.reject_(u)}"function"==typeof p?this.settleSameAsThenable_(p,g):this.fulfill_(g)},h.prototype.reject_=function(g){this.settle_(2,g)},h.prototype.fulfill_=function(g){this.settle_(1,g)},h.prototype.settle_=function(g,p){if(0!=this.state_)throw Error("Cannot settle("+g+", "+p+"): Promise already settled in state"+this.state_);this.state_=g,this.result_=p,2===this.state_&&this.scheduleUnhandledRejectionCheck_(),this.executeOnSettledCallbacks_()},h.prototype.scheduleUnhandledRejectionCheck_=function(){var g=this;q((function(){if(g.notifyUnhandledRejection_()){var p=$jscomp.global.console;void 0!==p&&p.error(g.result_)}}),1)},h.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var g=$jscomp.global.CustomEvent,p=$jscomp.global.Event,u=$jscomp.global.dispatchEvent;return void 0===u||("function"==typeof g?g=new g("unhandledrejection",{cancelable:!0}):"function"==typeof p?g=new p("unhandledrejection",{cancelable:!0}):(g=$jscomp.global.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,g),g.promise=this,g.reason=this.result_,u(g))},h.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var g=0;g<this.onSettledCallbacks_.length;++g)A.asyncExecute(this.onSettledCallbacks_[g]);this.onSettledCallbacks_=null}};var A=new n;return h.prototype.settleSameAsPromise_=function(g){var p=this.createResolveAndReject_();g.callWhenSettled_(p.resolve,p.reject)},h.prototype.settleSameAsThenable_=function(g,p){var u=this.createResolveAndReject_();try{g.call(p,u.resolve,u.reject)}catch(x){u.reject(x)}},h.prototype.then=function(g,p){function u(G,Y){return"function"==typeof G?function(ba){try{x(G(ba))}catch(fa){F(fa)}}:Y}var x,F,ka=new h((function(G,Y){x=G,F=Y}));return this.callWhenSettled_(u(g,x),u(p,F)),ka},h.prototype.catch=function(g){return this.then(void 0,g)},h.prototype.callWhenSettled_=function(g,p){function u(){switch(x.state_){case 1:g(x.result_);break;case 2:p(x.result_);break;default:throw Error("Unexpected state: "+x.state_)}}var x=this;null==this.onSettledCallbacks_?A.asyncExecute(u):this.onSettledCallbacks_.push(u),this.isRejectionHandled_=!0},h.resolve=m,h.reject=function(g){return new h((function(p,u){u(g)}))},h.race=function(g){return new h((function(p,u){for(var x=$jscomp.makeIterator(g),F=x.next();!F.done;F=x.next())m(F.value).callWhenSettled_(p,u)}))},h.all=function(g){var p=$jscomp.makeIterator(g),u=p.next();return u.done?m([]):new h((function(x,F){function ka(ba){return function(fa){G[ba]=fa,0==--Y&&x(G)}}var G=[],Y=0;do{G.push(void 0),Y++,m(u.value).callWhenSettled_(ka(G.length-1),F),u=p.next()}while(!u.done)}))},h}),"es6","es3"),$jscomp.checkEs6ConformanceViaProxy=function(){try{var l={},n=Object.create(new $jscomp.global.Proxy(l,{get:function(m,q,h){return m==l&&"q"==q&&h==n}}));return!0===n.q}catch(m){return!1}},$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy(),$jscomp.owns=function(l,n){return Object.prototype.hasOwnProperty.call(l,n)},$jscomp.polyfill("Array.prototype.copyWithin",(function(l){function n(m){return 1/0===(m=Number(m))||-1/0===m?m:0|m}return l||function(m,q,h){var A=this.length;if(m=n(m),q=n(q),h=void 0===h?A:n(h),m=0>m?Math.max(A+m,0):Math.min(m,A),q=0>q?Math.max(A+q,0):Math.min(q,A),h=0>h?Math.max(A+h,0):Math.min(h,A),m<q)for(;q<h;)q in this?this[m++]=this[q++]:(delete this[m++],q++);else for(m+=(h=Math.min(h,A+q-m))-q;h>q;)--h in this?this[--m]=this[h]:delete this[--m];return this}}),"es6","es3"),$jscomp.typedArrayCopyWithin=function(l){return l||Array.prototype.copyWithin},$jscomp.polyfill("Int8Array.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5"),$jscomp.polyfill("Uint8Array.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5"),$jscomp.polyfill("Uint8ClampedArray.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5"),$jscomp.polyfill("Int16Array.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5"),$jscomp.polyfill("Uint16Array.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5"),$jscomp.polyfill("Int32Array.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5"),$jscomp.polyfill("Uint32Array.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5"),$jscomp.polyfill("Float32Array.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5"),$jscomp.polyfill("Float64Array.prototype.copyWithin",$jscomp.typedArrayCopyWithin,"es6","es5");var l,DracoDecoderModule=(l=(l="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||__filename,function(n){function q(e,b){e||u("Assertion failed: "+b)}function h(e,b,c){var d=b+c;for(c=b;e[c]&&!(c>=d);)++c;if(16<c-b&&e.subarray&&Ea)return Ea.decode(e.subarray(b,c));for(d="";b<c;){var f=e[b++];if(128&f){var t=63&e[b++];if(192==(224&f))d+=String.fromCharCode((31&f)<<6|t);else{var ca=63&e[b++];65536>(f=224==(240&f)?(15&f)<<12|t<<6|ca:(7&f)<<18|t<<12|ca<<6|63&e[b++])?d+=String.fromCharCode(f):(f-=65536,d+=String.fromCharCode(55296|f>>10,56320|1023&f))}}else d+=String.fromCharCode(f)}return d}function A(e,b){return e?h(la,e,b):""}function g(e,b){return 0<e%b&&(e+=b-e%b),e}function p(e){ra=e,a.HEAP8=Z=new Int8Array(e),a.HEAP16=new Int16Array(e),a.HEAP32=H=new Int32Array(e),a.HEAPU8=la=new Uint8Array(e),a.HEAPU16=new Uint16Array(e),a.HEAPU32=new Uint32Array(e),a.HEAPF32=new Float32Array(e),a.HEAPF64=new Float64Array(e)}function u(e){throw a.onAbort&&a.onAbort(e),ja(e+=""),Fa=!0,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),va(e),e}function x(e,b){return String.prototype.startsWith?e.startsWith(b):0===e.indexOf(b)}function F(){try{if(ma)return new Uint8Array(ma);if(sa)return sa(W);throw"both async and sync fetching of the wasm failed"}catch(e){u(e)}}function G(e){for(;0<e.length;){var b=e.shift();if("function"==typeof b)b(a);else{var c=b.func;"number"==typeof c?void 0===b.arg?wa.get(c)():wa.get(c)(b.arg):c(void 0===b.arg?null:b.arg)}}}function Y(e){this.excPtr=e,this.ptr=e-D.SIZE,this.set_type=function(b){H[this.ptr+D.TYPE_OFFSET>>2]=b},this.get_type=function(){return H[this.ptr+D.TYPE_OFFSET>>2]},this.set_destructor=function(b){H[this.ptr+D.DESTRUCTOR_OFFSET>>2]=b},this.get_destructor=function(){return H[this.ptr+D.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(b){H[this.ptr+D.REFCOUNT_OFFSET>>2]=b},this.set_caught=function(b){Z[this.ptr+D.CAUGHT_OFFSET>>0]=b?1:0},this.get_caught=function(){return 0!=Z[this.ptr+D.CAUGHT_OFFSET>>0]},this.set_rethrown=function(b){Z[this.ptr+D.RETHROWN_OFFSET>>0]=b?1:0},this.get_rethrown=function(){return 0!=Z[this.ptr+D.RETHROWN_OFFSET>>0]},this.init=function(b,c){this.set_type(b),this.set_destructor(c),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){H[this.ptr+D.REFCOUNT_OFFSET>>2]+=1},this.release_ref=function(){var b=H[this.ptr+D.REFCOUNT_OFFSET>>2];return H[this.ptr+D.REFCOUNT_OFFSET>>2]=b-1,1===b}}function ba(){return 0<ba.uncaught_exceptions}function fa(e){function b(){if(!ua&&(ua=!0,a.calledRun=!0,!Fa)){if(Ga=!0,G(Ha),G(Ia),Ja(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)Ka.unshift(a.postRun.shift());G(Ka)}}if(!(0<ia)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)La.unshift(a.preRun.shift());G(La),0<ia||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),b()}),1)):b())}}function v(){}function z(e){return(e||v).__cache__}function S(e,b){var c=z(b),d=c[e];return d||((d=Object.create((b||v).prototype)).ptr=e,c[e]=d)}function da(e){if("string"==typeof e){for(var b=0,c=0;c<e.length;++c){var d=e.charCodeAt(c);55296<=d&&57343>=d&&(d=65536+((1023&d)<<10)|1023&e.charCodeAt(++c)),127>=d?++b:b=2047>=d?b+2:65535>=d?b+3:b+4}if(c=0,0<(d=(b=Array(b+1)).length)){d=c+d-1;for(var f=0;f<e.length;++f){var t=e.charCodeAt(f);if(55296<=t&&57343>=t&&(t=65536+((1023&t)<<10)|1023&e.charCodeAt(++f)),127>=t){if(c>=d)break;b[c++]=t}else{if(2047>=t){if(c+1>=d)break;b[c++]=192|t>>6}else{if(65535>=t){if(c+2>=d)break;b[c++]=224|t>>12}else{if(c+3>=d)break;b[c++]=240|t>>18,b[c++]=128|t>>12&63}b[c++]=128|t>>6&63}b[c++]=128|63&t}}b[c]=0}return e=r.alloc(b,Z),r.copy(b,Z,e),e}return e}function xa(e){if("object"==typeof e){var b=r.alloc(e,Z);return r.copy(e,Z,b),b}return e}function aa(){throw"cannot construct a VoidPtr, no constructor in IDL"}function T(){this.ptr=Ma(),z(T)[this.ptr]=this}function R(){this.ptr=Na(),z(R)[this.ptr]=this}function X(){this.ptr=Oa(),z(X)[this.ptr]=this}function w(){this.ptr=Pa(),z(w)[this.ptr]=this}function C(){this.ptr=Qa(),z(C)[this.ptr]=this}function I(){this.ptr=Ra(),z(I)[this.ptr]=this}function J(){this.ptr=Sa(),z(J)[this.ptr]=this}function E(){this.ptr=Ta(),z(E)[this.ptr]=this}function U(){this.ptr=Ua(),z(U)[this.ptr]=this}function B(){throw"cannot construct a Status, no constructor in IDL"}function K(){this.ptr=Va(),z(K)[this.ptr]=this}function L(){this.ptr=Wa(),z(L)[this.ptr]=this}function M(){this.ptr=Xa(),z(M)[this.ptr]=this}function N(){this.ptr=Ya(),z(N)[this.ptr]=this}function O(){this.ptr=Za(),z(O)[this.ptr]=this}function P(){this.ptr=$a(),z(P)[this.ptr]=this}function Q(){this.ptr=ab(),z(Q)[this.ptr]=this}function y(){this.ptr=bb(),z(y)[this.ptr]=this}function k(){this.ptr=cb(),z(k)[this.ptr]=this}var Ja,va,a=void 0!==(n=n||{})?n:{};a.ready=new Promise((function(e,b){Ja=e,va=b}));var db=!1,eb=!1;a.onRuntimeInitialized=function(){db=!0,eb&&"function"==typeof a.onModuleLoaded&&a.onModuleLoaded(a)},a.onModuleParsed=function(){eb=!0,db&&"function"==typeof a.onModuleLoaded&&a.onModuleLoaded(a)},a.isVersionSupported=function(e){return"string"==typeof e&&!(2>(e=e.split(".")).length||3<e.length)&&(1==e[0]&&0<=e[1]&&4>=e[1]||!(0!=e[0]||10<e[1]))};var ea,na={};for(ea in a)a.hasOwnProperty(ea)&&(na[ea]=a[ea]);var ya,fb,ta=!1,ha=!1;ta="object"==typeof window,ha="function"==typeof importScripts,ya="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,fb=!ta&&!ya&&!ha;var za,Aa,V="";if(ya){V=ha?__webpack_require__(44).dirname(V)+"/":__dirname+"/";var Ba=function(e,b){return za||(za=__webpack_require__(122)),Aa||(Aa=__webpack_require__(44)),e=Aa.normalize(e),za.readFileSync(e,b?null:"utf8")},sa=function(e){return(e=Ba(e,!0)).buffer||(e=new Uint8Array(e)),q(e.buffer),e};1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),a.inspect=function(){return"[Emscripten Module object]"}}else fb?("undefined"!=typeof read&&(Ba=function(e){return read(e)}),sa=function(e){return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(q("object"==typeof(e=read(e,"binary"))),e)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(ta||ha)&&(ha?V=self.location.href:"undefined"!=typeof document&&document.currentScript&&(V=document.currentScript.src),l&&(V=l),V=0!==V.indexOf("blob:")?V.substr(0,V.lastIndexOf("/")+1):"",Ba=function(e){var b=new XMLHttpRequest;return b.open("GET",e,!1),b.send(null),b.responseText},ha&&(sa=function(e){var b=new XMLHttpRequest;return b.open("GET",e,!1),b.responseType="arraybuffer",b.send(null),new Uint8Array(b.response)}));var ma,Ed=a.print||console.log.bind(console),ja=a.printErr||console.warn.bind(console);for(ea in na)na.hasOwnProperty(ea)&&(a[ea]=na[ea]);na=null,a.wasmBinary&&(ma=a.wasmBinary),"object"!=typeof WebAssembly&&u("no native wasm support detected");var oa,Fa=!1,Ea="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var Z,la,H,gb=a.INITIAL_MEMORY||16777216;if(oa=a.wasmMemory?a.wasmMemory:new WebAssembly.Memory({initial:gb/65536,maximum:32768}))var ra=oa.buffer;gb=ra.byteLength,p(ra);var wa,La=[],Ha=[],Ia=[],Ka=[],Ga=!1,ia=0,Ca=null,pa=null;a.preloadedImages={},a.preloadedAudios={};var e,W="draco_decoder.wasm";x(W,"data:application/octet-stream;base64,")||(e=W,W=a.locateFile?a.locateFile(e,V):V+e);var D={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16},qa={mappings:{},buffers:[null,[],[]],printChar:function(e,b){var c=qa.buffers[e];0===b||10===b?((1===e?Ed:ja)(h(c,0)),c.length=0):c.push(b)},varargs:void 0,get:function(){return qa.varargs+=4,H[qa.varargs-4>>2]},getStr:function(e){return A(e)},get64:function(e,b){return e}};Ha.push({func:function(){hb()}});var kb={__cxa_allocate_exception:function(e){return ib(e+D.SIZE)+D.SIZE},__cxa_throw:function(e,b,c){throw new Y(e).init(b,c),"uncaught_exception"in ba?ba.uncaught_exceptions++:ba.uncaught_exceptions=1,e},abort:function(){u()},array_bounds_check_error:function(e,b){throw"Array index "+e+" out of bounds: [0,"+b+")"},emscripten_memcpy_big:function(e,b,c){la.copyWithin(e,b,b+c)},emscripten_resize_heap:function(e){e>>>=0;var b=la.length;if(2147483648<e)return!1;for(var c=1;4>=c;c*=2){var d=b*(1+.2/c);d=Math.min(d,e+100663296),d=Math.min(2147483648,g(Math.max(16777216,e,d),65536));a:{try{oa.grow(d-ra.byteLength+65535>>>16),p(oa.buffer);var f=1;break a}catch(t){}f=void 0}if(f)return!0}return!1},fd_close:function(e){return 0},fd_seek:function(e,b,c,d,f){},fd_write:function(e,b,c,d){for(var f=0,t=0;t<c;t++){for(var ca=H[b+8*t>>2],jb=H[b+(8*t+4)>>2],Da=0;Da<jb;Da++)qa.printChar(e,la[ca+Da]);f+=jb}return H[d>>2]=f,0},memory:oa,setTempRet0:function(e){}};!function(){function e(f,t){a.asm=f.exports,wa=a.asm.__indirect_function_table,ia--,a.monitorRunDependencies&&a.monitorRunDependencies(ia),0==ia&&(null!==Ca&&(clearInterval(Ca),Ca=null),pa&&(f=pa,pa=null,f()))}function b(f){e(f.instance)}function c(f){return(ma||!ta&&!ha||"function"!=typeof fetch||x(W,"file://")?Promise.resolve().then(F):fetch(W,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+W+"'";return e.arrayBuffer()})).catch((function(){return F()}))).then((function(t){return WebAssembly.instantiate(t,d)})).then(f,(function(t){ja("failed to asynchronously prepare wasm: "+t),u(t)}))}var d={env:kb,wasi_snapshot_preview1:kb};if(ia++,a.monitorRunDependencies&&a.monitorRunDependencies(ia),a.instantiateWasm)try{return a.instantiateWasm(d,e)}catch(f){return ja("Module.instantiateWasm callback failed with error: "+f),!1}(ma||"function"!=typeof WebAssembly.instantiateStreaming||x(W,"data:application/octet-stream;base64,")||x(W,"file://")||"function"!=typeof fetch?c(b):fetch(W,{credentials:"same-origin"}).then((function(f){return WebAssembly.instantiateStreaming(f,d).then(b,(function(t){return ja("wasm streaming compile failed: "+t),ja("falling back to ArrayBuffer instantiation"),c(b)}))}))).catch(va)}();var hb=a.___wasm_call_ctors=function(){return(hb=a.___wasm_call_ctors=a.asm.__wasm_call_ctors).apply(null,arguments)};a.___em_js__array_bounds_check_error=function(){return(a.___em_js__array_bounds_check_error=a.asm.__em_js__array_bounds_check_error).apply(null,arguments)};var lb=a._emscripten_bind_VoidPtr___destroy___0=function(){return(lb=a._emscripten_bind_VoidPtr___destroy___0=a.asm.emscripten_bind_VoidPtr___destroy___0).apply(null,arguments)},Ma=a._emscripten_bind_DecoderBuffer_DecoderBuffer_0=function(){return(Ma=a._emscripten_bind_DecoderBuffer_DecoderBuffer_0=a.asm.emscripten_bind_DecoderBuffer_DecoderBuffer_0).apply(null,arguments)},mb=a._emscripten_bind_DecoderBuffer_Init_2=function(){return(mb=a._emscripten_bind_DecoderBuffer_Init_2=a.asm.emscripten_bind_DecoderBuffer_Init_2).apply(null,arguments)},nb=a._emscripten_bind_DecoderBuffer___destroy___0=function(){return(nb=a._emscripten_bind_DecoderBuffer___destroy___0=a.asm.emscripten_bind_DecoderBuffer___destroy___0).apply(null,arguments)},Na=a._emscripten_bind_AttributeTransformData_AttributeTransformData_0=function(){return(Na=a._emscripten_bind_AttributeTransformData_AttributeTransformData_0=a.asm.emscripten_bind_AttributeTransformData_AttributeTransformData_0).apply(null,arguments)},ob=a._emscripten_bind_AttributeTransformData_transform_type_0=function(){return(ob=a._emscripten_bind_AttributeTransformData_transform_type_0=a.asm.emscripten_bind_AttributeTransformData_transform_type_0).apply(null,arguments)},pb=a._emscripten_bind_AttributeTransformData___destroy___0=function(){return(pb=a._emscripten_bind_AttributeTransformData___destroy___0=a.asm.emscripten_bind_AttributeTransformData___destroy___0).apply(null,arguments)},Oa=a._emscripten_bind_GeometryAttribute_GeometryAttribute_0=function(){return(Oa=a._emscripten_bind_GeometryAttribute_GeometryAttribute_0=a.asm.emscripten_bind_GeometryAttribute_GeometryAttribute_0).apply(null,arguments)},qb=a._emscripten_bind_GeometryAttribute___destroy___0=function(){return(qb=a._emscripten_bind_GeometryAttribute___destroy___0=a.asm.emscripten_bind_GeometryAttribute___destroy___0).apply(null,arguments)},Pa=a._emscripten_bind_PointAttribute_PointAttribute_0=function(){return(Pa=a._emscripten_bind_PointAttribute_PointAttribute_0=a.asm.emscripten_bind_PointAttribute_PointAttribute_0).apply(null,arguments)},rb=a._emscripten_bind_PointAttribute_size_0=function(){return(rb=a._emscripten_bind_PointAttribute_size_0=a.asm.emscripten_bind_PointAttribute_size_0).apply(null,arguments)},sb=a._emscripten_bind_PointAttribute_GetAttributeTransformData_0=function(){return(sb=a._emscripten_bind_PointAttribute_GetAttributeTransformData_0=a.asm.emscripten_bind_PointAttribute_GetAttributeTransformData_0).apply(null,arguments)},tb=a._emscripten_bind_PointAttribute_attribute_type_0=function(){return(tb=a._emscripten_bind_PointAttribute_attribute_type_0=a.asm.emscripten_bind_PointAttribute_attribute_type_0).apply(null,arguments)},ub=a._emscripten_bind_PointAttribute_data_type_0=function(){return(ub=a._emscripten_bind_PointAttribute_data_type_0=a.asm.emscripten_bind_PointAttribute_data_type_0).apply(null,arguments)},vb=a._emscripten_bind_PointAttribute_num_components_0=function(){return(vb=a._emscripten_bind_PointAttribute_num_components_0=a.asm.emscripten_bind_PointAttribute_num_components_0).apply(null,arguments)},wb=a._emscripten_bind_PointAttribute_normalized_0=function(){return(wb=a._emscripten_bind_PointAttribute_normalized_0=a.asm.emscripten_bind_PointAttribute_normalized_0).apply(null,arguments)},xb=a._emscripten_bind_PointAttribute_byte_stride_0=function(){return(xb=a._emscripten_bind_PointAttribute_byte_stride_0=a.asm.emscripten_bind_PointAttribute_byte_stride_0).apply(null,arguments)},yb=a._emscripten_bind_PointAttribute_byte_offset_0=function(){return(yb=a._emscripten_bind_PointAttribute_byte_offset_0=a.asm.emscripten_bind_PointAttribute_byte_offset_0).apply(null,arguments)},zb=a._emscripten_bind_PointAttribute_unique_id_0=function(){return(zb=a._emscripten_bind_PointAttribute_unique_id_0=a.asm.emscripten_bind_PointAttribute_unique_id_0).apply(null,arguments)},Ab=a._emscripten_bind_PointAttribute___destroy___0=function(){return(Ab=a._emscripten_bind_PointAttribute___destroy___0=a.asm.emscripten_bind_PointAttribute___destroy___0).apply(null,arguments)},Qa=a._emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0=function(){return(Qa=a._emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0=a.asm.emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0).apply(null,arguments)},Bb=a._emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1=function(){return(Bb=a._emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1=a.asm.emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1).apply(null,arguments)},Cb=a._emscripten_bind_AttributeQuantizationTransform_quantization_bits_0=function(){return(Cb=a._emscripten_bind_AttributeQuantizationTransform_quantization_bits_0=a.asm.emscripten_bind_AttributeQuantizationTransform_quantization_bits_0).apply(null,arguments)},Db=a._emscripten_bind_AttributeQuantizationTransform_min_value_1=function(){return(Db=a._emscripten_bind_AttributeQuantizationTransform_min_value_1=a.asm.emscripten_bind_AttributeQuantizationTransform_min_value_1).apply(null,arguments)},Eb=a._emscripten_bind_AttributeQuantizationTransform_range_0=function(){return(Eb=a._emscripten_bind_AttributeQuantizationTransform_range_0=a.asm.emscripten_bind_AttributeQuantizationTransform_range_0).apply(null,arguments)},Fb=a._emscripten_bind_AttributeQuantizationTransform___destroy___0=function(){return(Fb=a._emscripten_bind_AttributeQuantizationTransform___destroy___0=a.asm.emscripten_bind_AttributeQuantizationTransform___destroy___0).apply(null,arguments)},Ra=a._emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0=function(){return(Ra=a._emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0=a.asm.emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0).apply(null,arguments)},Gb=a._emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1=function(){return(Gb=a._emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1=a.asm.emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1).apply(null,arguments)},Hb=a._emscripten_bind_AttributeOctahedronTransform_quantization_bits_0=function(){return(Hb=a._emscripten_bind_AttributeOctahedronTransform_quantization_bits_0=a.asm.emscripten_bind_AttributeOctahedronTransform_quantization_bits_0).apply(null,arguments)},Ib=a._emscripten_bind_AttributeOctahedronTransform___destroy___0=function(){return(Ib=a._emscripten_bind_AttributeOctahedronTransform___destroy___0=a.asm.emscripten_bind_AttributeOctahedronTransform___destroy___0).apply(null,arguments)},Sa=a._emscripten_bind_PointCloud_PointCloud_0=function(){return(Sa=a._emscripten_bind_PointCloud_PointCloud_0=a.asm.emscripten_bind_PointCloud_PointCloud_0).apply(null,arguments)},Jb=a._emscripten_bind_PointCloud_num_attributes_0=function(){return(Jb=a._emscripten_bind_PointCloud_num_attributes_0=a.asm.emscripten_bind_PointCloud_num_attributes_0).apply(null,arguments)},Kb=a._emscripten_bind_PointCloud_num_points_0=function(){return(Kb=a._emscripten_bind_PointCloud_num_points_0=a.asm.emscripten_bind_PointCloud_num_points_0).apply(null,arguments)},Lb=a._emscripten_bind_PointCloud___destroy___0=function(){return(Lb=a._emscripten_bind_PointCloud___destroy___0=a.asm.emscripten_bind_PointCloud___destroy___0).apply(null,arguments)},Ta=a._emscripten_bind_Mesh_Mesh_0=function(){return(Ta=a._emscripten_bind_Mesh_Mesh_0=a.asm.emscripten_bind_Mesh_Mesh_0).apply(null,arguments)},Mb=a._emscripten_bind_Mesh_num_faces_0=function(){return(Mb=a._emscripten_bind_Mesh_num_faces_0=a.asm.emscripten_bind_Mesh_num_faces_0).apply(null,arguments)},Nb=a._emscripten_bind_Mesh_num_attributes_0=function(){return(Nb=a._emscripten_bind_Mesh_num_attributes_0=a.asm.emscripten_bind_Mesh_num_attributes_0).apply(null,arguments)},Ob=a._emscripten_bind_Mesh_num_points_0=function(){return(Ob=a._emscripten_bind_Mesh_num_points_0=a.asm.emscripten_bind_Mesh_num_points_0).apply(null,arguments)},Pb=a._emscripten_bind_Mesh___destroy___0=function(){return(Pb=a._emscripten_bind_Mesh___destroy___0=a.asm.emscripten_bind_Mesh___destroy___0).apply(null,arguments)},Ua=a._emscripten_bind_Metadata_Metadata_0=function(){return(Ua=a._emscripten_bind_Metadata_Metadata_0=a.asm.emscripten_bind_Metadata_Metadata_0).apply(null,arguments)},Qb=a._emscripten_bind_Metadata___destroy___0=function(){return(Qb=a._emscripten_bind_Metadata___destroy___0=a.asm.emscripten_bind_Metadata___destroy___0).apply(null,arguments)},Rb=a._emscripten_bind_Status_code_0=function(){return(Rb=a._emscripten_bind_Status_code_0=a.asm.emscripten_bind_Status_code_0).apply(null,arguments)},Sb=a._emscripten_bind_Status_ok_0=function(){return(Sb=a._emscripten_bind_Status_ok_0=a.asm.emscripten_bind_Status_ok_0).apply(null,arguments)},Tb=a._emscripten_bind_Status_error_msg_0=function(){return(Tb=a._emscripten_bind_Status_error_msg_0=a.asm.emscripten_bind_Status_error_msg_0).apply(null,arguments)},Ub=a._emscripten_bind_Status___destroy___0=function(){return(Ub=a._emscripten_bind_Status___destroy___0=a.asm.emscripten_bind_Status___destroy___0).apply(null,arguments)},Va=a._emscripten_bind_DracoFloat32Array_DracoFloat32Array_0=function(){return(Va=a._emscripten_bind_DracoFloat32Array_DracoFloat32Array_0=a.asm.emscripten_bind_DracoFloat32Array_DracoFloat32Array_0).apply(null,arguments)},Vb=a._emscripten_bind_DracoFloat32Array_GetValue_1=function(){return(Vb=a._emscripten_bind_DracoFloat32Array_GetValue_1=a.asm.emscripten_bind_DracoFloat32Array_GetValue_1).apply(null,arguments)},Wb=a._emscripten_bind_DracoFloat32Array_size_0=function(){return(Wb=a._emscripten_bind_DracoFloat32Array_size_0=a.asm.emscripten_bind_DracoFloat32Array_size_0).apply(null,arguments)},Xb=a._emscripten_bind_DracoFloat32Array___destroy___0=function(){return(Xb=a._emscripten_bind_DracoFloat32Array___destroy___0=a.asm.emscripten_bind_DracoFloat32Array___destroy___0).apply(null,arguments)},Wa=a._emscripten_bind_DracoInt8Array_DracoInt8Array_0=function(){return(Wa=a._emscripten_bind_DracoInt8Array_DracoInt8Array_0=a.asm.emscripten_bind_DracoInt8Array_DracoInt8Array_0).apply(null,arguments)},Yb=a._emscripten_bind_DracoInt8Array_GetValue_1=function(){return(Yb=a._emscripten_bind_DracoInt8Array_GetValue_1=a.asm.emscripten_bind_DracoInt8Array_GetValue_1).apply(null,arguments)},Zb=a._emscripten_bind_DracoInt8Array_size_0=function(){return(Zb=a._emscripten_bind_DracoInt8Array_size_0=a.asm.emscripten_bind_DracoInt8Array_size_0).apply(null,arguments)},$b=a._emscripten_bind_DracoInt8Array___destroy___0=function(){return($b=a._emscripten_bind_DracoInt8Array___destroy___0=a.asm.emscripten_bind_DracoInt8Array___destroy___0).apply(null,arguments)},Xa=a._emscripten_bind_DracoUInt8Array_DracoUInt8Array_0=function(){return(Xa=a._emscripten_bind_DracoUInt8Array_DracoUInt8Array_0=a.asm.emscripten_bind_DracoUInt8Array_DracoUInt8Array_0).apply(null,arguments)},ac=a._emscripten_bind_DracoUInt8Array_GetValue_1=function(){return(ac=a._emscripten_bind_DracoUInt8Array_GetValue_1=a.asm.emscripten_bind_DracoUInt8Array_GetValue_1).apply(null,arguments)},bc=a._emscripten_bind_DracoUInt8Array_size_0=function(){return(bc=a._emscripten_bind_DracoUInt8Array_size_0=a.asm.emscripten_bind_DracoUInt8Array_size_0).apply(null,arguments)},cc=a._emscripten_bind_DracoUInt8Array___destroy___0=function(){return(cc=a._emscripten_bind_DracoUInt8Array___destroy___0=a.asm.emscripten_bind_DracoUInt8Array___destroy___0).apply(null,arguments)},Ya=a._emscripten_bind_DracoInt16Array_DracoInt16Array_0=function(){return(Ya=a._emscripten_bind_DracoInt16Array_DracoInt16Array_0=a.asm.emscripten_bind_DracoInt16Array_DracoInt16Array_0).apply(null,arguments)},dc=a._emscripten_bind_DracoInt16Array_GetValue_1=function(){return(dc=a._emscripten_bind_DracoInt16Array_GetValue_1=a.asm.emscripten_bind_DracoInt16Array_GetValue_1).apply(null,arguments)},ec=a._emscripten_bind_DracoInt16Array_size_0=function(){return(ec=a._emscripten_bind_DracoInt16Array_size_0=a.asm.emscripten_bind_DracoInt16Array_size_0).apply(null,arguments)},fc=a._emscripten_bind_DracoInt16Array___destroy___0=function(){return(fc=a._emscripten_bind_DracoInt16Array___destroy___0=a.asm.emscripten_bind_DracoInt16Array___destroy___0).apply(null,arguments)},Za=a._emscripten_bind_DracoUInt16Array_DracoUInt16Array_0=function(){return(Za=a._emscripten_bind_DracoUInt16Array_DracoUInt16Array_0=a.asm.emscripten_bind_DracoUInt16Array_DracoUInt16Array_0).apply(null,arguments)},gc=a._emscripten_bind_DracoUInt16Array_GetValue_1=function(){return(gc=a._emscripten_bind_DracoUInt16Array_GetValue_1=a.asm.emscripten_bind_DracoUInt16Array_GetValue_1).apply(null,arguments)},hc=a._emscripten_bind_DracoUInt16Array_size_0=function(){return(hc=a._emscripten_bind_DracoUInt16Array_size_0=a.asm.emscripten_bind_DracoUInt16Array_size_0).apply(null,arguments)},ic=a._emscripten_bind_DracoUInt16Array___destroy___0=function(){return(ic=a._emscripten_bind_DracoUInt16Array___destroy___0=a.asm.emscripten_bind_DracoUInt16Array___destroy___0).apply(null,arguments)},$a=a._emscripten_bind_DracoInt32Array_DracoInt32Array_0=function(){return($a=a._emscripten_bind_DracoInt32Array_DracoInt32Array_0=a.asm.emscripten_bind_DracoInt32Array_DracoInt32Array_0).apply(null,arguments)},jc=a._emscripten_bind_DracoInt32Array_GetValue_1=function(){return(jc=a._emscripten_bind_DracoInt32Array_GetValue_1=a.asm.emscripten_bind_DracoInt32Array_GetValue_1).apply(null,arguments)},kc=a._emscripten_bind_DracoInt32Array_size_0=function(){return(kc=a._emscripten_bind_DracoInt32Array_size_0=a.asm.emscripten_bind_DracoInt32Array_size_0).apply(null,arguments)},lc=a._emscripten_bind_DracoInt32Array___destroy___0=function(){return(lc=a._emscripten_bind_DracoInt32Array___destroy___0=a.asm.emscripten_bind_DracoInt32Array___destroy___0).apply(null,arguments)},ab=a._emscripten_bind_DracoUInt32Array_DracoUInt32Array_0=function(){return(ab=a._emscripten_bind_DracoUInt32Array_DracoUInt32Array_0=a.asm.emscripten_bind_DracoUInt32Array_DracoUInt32Array_0).apply(null,arguments)},mc=a._emscripten_bind_DracoUInt32Array_GetValue_1=function(){return(mc=a._emscripten_bind_DracoUInt32Array_GetValue_1=a.asm.emscripten_bind_DracoUInt32Array_GetValue_1).apply(null,arguments)},nc=a._emscripten_bind_DracoUInt32Array_size_0=function(){return(nc=a._emscripten_bind_DracoUInt32Array_size_0=a.asm.emscripten_bind_DracoUInt32Array_size_0).apply(null,arguments)},oc=a._emscripten_bind_DracoUInt32Array___destroy___0=function(){return(oc=a._emscripten_bind_DracoUInt32Array___destroy___0=a.asm.emscripten_bind_DracoUInt32Array___destroy___0).apply(null,arguments)},bb=a._emscripten_bind_MetadataQuerier_MetadataQuerier_0=function(){return(bb=a._emscripten_bind_MetadataQuerier_MetadataQuerier_0=a.asm.emscripten_bind_MetadataQuerier_MetadataQuerier_0).apply(null,arguments)},pc=a._emscripten_bind_MetadataQuerier_HasEntry_2=function(){return(pc=a._emscripten_bind_MetadataQuerier_HasEntry_2=a.asm.emscripten_bind_MetadataQuerier_HasEntry_2).apply(null,arguments)},qc=a._emscripten_bind_MetadataQuerier_GetIntEntry_2=function(){return(qc=a._emscripten_bind_MetadataQuerier_GetIntEntry_2=a.asm.emscripten_bind_MetadataQuerier_GetIntEntry_2).apply(null,arguments)},rc=a._emscripten_bind_MetadataQuerier_GetIntEntryArray_3=function(){return(rc=a._emscripten_bind_MetadataQuerier_GetIntEntryArray_3=a.asm.emscripten_bind_MetadataQuerier_GetIntEntryArray_3).apply(null,arguments)},sc=a._emscripten_bind_MetadataQuerier_GetDoubleEntry_2=function(){return(sc=a._emscripten_bind_MetadataQuerier_GetDoubleEntry_2=a.asm.emscripten_bind_MetadataQuerier_GetDoubleEntry_2).apply(null,arguments)},tc=a._emscripten_bind_MetadataQuerier_GetStringEntry_2=function(){return(tc=a._emscripten_bind_MetadataQuerier_GetStringEntry_2=a.asm.emscripten_bind_MetadataQuerier_GetStringEntry_2).apply(null,arguments)},uc=a._emscripten_bind_MetadataQuerier_NumEntries_1=function(){return(uc=a._emscripten_bind_MetadataQuerier_NumEntries_1=a.asm.emscripten_bind_MetadataQuerier_NumEntries_1).apply(null,arguments)},vc=a._emscripten_bind_MetadataQuerier_GetEntryName_2=function(){return(vc=a._emscripten_bind_MetadataQuerier_GetEntryName_2=a.asm.emscripten_bind_MetadataQuerier_GetEntryName_2).apply(null,arguments)},wc=a._emscripten_bind_MetadataQuerier___destroy___0=function(){return(wc=a._emscripten_bind_MetadataQuerier___destroy___0=a.asm.emscripten_bind_MetadataQuerier___destroy___0).apply(null,arguments)},cb=a._emscripten_bind_Decoder_Decoder_0=function(){return(cb=a._emscripten_bind_Decoder_Decoder_0=a.asm.emscripten_bind_Decoder_Decoder_0).apply(null,arguments)},xc=a._emscripten_bind_Decoder_DecodeArrayToPointCloud_3=function(){return(xc=a._emscripten_bind_Decoder_DecodeArrayToPointCloud_3=a.asm.emscripten_bind_Decoder_DecodeArrayToPointCloud_3).apply(null,arguments)},yc=a._emscripten_bind_Decoder_DecodeArrayToMesh_3=function(){return(yc=a._emscripten_bind_Decoder_DecodeArrayToMesh_3=a.asm.emscripten_bind_Decoder_DecodeArrayToMesh_3).apply(null,arguments)},zc=a._emscripten_bind_Decoder_GetAttributeId_2=function(){return(zc=a._emscripten_bind_Decoder_GetAttributeId_2=a.asm.emscripten_bind_Decoder_GetAttributeId_2).apply(null,arguments)},Ac=a._emscripten_bind_Decoder_GetAttributeIdByName_2=function(){return(Ac=a._emscripten_bind_Decoder_GetAttributeIdByName_2=a.asm.emscripten_bind_Decoder_GetAttributeIdByName_2).apply(null,arguments)},Bc=a._emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3=function(){return(Bc=a._emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3=a.asm.emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3).apply(null,arguments)},Cc=a._emscripten_bind_Decoder_GetAttribute_2=function(){return(Cc=a._emscripten_bind_Decoder_GetAttribute_2=a.asm.emscripten_bind_Decoder_GetAttribute_2).apply(null,arguments)},Dc=a._emscripten_bind_Decoder_GetAttributeByUniqueId_2=function(){return(Dc=a._emscripten_bind_Decoder_GetAttributeByUniqueId_2=a.asm.emscripten_bind_Decoder_GetAttributeByUniqueId_2).apply(null,arguments)},Ec=a._emscripten_bind_Decoder_GetMetadata_1=function(){return(Ec=a._emscripten_bind_Decoder_GetMetadata_1=a.asm.emscripten_bind_Decoder_GetMetadata_1).apply(null,arguments)},Fc=a._emscripten_bind_Decoder_GetAttributeMetadata_2=function(){return(Fc=a._emscripten_bind_Decoder_GetAttributeMetadata_2=a.asm.emscripten_bind_Decoder_GetAttributeMetadata_2).apply(null,arguments)},Gc=a._emscripten_bind_Decoder_GetFaceFromMesh_3=function(){return(Gc=a._emscripten_bind_Decoder_GetFaceFromMesh_3=a.asm.emscripten_bind_Decoder_GetFaceFromMesh_3).apply(null,arguments)},Hc=a._emscripten_bind_Decoder_GetTriangleStripsFromMesh_2=function(){return(Hc=a._emscripten_bind_Decoder_GetTriangleStripsFromMesh_2=a.asm.emscripten_bind_Decoder_GetTriangleStripsFromMesh_2).apply(null,arguments)},Ic=a._emscripten_bind_Decoder_GetTrianglesUInt16Array_3=function(){return(Ic=a._emscripten_bind_Decoder_GetTrianglesUInt16Array_3=a.asm.emscripten_bind_Decoder_GetTrianglesUInt16Array_3).apply(null,arguments)},Jc=a._emscripten_bind_Decoder_GetTrianglesUInt32Array_3=function(){return(Jc=a._emscripten_bind_Decoder_GetTrianglesUInt32Array_3=a.asm.emscripten_bind_Decoder_GetTrianglesUInt32Array_3).apply(null,arguments)},Kc=a._emscripten_bind_Decoder_GetAttributeFloat_3=function(){return(Kc=a._emscripten_bind_Decoder_GetAttributeFloat_3=a.asm.emscripten_bind_Decoder_GetAttributeFloat_3).apply(null,arguments)},Lc=a._emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3=function(){return(Lc=a._emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3=a.asm.emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3).apply(null,arguments)},Mc=a._emscripten_bind_Decoder_GetAttributeIntForAllPoints_3=function(){return(Mc=a._emscripten_bind_Decoder_GetAttributeIntForAllPoints_3=a.asm.emscripten_bind_Decoder_GetAttributeIntForAllPoints_3).apply(null,arguments)},Nc=a._emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3=function(){return(Nc=a._emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3=a.asm.emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3).apply(null,arguments)},Oc=a._emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3=function(){return(Oc=a._emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3=a.asm.emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3).apply(null,arguments)},Pc=a._emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3=function(){return(Pc=a._emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3=a.asm.emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3).apply(null,arguments)},Qc=a._emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3=function(){return(Qc=a._emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3=a.asm.emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3).apply(null,arguments)},Rc=a._emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3=function(){return(Rc=a._emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3=a.asm.emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3).apply(null,arguments)},Sc=a._emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3=function(){return(Sc=a._emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3=a.asm.emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3).apply(null,arguments)},Tc=a._emscripten_bind_Decoder_GetAttributeDataArrayForAllPoints_5=function(){return(Tc=a._emscripten_bind_Decoder_GetAttributeDataArrayForAllPoints_5=a.asm.emscripten_bind_Decoder_GetAttributeDataArrayForAllPoints_5).apply(null,arguments)},Uc=a._emscripten_bind_Decoder_SkipAttributeTransform_1=function(){return(Uc=a._emscripten_bind_Decoder_SkipAttributeTransform_1=a.asm.emscripten_bind_Decoder_SkipAttributeTransform_1).apply(null,arguments)},Vc=a._emscripten_bind_Decoder_GetEncodedGeometryType_Deprecated_1=function(){return(Vc=a._emscripten_bind_Decoder_GetEncodedGeometryType_Deprecated_1=a.asm.emscripten_bind_Decoder_GetEncodedGeometryType_Deprecated_1).apply(null,arguments)},Wc=a._emscripten_bind_Decoder_DecodeBufferToPointCloud_2=function(){return(Wc=a._emscripten_bind_Decoder_DecodeBufferToPointCloud_2=a.asm.emscripten_bind_Decoder_DecodeBufferToPointCloud_2).apply(null,arguments)},Xc=a._emscripten_bind_Decoder_DecodeBufferToMesh_2=function(){return(Xc=a._emscripten_bind_Decoder_DecodeBufferToMesh_2=a.asm.emscripten_bind_Decoder_DecodeBufferToMesh_2).apply(null,arguments)},Yc=a._emscripten_bind_Decoder___destroy___0=function(){return(Yc=a._emscripten_bind_Decoder___destroy___0=a.asm.emscripten_bind_Decoder___destroy___0).apply(null,arguments)},Zc=a._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM=function(){return(Zc=a._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM=a.asm.emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM).apply(null,arguments)},$c=a._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM=function(){return($c=a._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM=a.asm.emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM).apply(null,arguments)},ad=a._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM=function(){return(ad=a._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM=a.asm.emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM).apply(null,arguments)},bd=a._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM=function(){return(bd=a._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM=a.asm.emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM).apply(null,arguments)},cd=a._emscripten_enum_draco_GeometryAttribute_Type_INVALID=function(){return(cd=a._emscripten_enum_draco_GeometryAttribute_Type_INVALID=a.asm.emscripten_enum_draco_GeometryAttribute_Type_INVALID).apply(null,arguments)},dd=a._emscripten_enum_draco_GeometryAttribute_Type_POSITION=function(){return(dd=a._emscripten_enum_draco_GeometryAttribute_Type_POSITION=a.asm.emscripten_enum_draco_GeometryAttribute_Type_POSITION).apply(null,arguments)},ed=a._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=function(){return(ed=a._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=a.asm.emscripten_enum_draco_GeometryAttribute_Type_NORMAL).apply(null,arguments)},fd=a._emscripten_enum_draco_GeometryAttribute_Type_COLOR=function(){return(fd=a._emscripten_enum_draco_GeometryAttribute_Type_COLOR=a.asm.emscripten_enum_draco_GeometryAttribute_Type_COLOR).apply(null,arguments)},gd=a._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=function(){return(gd=a._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=a.asm.emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD).apply(null,arguments)},hd=a._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=function(){return(hd=a._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=a.asm.emscripten_enum_draco_GeometryAttribute_Type_GENERIC).apply(null,arguments)},id=a._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=function(){return(id=a._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=a.asm.emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE).apply(null,arguments)},jd=a._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=function(){return(jd=a._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=a.asm.emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD).apply(null,arguments)},kd=a._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=function(){return(kd=a._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=a.asm.emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH).apply(null,arguments)},ld=a._emscripten_enum_draco_DataType_DT_INVALID=function(){return(ld=a._emscripten_enum_draco_DataType_DT_INVALID=a.asm.emscripten_enum_draco_DataType_DT_INVALID).apply(null,arguments)},md=a._emscripten_enum_draco_DataType_DT_INT8=function(){return(md=a._emscripten_enum_draco_DataType_DT_INT8=a.asm.emscripten_enum_draco_DataType_DT_INT8).apply(null,arguments)},nd=a._emscripten_enum_draco_DataType_DT_UINT8=function(){return(nd=a._emscripten_enum_draco_DataType_DT_UINT8=a.asm.emscripten_enum_draco_DataType_DT_UINT8).apply(null,arguments)},od=a._emscripten_enum_draco_DataType_DT_INT16=function(){return(od=a._emscripten_enum_draco_DataType_DT_INT16=a.asm.emscripten_enum_draco_DataType_DT_INT16).apply(null,arguments)},pd=a._emscripten_enum_draco_DataType_DT_UINT16=function(){return(pd=a._emscripten_enum_draco_DataType_DT_UINT16=a.asm.emscripten_enum_draco_DataType_DT_UINT16).apply(null,arguments)},qd=a._emscripten_enum_draco_DataType_DT_INT32=function(){return(qd=a._emscripten_enum_draco_DataType_DT_INT32=a.asm.emscripten_enum_draco_DataType_DT_INT32).apply(null,arguments)},rd=a._emscripten_enum_draco_DataType_DT_UINT32=function(){return(rd=a._emscripten_enum_draco_DataType_DT_UINT32=a.asm.emscripten_enum_draco_DataType_DT_UINT32).apply(null,arguments)},sd=a._emscripten_enum_draco_DataType_DT_INT64=function(){return(sd=a._emscripten_enum_draco_DataType_DT_INT64=a.asm.emscripten_enum_draco_DataType_DT_INT64).apply(null,arguments)},td=a._emscripten_enum_draco_DataType_DT_UINT64=function(){return(td=a._emscripten_enum_draco_DataType_DT_UINT64=a.asm.emscripten_enum_draco_DataType_DT_UINT64).apply(null,arguments)},ud=a._emscripten_enum_draco_DataType_DT_FLOAT32=function(){return(ud=a._emscripten_enum_draco_DataType_DT_FLOAT32=a.asm.emscripten_enum_draco_DataType_DT_FLOAT32).apply(null,arguments)},vd=a._emscripten_enum_draco_DataType_DT_FLOAT64=function(){return(vd=a._emscripten_enum_draco_DataType_DT_FLOAT64=a.asm.emscripten_enum_draco_DataType_DT_FLOAT64).apply(null,arguments)},wd=a._emscripten_enum_draco_DataType_DT_BOOL=function(){return(wd=a._emscripten_enum_draco_DataType_DT_BOOL=a.asm.emscripten_enum_draco_DataType_DT_BOOL).apply(null,arguments)},xd=a._emscripten_enum_draco_DataType_DT_TYPES_COUNT=function(){return(xd=a._emscripten_enum_draco_DataType_DT_TYPES_COUNT=a.asm.emscripten_enum_draco_DataType_DT_TYPES_COUNT).apply(null,arguments)},yd=a._emscripten_enum_draco_StatusCode_OK=function(){return(yd=a._emscripten_enum_draco_StatusCode_OK=a.asm.emscripten_enum_draco_StatusCode_OK).apply(null,arguments)},zd=a._emscripten_enum_draco_StatusCode_DRACO_ERROR=function(){return(zd=a._emscripten_enum_draco_StatusCode_DRACO_ERROR=a.asm.emscripten_enum_draco_StatusCode_DRACO_ERROR).apply(null,arguments)},Ad=a._emscripten_enum_draco_StatusCode_IO_ERROR=function(){return(Ad=a._emscripten_enum_draco_StatusCode_IO_ERROR=a.asm.emscripten_enum_draco_StatusCode_IO_ERROR).apply(null,arguments)},Bd=a._emscripten_enum_draco_StatusCode_INVALID_PARAMETER=function(){return(Bd=a._emscripten_enum_draco_StatusCode_INVALID_PARAMETER=a.asm.emscripten_enum_draco_StatusCode_INVALID_PARAMETER).apply(null,arguments)},Cd=a._emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION=function(){return(Cd=a._emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION=a.asm.emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION).apply(null,arguments)},Dd=a._emscripten_enum_draco_StatusCode_UNKNOWN_VERSION=function(){return(Dd=a._emscripten_enum_draco_StatusCode_UNKNOWN_VERSION=a.asm.emscripten_enum_draco_StatusCode_UNKNOWN_VERSION).apply(null,arguments)};a.___errno_location=function(){return(a.___errno_location=a.asm.__errno_location).apply(null,arguments)},a.stackSave=function(){return(a.stackSave=a.asm.stackSave).apply(null,arguments)},a.stackRestore=function(){return(a.stackRestore=a.asm.stackRestore).apply(null,arguments)},a.stackAlloc=function(){return(a.stackAlloc=a.asm.stackAlloc).apply(null,arguments)},a._setThrew=function(){return(a._setThrew=a.asm.setThrew).apply(null,arguments)},a._free=function(){return(a._free=a.asm.free).apply(null,arguments)};var ua,ib=a._malloc=function(){return(ib=a._malloc=a.asm.malloc).apply(null,arguments)};if(a.dynCall_jiji=function(){return(a.dynCall_jiji=a.asm.dynCall_jiji).apply(null,arguments)},pa=function b(){ua||fa(),ua||(pa=b)},a.run=fa,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();fa(),v.prototype=Object.create(v.prototype),v.prototype.constructor=v,v.prototype.__class__=v,v.__cache__={},a.WrapperObject=v,a.getCache=z,a.wrapPointer=S,a.castObject=function(b,c){return S(b.ptr,c)},a.NULL=S(0),a.destroy=function(b){if(!b.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";b.__destroy__(),delete z(b.__class__)[b.ptr]},a.compare=function(b,c){return b.ptr===c.ptr},a.getPointer=function(b){return b.ptr},a.getClass=function(b){return b.__class__};var r={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(r.needed){for(var b=0;b<r.temps.length;b++)a._free(r.temps[b]);r.temps.length=0,a._free(r.buffer),r.buffer=0,r.size+=r.needed,r.needed=0}r.buffer||(r.size+=128,r.buffer=a._malloc(r.size),q(r.buffer)),r.pos=0},alloc:function(b,c){return q(r.buffer),b=7+(b=b.length*c.BYTES_PER_ELEMENT)&-8,r.pos+b>=r.size?(q(0<b),r.needed+=b,c=a._malloc(b),r.temps.push(c)):(c=r.buffer+r.pos,r.pos+=b),c},copy:function(b,c,d){switch(d>>>=0,c.BYTES_PER_ELEMENT){case 2:d>>>=1;break;case 4:d>>>=2;break;case 8:d>>>=3}for(var f=0;f<b.length;f++)c[d+f]=b[f]}};return aa.prototype=Object.create(v.prototype),aa.prototype.constructor=aa,aa.prototype.__class__=aa,aa.__cache__={},a.VoidPtr=aa,aa.prototype.__destroy__=aa.prototype.__destroy__=function(){lb(this.ptr)},T.prototype=Object.create(v.prototype),T.prototype.constructor=T,T.prototype.__class__=T,T.__cache__={},a.DecoderBuffer=T,T.prototype.Init=T.prototype.Init=function(b,c){var d=this.ptr;r.prepare(),"object"==typeof b&&(b=xa(b)),c&&"object"==typeof c&&(c=c.ptr),mb(d,b,c)},T.prototype.__destroy__=T.prototype.__destroy__=function(){nb(this.ptr)},R.prototype=Object.create(v.prototype),R.prototype.constructor=R,R.prototype.__class__=R,R.__cache__={},a.AttributeTransformData=R,R.prototype.transform_type=R.prototype.transform_type=function(){return ob(this.ptr)},R.prototype.__destroy__=R.prototype.__destroy__=function(){pb(this.ptr)},X.prototype=Object.create(v.prototype),X.prototype.constructor=X,X.prototype.__class__=X,X.__cache__={},a.GeometryAttribute=X,X.prototype.__destroy__=X.prototype.__destroy__=function(){qb(this.ptr)},w.prototype=Object.create(v.prototype),w.prototype.constructor=w,w.prototype.__class__=w,w.__cache__={},a.PointAttribute=w,w.prototype.size=w.prototype.size=function(){return rb(this.ptr)},w.prototype.GetAttributeTransformData=w.prototype.GetAttributeTransformData=function(){return S(sb(this.ptr),R)},w.prototype.attribute_type=w.prototype.attribute_type=function(){return tb(this.ptr)},w.prototype.data_type=w.prototype.data_type=function(){return ub(this.ptr)},w.prototype.num_components=w.prototype.num_components=function(){return vb(this.ptr)},w.prototype.normalized=w.prototype.normalized=function(){return!!wb(this.ptr)},w.prototype.byte_stride=w.prototype.byte_stride=function(){return xb(this.ptr)},w.prototype.byte_offset=w.prototype.byte_offset=function(){return yb(this.ptr)},w.prototype.unique_id=w.prototype.unique_id=function(){return zb(this.ptr)},w.prototype.__destroy__=w.prototype.__destroy__=function(){Ab(this.ptr)},C.prototype=Object.create(v.prototype),C.prototype.constructor=C,C.prototype.__class__=C,C.__cache__={},a.AttributeQuantizationTransform=C,C.prototype.InitFromAttribute=C.prototype.InitFromAttribute=function(b){var c=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),!!Bb(c,b)},C.prototype.quantization_bits=C.prototype.quantization_bits=function(){return Cb(this.ptr)},C.prototype.min_value=C.prototype.min_value=function(b){var c=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),Db(c,b)},C.prototype.range=C.prototype.range=function(){return Eb(this.ptr)},C.prototype.__destroy__=C.prototype.__destroy__=function(){Fb(this.ptr)},I.prototype=Object.create(v.prototype),I.prototype.constructor=I,I.prototype.__class__=I,I.__cache__={},a.AttributeOctahedronTransform=I,I.prototype.InitFromAttribute=I.prototype.InitFromAttribute=function(b){var c=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),!!Gb(c,b)},I.prototype.quantization_bits=I.prototype.quantization_bits=function(){return Hb(this.ptr)},I.prototype.__destroy__=I.prototype.__destroy__=function(){Ib(this.ptr)},J.prototype=Object.create(v.prototype),J.prototype.constructor=J,J.prototype.__class__=J,J.__cache__={},a.PointCloud=J,J.prototype.num_attributes=J.prototype.num_attributes=function(){return Jb(this.ptr)},J.prototype.num_points=J.prototype.num_points=function(){return Kb(this.ptr)},J.prototype.__destroy__=J.prototype.__destroy__=function(){Lb(this.ptr)},E.prototype=Object.create(v.prototype),E.prototype.constructor=E,E.prototype.__class__=E,E.__cache__={},a.Mesh=E,E.prototype.num_faces=E.prototype.num_faces=function(){return Mb(this.ptr)},E.prototype.num_attributes=E.prototype.num_attributes=function(){return Nb(this.ptr)},E.prototype.num_points=E.prototype.num_points=function(){return Ob(this.ptr)},E.prototype.__destroy__=E.prototype.__destroy__=function(){Pb(this.ptr)},U.prototype=Object.create(v.prototype),U.prototype.constructor=U,U.prototype.__class__=U,U.__cache__={},a.Metadata=U,U.prototype.__destroy__=U.prototype.__destroy__=function(){Qb(this.ptr)},B.prototype=Object.create(v.prototype),B.prototype.constructor=B,B.prototype.__class__=B,B.__cache__={},a.Status=B,B.prototype.code=B.prototype.code=function(){return Rb(this.ptr)},B.prototype.ok=B.prototype.ok=function(){return!!Sb(this.ptr)},B.prototype.error_msg=B.prototype.error_msg=function(){return A(Tb(this.ptr))},B.prototype.__destroy__=B.prototype.__destroy__=function(){Ub(this.ptr)},K.prototype=Object.create(v.prototype),K.prototype.constructor=K,K.prototype.__class__=K,K.__cache__={},a.DracoFloat32Array=K,K.prototype.GetValue=K.prototype.GetValue=function(b){var c=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),Vb(c,b)},K.prototype.size=K.prototype.size=function(){return Wb(this.ptr)},K.prototype.__destroy__=K.prototype.__destroy__=function(){Xb(this.ptr)},L.prototype=Object.create(v.prototype),L.prototype.constructor=L,L.prototype.__class__=L,L.__cache__={},a.DracoInt8Array=L,L.prototype.GetValue=L.prototype.GetValue=function(b){var c=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),Yb(c,b)},L.prototype.size=L.prototype.size=function(){return Zb(this.ptr)},L.prototype.__destroy__=L.prototype.__destroy__=function(){$b(this.ptr)},M.prototype=Object.create(v.prototype),M.prototype.constructor=M,M.prototype.__class__=M,M.__cache__={},a.DracoUInt8Array=M,M.prototype.GetValue=M.prototype.GetValue=function(b){var c=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),ac(c,b)},M.prototype.size=M.prototype.size=function(){return bc(this.ptr)},M.prototype.__destroy__=M.prototype.__destroy__=function(){cc(this.ptr)},N.prototype=Object.create(v.prototype),N.prototype.constructor=N,N.prototype.__class__=N,N.__cache__={},a.DracoInt16Array=N,N.prototype.GetValue=N.prototype.GetValue=function(b){var c=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),dc(c,b)},N.prototype.size=N.prototype.size=function(){return ec(this.ptr)},N.prototype.__destroy__=N.prototype.__destroy__=function(){fc(this.ptr)},O.prototype=Object.create(v.prototype),O.prototype.constructor=O,O.prototype.__class__=O,O.__cache__={},a.DracoUInt16Array=O,O.prototype.GetValue=O.prototype.GetValue=function(b){var c=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),gc(c,b)},O.prototype.size=O.prototype.size=function(){return hc(this.ptr)},O.prototype.__destroy__=O.prototype.__destroy__=function(){ic(this.ptr)},P.prototype=Object.create(v.prototype),P.prototype.constructor=P,P.prototype.__class__=P,P.__cache__={},a.DracoInt32Array=P,P.prototype.GetValue=P.prototype.GetValue=function(b){var c=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),jc(c,b)},P.prototype.size=P.prototype.size=function(){return kc(this.ptr)},P.prototype.__destroy__=P.prototype.__destroy__=function(){lc(this.ptr)},Q.prototype=Object.create(v.prototype),Q.prototype.constructor=Q,Q.prototype.__class__=Q,Q.__cache__={},a.DracoUInt32Array=Q,Q.prototype.GetValue=Q.prototype.GetValue=function(b){var c=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),mc(c,b)},Q.prototype.size=Q.prototype.size=function(){return nc(this.ptr)},Q.prototype.__destroy__=Q.prototype.__destroy__=function(){oc(this.ptr)},y.prototype=Object.create(v.prototype),y.prototype.constructor=y,y.prototype.__class__=y,y.__cache__={},a.MetadataQuerier=y,y.prototype.HasEntry=y.prototype.HasEntry=function(b,c){var d=this.ptr;return r.prepare(),b&&"object"==typeof b&&(b=b.ptr),c=c&&"object"==typeof c?c.ptr:da(c),!!pc(d,b,c)},y.prototype.GetIntEntry=y.prototype.GetIntEntry=function(b,c){var d=this.ptr;return r.prepare(),b&&"object"==typeof b&&(b=b.ptr),c=c&&"object"==typeof c?c.ptr:da(c),qc(d,b,c)},y.prototype.GetIntEntryArray=y.prototype.GetIntEntryArray=function(b,c,d){var f=this.ptr;r.prepare(),b&&"object"==typeof b&&(b=b.ptr),c=c&&"object"==typeof c?c.ptr:da(c),d&&"object"==typeof d&&(d=d.ptr),rc(f,b,c,d)},y.prototype.GetDoubleEntry=y.prototype.GetDoubleEntry=function(b,c){var d=this.ptr;return r.prepare(),b&&"object"==typeof b&&(b=b.ptr),c=c&&"object"==typeof c?c.ptr:da(c),sc(d,b,c)},y.prototype.GetStringEntry=y.prototype.GetStringEntry=function(b,c){var d=this.ptr;return r.prepare(),b&&"object"==typeof b&&(b=b.ptr),c=c&&"object"==typeof c?c.ptr:da(c),A(tc(d,b,c))},y.prototype.NumEntries=y.prototype.NumEntries=function(b){var c=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),uc(c,b)},y.prototype.GetEntryName=y.prototype.GetEntryName=function(b,c){var d=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),A(vc(d,b,c))},y.prototype.__destroy__=y.prototype.__destroy__=function(){wc(this.ptr)},k.prototype=Object.create(v.prototype),k.prototype.constructor=k,k.prototype.__class__=k,k.__cache__={},a.Decoder=k,k.prototype.DecodeArrayToPointCloud=k.prototype.DecodeArrayToPointCloud=function(b,c,d){var f=this.ptr;return r.prepare(),"object"==typeof b&&(b=xa(b)),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),S(xc(f,b,c,d),B)},k.prototype.DecodeArrayToMesh=k.prototype.DecodeArrayToMesh=function(b,c,d){var f=this.ptr;return r.prepare(),"object"==typeof b&&(b=xa(b)),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),S(yc(f,b,c,d),B)},k.prototype.GetAttributeId=k.prototype.GetAttributeId=function(b,c){var d=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),zc(d,b,c)},k.prototype.GetAttributeIdByName=k.prototype.GetAttributeIdByName=function(b,c){var d=this.ptr;return r.prepare(),b&&"object"==typeof b&&(b=b.ptr),c=c&&"object"==typeof c?c.ptr:da(c),Ac(d,b,c)},k.prototype.GetAttributeIdByMetadataEntry=k.prototype.GetAttributeIdByMetadataEntry=function(b,c,d){var f=this.ptr;return r.prepare(),b&&"object"==typeof b&&(b=b.ptr),c=c&&"object"==typeof c?c.ptr:da(c),d=d&&"object"==typeof d?d.ptr:da(d),Bc(f,b,c,d)},k.prototype.GetAttribute=k.prototype.GetAttribute=function(b,c){var d=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),S(Cc(d,b,c),w)},k.prototype.GetAttributeByUniqueId=k.prototype.GetAttributeByUniqueId=function(b,c){var d=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),S(Dc(d,b,c),w)},k.prototype.GetMetadata=k.prototype.GetMetadata=function(b){var c=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),S(Ec(c,b),U)},k.prototype.GetAttributeMetadata=k.prototype.GetAttributeMetadata=function(b,c){var d=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),S(Fc(d,b,c),U)},k.prototype.GetFaceFromMesh=k.prototype.GetFaceFromMesh=function(b,c,d){var f=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),!!Gc(f,b,c,d)},k.prototype.GetTriangleStripsFromMesh=k.prototype.GetTriangleStripsFromMesh=function(b,c){var d=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),Hc(d,b,c)},k.prototype.GetTrianglesUInt16Array=k.prototype.GetTrianglesUInt16Array=function(b,c,d){var f=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),!!Ic(f,b,c,d)},k.prototype.GetTrianglesUInt32Array=k.prototype.GetTrianglesUInt32Array=function(b,c,d){var f=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),!!Jc(f,b,c,d)},k.prototype.GetAttributeFloat=k.prototype.GetAttributeFloat=function(b,c,d){var f=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),!!Kc(f,b,c,d)},k.prototype.GetAttributeFloatForAllPoints=k.prototype.GetAttributeFloatForAllPoints=function(b,c,d){var f=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),!!Lc(f,b,c,d)},k.prototype.GetAttributeIntForAllPoints=k.prototype.GetAttributeIntForAllPoints=function(b,c,d){var f=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),!!Mc(f,b,c,d)},k.prototype.GetAttributeInt8ForAllPoints=k.prototype.GetAttributeInt8ForAllPoints=function(b,c,d){var f=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),!!Nc(f,b,c,d)},k.prototype.GetAttributeUInt8ForAllPoints=k.prototype.GetAttributeUInt8ForAllPoints=function(b,c,d){var f=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),!!Oc(f,b,c,d)},k.prototype.GetAttributeInt16ForAllPoints=k.prototype.GetAttributeInt16ForAllPoints=function(b,c,d){var f=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),!!Pc(f,b,c,d)},k.prototype.GetAttributeUInt16ForAllPoints=k.prototype.GetAttributeUInt16ForAllPoints=function(b,c,d){var f=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),!!Qc(f,b,c,d)},k.prototype.GetAttributeInt32ForAllPoints=k.prototype.GetAttributeInt32ForAllPoints=function(b,c,d){var f=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),!!Rc(f,b,c,d)},k.prototype.GetAttributeUInt32ForAllPoints=k.prototype.GetAttributeUInt32ForAllPoints=function(b,c,d){var f=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),!!Sc(f,b,c,d)},k.prototype.GetAttributeDataArrayForAllPoints=k.prototype.GetAttributeDataArrayForAllPoints=function(b,c,d,f,t){var ca=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),d&&"object"==typeof d&&(d=d.ptr),f&&"object"==typeof f&&(f=f.ptr),t&&"object"==typeof t&&(t=t.ptr),!!Tc(ca,b,c,d,f,t)},k.prototype.SkipAttributeTransform=k.prototype.SkipAttributeTransform=function(b){var c=this.ptr;b&&"object"==typeof b&&(b=b.ptr),Uc(c,b)},k.prototype.GetEncodedGeometryType_Deprecated=k.prototype.GetEncodedGeometryType_Deprecated=function(b){var c=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),Vc(c,b)},k.prototype.DecodeBufferToPointCloud=k.prototype.DecodeBufferToPointCloud=function(b,c){var d=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),S(Wc(d,b,c),B)},k.prototype.DecodeBufferToMesh=k.prototype.DecodeBufferToMesh=function(b,c){var d=this.ptr;return b&&"object"==typeof b&&(b=b.ptr),c&&"object"==typeof c&&(c=c.ptr),S(Xc(d,b,c),B)},k.prototype.__destroy__=k.prototype.__destroy__=function(){Yc(this.ptr)},function(){function b(){a.ATTRIBUTE_INVALID_TRANSFORM=Zc(),a.ATTRIBUTE_NO_TRANSFORM=$c(),a.ATTRIBUTE_QUANTIZATION_TRANSFORM=ad(),a.ATTRIBUTE_OCTAHEDRON_TRANSFORM=bd(),a.INVALID=cd(),a.POSITION=dd(),a.NORMAL=ed(),a.COLOR=fd(),a.TEX_COORD=gd(),a.GENERIC=hd(),a.INVALID_GEOMETRY_TYPE=id(),a.POINT_CLOUD=jd(),a.TRIANGULAR_MESH=kd(),a.DT_INVALID=ld(),a.DT_INT8=md(),a.DT_UINT8=nd(),a.DT_INT16=od(),a.DT_UINT16=pd(),a.DT_INT32=qd(),a.DT_UINT32=rd(),a.DT_INT64=sd(),a.DT_UINT64=td(),a.DT_FLOAT32=ud(),a.DT_FLOAT64=vd(),a.DT_BOOL=wd(),a.DT_TYPES_COUNT=xd(),a.OK=yd(),a.DRACO_ERROR=zd(),a.IO_ERROR=Ad(),a.INVALID_PARAMETER=Bd(),a.UNSUPPORTED_VERSION=Cd(),a.UNKNOWN_VERSION=Dd()}Ga?b():Ia.unshift(b)}(),"function"==typeof a.onModuleParsed&&a.onModuleParsed(),a.Decoder.prototype.GetEncodedGeometryType=function(b){if(b.__class__&&b.__class__===a.DecoderBuffer)return a.Decoder.prototype.GetEncodedGeometryType_Deprecated(b);if(8>b.byteLength)return a.INVALID_GEOMETRY_TYPE;switch(b[7]){case 0:return a.POINT_CLOUD;case 1:return a.TRIANGULAR_MESH;default:return a.INVALID_GEOMETRY_TYPE}},n.ready});module.exports=DracoDecoderModule}).call(this,__webpack_require__(8),"packages/regl-worldview/node_modules/draco3d/draco_decoder_nodejs.js",__webpack_require__(16),"/")},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(43),baseClone=__webpack_require__(254),baseUnset=__webpack_require__(274),castPath=__webpack_require__(23),copyObject=__webpack_require__(28),customOmitClone=__webpack_require__(277),flatRest=__webpack_require__(279),getAllKeysIn=__webpack_require__(75),omit=flatRest((function(object,paths){var result={};if(null==object)return result;var isDeep=!1;paths=arrayMap(paths,(function(path){return path=castPath(path,object),isDeep||(isDeep=path.length>1),path})),copyObject(object,getAllKeysIn(object),result),isDeep&&(result=baseClone(result,7,customOmitClone));for(var length=paths.length;length--;)baseUnset(result,paths[length]);return result}));module.exports=omit},function(module,exports,__webpack_require__){var Stack=__webpack_require__(65),arrayEach=__webpack_require__(255),assignValue=__webpack_require__(74),baseAssign=__webpack_require__(256),baseAssignIn=__webpack_require__(257),cloneBuffer=__webpack_require__(258),copyArray=__webpack_require__(259),copySymbols=__webpack_require__(260),copySymbolsIn=__webpack_require__(261),getAllKeys=__webpack_require__(113),getAllKeysIn=__webpack_require__(75),getTag=__webpack_require__(41),initCloneArray=__webpack_require__(262),initCloneByTag=__webpack_require__(263),initCloneObject=__webpack_require__(268),isArray=__webpack_require__(10),isBuffer=__webpack_require__(59),isMap=__webpack_require__(270),isObject=__webpack_require__(18),isSet=__webpack_require__(272),keys=__webpack_require__(27),cloneableTags={};cloneableTags["[object Arguments]"]=cloneableTags["[object Array]"]=cloneableTags["[object ArrayBuffer]"]=cloneableTags["[object DataView]"]=cloneableTags["[object Boolean]"]=cloneableTags["[object Date]"]=cloneableTags["[object Float32Array]"]=cloneableTags["[object Float64Array]"]=cloneableTags["[object Int8Array]"]=cloneableTags["[object Int16Array]"]=cloneableTags["[object Int32Array]"]=cloneableTags["[object Map]"]=cloneableTags["[object Number]"]=cloneableTags["[object Object]"]=cloneableTags["[object RegExp]"]=cloneableTags["[object Set]"]=cloneableTags["[object String]"]=cloneableTags["[object Symbol]"]=cloneableTags["[object Uint8Array]"]=cloneableTags["[object Uint8ClampedArray]"]=cloneableTags["[object Uint16Array]"]=cloneableTags["[object Uint32Array]"]=!0,cloneableTags["[object Error]"]=cloneableTags["[object Function]"]=cloneableTags["[object WeakMap]"]=!1,module.exports=function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=1&bitmask,isFlat=2&bitmask,isFull=4&bitmask;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc="[object Function]"==tag||"[object GeneratorFunction]"==tag;if(isBuffer(value))return cloneBuffer(value,isDeep);if("[object Object]"==tag||"[object Arguments]"==tag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;if(stack.set(value,result),isSet(value))return value.forEach((function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))})),result;if(isMap(value))return value.forEach((function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))})),result;var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys,props=isArr?void 0:keysFunc(value);return arrayEach(props||value,(function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))})),result}},function(module,exports){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(28),keys=__webpack_require__(27);module.exports=function(object,source){return object&&copyObject(source,keys(source),object)}},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(28),keysIn=__webpack_require__(120);module.exports=function(object,source){return object&&copyObject(source,keysIn(source),object)}},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(9),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;module.exports=function(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}}).call(this,__webpack_require__(19)(module))},function(module,exports){module.exports=function(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(28),getSymbols=__webpack_require__(70);module.exports=function(source,object){return copyObject(source,getSymbols(source),object)}},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(28),getSymbolsIn=__webpack_require__(119);module.exports=function(source,object){return copyObject(source,getSymbolsIn(source),object)}},function(module,exports){var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(77),cloneDataView=__webpack_require__(264),cloneRegExp=__webpack_require__(265),cloneSymbol=__webpack_require__(266),cloneTypedArray=__webpack_require__(267);module.exports=function(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case"[object ArrayBuffer]":return cloneArrayBuffer(object);case"[object Boolean]":case"[object Date]":return new Ctor(+object);case"[object DataView]":return cloneDataView(object,isDeep);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return cloneTypedArray(object,isDeep);case"[object Map]":return new Ctor;case"[object Number]":case"[object String]":return new Ctor(object);case"[object RegExp]":return cloneRegExp(object);case"[object Set]":return new Ctor;case"[object Symbol]":return cloneSymbol(object)}}},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(77);module.exports=function(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}},function(module,exports){var reFlags=/\w*$/;module.exports=function(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(22),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(77);module.exports=function(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}},function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(269),getPrototype=__webpack_require__(76),isPrototype=__webpack_require__(63);module.exports=function(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(18),objectCreate=Object.create,baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();module.exports=baseCreate},function(module,exports,__webpack_require__){var baseIsMap=__webpack_require__(271),baseUnary=__webpack_require__(36),nodeUtil=__webpack_require__(62),nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;module.exports=isMap},function(module,exports,__webpack_require__){var getTag=__webpack_require__(41),isObjectLike=__webpack_require__(12);module.exports=function(value){return isObjectLike(value)&&"[object Map]"==getTag(value)}},function(module,exports,__webpack_require__){var baseIsSet=__webpack_require__(273),baseUnary=__webpack_require__(36),nodeUtil=__webpack_require__(62),nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;module.exports=isSet},function(module,exports,__webpack_require__){var getTag=__webpack_require__(41),isObjectLike=__webpack_require__(12);module.exports=function(value){return isObjectLike(value)&&"[object Set]"==getTag(value)}},function(module,exports,__webpack_require__){var castPath=__webpack_require__(23),last=__webpack_require__(121),parent=__webpack_require__(275),toKey=__webpack_require__(24);module.exports=function(object,path){return path=castPath(path,object),null==(object=parent(object,path))||delete object[toKey(last(path))]}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(42),baseSlice=__webpack_require__(276);module.exports=function(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}},function(module,exports){module.exports=function(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}},function(module,exports,__webpack_require__){var isPlainObject=__webpack_require__(278);module.exports=function(value){return isPlainObject(value)?void 0:value}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(21),getPrototype=__webpack_require__(76),isObjectLike=__webpack_require__(12),funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);module.exports=function(value){if(!isObjectLike(value)||"[object Object]"!=baseGetTag(value))return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}},function(module,exports,__webpack_require__){var flatten=__webpack_require__(123),overRest=__webpack_require__(125),setToString=__webpack_require__(126);module.exports=function(func){return setToString(overRest(func,void 0,flatten),func+"")}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(22),isArguments=__webpack_require__(58),isArray=__webpack_require__(10),spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0;module.exports=function(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}},function(module,exports){module.exports=function(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}},function(module,exports,__webpack_require__){var constant=__webpack_require__(283),defineProperty=__webpack_require__(100),identity=__webpack_require__(73),baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;module.exports=baseSetToString},function(module,exports){module.exports=function(value){return function(){return value}}},function(module,exports){var nativeNow=Date.now;module.exports=function(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=800)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}},function(module,exports,__webpack_require__){"use strict";function distanceSquaredToLineSegment2(lx1,ly1,ldx,ldy,lineLengthSquared,px,py){var t;lineLengthSquared?(t=((px-lx1)*ldx+(py-ly1)*ldy)/lineLengthSquared)<0?t=0:t>1&&(t=1):t=0;var dx=px-(lx1+t*ldx),dy=py-(ly1+t*ldy);return dx*dx+dy*dy}function distanceSquaredToLineSegment(lx1,ly1,lx2,ly2,px,py){var ldx=lx2-lx1,ldy=ly2-ly1;return distanceSquaredToLineSegment2(lx1,ly1,ldx,ldy,ldx*ldx+ldy*ldy,px,py)}function distanceToLineSegment(lx1,ly1,lx2,ly2,px,py){return Math.sqrt(distanceSquaredToLineSegment(lx1,ly1,lx2,ly2,px,py))}distanceToLineSegment.squared=distanceSquaredToLineSegment,distanceToLineSegment.squaredWithPrecalc=distanceSquaredToLineSegment2,module.exports=distanceToLineSegment},function(module,exports,__webpack_require__){var objectWithoutPropertiesLoose=__webpack_require__(287);module.exports=function(source,excluded){if(null==source)return{};var key,i,target=objectWithoutPropertiesLoose(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}},function(module,exports){module.exports=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}},function(module,exports,__webpack_require__){"use strict";function earcut(data,holeIndices,dim){dim=dim||2;var minX,minY,maxX,maxY,x,y,invSize,hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:data.length,outerNode=linkedList(data,0,outerLen,dim,!0),triangles=[];if(!outerNode||outerNode.next===outerNode.prev)return triangles;if(hasHoles&&(outerNode=function(data,holeIndices,outerNode,dim){var i,len,start,end,list,queue=[];for(i=0,len=holeIndices.length;i<len;i++)start=holeIndices[i]*dim,end=i<len-1?holeIndices[i+1]*dim:data.length,(list=linkedList(data,start,end,dim,!1))===list.next&&(list.steiner=!0),queue.push(getLeftmost(list));for(queue.sort(compareX),i=0;i<queue.length;i++)eliminateHole(queue[i],outerNode),outerNode=filterPoints(outerNode,outerNode.next);return outerNode}(data,holeIndices,outerNode,dim)),data.length>80*dim){minX=maxX=data[0],minY=maxY=data[1];for(var i=dim;i<outerLen;i+=dim)(x=data[i])<minX&&(minX=x),(y=data[i+1])<minY&&(minY=y),x>maxX&&(maxX=x),y>maxY&&(maxY=y);invSize=0!==(invSize=Math.max(maxX-minX,maxY-minY))?1/invSize:0}return earcutLinked(outerNode,triangles,dim,minX,minY,invSize),triangles}function linkedList(data,start,end,dim,clockwise){var i,last;if(clockwise===signedArea(data,start,end,dim)>0)for(i=start;i<end;i+=dim)last=insertNode(i,data[i],data[i+1],last);else for(i=end-dim;i>=start;i-=dim)last=insertNode(i,data[i],data[i+1],last);return last&&equals(last,last.next)&&(removeNode(last),last=last.next),last}function filterPoints(start,end){if(!start)return start;end||(end=start);var again,p=start;do{if(again=!1,p.steiner||!equals(p,p.next)&&0!==area(p.prev,p,p.next))p=p.next;else{if(removeNode(p),(p=end=p.prev)===p.next)break;again=!0}}while(again||p!==end);return end}function earcutLinked(ear,triangles,dim,minX,minY,invSize,pass){if(ear){!pass&&invSize&&function(start,minX,minY,invSize){var p=start;do{null===p.z&&(p.z=zOrder(p.x,p.y,minX,minY,invSize)),p.prevZ=p.prev,p.nextZ=p.next,p=p.next}while(p!==start);p.prevZ.nextZ=null,p.prevZ=null,function(list){var i,p,q,e,tail,numMerges,pSize,qSize,inSize=1;do{for(p=list,list=null,tail=null,numMerges=0;p;){for(numMerges++,q=p,pSize=0,i=0;i<inSize&&(pSize++,q=q.nextZ);i++);for(qSize=inSize;pSize>0||qSize>0&&q;)0!==pSize&&(0===qSize||!q||p.z<=q.z)?(e=p,p=p.nextZ,pSize--):(e=q,q=q.nextZ,qSize--),tail?tail.nextZ=e:list=e,e.prevZ=tail,tail=e;p=q}tail.nextZ=null,inSize*=2}while(numMerges>1)}(p)}(ear,minX,minY,invSize);for(var prev,next,stop=ear;ear.prev!==ear.next;)if(prev=ear.prev,next=ear.next,invSize?isEarHashed(ear,minX,minY,invSize):isEar(ear))triangles.push(prev.i/dim),triangles.push(ear.i/dim),triangles.push(next.i/dim),removeNode(ear),ear=next.next,stop=next.next;else if((ear=next)===stop){pass?1===pass?earcutLinked(ear=cureLocalIntersections(ear,triangles,dim),triangles,dim,minX,minY,invSize,2):2===pass&&splitEarcut(ear,triangles,dim,minX,minY,invSize):earcutLinked(filterPoints(ear),triangles,dim,minX,minY,invSize,1);break}}}function isEar(ear){var a=ear.prev,b=ear,c=ear.next;if(area(a,b,c)>=0)return!1;for(var p=ear.next.next;p!==ear.prev;){if(pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function isEarHashed(ear,minX,minY,invSize){var a=ear.prev,b=ear,c=ear.next;if(area(a,b,c)>=0)return!1;for(var minTX=a.x<b.x?a.x<c.x?a.x:c.x:b.x<c.x?b.x:c.x,minTY=a.y<b.y?a.y<c.y?a.y:c.y:b.y<c.y?b.y:c.y,maxTX=a.x>b.x?a.x>c.x?a.x:c.x:b.x>c.x?b.x:c.x,maxTY=a.y>b.y?a.y>c.y?a.y:c.y:b.y>c.y?b.y:c.y,minZ=zOrder(minTX,minTY,minX,minY,invSize),maxZ=zOrder(maxTX,maxTY,minX,minY,invSize),p=ear.prevZ,n=ear.nextZ;p&&p.z>=minZ&&n&&n.z<=maxZ;){if(p!==ear.prev&&p!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,n!==ear.prev&&n!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,n.x,n.y)&&area(n.prev,n,n.next)>=0)return!1;n=n.nextZ}for(;p&&p.z>=minZ;){if(p!==ear.prev&&p!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;n&&n.z<=maxZ;){if(n!==ear.prev&&n!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,n.x,n.y)&&area(n.prev,n,n.next)>=0)return!1;n=n.nextZ}return!0}function cureLocalIntersections(start,triangles,dim){var p=start;do{var a=p.prev,b=p.next.next;!equals(a,b)&&intersects(a,p,p.next,b)&&locallyInside(a,b)&&locallyInside(b,a)&&(triangles.push(a.i/dim),triangles.push(p.i/dim),triangles.push(b.i/dim),removeNode(p),removeNode(p.next),p=start=b),p=p.next}while(p!==start);return p}function splitEarcut(start,triangles,dim,minX,minY,invSize){var a=start;do{for(var b=a.next.next;b!==a.prev;){if(a.i!==b.i&&isValidDiagonal(a,b)){var c=splitPolygon(a,b);return a=filterPoints(a,a.next),c=filterPoints(c,c.next),earcutLinked(a,triangles,dim,minX,minY,invSize),void earcutLinked(c,triangles,dim,minX,minY,invSize)}b=b.next}a=a.next}while(a!==start)}function compareX(a,b){return a.x-b.x}function eliminateHole(hole,outerNode){if(outerNode=function(hole,outerNode){var m,p=outerNode,hx=hole.x,hy=hole.y,qx=-1/0;do{if(hy<=p.y&&hy>=p.next.y&&p.next.y!==p.y){var x=p.x+(hy-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(x<=hx&&x>qx){if(qx=x,x===hx){if(hy===p.y)return p;if(hy===p.next.y)return p.next}m=p.x<p.next.x?p:p.next}}p=p.next}while(p!==outerNode);if(!m)return null;if(hx===qx)return m.prev;var tan,stop=m,mx=m.x,my=m.y,tanMin=1/0;p=m.next;for(;p!==stop;)hx>=p.x&&p.x>=mx&&hx!==p.x&&pointInTriangle(hy<my?hx:qx,hy,mx,my,hy<my?qx:hx,hy,p.x,p.y)&&((tan=Math.abs(hy-p.y)/(hx-p.x))<tanMin||tan===tanMin&&p.x>m.x)&&locallyInside(p,hole)&&(m=p,tanMin=tan),p=p.next;return m}(hole,outerNode)){var b=splitPolygon(outerNode,hole);filterPoints(b,b.next)}}function zOrder(x,y,minX,minY,invSize){return(x=1431655765&((x=858993459&((x=252645135&((x=16711935&((x=32767*(x-minX)*invSize)|x<<8))|x<<4))|x<<2))|x<<1))|(y=1431655765&((y=858993459&((y=252645135&((y=16711935&((y=32767*(y-minY)*invSize)|y<<8))|y<<4))|y<<2))|y<<1))<<1}function getLeftmost(start){var p=start,leftmost=start;do{(p.x<leftmost.x||p.x===leftmost.x&&p.y<leftmost.y)&&(leftmost=p),p=p.next}while(p!==start);return leftmost}function pointInTriangle(ax,ay,bx,by,cx,cy,px,py){return(cx-px)*(ay-py)-(ax-px)*(cy-py)>=0&&(ax-px)*(by-py)-(bx-px)*(ay-py)>=0&&(bx-px)*(cy-py)-(cx-px)*(by-py)>=0}function isValidDiagonal(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!function(a,b){var p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==b.i&&p.next.i!==b.i&&intersects(p,p.next,a,b))return!0;p=p.next}while(p!==a);return!1}(a,b)&&locallyInside(a,b)&&locallyInside(b,a)&&function(a,b){var p=a,inside=!1,px=(a.x+b.x)/2,py=(a.y+b.y)/2;do{p.y>py!=p.next.y>py&&p.next.y!==p.y&&px<(p.next.x-p.x)*(py-p.y)/(p.next.y-p.y)+p.x&&(inside=!inside),p=p.next}while(p!==a);return inside}(a,b)}function area(p,q,r){return(q.y-p.y)*(r.x-q.x)-(q.x-p.x)*(r.y-q.y)}function equals(p1,p2){return p1.x===p2.x&&p1.y===p2.y}function intersects(p1,q1,p2,q2){return!!(equals(p1,q1)&&equals(p2,q2)||equals(p1,q2)&&equals(p2,q1))||area(p1,q1,p2)>0!=area(p1,q1,q2)>0&&area(p2,q2,p1)>0!=area(p2,q2,q1)>0}function locallyInside(a,b){return area(a.prev,a,a.next)<0?area(a,b,a.next)>=0&&area(a,a.prev,b)>=0:area(a,b,a.prev)<0||area(a,a.next,b)<0}function splitPolygon(a,b){var a2=new Node(a.i,a.x,a.y),b2=new Node(b.i,b.x,b.y),an=a.next,bp=b.prev;return a.next=b,b.prev=a,a2.next=an,an.prev=a2,b2.next=a2,a2.prev=b2,bp.next=b2,b2.prev=bp,b2}function insertNode(i,x,y,last){var p=new Node(i,x,y);return last?(p.next=last.next,p.prev=last,last.next.prev=p,last.next=p):(p.prev=p,p.next=p),p}function removeNode(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function Node(i,x,y){this.i=i,this.x=x,this.y=y,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(data,start,end,dim){for(var sum=0,i=start,j=end-dim;i<end;i+=dim)sum+=(data[j]-data[i])*(data[i+1]+data[j+1]),j=i;return sum}module.exports=earcut,module.exports.default=earcut,earcut.deviation=function(data,holeIndices,dim,triangles){var hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:data.length,polygonArea=Math.abs(signedArea(data,0,outerLen,dim));if(hasHoles)for(var i=0,len=holeIndices.length;i<len;i++){var start=holeIndices[i]*dim,end=i<len-1?holeIndices[i+1]*dim:data.length;polygonArea-=Math.abs(signedArea(data,start,end,dim))}var trianglesArea=0;for(i=0;i<triangles.length;i+=3){var a=triangles[i]*dim,b=triangles[i+1]*dim,c=triangles[i+2]*dim;trianglesArea+=Math.abs((data[a]-data[c])*(data[b+1]-data[a+1])-(data[a]-data[b])*(data[c+1]-data[a+1]))}return 0===polygonArea&&0===trianglesArea?0:Math.abs((trianglesArea-polygonArea)/polygonArea)},earcut.flatten=function(data){for(var dim=data[0][0].length,result={vertices:[],holes:[],dimensions:dim},holeIndex=0,i=0;i<data.length;i++){for(var j=0;j<data[i].length;j++)for(var d=0;d<dim;d++)result.vertices.push(data[i][j][d]);i>0&&(holeIndex+=data[i-1].length,result.holes.push(holeIndex))}return result}},function(module,exports,__webpack_require__){"use strict";module.exports=TinySDF,module.exports.default=TinySDF;var INF=1e20;function TinySDF(fontSize,buffer,radius,cutoff,fontFamily,fontWeight){this.fontSize=fontSize||24,this.buffer=void 0===buffer?3:buffer,this.cutoff=cutoff||.25,this.fontFamily=fontFamily||"sans-serif",this.fontWeight=fontWeight||"normal",this.radius=radius||8;var size=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=size,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(size*size),this.gridInner=new Float64Array(size*size),this.f=new Float64Array(size),this.d=new Float64Array(size),this.z=new Float64Array(size+1),this.v=new Int16Array(size),this.middle=Math.round(size/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function edt(data,width,height,f,d,v,z){for(var x=0;x<width;x++){for(var y=0;y<height;y++)f[y]=data[y*width+x];for(edt1d(f,d,v,z,height),y=0;y<height;y++)data[y*width+x]=d[y]}for(y=0;y<height;y++){for(x=0;x<width;x++)f[x]=data[y*width+x];for(edt1d(f,d,v,z,width),x=0;x<width;x++)data[y*width+x]=Math.sqrt(d[x])}}function edt1d(f,d,v,z,n){v[0]=0,z[0]=-INF,z[1]=+INF;for(var q=1,k=0;q<n;q++){for(var s=(f[q]+q*q-(f[v[k]]+v[k]*v[k]))/(2*q-2*v[k]);s<=z[k];)k--,s=(f[q]+q*q-(f[v[k]]+v[k]*v[k]))/(2*q-2*v[k]);v[++k]=q,z[k]=s,z[k+1]=+INF}for(q=0,k=0;q<n;q++){for(;z[k+1]<q;)k++;d[q]=(q-v[k])*(q-v[k])+f[v[k]]}}TinySDF.prototype.draw=function(char){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(char,this.buffer,this.middle);for(var imgData=this.ctx.getImageData(0,0,this.size,this.size),alphaChannel=new Uint8ClampedArray(this.size*this.size),i=0;i<this.size*this.size;i++){var a=imgData.data[4*i+3]/255;this.gridOuter[i]=1===a?0:0===a?INF:Math.pow(Math.max(0,.5-a),2),this.gridInner[i]=1===a?INF:0===a?0:Math.pow(Math.max(0,a-.5),2)}for(edt(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),edt(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),i=0;i<this.size*this.size;i++){var d=this.gridOuter[i]-this.gridInner[i];alphaChannel[i]=Math.max(0,Math.min(255,Math.round(255-255*(d/this.radius+this.cutoff))))}return alphaChannel}},function(module,exports,__webpack_require__){var baseDifference=__webpack_require__(291),baseFlatten=__webpack_require__(124),baseRest=__webpack_require__(298),isArrayLikeObject=__webpack_require__(299),difference=baseRest((function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0)):[]}));module.exports=difference},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(110),arrayIncludes=__webpack_require__(292),arrayIncludesWith=__webpack_require__(297),arrayMap=__webpack_require__(43),baseUnary=__webpack_require__(36),cacheHas=__webpack_require__(111);module.exports=function(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):values.length>=200&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=null==iteratee?value:iteratee(value);if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}},function(module,exports,__webpack_require__){var baseIndexOf=__webpack_require__(293);module.exports=function(array,value){return!!(null==array?0:array.length)&&baseIndexOf(array,value,0)>-1}},function(module,exports,__webpack_require__){var baseFindIndex=__webpack_require__(294),baseIsNaN=__webpack_require__(295),strictIndexOf=__webpack_require__(296);module.exports=function(array,value,fromIndex){return value==value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}},function(module,exports){module.exports=function(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}},function(module,exports){module.exports=function(value){return value!=value}},function(module,exports){module.exports=function(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}},function(module,exports){module.exports=function(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}},function(module,exports,__webpack_require__){var identity=__webpack_require__(73),overRest=__webpack_require__(125),setToString=__webpack_require__(126);module.exports=function(func,start){return setToString(overRest(func,start,identity),func+"")}},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(64),isObjectLike=__webpack_require__(12);module.exports=function(value){return isObjectLike(value)&&isArrayLike(value)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function areInputsEqual(newInputs,lastInputs){if(newInputs.length!==lastInputs.length)return!1;for(var i=0;i<newInputs.length;i++)if(newInputs[i]!==lastInputs[i])return!1;return!0}__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=function(resultFn,isEqual){var lastThis;void 0===isEqual&&(isEqual=areInputsEqual);var lastResult,lastArgs=[],calledOnce=!1;return function(){for(var newArgs=[],_i=0;_i<arguments.length;_i++)newArgs[_i]=arguments[_i];return calledOnce&&lastThis===this&&isEqual(newArgs,lastArgs)||(lastResult=resultFn.apply(this,newArgs),calledOnce=!0,lastThis=this,lastArgs=newArgs),lastResult}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(302)},function(module,exports){function isPrimitive(value){return"object"!=typeof value&&"function"!=typeof value||null===value}function MapTree(){this.childBranches=new WeakMap,this.primitiveKeys=new Map,this.hasValue=!1,this.value=void 0}MapTree.prototype.has=function(key){var keyObject=isPrimitive(key)?this.primitiveKeys.get(key):key;return!!keyObject&&this.childBranches.has(keyObject)},MapTree.prototype.get=function(key){var keyObject=isPrimitive(key)?this.primitiveKeys.get(key):key;return keyObject?this.childBranches.get(keyObject):void 0},MapTree.prototype.resolveBranch=function(key){if(this.has(key))return this.get(key);var newBranch=new MapTree,keyObject=this.createKey(key);return this.childBranches.set(keyObject,newBranch),newBranch},MapTree.prototype.setValue=function(value){return this.hasValue=!0,this.value=value},MapTree.prototype.createKey=function(key){if(isPrimitive(key)){var keyObject={};return this.primitiveKeys.set(key,keyObject),keyObject}return key},MapTree.prototype.clear=function(){if(0===arguments.length)this.childBranches=new WeakMap,this.primitiveKeys.clear(),this.hasValue=!1,this.value=void 0;else if(1===arguments.length){var key=arguments[0];if(isPrimitive(key)){var keyObject=this.primitiveKeys.get(key);keyObject&&(this.childBranches.delete(keyObject),this.primitiveKeys.delete(key))}else this.childBranches.delete(key)}else{var childKey=arguments[0];if(this.has(childKey)){var childBranch=this.get(childKey);childBranch.clear.apply(childBranch,Array.prototype.slice.call(arguments,1))}}},module.exports=function(fn){var argsTree=new MapTree;function memoized(){var args=Array.prototype.slice.call(arguments),argNode=args.reduce((function(parentBranch,arg){return parentBranch.resolveBranch(arg)}),argsTree);if(argNode.hasValue)return argNode.value;var value=fn.apply(null,args);return argNode.setValue(value)}return memoized.clear=argsTree.clear.bind(argsTree),memoized}},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"draco_decoder-5d5da31835da3c2e3d32daef910d9e3d.wasm"},function(module,exports){module.exports=function(originalModule){if(!originalModule.webpackPolyfill){var module=Object.create(originalModule);module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),Object.defineProperty(module,"exports",{enumerable:!0}),module.webpackPolyfill=1}return module}},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppError=void 0;class AppError extends Error{constructor(details,extraInfo){if(super(),_defineProperty(this,"details",void 0),_defineProperty(this,"extraInfo",void 0),_defineProperty(this,"message",void 0),this.details=details,this.extraInfo=extraInfo,this.name="AppError",details instanceof Error?this.message=details.stack:"string"==typeof details&&(this.message=details),extraInfo)if(extraInfo.componentStack)this.message+="\n\n"+extraInfo.componentStack;else try{const stringifiedExtraInfo=JSON.stringify(extraInfo);this.message+="\n\n"+stringifiedExtraInfo}catch(e){this.message+="\n\n[ Either cyclic object or object with BigInt(s) ]"}this.message||(this.message="Unknown Error")}}exports.AppError=AppError},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0}),exports.enforceFetchIsBlocked=exports.inSharedWorker=exports.inWebWorker=void 0;exports.inWebWorker=()=>global.postMessage&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;exports.inSharedWorker=()=>"undefined"!=typeof SharedWorkerGlobalScope&&self instanceof SharedWorkerGlobalScope;exports.enforceFetchIsBlocked=fn=>{const canFetch="undefined"!=typeof fetch&&fetch("data:test").then(()=>!0).catch(()=>!1);return async(...args)=>{if(await canFetch)throw new Error("Content security policy too loose.");return fn(...args)}}}).call(this,__webpack_require__(8))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(props){const{setDebugStats:setDebugStats}=props,debugStats=function(){const context=React.useContext(_index.WorldviewReactContext),renderCount=React.useRef(0);if(renderCount.current=renderCount.current+1,context.initializedData.regl){const{stats:stats}=context.initializedData.regl,{bufferCount:bufferCount,elementsCount:elementsCount,textureCount:textureCount,shaderCount:shaderCount}=stats,totalTextureSize=stats.getTotalTextureSize(),totalBufferSize=stats.getTotalBufferSize();return{renderCount:renderCount.current,bufferCount:bufferCount,elementsCount:elementsCount,textureCount:textureCount,shaderCount:shaderCount,totalTextureSize:totalTextureSize,totalBufferSize:totalBufferSize}}}();debugStats&&setDebugStats(debugStats);return null};var React=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,newObj}(__webpack_require__(0)),_index=__webpack_require__(6)},function(module,exports,__webpack_require__){"use strict";(function(setImmediate){Object.defineProperty(exports,"__esModule",{value:!0}),exports.LayoutWorkerDataReceiver=exports.LayoutWorkerDataSender=void 0;var _lodash=__webpack_require__(7),_signal=_interopRequireDefault(__webpack_require__(127)),_BobjectRpc=__webpack_require__(311);_interopRequireDefault(__webpack_require__(47));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}exports.LayoutWorkerDataSender=class{constructor(rpc){_defineProperty(this,"_rpc",void 0),_defineProperty(this,"_bobjectSender",void 0),_defineProperty(this,"_previousArgs",null),_defineProperty(this,"_currentlySending",!1),_defineProperty(this,"_queuedSendSignal",void 0),this._rpc=rpc,this._bobjectSender=new _BobjectRpc.BobjectRpcSender(rpc)}async renderFrame(args){var _this$_previousArgs,_this$_previousArgs3;if(this._currentlySending){const maybeOldQueuedSignal=this._queuedSendSignal,newSendSignal=this._queuedSendSignal=(0,_signal.default)();if(null!=maybeOldQueuedSignal&&maybeOldQueuedSignal.resolve(),await newSendSignal,this._queuedSendSignal!==newSendSignal)return!1}this._currentlySending=!0;const framesDiffer=(null===(_this$_previousArgs=this._previousArgs)||void 0===_this$_previousArgs?void 0:_this$_previousArgs.frame)!==args.frame;let bobjects=[];framesDiffer&&(bobjects=(0,_lodash.flatten)(Object.keys(args.frame).map(topic=>args.frame[topic])));const nonFrameData={};if(Object.keys(args).filter(k=>"frame"!==k&&"worldContextValue"!==k).forEach(key=>{var _this$_previousArgs2;args[key]!==(null===(_this$_previousArgs2=this._previousArgs)||void 0===_this$_previousArgs2?void 0:_this$_previousArgs2[key])&&(nonFrameData[key]=args[key])}),args.worldContextValue!==(null===(_this$_previousArgs3=this._previousArgs)||void 0===_this$_previousArgs3?void 0:_this$_previousArgs3.worldContextValue)){const contextToSend={};Object.keys(args.worldContextValue).forEach(key=>{var _this$_previousArgs4;args.worldContextValue[key]!==(null===(_this$_previousArgs4=this._previousArgs)||void 0===_this$_previousArgs4?void 0:_this$_previousArgs4.worldContextValue[key])&&(contextToSend[key]=args.worldContextValue[key])}),nonFrameData.worldContextValue=contextToSend}return await this._bobjectSender.send("$$startFrame",bobjects,{nonFrameData:nonFrameData,framesDiffer:framesDiffer}),this._previousArgs=args,this._currentlySending=!1,this._queuedSendSignal&&this._queuedSendSignal.resolve(),!0}};exports.LayoutWorkerDataReceiver=class{constructor(rpc,renderFn){_defineProperty(this,"_rpc",void 0),_defineProperty(this,"_bobjectReceiver",void 0),_defineProperty(this,"_nextArgs",{frame:{},worldContextValue:{}}),this._rpc=rpc,this._bobjectReceiver=new _BobjectRpc.BobjectRpcReceiver(rpc),this._bobjectReceiver.receive("$$startFrame","bobject",async(messages,{framesDiffer:framesDiffer,nonFrameData:nonFrameData})=>{var _this$_nextArgs$frame;const worldContextValue=nonFrameData.worldContextValue?_objectSpread({},this._nextArgs.worldContextValue,nonFrameData.worldContextValue):this._nextArgs.worldContextValue,nextArgs=this._nextArgs=_objectSpread({},this._nextArgs,nonFrameData,{worldContextValue:worldContextValue,frame:framesDiffer?(0,_lodash.groupBy)(messages,"topic"):null!==(_this$_nextArgs$frame=this._nextArgs.frame)&&void 0!==_this$_nextArgs$frame?_this$_nextArgs$frame:[]});setImmediate(()=>{renderFn(nextArgs).then(({searchTextMatches:searchTextMatches})=>rpc.send("finishFrame",{frameIndex:nextArgs.frameIndex,frameIsEmpty:nextArgs.frame.empty,searchTextMatches:searchTextMatches}))})})}}}).call(this,__webpack_require__(309).setImmediate)},function(module,exports,__webpack_require__){(function(global){var scope=void 0!==global&&global||"undefined"!=typeof self&&self||window,apply=Function.prototype.apply;function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,scope,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,scope,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout&&timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(scope,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout((function(){item._onTimeout&&item._onTimeout()}),msecs))},__webpack_require__(310),exports.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==global&&global.setImmediate||this&&this.setImmediate,exports.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==global&&global.clearImmediate||this&&this.clearImmediate}).call(this,__webpack_require__(8))},function(module,exports,__webpack_require__){(function(global,process){!function(global,undefined){"use strict";if(!global.setImmediate){var registerImmediate,html,channel,messagePrefix,onGlobalMessage,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,"[object process]"==={}.toString.call(global.process)?registerImmediate=function(handle){process.nextTick((function(){runIfPresent(handle)}))}:!function(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage("","*"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}()?global.MessageChannel?((channel=new MessageChannel).port1.onmessage=function(event){runIfPresent(event.data)},registerImmediate=function(handle){channel.port2.postMessage(handle)}):doc&&"onreadystatechange"in doc.createElement("script")?(html=doc.documentElement,registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}):registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}:(messagePrefix="setImmediate$"+Math.random()+"$",onGlobalMessage=function(event){event.source===global&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))},global.addEventListener?global.addEventListener("message",onGlobalMessage,!1):global.attachEvent("onmessage",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}),attachTo.setImmediate=function(callback){"function"!=typeof callback&&(callback=new Function(""+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++},attachTo.clearImmediate=clearImmediate}function clearImmediate(handle){delete tasksByHandle[handle]}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{!function(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(void 0,args)}}(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}}("undefined"==typeof self?void 0===global?this:global:self)}).call(this,__webpack_require__(8),__webpack_require__(16))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.findBinaryDataLocations=findBinaryDataLocations,exports.BobjectRpcReceiver=exports.BobjectRpcSender=void 0;var obj,_index=__webpack_require__(46),_messageDefinitionUtils=__webpack_require__(29);(obj=__webpack_require__(47))&&obj.__esModule;function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function findBinaryDataLocations(bobject){const sourceData=(0,_messageDefinitionUtils.getSourceData)(Object.getPrototypeOf(bobject).constructor),classification=sourceData?function findBinaryDataLocationsImpl(bobject,sourceData){if(sourceData.buffer)return"all_binary";const ret={};let containsBinary;for(const fieldName of(0,_index.bobjectFieldNames)(bobject)){const fieldValue=bobject[fieldName](),fieldSourceData=fieldValue&&(0,_messageDefinitionUtils.getSourceData)(Object.getPrototypeOf(fieldValue).constructor);if(fieldSourceData){const childLocations=findBinaryDataLocationsImpl(fieldValue,fieldSourceData);"all_parsed"!==childLocations&&(containsBinary=!0,"all_binary"!==childLocations&&(ret[fieldName]=childLocations))}}return containsBinary?ret:"all_parsed"}(bobject,sourceData):"all_parsed";return{value:"all_parsed"===classification||"all_binary"===classification?null:classification}}class GarbageCollectedSender{constructor(rpc){_defineProperty(this,"_map",new WeakMap),_defineProperty(this,"_registry",void 0),_defineProperty(this,"_rpc",void 0),_defineProperty(this,"_sentItems",0),this._rpc=rpc,this._registry=new FinalizationRegistry(index=>{this._rpc.send("$$remove_gc_item",{index:index})})}isEmpty(){return 0===this._sentItems}getIndex({item:item,identityItem:identityItem},newStorageData){const maybeIndex=this._map.get(identityItem);if(null!=maybeIndex)return maybeIndex;const newIndex=this._sentItems;return this._sentItems+=1,this._map.set(identityItem,newIndex),this._registry.register(identityItem,newIndex),newStorageData.push(item()),newIndex}}class GarbageCollectedReceiver{constructor(rpc){_defineProperty(this,"_storage",[]),rpc.receive("$$remove_gc_item",({index:index})=>{this._storage[index]=null})}addItems(items,clearStorageData){clearStorageData&&(this._storage=[]),items.forEach(item=>{this._storage.push(item)})}getItem(index){return this._storage[index]}}exports.BobjectRpcSender=class{constructor(rpc,cloneBuffers=!1){_defineProperty(this,"_cloneBuffers",void 0),_defineProperty(this,"_rpc",void 0),_defineProperty(this,"_gcDataSender",void 0),_defineProperty(this,"_binaryStructureByTopic",{}),this._rpc=rpc,this._gcDataSender=new GarbageCollectedSender(rpc),this._cloneBuffers=cloneBuffers}async send(action,messages,additionalTransferables){const messageData=[],newStorageData=[],clearStorageData=this._gcDataSender.isEmpty();for(const msg of messages){const{topic:topic,receiveTime:receiveTime,message:message}=msg,messageSourceData=(0,_messageDefinitionUtils.getSourceData)(Object.getPrototypeOf(message).constructor);if(null==messageSourceData)throw new Error("Missing datatypes for message. Likely not a bobject.");const binaryStructure=this._getBinaryStructure(topic,message).value;messageData.push({topic:topic,receiveTime:receiveTime,descriptor:this._getTransferData(message,binaryStructure,messageSourceData,newStorageData)})}return await this._rpc.send("$$transferBobjects",{action:action,additionalTransferables:additionalTransferables,messageData:messageData,newStorageData:newStorageData,clearStorageData:clearStorageData})}_getBinaryStructure(topic,message){const structure=this._binaryStructureByTopic[topic];return null!=structure?structure:this._binaryStructureByTopic[topic]=findBinaryDataLocations(message)}_getDatatypesIndex(datatypes,newStorageData){return this._gcDataSender.getIndex({item:()=>datatypes,identityItem:datatypes},newStorageData)}_getBinaryDataIndex(buffer,bigString,newStorageData){const data=this._cloneBuffers?{item:()=>{const u=new Uint8Array(buffer.byteLength);return u.set(new Uint8Array(buffer)),{buffer:u.buffer,bigString:bigString}},identityItem:buffer}:{item:()=>({buffer:buffer,bigString:bigString}),identityItem:buffer};return this._gcDataSender.getIndex(data,newStorageData)}_getTransferData(inputMessage,binaryStructure,messageSourceData,newStorageData){const{datatypes:datatypes,datatype:datatype}=messageSourceData,datatypesIndex=this._getDatatypesIndex(datatypes,newStorageData);if(null==binaryStructure){if(messageSourceData.buffer){const{buffer:buffer,bigString:bigString}=messageSourceData,binaryDataIndex=this._getBinaryDataIndex(buffer,bigString,newStorageData);return messageSourceData.isArrayView?{datatype:datatype,datatypesIndex:datatypesIndex,binaryDataIndex:binaryDataIndex,offset:inputMessage.offset(),length:inputMessage.length()}:{datatype:datatype,datatypesIndex:datatypesIndex,binaryDataIndex:binaryDataIndex,offset:(0,_index.getBinaryOffset)(inputMessage)}}return{datatype:datatype,datatypesIndex:datatypesIndex,message:(0,_index.deepParse)(inputMessage),complexFields:[]}}const complexFields=[],message={};for(const fieldName of(0,_index.bobjectFieldNames)(inputMessage)){const fieldValue=inputMessage[fieldName](),sourceData=fieldValue&&(0,_messageDefinitionUtils.getSourceData)(Object.getPrototypeOf(fieldValue).constructor);sourceData?complexFields.push({name:fieldName,descriptor:this._getTransferData(fieldValue,binaryStructure[fieldName],sourceData,newStorageData)}):message[fieldName]=(0,_index.isBobject)(fieldValue)?(0,_index.deepParse)(fieldValue):fieldValue}return{datatype:datatype,datatypesIndex:datatypesIndex,message:message,complexFields:complexFields}}};exports.BobjectRpcReceiver=class{constructor(rpc){_defineProperty(this,"_rpc",void 0),_defineProperty(this,"_receiveFunctions",{}),_defineProperty(this,"_gcDataReceiver",void 0),this._rpc=rpc,this._gcDataReceiver=new GarbageCollectedReceiver(rpc),rpc.receive("$$transferBobjects",async transferData=>{const receiveFunction=this._receiveFunctions[transferData.action];if(null==receiveFunction)throw new Error(`action ${transferData.action} not registered`);return receiveFunction(transferData)})}receive(action,format,callback){this._receiveFunctions[action]=async transferData=>{this._gcDataReceiver.addItems(transferData.newStorageData,transferData.clearStorageData);const messages=transferData.messageData.map(({topic:topic,receiveTime:receiveTime,descriptor:descriptor})=>({topic:topic,receiveTime:receiveTime,message:this._formatMessage(format,descriptor)}));return callback(messages,transferData.additionalTransferables)}}_decodeBinaryBobject(data){const{datatypesIndex:datatypesIndex,datatype:datatype,offset:offset,length:length}=data,datatypes=this._gcDataReceiver.getItem(datatypesIndex),{buffer:buffer,bigString:bigString}=this._gcDataReceiver.getItem(data.binaryDataIndex);return null==length?(0,_index.getObjects)(datatypes,datatype,buffer,bigString,[offset])[0]:(0,_index.getBinaryArrayView)(datatypes,datatype,buffer,bigString,offset,length)}_decodeParsedBobject(data){const{complexFields:complexFields,datatypesIndex:datatypesIndex,datatype:datatype}=data,message=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}({},data.message);complexFields.forEach(field=>{message[field.name]=this._decodeBobject(field.descriptor)});const datatypes=this._gcDataReceiver.getItem(datatypesIndex);return(0,_index.wrapJsObject)(datatypes,datatype,message)}_decodeBobject(data){return data.complexFields?this._decodeParsedBobject(data):this._decodeBinaryBobject(data)}_formatMessage(format,descriptor){if("parsed"===format&&descriptor.complexFields&&0===descriptor.complexFields.length)return descriptor.message;const bobject=this._decodeBobject(descriptor);return"parsed"===format?(0,_index.deepParse)(bobject):bobject}}},function(module,exports,__webpack_require__){"use strict";const base64=__webpack_require__(313),ieee754=__webpack_require__(314),customInspectSymbol="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;exports.Buffer=Buffer,exports.SlowBuffer=function(length){+length!=length&&(length=0);return Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50;function createBuffer(length){if(length>2147483647)throw new RangeError('The value "'+length+'" is invalid for option "size"');const buf=new Uint8Array(length);return Object.setPrototypeOf(buf,Buffer.prototype),buf}function Buffer(arg,encodingOrOffset,length){if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}function from(value,encodingOrOffset,length){if("string"==typeof value)return function(string,encoding){"string"==typeof encoding&&""!==encoding||(encoding="utf8");if(!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);const length=0|byteLength(string,encoding);let buf=createBuffer(length);const actual=buf.write(string,encoding);actual!==length&&(buf=buf.slice(0,actual));return buf}(value,encodingOrOffset);if(ArrayBuffer.isView(value))return function(arrayView){if(isInstance(arrayView,Uint8Array)){const copy=new Uint8Array(arrayView);return fromArrayBuffer(copy.buffer,copy.byteOffset,copy.byteLength)}return fromArrayLike(arrayView)}(value);if(null==value)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value);if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer))return fromArrayBuffer(value,encodingOrOffset,length);if("undefined"!=typeof SharedArrayBuffer&&(isInstance(value,SharedArrayBuffer)||value&&isInstance(value.buffer,SharedArrayBuffer)))return fromArrayBuffer(value,encodingOrOffset,length);if("number"==typeof value)throw new TypeError('The "value" argument must not be of type number. Received type number');const valueOf=value.valueOf&&value.valueOf();if(null!=valueOf&&valueOf!==value)return Buffer.from(valueOf,encodingOrOffset,length);const b=function(obj){if(Buffer.isBuffer(obj)){const len=0|checked(obj.length),buf=createBuffer(len);return 0===buf.length||obj.copy(buf,0,0,len),buf}if(void 0!==obj.length)return"number"!=typeof obj.length||numberIsNaN(obj.length)?createBuffer(0):fromArrayLike(obj);if("Buffer"===obj.type&&Array.isArray(obj.data))return fromArrayLike(obj.data)}(value);if(b)return b;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof value[Symbol.toPrimitive])return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be of type number');if(size<0)throw new RangeError('The value "'+size+'" is invalid for option "size"')}function allocUnsafe(size){return assertSize(size),createBuffer(size<0?0:0|checked(size))}function fromArrayLike(array){const length=array.length<0?0:0|checked(array.length),buf=createBuffer(length);for(let i=0;i<length;i+=1)buf[i]=255&array[i];return buf}function fromArrayBuffer(array,byteOffset,length){if(byteOffset<0||array.byteLength<byteOffset)throw new RangeError('"offset" is outside of buffer bounds');if(array.byteLength<byteOffset+(length||0))throw new RangeError('"length" is outside of buffer bounds');let buf;return buf=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Object.setPrototypeOf(buf,Buffer.prototype),buf}function checked(length){if(length>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer))return string.byteLength;if("string"!=typeof string)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof string);const len=string.length,mustMatch=arguments.length>2&&!0===arguments[2];if(!mustMatch&&0===len)return 0;let loweredCase=!1;for(;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return mustMatch?-1:utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){let loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if((end>>>=0)<=(start>>>=0))return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){const i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),numberIsNaN(byteOffset=+byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){let i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){let foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){let found=!0;for(let j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;const remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;const strLen=string.length;let i;for(length>strLen/2&&(length=strLen/2),i=0;i<length;++i){const parsed=parseInt(string.substr(2*i,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function(str){const byteArray=[];for(let i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function(str,units){let c,hi,lo;const byteArray=[];for(let i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);const res=[];let i=start;for(;i<end;){const firstByte=buf[i];let codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){let secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:secondByte=buf[i+1],128==(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte,tempCodePoint>127&&(codePoint=tempCodePoint));break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte,tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint));break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte,tempCodePoint>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint))}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function(codePoints){const len=codePoints.length;if(len<=4096)return String.fromCharCode.apply(String,codePoints);let res="",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=4096));return res}(res)}exports.kMaxLength=2147483647,Buffer.TYPED_ARRAY_SUPPORT=function(){try{const arr=new Uint8Array(1),proto={foo:function(){return 42}};return Object.setPrototypeOf(proto,Uint8Array.prototype),Object.setPrototypeOf(arr,proto),42===arr.foo()}catch(e){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),Buffer.poolSize=8192,Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)},Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer,Uint8Array),Buffer.alloc=function(size,fill,encoding){return function(size,fill,encoding){return assertSize(size),size<=0?createBuffer(size):void 0!==fill?"string"==typeof encoding?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill):createBuffer(size)}(size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)},Buffer.isBuffer=function(b){return null!=b&&!0===b._isBuffer&&b!==Buffer.prototype},Buffer.compare=function(a,b){if(isInstance(a,Uint8Array)&&(a=Buffer.from(a,a.offset,a.byteLength)),isInstance(b,Uint8Array)&&(b=Buffer.from(b,b.offset,b.byteLength)),!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===b)return 0;let x=a.length,y=b.length;for(let i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!Array.isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);let i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;const buffer=Buffer.allocUnsafe(length);let pos=0;for(i=0;i<list.length;++i){let buf=list[i];if(isInstance(buf,Uint8Array))pos+buf.length>buffer.length?(Buffer.isBuffer(buf)||(buf=Buffer.from(buf)),buf.copy(buffer,pos)):Uint8Array.prototype.set.call(buffer,buf,pos);else{if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos)}pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){const len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){const len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){const len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){const length=this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){let str="";const max=exports.INSPECT_MAX_BYTES;return str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim(),this.length>max&&(str+=" ... "),"<Buffer "+str+">"},customInspectSymbol&&(Buffer.prototype[customInspectSymbol]=Buffer.prototype.inspect),Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)&&(target=Buffer.from(target,target.offset,target.byteLength)),!Buffer.isBuffer(target))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof target);if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(this===target)return 0;let x=(thisEnd>>>=0)-(thisStart>>>=0),y=(end>>>=0)-(start>>>=0);const len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end);for(let i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset>>>=0,isFinite(length)?(length>>>=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}const remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");let loweredCase=!1;for(;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":case"latin1":case"binary":return asciiWrite(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function asciiSlice(buf,start,end){let ret="";end=Math.min(buf.length,end);for(let i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){let ret="";end=Math.min(buf.length,end);for(let i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){const len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);let out="";for(let i=start;i<end;++i)out+=hexSliceLookupTable[buf[i]];return out}function utf16leSlice(buf,start,end){const bytes=buf.slice(start,end);let res="";for(let i=0;i<bytes.length-1;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function wrtBigUInt64LE(buf,value,offset,min,max){checkIntBI(value,min,max,buf,offset,7);let lo=Number(value&BigInt(4294967295));buf[offset++]=lo,lo>>=8,buf[offset++]=lo,lo>>=8,buf[offset++]=lo,lo>>=8,buf[offset++]=lo;let hi=Number(value>>BigInt(32)&BigInt(4294967295));return buf[offset++]=hi,hi>>=8,buf[offset++]=hi,hi>>=8,buf[offset++]=hi,hi>>=8,buf[offset++]=hi,offset}function wrtBigUInt64BE(buf,value,offset,min,max){checkIntBI(value,min,max,buf,offset,7);let lo=Number(value&BigInt(4294967295));buf[offset+7]=lo,lo>>=8,buf[offset+6]=lo,lo>>=8,buf[offset+5]=lo,lo>>=8,buf[offset+4]=lo;let hi=Number(value>>BigInt(32)&BigInt(4294967295));return buf[offset+3]=hi,hi>>=8,buf[offset+2]=hi,hi>>=8,buf[offset+1]=hi,hi>>=8,buf[offset]=hi,offset+8}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function(start,end){const len=this.length;(start=~~start)<0?(start+=len)<0&&(start=0):start>len&&(start=len),(end=void 0===end?len:~~end)<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start);const newBuf=this.subarray(start,end);return Object.setPrototypeOf(newBuf,Buffer.prototype),newBuf},Buffer.prototype.readUintLE=Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);let val=this[offset],mul=1,i=0;for(;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUintBE=Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);let val=this[offset+--byteLength],mul=1;for(;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUint8=Buffer.prototype.readUInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUint16LE=Buffer.prototype.readUInt16LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUint16BE=Buffer.prototype.readUInt16BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUint32LE=Buffer.prototype.readUInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUint32BE=Buffer.prototype.readUInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readBigUInt64LE=defineBigIntMethod((function(offset){validateNumber(offset>>>=0,"offset");const first=this[offset],last=this[offset+7];void 0!==first&&void 0!==last||boundsError(offset,this.length-8);const lo=first+256*this[++offset]+65536*this[++offset]+this[++offset]*2**24,hi=this[++offset]+256*this[++offset]+65536*this[++offset]+last*2**24;return BigInt(lo)+(BigInt(hi)<<BigInt(32))})),Buffer.prototype.readBigUInt64BE=defineBigIntMethod((function(offset){validateNumber(offset>>>=0,"offset");const first=this[offset],last=this[offset+7];void 0!==first&&void 0!==last||boundsError(offset,this.length-8);const hi=first*2**24+65536*this[++offset]+256*this[++offset]+this[++offset],lo=this[++offset]*2**24+65536*this[++offset]+256*this[++offset]+last;return(BigInt(hi)<<BigInt(32))+BigInt(lo)})),Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);let val=this[offset],mul=1,i=0;for(;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);let i=byteLength,mul=1,val=this[offset+--i];for(;i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);const val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);const val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readBigInt64LE=defineBigIntMethod((function(offset){validateNumber(offset>>>=0,"offset");const first=this[offset],last=this[offset+7];void 0!==first&&void 0!==last||boundsError(offset,this.length-8);const val=this[offset+4]+256*this[offset+5]+65536*this[offset+6]+(last<<24);return(BigInt(val)<<BigInt(32))+BigInt(first+256*this[++offset]+65536*this[++offset]+this[++offset]*2**24)})),Buffer.prototype.readBigInt64BE=defineBigIntMethod((function(offset){validateNumber(offset>>>=0,"offset");const first=this[offset],last=this[offset+7];void 0!==first&&void 0!==last||boundsError(offset,this.length-8);const val=(first<<24)+65536*this[++offset]+256*this[++offset]+this[++offset];return(BigInt(val)<<BigInt(32))+BigInt(this[++offset]*2**24+65536*this[++offset]+256*this[++offset]+last)})),Buffer.prototype.readFloatLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUintLE=Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,byteLength>>>=0,!noAssert){checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0)}let mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUintBE=Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,byteLength>>>=0,!noAssert){checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0)}let i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUint8=Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,255,0),this[offset]=255&value,offset+1},Buffer.prototype.writeUint16LE=Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeUint16BE=Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeUint32LE=Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value,offset+4},Buffer.prototype.writeUint32BE=Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeBigUInt64LE=defineBigIntMethod((function(value,offset=0){return wrtBigUInt64LE(this,value,offset,BigInt(0),BigInt("0xffffffffffffffff"))})),Buffer.prototype.writeBigUInt64BE=defineBigIntMethod((function(value,offset=0){return wrtBigUInt64BE(this,value,offset,BigInt(0),BigInt("0xffffffffffffffff"))})),Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){const limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}let i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){const limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}let i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,127,-128),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24,offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeBigInt64LE=defineBigIntMethod((function(value,offset=0){return wrtBigUInt64LE(this,value,offset,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Buffer.prototype.writeBigInt64BE=defineBigIntMethod((function(value,offset=0){return wrtBigUInt64BE(this,value,offset,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw new TypeError("argument should be a Buffer");if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("Index out of range");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);const len=end-start;return this===target&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(targetStart,start,end):Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart),len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);if(1===val.length){const code=val.charCodeAt(0);("utf8"===encoding&&code<128||"latin1"===encoding)&&(val=code)}}else"number"==typeof val?val&=255:"boolean"==typeof val&&(val=Number(val));if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;let i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),"number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{const bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding),len=bytes.length;if(0===len)throw new TypeError('The value "'+val+'" is invalid for argument "value"');for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};const errors={};function E(sym,getMessage,Base){errors[sym]=class extends Base{constructor(){super(),Object.defineProperty(this,"message",{value:getMessage.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${sym}]`,this.stack,delete this.name}get code(){return sym}set code(value){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:value,writable:!0})}toString(){return`${this.name} [${sym}]: ${this.message}`}}}function addNumericalSeparator(val){let res="",i=val.length;const start="-"===val[0]?1:0;for(;i>=start+4;i-=3)res=`_${val.slice(i-3,i)}${res}`;return`${val.slice(0,i)}${res}`}function checkIntBI(value,min,max,buf,offset,byteLength){if(value>max||value<min){const n="bigint"==typeof min?"n":"";let range;throw range=byteLength>3?0===min||min===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(byteLength+1)}${n}`:`>= -(2${n} ** ${8*(byteLength+1)-1}${n}) and < 2 ** ${8*(byteLength+1)-1}${n}`:`>= ${min}${n} and <= ${max}${n}`,new errors.ERR_OUT_OF_RANGE("value",range,value)}!function(buf,offset,byteLength){validateNumber(offset,"offset"),void 0!==buf[offset]&&void 0!==buf[offset+byteLength]||boundsError(offset,buf.length-(byteLength+1))}(buf,offset,byteLength)}function validateNumber(value,name){if("number"!=typeof value)throw new errors.ERR_INVALID_ARG_TYPE(name,"number",value)}function boundsError(value,length,type){if(Math.floor(value)!==value)throw validateNumber(value,type),new errors.ERR_OUT_OF_RANGE(type||"offset","an integer",value);if(length<0)throw new errors.ERR_BUFFER_OUT_OF_BOUNDS;throw new errors.ERR_OUT_OF_RANGE(type||"offset",`>= ${type?1:0} and <= ${length}`,value)}E("ERR_BUFFER_OUT_OF_BOUNDS",(function(name){return name?name+" is outside of buffer bounds":"Attempt to access memory outside buffer bounds"}),RangeError),E("ERR_INVALID_ARG_TYPE",(function(name,actual){return`The "${name}" argument must be of type number. Received type ${typeof actual}`}),TypeError),E("ERR_OUT_OF_RANGE",(function(str,range,input){let msg=`The value of "${str}" is out of range.`,received=input;return Number.isInteger(input)&&Math.abs(input)>2**32?received=addNumericalSeparator(String(input)):"bigint"==typeof input&&(received=String(input),(input>BigInt(2)**BigInt(32)||input<-(BigInt(2)**BigInt(32)))&&(received=addNumericalSeparator(received)),received+="n"),msg+=` It must be ${range}. Received ${received}`,msg}),RangeError);const INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;function utf8ToBytes(string,units){let codePoint;units=units||1/0;const length=string.length;let leadSurrogate=null;const bytes=[];for(let i=0;i<length;++i){if(codePoint=string.charCodeAt(i),codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function(str){if((str=(str=str.split("=")[0]).trim().replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}(str))}function blitBuffer(src,dst,offset,length){let i;for(i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isInstance(obj,type){return obj instanceof type||null!=obj&&null!=obj.constructor&&null!=obj.constructor.name&&obj.constructor.name===type.name}function numberIsNaN(obj){return obj!=obj}const hexSliceLookupTable=function(){const table=new Array(256);for(let i=0;i<16;++i){const i16=16*i;for(let j=0;j<16;++j)table[i16+j]="0123456789abcdef"[i]+"0123456789abcdef"[j]}return table}();function defineBigIntMethod(fn){return"undefined"==typeof BigInt?BufferBigIntNotDefined:fn}function BufferBigIntNotDefined(){throw new Error("BigInt not supported")}},function(module,exports,__webpack_require__){"use strict";exports.byteLength=function(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function(b64){var tmp,i,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(function(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(0,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen;for(i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp);1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp);return arr},exports.fromByteArray=function(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"="));return parts.join("")};for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var validLen=b64.indexOf("=");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function encodeChunk(uint8,start,end){for(var tmp,num,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(lookup[(num=tmp)>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]);return output.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},function(module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},function(module,exports){var int53={};function assert(test,message){if(!test)throw new Error(message)}function onesComplement(number){return(number=~number)<0&&(number=2147483648+(2147483647&number)),number}function uintHighLow(number){assert(number>-1&&number<=9007199254740991,"number out of range"),assert(Math.floor(number)===number,"number must be an integer");var high=0,signbit=4294967295&number,low=signbit<0?2147483648+(2147483647&number):signbit;return number>4294967295&&(high=(number-low)/4294967296),[high,low]}function intHighLow(number){if(number>-1)return uintHighLow(number);var hl=uintHighLow(-number),high=onesComplement(hl[0]),low=onesComplement(hl[1]);return 4294967295===low?(high+=1,low=0):low+=1,[high,low]}function toDouble(high,low,signed){return signed&&0!=(2147483648&high)?(high=onesComplement(high),low=onesComplement(low),assert(high<2097152,"number too small"),-(4294967296*high+low+1)):(assert(high<2097152,"number too large"),4294967296*high+low)}int53.readInt64BE=function(buffer,offset){return offset=offset||0,toDouble(buffer.readUInt32BE(offset),buffer.readUInt32BE(offset+4),!0)},int53.readInt64LE=function(buffer,offset){offset=offset||0;var low=buffer.readUInt32LE(offset);return toDouble(buffer.readUInt32LE(offset+4),low,!0)},int53.readUInt64BE=function(buffer,offset){return offset=offset||0,toDouble(buffer.readUInt32BE(offset),buffer.readUInt32BE(offset+4),!1)},int53.readUInt64LE=function(buffer,offset){offset=offset||0;var low=buffer.readUInt32LE(offset);return toDouble(buffer.readUInt32LE(offset+4),low,!1)},int53.writeInt64BE=function(number,buffer,offset){offset=offset||0;var hl=intHighLow(number);buffer.writeUInt32BE(hl[0],offset),buffer.writeUInt32BE(hl[1],offset+4)},int53.writeInt64LE=function(number,buffer,offset){offset=offset||0;var hl=intHighLow(number);buffer.writeUInt32LE(hl[1],offset),buffer.writeUInt32LE(hl[0],offset+4)},int53.writeUInt64BE=function(number,buffer,offset){offset=offset||0;var hl=uintHighLow(number);buffer.writeUInt32BE(hl[0],offset),buffer.writeUInt32BE(hl[1],offset+4)},int53.writeUInt64LE=function(number,buffer,offset){offset=offset||0;var hl=uintHighLow(number);buffer.writeUInt32LE(hl[1],offset),buffer.writeUInt32LE(hl[0],offset+4)},module.exports=int53},function(module,exports){function isPrimitive(value){return"object"!=typeof value&&"function"!=typeof value||null===value}function MapTree(){this.childBranches=new WeakMap,this.primitiveKeys=new Map,this.hasValue=!1,this.value=void 0}MapTree.prototype.has=function(key){var keyObject=isPrimitive(key)?this.primitiveKeys.get(key):key;return!!keyObject&&this.childBranches.has(keyObject)},MapTree.prototype.get=function(key){var keyObject=isPrimitive(key)?this.primitiveKeys.get(key):key;return keyObject?this.childBranches.get(keyObject):void 0},MapTree.prototype.resolveBranch=function(key){if(this.has(key))return this.get(key);var newBranch=new MapTree,keyObject=this.createKey(key);return this.childBranches.set(keyObject,newBranch),newBranch},MapTree.prototype.setValue=function(value){return this.hasValue=!0,this.value=value},MapTree.prototype.createKey=function(key){if(isPrimitive(key)){var keyObject={};return this.primitiveKeys.set(key,keyObject),keyObject}return key},MapTree.prototype.clear=function(){if(0===arguments.length)this.childBranches=new WeakMap,this.primitiveKeys.clear(),this.hasValue=!1,this.value=void 0;else if(1===arguments.length){var key=arguments[0];if(isPrimitive(key)){var keyObject=this.primitiveKeys.get(key);keyObject&&(this.childBranches.delete(keyObject),this.primitiveKeys.delete(key))}else this.childBranches.delete(key)}else{var childKey=arguments[0];if(this.has(childKey)){var childBranch=this.get(childKey);childBranch.clear.apply(childBranch,Array.prototype.slice.call(arguments,1))}}},module.exports=function(fn){var argsTree=new MapTree;function memoized(){var args=Array.prototype.slice.call(arguments),argNode=args.reduce((function(parentBranch,arg){return parentBranch.resolveBranch(arg)}),argsTree);if(argNode.hasValue)return argNode.value;var value=fn.apply(null,args);return argNode.setValue(value)}return memoized.clear=argsTree.clear.bind(argsTree),memoized}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.printGetClassForView=exports.printFieldDefinition=exports.printSingularExpression=void 0;var _indentString=_interopRequireDefault(__webpack_require__(132)),_memoizeWeak=_interopRequireDefault(__webpack_require__(82)),_messageDefinitionUtils=__webpack_require__(29);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}const printSingularExpression=(typesByName,type,pointer,inFieldDefinitionBody)=>{if(typesByName[type]||"time"===type||"duration"===type)return`new ${(0,_messageDefinitionUtils.friendlyTypeName)(type)}(${pointer.toString()})`;if(inFieldDefinitionBody&&("int64"===type||"uint64"===type)){const floatExpression=printPrimitiveSingularExpression(type,pointer,!1);return`(bigInt ? ${printPrimitiveSingularExpression(type,pointer,!0)}: ${floatExpression})`}return printPrimitiveSingularExpression(type,pointer,!1)};function printPrimitiveSingularExpression(type,pointer,bigInts){switch(type){case"json":case"string":{const length=`$view.getInt32(${pointer.toString()}, true)`,stringExpression=`$bigString.substr(${`$view.getInt32(${pointer.add(4).toString()}, true)`}, ${length})`;return"string"===type?stringExpression:`$context.parseJson(${stringExpression})`}case"bool":return`($view.getUint8(${pointer.toString()}) !== 0)`;case"int8":return`$view.getInt8(${pointer.toString()})`;case"uint8":return`$view.getUint8(${pointer.toString()})`;case"int16":return`$view.getInt16(${pointer.toString()}, true)`;case"uint16":return`$view.getUint16(${pointer.toString()}, true)`;case"int32":return`$view.getInt32(${pointer.toString()}, true)`;case"uint32":return`$view.getUint32(${pointer.toString()}, true)`;case"float32":return`$view.getFloat32(${pointer.toString()}, true)`;case"float64":return`$view.getFloat64(${pointer.toString()}, true)`;case"int64":return bigInts?`$view.getBigInt64(${pointer.toString()}, true)`:`$int53.readInt64LE($buffer, ${pointer.toString()})`;case"uint64":return bigInts?`$view.getBigUint64(${pointer.toString()}, true)`:`$int53.readUInt64LE($buffer, ${pointer.toString()})`}throw new Error(`unknown type "${type}"`)}exports.printSingularExpression=printSingularExpression;const arrayTypeName=typeName=>(0,_messageDefinitionUtils.friendlyTypeName)(typeName)+"$Array",printFieldDefinition=(typesByName,field,pointer)=>{const body=((typesByName,field,pointer)=>{if(field.isConstant){const value=JSON.stringify(field.value);if(null==value)throw new Error("Could not serialize constant value for field "+field.name);return`return ${value};`}if(field.isArray){const length=`const length = $view.getInt32(${pointer.toString()}, true);`,from=`const from = $view.getInt32(${pointer.add(4).toString()}, true);`;if("int8"===field.type||"uint8"===field.type){return[from,length,`return new ${"int8"===field.type?"Int8Array":"Uint8Array"}($arrayBuffer, from, length);`].join("\n")}return[from,length,`return new ${arrayTypeName(field.type)}(from, length);`].join("\n")}return`return ${printSingularExpression(typesByName,field.type,pointer,!0)};`})(typesByName,field,pointer),args=["int64","uint64"].includes(field.type)?"bigInt":"";return[`${field.name}(${args}) {`,(0,_indentString.default)(body,2),"}"].join("\n")};exports.printFieldDefinition=printFieldDefinition;const printDeepParseFunction=(typesByName,typeName)=>{const type=typesByName[typeName];if(null==type)throw new Error(`Unknown type "${typeName}"`);let pointer=new _messageDefinitionUtils.PointerExpression("$offset");const fieldExpressions=type.fields.filter(({isConstant:isConstant})=>!isConstant).map(field=>{const ret=((typesByName,{isArray:isArray,name:name,type:type},pointer)=>{if(isArray){const ret=[`const ${name}$length = $view.getInt32(${pointer.toString()}, true);`,`const ${name}$from = $view.getInt32(${pointer.add(4).toString()}, true);`];if("int8"===type)ret.push(`this.${name} = new Int8Array($arrayBuffer, ${name}$from, ${name}$length);`);else if("uint8"===type)ret.push(`this.${name} = new Uint8Array($arrayBuffer, ${name}$from, ${name}$length);`);else{const elementSize=(0,_messageDefinitionUtils.typeSize)(typesByName,type);if(ret.push(`const ${name}$arr = new Array(${name}$length);`),ret.push(`for (let $ptr = ${name}$from, $i = 0; $i < ${name}$length; $ptr += ${elementSize}) {`),(0,_messageDefinitionUtils.isComplex)(type)||"time"===type||"duration"===type)ret.push(`  ${name}$arr[$i++] = new deepParse$${(0,_messageDefinitionUtils.friendlyTypeName)(type)}($ptr);`);else{const loopPointer=new _messageDefinitionUtils.PointerExpression("$ptr");ret.push(`  ${name}$arr[$i++] = ${printPrimitiveSingularExpression(type,loopPointer,!1)};`)}ret.push("}"),ret.push(`this.${name} = ${name}$arr;`)}return ret.join("\n")}return(0,_messageDefinitionUtils.isComplex)(type)||"time"===type||"duration"===type?`this.${name} = new deepParse$${(0,_messageDefinitionUtils.friendlyTypeName)(type)}(${pointer.toString()});`:`this.${name} = ${printPrimitiveSingularExpression(type,pointer,!1)};`})(typesByName,field,pointer);return pointer=pointer.add((0,_messageDefinitionUtils.fieldSize)(typesByName,field)),ret});return`function deepParse$${(0,_messageDefinitionUtils.friendlyTypeName)(typeName)}($offset) {\n${(0,_indentString.default)(fieldExpressions.join("\n"),2)}\n}`},printClassDefinition=(typesByName,typeName)=>{let pointer=new _messageDefinitionUtils.PointerExpression("this[$offset]");const type=typesByName[typeName];if(null==type)throw new Error(`Unknown type "${typeName}"`);const fieldDefinitions=type.fields.map(field=>{const definition=(0,_indentString.default)(printFieldDefinition(typesByName,field,pointer),2);return pointer=pointer.add((0,_messageDefinitionUtils.fieldSize)(typesByName,field)),definition});return`class ${(0,_messageDefinitionUtils.friendlyTypeName)(typeName)} {\n  constructor(offset) {\n    this[$offset] = offset;\n  }\n${fieldDefinitions.join("\n")}\n${(0,_indentString.default)((typeName=>`[$deepParse]() {\n  return new deepParse$${(0,_messageDefinitionUtils.friendlyTypeName)(typeName)}(this[$offset]);\n}`)(typeName),2)}\n}\n${printDeepParseFunction(typesByName,typeName)}\n$context.associateSourceData(${(0,_messageDefinitionUtils.friendlyTypeName)(typeName)}, { datatypes: $typesByName, datatype: ${JSON.stringify(typeName)}, buffer: $arrayBuffer, bigString: $bigString })`},printGetClassForView=(inputTypesByName,topLevelTypeName,getArrayView)=>{const typesByName=(0,_messageDefinitionUtils.addTimeTypes)(inputTypesByName),{arrayTypes:arrayTypes,classes:classes}=((typesByName,typeName)=>{let frontier=[typeName].filter(t=>(0,_messageDefinitionUtils.isComplex)(t)||"time"===t||"duration"===t);const arrayTypes=new Set,classes=new Set(frontier);for(;frontier.length>0;){const nextFrontier=[];for(const nextTypeName of frontier){const nextType=typesByName[nextTypeName];if(null==nextType)throw new Error("Unknown type "+nextTypeName);nextType.fields.forEach(field=>{field.isConstant||("time"!==field.type&&"duration"!==field.type||classes.add(field.type),field.isArray&&"int8"!==field.type&&"uint8"!==field.type&&arrayTypes.add(field.type),(0,_messageDefinitionUtils.isComplex)(field.type)&&(classes.has(field.type)||(classes.add(field.type),nextFrontier.push(field.type))))})}frontier=nextFrontier}return{arrayTypes:arrayTypes,classes:classes}})(typesByName,topLevelTypeName);getArrayView&&arrayTypes.add(topLevelTypeName);const returnClassName=getArrayView?arrayTypeName(topLevelTypeName):(0,_messageDefinitionUtils.friendlyTypeName)(topLevelTypeName),classDefinitions=[...classes].map(typeName=>printClassDefinition(typesByName,typeName)),arrays=[...arrayTypes].map(typeName=>{const className=arrayTypeName(typeName),size=(0,_messageDefinitionUtils.typeSize)(typesByName,typeName);return`const ${className} = $context.getArrayView((offset) => ${printSingularExpression(typesByName,typeName,new _messageDefinitionUtils.PointerExpression("offset"))}, ${size}${["int64","uint64"].includes(typeName)?", (offset) => "+printPrimitiveSingularExpression(typeName,new _messageDefinitionUtils.PointerExpression("offset"),!0):""});\n$context.associateSourceData(${className}, { datatypes: $typesByName, datatype: ${JSON.stringify(typeName)}, buffer: $arrayBuffer, bigString: $bigString, isArrayView: true });`});return`const $offset = $context.offsetSymbol;\nconst $deepParse = $context.deepParse;\nconst $int53 = $context.int53;\nconst $arrayBuffer = $view.buffer;\nconst $buffer = $context.Buffer.from($arrayBuffer);\n${classDefinitions.join("\n")}\n${arrays.join("\n")}\nreturn ${returnClassName};`};exports.printGetClassForView=printGetClassForView;var _default=(0,_memoizeWeak.default)((typesByName,typeName,getArrayView)=>Function("$context","$view","$bigString","$typesByName",printGetClassForView(typesByName,typeName,null!=getArrayView&&getArrayView)));exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.printClasses=exports.printFieldDefinition=void 0;var _indentString=_interopRequireDefault(__webpack_require__(132)),_memoizeWeak=_interopRequireDefault(__webpack_require__(82)),_ArrayViews=__webpack_require__(131),_messageDefinitionUtils=__webpack_require__(29);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}const arrayTypeName=typeName=>(0,_messageDefinitionUtils.friendlyTypeName)(typeName)+"$Array",printFieldDefinition=field=>{const body=(field=>{if(field.isConstant){const value=JSON.stringify(field.value);if(null==value)throw new Error("Could not serialize constant value for field "+field.name);return`return ${value};`}const complexExpression=type=>`const $fieldValue = this[$value].${field.name};\nif ($fieldValue == null || $fieldValue[$deepParse] != null) {\n  return $fieldValue;\n}\nreturn new ${type}($fieldValue);`;return field.isArray&&"int8"!==field.type&&"uint8"!==field.type?(0,_messageDefinitionUtils.isComplex)(field.type)||"time"===field.type||"duration"===field.type?complexExpression(arrayTypeName(field.type)):complexExpression("$PrimitiveArrayView"):(0,_messageDefinitionUtils.isComplex)(field.type)||"time"===field.type||"duration"===field.type?complexExpression((0,_messageDefinitionUtils.friendlyTypeName)(field.type)):`return this[$value].${field.name};`})(field);return[field.name+"() {",(0,_indentString.default)(body,2),"}"].join("\n")};exports.printFieldDefinition=printFieldDefinition;const printClassDefinition=(typesByName,typeName)=>{const type=typesByName[typeName];if(null==type)throw new Error(`Unknown type "${typeName}"`);const fieldDefinitions=type.fields.map(field=>(0,_indentString.default)(printFieldDefinition(field),2)),deepParseFieldExpressions=type.fields.filter(({isConstant:isConstant})=>!isConstant).map(field=>`${field.name}: ${(({name:name,type:type,isArray:isArray})=>{const isRealArray=isArray&&"int8"!==type&&"uint8"!==type,isRealComplex=(0,_messageDefinitionUtils.isComplex)(type)||"time"===type||"duration"===type;return isRealArray||isRealComplex?`$maybeDeepParse(this.${name}())`:"this[$value]."+name})(field)},`);return`class ${(0,_messageDefinitionUtils.friendlyTypeName)(typeName)} {\n  constructor(value) {\n    this[$value] = value;\n  }\n${fieldDefinitions.join("\n")}\n  [$deepParse]() {\n    return {\n${(0,_indentString.default)(deepParseFieldExpressions.join("\n"),6)}\n    };\n  }\n}\nconst ${arrayTypeName(typeName)} = $context.getReverseWrapperArrayView(${(0,_messageDefinitionUtils.friendlyTypeName)(typeName)});\n`},printClasses=inputTypesByName=>{const typesByName=(0,_messageDefinitionUtils.addTimeTypes)(inputTypesByName),classDefinitions=Object.keys(typesByName).map(typeName=>printClassDefinition(typesByName,typeName)),classExpressions=Object.keys(typesByName).map(typeName=>`${JSON.stringify(typeName)}: ${(0,_messageDefinitionUtils.friendlyTypeName)(typeName)},`);return`const $value = Symbol();\nconst $deepParse = $context.deepParse;\nconst $maybeDeepParse = (o) => o && o[$deepParse]()\nconst $PrimitiveArrayView = $context.PrimitiveArrayView;\n${classDefinitions.join("\n")}\n\nreturn {\n${(0,_indentString.default)(classExpressions.join("\n"),2)}\n};`};exports.printClasses=printClasses;var _default=(0,_memoizeWeak.default)(datatypes=>{const context={deepParse:_messageDefinitionUtils.deepParseSymbol,PrimitiveArrayView:_ArrayViews.PrimitiveArrayView,getReverseWrapperArrayView:_ArrayViews.getReverseWrapperArrayView},classes=Function("$context",printClasses(datatypes))(context);return Object.keys(classes).forEach(datatype=>{(0,_messageDefinitionUtils.associateSourceData)(classes[datatype],{datatypes:datatypes,datatype:datatype})}),classes});exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ROBOTO_MONO=exports.rounded=exports.textSize=exports.colors=void 0;var obj,_tinycolor=(obj=__webpack_require__(134))&&obj.__esModule?obj:{default:obj};function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const robotStylesColors={DARK:"#08080a",DARK1:"#111114",DARK2:"#1a1a1f",DARK3:"#242429",DARK4:"#2d2d33",DARK5:"#36363d",DARK6:"#404047",DARK7:"#4b4b52",DARK8:"#55555c",DARK9:"#606066",LIGHT:"#ffffff",LIGHT1:"#f0f0f0",LIGHT2:"#cacacc",GRAY:"#9f9fa2",GRAY2:"#2d2c33",MAGENTAL1:"#e05ffa",MAGENTA:"#c83deb",MAGENTA1:"#b024d6",PURPLEL1:"#9987ff",PURPLE:"#7c6bff",PURPLE1:"#6858f5",BLUEL1:"#45a5ff",BLUE:"#248eff",BLUE1:"#0f71f2",TEALL1:"#2abed1",TEAL:"#00a8c2",TEAL1:"#0090ad",GREENL1:"#1abd89",GREEN:"#00a375",GREEN1:"#008768",LIMEL1:"#6bd66f",LIME:"#4ac252",LIME1:"#31ad49",YELLOWL1:"#f5d358",YELLOW:"#f7be00",YELLOW1:"#eba800",ORANGEL1:"#fc8942",ORANGE:"#f76c1b",ORANGE1:"#e5540b",REDL1:"#ff6b82",RED:"#f54966",RED1:"#db3553",RED2:"#ff7c96"},colors=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}({},robotStylesColors,{PRIMARY:robotStylesColors.PURPLE,TEXT_MUTED:robotStylesColors.GRAY,HIGHLIGHT:robotStylesColors.BLUE,HIGHLIGHT_MUTED:(0,_tinycolor.default)(robotStylesColors.BLUE).setAlpha(.3).toRgbString(),HOVER_BACKGROUND_COLOR:(0,_tinycolor.default)(robotStylesColors.PURPLE).setAlpha(.2).toRgbString(),DISABLED:robotStylesColors.DARK9,TEXTL1:robotStylesColors.LIGHT2,ACTION:robotStylesColors.BLUE,TEXT:robotStylesColors.LIGHT1,TOOLBARL1:robotStylesColors.DARK4,BRIGHT_YELLOW:"#f6ff00",BORDER_LIGHT:(0,_tinycolor.default)(robotStylesColors.LIGHT).setAlpha(.1).toRgbString(),DIFF_MODE_SOURCE_1:robotStylesColors.MAGENTA,DIFF_MODE_SOURCE_2:robotStylesColors.TEAL,DIFF_MODE_SOURCE_BOTH:robotStylesColors.DARK7,CYAN:"#00ffff"});exports.colors=colors;exports.textSize={SMALL:"12px",NORMAL:"14px",LARGE:"16px",H5:"20px",H4:"24px",H3:"32px",H2:"48px",H1:"64px"};exports.rounded={SMALL:"2px",NORMAL:"4px",LARGE:"8px",PILL:"999px",CIRCLE:"50%"};exports.ROBOTO_MONO="Roboto Mono"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSceneErrorsByTopic=getSceneErrorsByTopic,exports.filterOutSupersededMessages=filterOutSupersededMessages,exports.parseStringTemplate=parseStringTemplate,exports.default=exports.buildSyntheticArrowMarker=void 0;var _lodash=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,newObj}(__webpack_require__(7)),_shallowequal=_interopRequireDefault(__webpack_require__(78)),_MessageCollector=_interopRequireDefault(__webpack_require__(321)),_types=(_interopRequireDefault(__webpack_require__(48)),__webpack_require__(130)),_util=__webpack_require__(83),_binaryObjects=__webpack_require__(46),_globalConstants=__webpack_require__(13),_naturalSort=_interopRequireDefault(__webpack_require__(325)),_Pose=__webpack_require__(45),_sendNotification=_interopRequireDefault(__webpack_require__(80)),_time=__webpack_require__(133);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const buildSyntheticArrowMarker=({topic:topic,message:message},pose,getSyntheticArrowMarkerColor)=>({type:103,pose:pose,scale:_globalConstants.POSE_MARKER_SCALE,color:getSyntheticArrowMarkerColor(topic),interactionData:{topic:topic,originalMessage:message}});exports.buildSyntheticArrowMarker=buildSyntheticArrowMarker;function getSceneErrorsByTopic(sceneErrors,transforms,skipTransform){const res={},addError=(topic,message)=>{res[topic]||(res[topic]=[]),res[topic].push(message)};for(const[topic,message]of sceneErrors.topicsWithError)addError(topic,message);return sceneErrors.topicsMissingTransforms.forEach((err,topic)=>{addError(topic,((rootTransformId,error,transforms,skipTransform)=>{if(null!=skipTransform&&error.frameIds.has(skipTransform.frameId))return`missing transform. Is ${skipTransform.sourceTopic} present?`;if(transforms.empty)return`missing transform. Is ${_globalConstants.$TF} or ${_globalConstants.$TF_STATIC} present?`;const frameIds=[...error.frameIds].sort().join(",");return`missing transforms to root frame ${rootTransformId} from frame${1===error.frameIds.size?"":"s"} ${frameIds}.`})(sceneErrors.rootTransformID,err,transforms,skipTransform))}),sceneErrors.topicsMissingFrameIds.forEach((_err,topic)=>{addError(topic,"missing frame id")}),res}function filterOutSupersededMessages(messages,datatype){const reversedMessages=messages.slice().reverse();if(_globalConstants.MARKER_ARRAY_DATATYPES.includes(datatype)){const earliestMessageToKeepIndex=reversedMessages.findIndex(({message:message})=>{var _getField;const markers=null!==(_getField=(0,_binaryObjects.getField)(message,"markers"))&&void 0!==_getField?_getField:(0,_binaryObjects.getField)(message,"allMarkers");return 3===(0,_binaryObjects.getField)((0,_binaryObjects.getIndex)(markers,0),"action")});return-1!==earliestMessageToKeepIndex?reversedMessages.slice(0,earliestMessageToKeepIndex+1).reverse():messages}const filteredMessages=[];let hasSeenNonLifetimeMessage=!1;for(const message of reversedMessages){!!(0,_binaryObjects.getField)(message.message,"lifetime")?filteredMessages.unshift(message):hasSeenNonLifetimeMessage||(filteredMessages.unshift(message),hasSeenNonLifetimeMessage=!0)}return filteredMessages}function parseStringTemplate(str,obj){const parts=str.split(/\$\{(?!\d)[\w]*\}/),parameters=(str.match(/[^{}]+(?=})/g)||[]).map(argument=>obj[argument]||(void 0===obj[argument]?"":obj[argument]));return String.raw({raw:parts},...parameters)}exports.default=class{resetMinZ(){this._minZ=Number.MAX_SAFE_INTEGER}updateMinZ(z){this._minZ=Math.min(this._minZ,z)}constructor(hooks){_defineProperty(this,"topicsByName",{}),_defineProperty(this,"markers",[]),_defineProperty(this,"transforms",void 0),_defineProperty(this,"rootTransformID",void 0),_defineProperty(this,"selectionState",{}),_defineProperty(this,"frame",void 0),_defineProperty(this,"_structuralDatatypes",{}),_defineProperty(this,"errors",{rootTransformID:"",topicsMissingFrameIds:new Map,topicsMissingTransforms:new Map,topicsWithBadFrameIds:new Map,topicsWithError:new Map}),_defineProperty(this,"errorsByTopic",{}),_defineProperty(this,"reportedErrorTopics",{topicsWithBadFrameIds:new Set}),_defineProperty(this,"maps",[]),_defineProperty(this,"flattenedZHeightPose",null),_defineProperty(this,"scene",{}),_defineProperty(this,"collectors",{}),_defineProperty(this,"_clock",void 0),_defineProperty(this,"_playerId",null),_defineProperty(this,"_settingsByKey",{}),_defineProperty(this,"_onForceUpdate",null),_defineProperty(this,"_highlightMarkerMatchersByTopic",{}),_defineProperty(this,"_colorOverrideMarkerMatchersByTopic",{}),_defineProperty(this,"_hooks",void 0),_defineProperty(this,"allNamespaces",[]),_defineProperty(this,"enabledNamespaces",[]),_defineProperty(this,"selectedNamespacesByTopic",void 0),_defineProperty(this,"flatten",!1),_defineProperty(this,"_minZ",Number.MAX_SAFE_INTEGER),_defineProperty(this,"topicsToRender",new Set),_defineProperty(this,"lastSeenMessages",{}),_defineProperty(this,"setTransforms",(transforms,rootTransformID)=>{this.transforms=transforms,this.rootTransformID=rootTransformID,this.errors.rootTransformID=rootTransformID}),_defineProperty(this,"setGlobalVariables",({globalVariables:globalVariables})=>{const{getSelectionState:getSelectionState,getTopicsToRender:getTopicsToRender}=this._hooks,prevSelectionState=this.selectionState;this.selectionState=getSelectionState(globalVariables),getTopicsToRender(prevSelectionState,this.selectionState).forEach(topicName=>this._markTopicToRender(topicName))}),_defineProperty(this,"setTopicError",(topic,message)=>{this.errors.topicsWithError.set(topic,message),this._updateErrorsByTopic()}),_defineProperty(this,"_transformMarkerPose",(topic,marker)=>{const frame_id=marker.header().frame_id();if(!frame_id){return this._addError(this.errors.topicsMissingFrameIds,topic).namespaces.add(marker.ns()),null}if(frame_id===this.rootTransformID)return(0,_binaryObjects.deepParse)(marker.pose());this._reportBadFrameId(topic);const badFrameError=this._addError(this.errors.topicsWithBadFrameIds,topic),namespace=marker.ns();badFrameError.namespaces.add(namespace),badFrameError.frameIds.add(frame_id);const pose=this.transforms.apply((0,_Pose.emptyPose)(),(0,_binaryObjects.deepParse)(marker.pose()),frame_id,this.rootTransformID);if(!pose){const topicMissingError=this._addError(this.errors.topicsMissingTransforms,topic);topicMissingError.namespaces.add(namespace),topicMissingError.frameIds.add(frame_id)}return pose}),_defineProperty(this,"_consumeMarkerArray",(topic,message)=>{for(const marker of message.markers())this._consumeMarker(topic,marker)}),_defineProperty(this,"_consumeOccupancyGrid",(topic,message)=>{const{frame_id:frame_id}=message.header;if(!frame_id)return void this._addError(this.errors.topicsMissingFrameIds,topic);if(frame_id!==this.rootTransformID){this._reportBadFrameId(topic),this._addError(this.errors.topicsWithBadFrameIds,topic).frameIds.add(frame_id)}let pose=(0,_Pose.emptyPose)();if(pose=this.transforms.apply(pose,pose,frame_id,this.rootTransformID),!pose){return void this._addError(this.errors.topicsMissingTransforms,topic).frameIds.add(frame_id)}const name=topic+"/101",[alpha,map]=this._hooks.getOccupancyGridValues(topic),mappedMessage=_objectSpread({},message,{alpha:alpha,map:map,type:101,name:name,pose:pose,interactionData:{topic:topic,originalMessage:message}});if(0===mappedMessage.info.origin.position.z&&this.flattenedZHeightPose&&this.flatten){const originalInfo=mappedMessage.info,originalPosition=originalInfo.origin.position;mappedMessage.info=_objectSpread({},originalInfo,{origin:_objectSpread({},originalInfo.origin,{position:_objectSpread({},originalPosition,{z:this.flattenedZHeightPose.position.z})})})}this.collectors[topic].addNonMarker(topic,mappedMessage)}),_defineProperty(this,"_consumeNonMarkerMessage",(topic,drawData,type,originalMessage)=>{var _this$_settingsByKey$;const sourcePose=(0,_Pose.emptyPose)(),pose=this.transforms.apply(sourcePose,sourcePose,drawData.header.frame_id,this.rootTransformID);if(!pose){return void this._addError(this.errors.topicsMissingTransforms,topic).frameIds.add(drawData.header.frame_id)}const{overrideColor:overrideColor}=this._settingsByKey["t:"+topic]||{},mappedMessage=_objectSpread({},drawData,overrideColor?{color:overrideColor}:void 0,{type:type,pose:pose,interactionData:{topic:topic,originalMessage:null!=originalMessage?originalMessage:drawData}}),decayTimeInSec=null===(_this$_settingsByKey$=this._settingsByKey["t:"+topic])||void 0===_this$_settingsByKey$?void 0:_this$_settingsByKey$.decayTime,lifetime=decayTimeInSec?(0,_time.fromSec)(decayTimeInSec):void 0;this.collectors[topic].addNonMarker(topic,mappedMessage,lifetime)}),_defineProperty(this,"setCurrentTime",currentTime=>{this.resetMinZ(),this._clock=currentTime;for(const key in this.collectors){this.collectors[key].setClock(this._clock)}}),_defineProperty(this,"_consumeMessage",(topic,datatype,msg)=>{const{message:message}=msg;switch(datatype){case _globalConstants.VISUALIZATION_MSGS$WEBVIZ_MARKER:case _globalConstants.VISUALIZATION_MSGS$MARKER:this._consumeMarker(topic,(0,_types.cast)(message));break;case _globalConstants.WEBVIZ_ICON_MSGS$WEBVIZ_3D_ICON_ARRAY:case _globalConstants.VISUALIZATION_MSGS$WEBVIZ_MARKER_ARRAY:case _globalConstants.VISUALIZATION_MSGS$MARKER_ARRAY:this._consumeMarkerArray(topic,message);break;case _globalConstants.GEOMETRY_MSGS$POSE_STAMPED:{const pose=(0,_binaryObjects.deepParse)((0,_types.cast)(msg.message).pose());this.collectors[topic].addNonMarker(topic,buildSyntheticArrowMarker(msg,pose,this._hooks.getSyntheticArrowMarkerColor));break}case _globalConstants.NAV_MSGS$OCCUPANCY_GRID:this._consumeOccupancyGrid(topic,(0,_binaryObjects.deepParse)(message));break;case _globalConstants.NAV_MSGS$PATH:{const pathStamped=(0,_types.cast)(message);if(0===pathStamped.poses().length())break;const newMessage={header:(0,_binaryObjects.deepParse)(pathStamped.header()),points:pathStamped.poses().toArray().map(pose=>(0,_binaryObjects.deepParse)(pose.pose().position())),closed:!1,scale:{x:.2},color:{r:1,g:0,b:0,a:1}};this._consumeNonMarkerMessage(topic,newMessage,_globalConstants.MARKER_MSG_TYPES.LINE_STRIP,message);break}case _globalConstants.SENSOR_MSGS$POINT_CLOUD_2:this._consumeNonMarkerMessage(topic,(0,_binaryObjects.deepParse)(message),102);break;case _globalConstants.SENSOR_MSGS$LASER_SCAN:this._consumeNonMarkerMessage(topic,(0,_binaryObjects.deepParse)(message),104);break;case _globalConstants.GEOMETRY_MSGS$POLYGON_STAMPED:{const polygonStamped=(0,_types.cast)(message),polygon=polygonStamped.polygon();if(0===polygon.points().length())break;const newMessage={header:(0,_binaryObjects.deepParse)(polygonStamped.header()),points:(0,_binaryObjects.deepParse)(polygon.points()),closed:!0,scale:{x:.2},color:{r:0,g:1,b:0,a:1}};this._consumeNonMarkerMessage(topic,newMessage,_globalConstants.MARKER_MSG_TYPES.LINE_STRIP,message);break}default:{const structuralDatatype=this._structuralDatatypes[datatype];if(structuralDatatype===_globalConstants.RADAR_POINT_CLOUD){this._consumeNonMarkerMessage(topic,(0,_binaryObjects.deepParse)(message),106);break}if(structuralDatatype===_globalConstants.WRAPPED_POINT_CLOUD){this._consumeNonMarkerMessage(topic,(0,_binaryObjects.deepParse)((0,_types.cast)(message).cloud()),102,message);break}const{flattenedZHeightPose:flattenedZHeightPose,collectors:collectors,errors:errors,lastSeenMessages:lastSeenMessages,selectionState:selectionState}=this;this._hooks.consumeBobject(topic,datatype,msg,{consumeMarkerArray:this._consumeMarkerArray,consumeNonMarkerMessage:this._consumeNonMarkerMessage,consumeOccupancyGrid:this._consumeOccupancyGrid},{flattenedZHeightPose:flattenedZHeightPose,collectors:collectors,errors:errors,lastSeenMessages:lastSeenMessages,selectionState:selectionState})}}}),_defineProperty(this,"_consumeTopic",topic=>{var _this$_settingsByKey$2;const messages=this.frame[topic]||this.lastSeenMessages[topic];if(!messages)return;this.errors.topicsMissingFrameIds.delete(topic),this.errors.topicsMissingTransforms.delete(topic),this.errors.topicsWithBadFrameIds.delete(topic),this.errors.topicsWithError.delete(topic),this.collectors[topic]=this.collectors[topic]||new _MessageCollector.default,this.collectors[topic].setClock(this._clock),this.collectors[topic].flush();const datatype=this.topicsByName[topic].datatype,filteredMessages=void 0===(null===(_this$_settingsByKey$2=this._settingsByKey["t:"+topic])||void 0===_this$_settingsByKey$2?void 0:_this$_settingsByKey$2.decayTime)?filterOutSupersededMessages(messages,datatype):messages;for(const message of filteredMessages)this._consumeMessage(topic,datatype,message)}),this._hooks=hooks}setStructuralDatatypes(datatypes){this._structuralDatatypes=datatypes}clear(){for(const topicName of Object.keys(this.topicsByName)){const collector=this.collectors[topicName];collector&&collector.flush()}}setPlayerId(playerId){this._playerId!==playerId&&(this.reportedErrorTopics.topicsWithBadFrameIds.clear(),this.errors={rootTransformID:"",topicsMissingFrameIds:new Map,topicsMissingTransforms:new Map,topicsWithBadFrameIds:new Map,topicsWithError:new Map},this._updateErrorsByTopic()),this._playerId=playerId}setSettingsByKey(settings){this._settingsByKey=settings}setTopics(topics){const topicsToFlush=Object.keys(this.topicsByName).filter(topicName=>!topics.find(other=>other.name===topicName));this.topicsByName=(0,_lodash.keyBy)(topics.slice().sort((0,_naturalSort.default)("name")),"name"),this.frame={},topicsToFlush.forEach(topicName=>{const collector=this.collectors[topicName];collector&&(collector.flush(),delete this.collectors[topicName])})}setFrame(frame){if(this.frame!==frame){this.frame=frame;for(const topicName of Object.keys(this.topicsByName))topicName in frame&&this.topicsToRender.add(topicName);Object.assign(this.lastSeenMessages,frame)}}setFlattenMarkers(_flatten){this.flatten=_flatten}setEnabledNamespaces(namespaces){this.enabledNamespaces=namespaces}setSelectedNamespacesByTopic(selectedNamespacesByTopic){Object.keys(selectedNamespacesByTopic).forEach(topicName=>{var _this$selectedNamespa;const newNamespaces=selectedNamespacesByTopic[topicName],previousNamespaces=[...(null===(_this$selectedNamespa=this.selectedNamespacesByTopic)||void 0===_this$selectedNamespa?void 0:_this$selectedNamespa[topicName])||[]];(0,_lodash.xor)(newNamespaces,previousNamespaces).length>0&&this._markTopicToRender(topicName)}),this.selectedNamespacesByTopic=(0,_lodash.mapValues)(selectedNamespacesByTopic,namespaces=>new Set(namespaces))}setHighlightedMatchers(markerMatchers){const markerMatchersByTopic=(0,_lodash.groupBy)(markerMatchers,({topic:topic})=>topic);this._addTopicsToRenderForMarkerMatchers(this._highlightMarkerMatchersByTopic,markerMatchers),this._highlightMarkerMatchersByTopic=markerMatchersByTopic}setColorOverrideMatchers(markerMatchers){const markerMatchersByTopic=(0,_lodash.groupBy)(markerMatchers,({topic:topic})=>topic);this._addTopicsToRenderForMarkerMatchers(this._colorOverrideMarkerMatchersByTopic,markerMatchers),this._colorOverrideMarkerMatchersByTopic=markerMatchersByTopic}_addTopicsToRenderForMarkerMatchers(previousMarkerMatchersByTopic,newMarkerMatchers){const matchersBefore=(0,_lodash.flatten)(Object.keys(previousMarkerMatchersByTopic)).flatMap(topic=>previousMarkerMatchersByTopic[topic]);(0,_shallowequal.default)(matchersBefore,newMarkerMatchers)||Object.keys(this.topicsByName).forEach(name=>this._markTopicToRender(name))}_markTopicToRender(topicName){this.topicsByName[topicName]&&this.topicsToRender.add(topicName)}hasErrors(){const{topicsMissingFrameIds:topicsMissingFrameIds,topicsMissingTransforms:topicsMissingTransforms,topicsWithBadFrameIds:topicsWithBadFrameIds,topicsWithError:topicsWithError}=this.errors;return 0!==topicsMissingFrameIds.size||0!==topicsMissingTransforms.size||0!==topicsWithBadFrameIds.size||0!==topicsWithError.size}setOnForceUpdate(callback){this._onForceUpdate=callback}_addError(map,topic){let values=map.get(topic);return values||(values={namespaces:new Set,frameIds:new Set},map.set(topic,values)),this._updateErrorsByTopic(),values}_updateErrorsByTopic(){const errorsByTopic=getSceneErrorsByTopic(this.errors,this.transforms,this._hooks.skipTransformFrame);(0,_lodash.isEqual)(this.errorsByTopic,errorsByTopic)||(this.errorsByTopic=errorsByTopic,this._onForceUpdate&&this._onForceUpdate())}_consumeNamespace(topic,name){(0,_lodash.some)(this.allNamespaces,ns=>ns.topic===topic&&ns.name===name)||(this.allNamespaces=this.allNamespaces.concat([{topic:topic,name:name}]),this._onForceUpdate&&this._onForceUpdate())}namespaceIsEnabled(topic,name){return this.selectedNamespacesByTopic?this.selectedNamespacesByTopic[topic]&&this.selectedNamespacesByTopic[topic].has(name)||null==this.selectedNamespacesByTopic[topic]:(0,_lodash.some)(this.enabledNamespaces,ns=>ns.topic===topic&&ns.name===name)}_reportBadFrameId(topic){this.reportedErrorTopics.topicsWithBadFrameIds.has(topic)||(this.reportedErrorTopics.topicsWithBadFrameIds.add(topic),(0,_sendNotification.default)(`Topic ${topic} has bad frame`,"Non-root transforms may be out of sync, since webviz uses the latest transform message instead of the one matching header.stamp","user","warn"))}_consumeMarker(topic,message){const namespace=message.ns();if(namespace&&(this._consumeNamespace(topic,namespace),!this.namespaceIsEnabled(topic,namespace)))return;const name=`${topic}/${namespace}/${message.id()}`;switch(message.action()){case 0:break;case 1:return void this.setTopicError(topic,"Marker.action=1 is deprecated");case 2:return void this.collectors[topic].deleteMarker(name);case 3:return void this.collectors[topic].deleteAll();default:return void this.setTopicError(topic,"Unsupported action type: "+message.action())}const pose=this._transformMarkerPose(topic,message);if(!pose)return;const points=message.points(),{position:position}=pose;let minZ=Number.MAX_SAFE_INTEGER;const parsedPoints=[];if(points&&points.length())for(const point of points){const z=point.z();minZ=Math.min(minZ,z),this.updateMinZ(z+position.z),parsedPoints.push({x:point.x(),y:point.y(),z:z})}else minZ=Math.min(minZ,position.z),this.updateMinZ(position.z);0===minZ&&this.flatten&&this.flattenedZHeightPose&&(position.z=this.flattenedZHeightPose.position.z);const color=this._hooks.getMarkerColor(topic,(0,_binaryObjects.deepParse)(message.color())),{overrideColor:overrideColor,iconTextTemplate:iconTextTemplate}=this._settingsByKey[`ns:${topic}:${namespace}`]||this._settingsByKey["t:"+topic]||{},matchingMatcher=(this._colorOverrideMarkerMatchersByTopic[topic]||[]).find(({checks:checks=[]})=>checks.every(({markerKeyPath:markerKeyPath=[],value:value})=>value===markerKeyPath.reduce((item,key)=>(null==item?void 0:item[key])&&item[key](),message)));let matchingOverrideColor=overrideColor;matchingMatcher&&(matchingOverrideColor=matchingMatcher.color);const interactionData={topic:topic,highlighted:!1,originalMessage:message},lifetime=message.lifetime(),marker={type:message.type(),scale:(0,_binaryObjects.deepParse)(message.scale()),lifetime:lifetime?(0,_binaryObjects.deepParse)(lifetime):null,pose:pose,interactionData:interactionData,color:matchingOverrideColor||color,colors:matchingOverrideColor?[]:(0,_binaryObjects.deepParse)(message.colors()),points:parsedPoints,id:message.id(),ns:message.ns(),header:(0,_binaryObjects.deepParse)(message.header()),action:message.action()};null!=message.text&&(marker.text=message.text()),marker.type===_globalConstants.MARKER_MSG_TYPES.OVERLAY_ICON&&(null!=message.icon_type&&(marker.icon_type=message.icon_type()),null!=message.metadata&&(marker.metadata=message.metadata(),iconTextTemplate&&(marker.text=parseStringTemplate(iconTextTemplate,marker.metadata)))),message.metadataByIndex&&(marker.poses=message.poses&&message.poses(),marker.metadataByIndex=message.metadataByIndex(),marker.closed=message.closed&&message.closed()),this.collectors[topic].addMarker(marker,name)}render(){this.flattenedZHeightPose=this._hooks.getFlattenedPose(this.frame)||this.flattenedZHeightPose,this.flattenedZHeightPose&&this.flattenedZHeightPose.position&&this.updateMinZ(this.flattenedZHeightPose.position.z);for(const topic of this.topicsToRender)try{this._consumeTopic(topic)}catch(error){this.setTopicError(topic,error.toString())}this.topicsToRender.clear()}getScene(){return{minZ:this._minZ,flattenedZHeightPose:this.flattenedZHeightPose}}renderMarkers(add){for(const topic of(0,_util.objectValues)(this.topicsByName)){const collector=this.collectors[topic.name];if(!collector)continue;const topicMarkers=collector.getMessages();for(const message of topicMarkers){const marker=message;if(marker.ns&&!this.namespaceIsEnabled(topic.name,marker.ns))continue;if(Object.keys(this._highlightMarkerMatchersByTopic).length>0){const markerMatches=(this._highlightMarkerMatchersByTopic[topic.name]||[]).some(({checks:checks=[]})=>checks.every(({markerKeyPath:markerKeyPath,value:value})=>value===_lodash.default.get(message,markerKeyPath)));marker.interactionData.highlighted=markerMatches}const settings=this._settingsByKey["t:"+topic.name];settings&&(marker.settings=settings),this._addMarkerToCollector(add,topic,marker)}}}_addMarkerToCollector(add,topic,originalMarker){let marker=originalMarker;switch(marker.type){case 1:case 2:case 3:marker=_objectSpread({},marker,{points:void 0});break;case 4:marker=_objectSpread({},marker,{primitive:"line strip"});break;case 6:marker=_objectSpread({},marker,{primitive:"lines"})}const{overrideCommand:overrideCommand}=this._settingsByKey["t:"+topic.name]||{};switch(marker.type){case 0:return add.arrow(marker);case 1:return add.cube(marker);case 2:return add.sphere(marker);case 3:return add.cylinder(marker);case 4:return overrideCommand===_globalConstants.LINED_CONVEX_HULL_RENDERING_SETTING?add.linedConvexHull(marker):add.lineStrip(marker);case 5:return overrideCommand===_globalConstants.LINED_CONVEX_HULL_RENDERING_SETTING?add.linedConvexHull(marker):add.lineList(marker);case 6:return add.cubeList(marker);case 7:return add.sphereList(marker);case 8:return add.points(marker);case 9:return add.text(marker);case 11:return add.triangleList(marker);case 101:return add.grid(marker);case 102:return add.pointcloud(marker);case 103:return add.poseMarker(marker);case 104:return add.laserScan(marker);case 106:return add.radarPointCluster(marker);case 107:return add.filledPolygon(marker);case 108:return add.instancedLineList(marker);case 109:return add.overlayIcon(marker);default:this._hooks.addMarkerToCollector(add,marker)||this.setTopicError(topic.name,"Unsupported marker type: "+marker.type)}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_rosbag=__webpack_require__(81),_uuid=(obj=__webpack_require__(322))&&obj.__esModule?obj:{default:obj};function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const ZERO_TIME={sec:0,nsec:0};class MessageWithLifetime{constructor(message,receiveTime,lifetime){_defineProperty(this,"message",void 0),_defineProperty(this,"receiveTime",void 0),_defineProperty(this,"lifetime",void 0),this.message=message,this.receiveTime=receiveTime,this.lifetime=lifetime}update(message,receiveTime,lifetime){this.message=message,this.receiveTime=receiveTime,this.lifetime=lifetime}isExpired(currentTime){if(!currentTime)return!1;if(null==this.lifetime)return!1;const lifetime=this.lifetime;if(_rosbag.TimeUtil.areSame(lifetime,ZERO_TIME))return!1;const expiresAt=_rosbag.TimeUtil.add(this.receiveTime,lifetime);return _rosbag.TimeUtil.isGreaterThan(currentTime,expiresAt)}}exports.default=class{constructor(){_defineProperty(this,"markers",new Map),_defineProperty(this,"clock",{sec:0,nsec:0})}setClock(clock){if(!clock)return;_rosbag.TimeUtil.isGreaterThan(this.clock,clock)&&(this.markers.forEach((marker,key)=>{_rosbag.TimeUtil.isGreaterThan(marker.receiveTime,clock)&&this.markers.delete(key)}),this.flush()),this.clock=clock}flush(){this.markers.forEach((marker,key)=>{null==marker.lifetime&&this.markers.delete(key)})}_addItem(key,item,lifetime){const existing=this.markers.get(key);existing?existing.update(item,this.clock,lifetime):this.markers.set(key,new MessageWithLifetime(item,this.clock,lifetime))}addMarker(marker,name){this._addItem(name,marker,marker.lifetime)}deleteMarker(name){if(!name)return console.error("Cannot delete marker, it is missing name");this.markers.delete(name)}deleteAll(){this.markers.clear()}addNonMarker(topic,message,lifetime){if(null!=lifetime){this.markers.delete(topic);const key=`${topic}/${_uuid.default.v4()}`;this._addItem(key,message,lifetime)}else{for(const key of this.markers.keys())0===key.indexOf(topic+"/")&&this.markers.delete(key);this._addItem(topic,message)}}getMessages(){const result=[];return this.markers.forEach((marker,key)=>{marker.isExpired(this.clock)?this.markers.delete(key):result.push(marker.message)}),result}}},function(module,exports,__webpack_require__){var v1=__webpack_require__(323),v4=__webpack_require__(324),uuid=v4;uuid.v1=v1,uuid.v4=v4,module.exports=uuid},function(module,exports,__webpack_require__){var _nodeId,_clockseq,rng=__webpack_require__(135),bytesToUuid=__webpack_require__(136),_lastMSecs=0,_lastNSecs=0;module.exports=function(options,buf,offset){var i=buf&&offset||0,b=buf||[],node=(options=options||{}).node||_nodeId,clockseq=void 0!==options.clockseq?options.clockseq:_clockseq;if(null==node||null==clockseq){var seedBytes=rng();null==node&&(node=_nodeId=[1|seedBytes[0],seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]),null==clockseq&&(clockseq=_clockseq=16383&(seedBytes[6]<<8|seedBytes[7]))}var msecs=void 0!==options.msecs?options.msecs:(new Date).getTime(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq;var tl=(1e4*(268435455&(msecs+=122192928e5))+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var n=0;n<6;++n)b[i+n]=node[n];return buf||bytesToUuid(b)}},function(module,exports,__webpack_require__){var rng=__webpack_require__(135),bytesToUuid=__webpack_require__(136);module.exports=function(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"===options?new Array(16):null,options=null);var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||bytesToUuid(rnds)}},function(module,exports,__webpack_require__){"use strict";var obj;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(key){return key?(a,b)=>sortFn(a[key],b[key]):sortFn};const sortFn=(0,((obj=__webpack_require__(326))&&obj.__esModule?obj:{default:obj}).default)({insensitive:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(options){void 0===options&&(options={});var ore=/^0/,sre=/\s+/g,tre=/^\s+|\s+$/g,ure=/[^\x00-\x80]/,hre=/^0x[0-9a-f]+$/i,nre=/(0x[\da-fA-F]+|(^[\+\-]?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?(?=\D|\s|$))|\d+)/g,dre=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,toLowerCase=String.prototype.toLocaleLowerCase||String.prototype.toLowerCase,GREATER=options.desc?-1:1,SMALLER=-GREATER,normalize=options.insensitive?function(s){return toLowerCase.call(""+s).replace(tre,"")}:function(s){return(""+s).replace(tre,"")};function tokenize(s){return s.replace(nre,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0")}function parse(s,l){return(!s.match(ore)||1===l)&&parseFloat(s)||s.replace(sre," ").replace(tre,"")||0}return function(a,b){var aa=normalize(a),bb=normalize(b);if(!aa&&!bb)return 0;if(!aa&&bb)return SMALLER;if(aa&&!bb)return GREATER;var aArr=tokenize(aa),bArr=tokenize(bb),aHex=aa.match(hre),bHex=bb.match(hre),av=aHex&&bHex?parseInt(aHex[0],16):1!==aArr.length&&Date.parse(aa),bv=aHex&&bHex?parseInt(bHex[0],16):av&&bb.match(dre)&&Date.parse(bb)||null;if(bv){if(av===bv)return 0;if(av<bv)return SMALLER;if(av>bv)return GREATER}for(var al=aArr.length,bl=bArr.length,i=0,l=Math.max(al,bl);i<l;i+=1){var af=parse(aArr[i]||"",al),bf=parse(bArr[i]||"",bl);if(isNaN(af)!==isNaN(bf))return isNaN(af)?GREATER:SMALLER;if(ure.test(af+bf)&&af.localeCompare){var comp=af.localeCompare(bf);if(comp>0)return GREATER;if(comp<0)return SMALLER;if(i===l-1)return 0}if(af<bf)return SMALLER;if(af>bf)return GREATER}return 0}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTargetPose=getTargetPose,exports.useTransformedCameraState=function({configCameraState:configCameraState,followTf:followTf,followOrientation:followOrientation,transforms:transforms}){let transformedCameraState=_objectSpread({},configCameraState);const targetPose=getTargetPose(followTf,transforms),lastTargetPoseRef=(0,_react.useRef)(null),lastTargetPose=lastTargetPoseRef.current;targetPose?(lastTargetPoseRef.current=targetPose,transformedCameraState.target=targetPose.target,followOrientation&&(transformedCameraState.targetOrientation=targetPose.targetOrientation)):followTf&&lastTargetPose&&(transformedCameraState.target=lastTargetPose.target,followOrientation&&(transformedCameraState.targetOrientation=lastTargetPose.targetOrientation));null==(null==configCameraState?void 0:configCameraState.distance)&&(transformedCameraState.distance=function(){const params=new URLSearchParams(location&&location.search);if(params.has("zoom"))return parseFloat(params.get("zoom"))}());return transformedCameraState=(0,_lodash.mergeWith)(transformedCameraState,_index.DEFAULT_CAMERA_STATE,(objVal,srcVal)=>null!=objVal?objVal:srcVal),(0,_hooks.useDeepMemo)({transformedCameraState:transformedCameraState,targetPose:targetPose||lastTargetPose})},exports.getUpdatedGlobalVariablesBySelectedObject=function(selectedObject,linkedGlobalVariables){const object=getObject(selectedObject),interactionData=getInteractionData(selectedObject);if(!linkedGlobalVariables.length||!(null==interactionData?void 0:interactionData.topic))return;const newGlobalVariables={};return linkedGlobalVariables.forEach(({topic:topic,markerKeyPath:markerKeyPath,name:name})=>{if((null==interactionData?void 0:interactionData.topic)===topic){const objectForPath=(0,_lodash.get)(object,[...markerKeyPath].reverse());newGlobalVariables[name]=objectForPath}}),newGlobalVariables},exports.getNewCameraStateOnFollowChange=function({prevCameraState:prevCameraState,prevTargetPose:prevTargetPose,prevFollowTf:prevFollowTf,prevFollowOrientation:prevFollowOrientation,newFollowTf:newFollowTf,newFollowOrientation:newFollowOrientation}){const newCameraState=_objectSpread({},prevCameraState);if(newFollowTf){if(newFollowOrientation&&!prevFollowOrientation&&prevTargetPose){const heading=_index.cameraStateSelectors.targetHeading({targetOrientation:prevTargetPose.targetOrientation});newCameraState.targetOffset=_glMatrix.vec3.rotateZ([0,0,0],newCameraState.targetOffset||_index.DEFAULT_CAMERA_STATE.targetOffset,[0,0,0],heading),newCameraState.thetaOffset-=heading}prevFollowTf||(newCameraState.targetOffset=[0,0,0])}else prevFollowTf&&prevTargetPose&&Object.assign(newCameraState,function(offsets,targetPose,followOrientation){const heading=followOrientation?_index.cameraStateSelectors.targetHeading({targetOrientation:targetPose.targetOrientation}):0,targetOffset=_glMatrix.vec3.rotateZ([0,0,0],offsets.targetOffset,[0,0,0],-heading);_glMatrix.vec3.add(targetOffset,targetOffset,targetPose.target);const thetaOffset=offsets.thetaOffset+heading;return{targetOffset:targetOffset,thetaOffset:thetaOffset}}({targetOffset:prevCameraState.targetOffset||_index.DEFAULT_CAMERA_STATE.targetOffset,thetaOffset:prevCameraState.thetaOffset||_index.DEFAULT_CAMERA_STATE.thetaOffset},prevTargetPose,!!prevFollowOrientation),{target:[0,0,0]});return newCameraState},exports.normalizeMouseEventObject=exports.getInteractionData=exports.getObject=exports.getInstanceObj=void 0;var obj,_glMatrix=__webpack_require__(26),_lodash=__webpack_require__(7),_react=__webpack_require__(0),_index=__webpack_require__(6),_selection=__webpack_require__(137),_binaryObjects=((obj=__webpack_require__(48))&&obj.__esModule,__webpack_require__(46)),_hooks=__webpack_require__(49),_Pose=__webpack_require__(45);function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function getTargetPose(followTf,transforms){if(followTf){let pose=(0,_Pose.emptyPose)();if(pose=transforms.apply(pose,pose,followTf,transforms.rootOfTransform(followTf).id),pose){const{x:px,y:py,z:pz}=pose.position,{x:ox,y:oy,z:oz,w:ow}=pose.orientation;return{target:[px,py,pz],targetOrientation:[ox,oy,oz,ow]}}}return null}const getInstanceObj=(marker,idx)=>{var _marker$metadataByInd2;if(marker){var _marker$metadataByInd;if(!(0,_binaryObjects.isBobject)(marker))return null==marker||null===(_marker$metadataByInd=marker.metadataByIndex)||void 0===_marker$metadataByInd?void 0:_marker$metadataByInd[idx];if(marker.metadataByIndex)return null===(_marker$metadataByInd2=marker.metadataByIndex())||void 0===_marker$metadataByInd2?void 0:_marker$metadataByInd2[idx]}};exports.getInstanceObj=getInstanceObj;const getObject=selectedObject=>{const object=void 0!==selectedObject.instanceIndex&&void 0!==selectedObject.object.metadataByIndex&&getInstanceObj(selectedObject.object,selectedObject.instanceIndex)||(null==selectedObject?void 0:selectedObject.object);return(0,_binaryObjects.isBobject)(object)?(0,_binaryObjects.deepParse)(object):object};exports.getObject=getObject;const getInteractionData=selectedObject=>{var _getObject;return selectedObject.object.interactionData||(null===(_getObject=getObject(selectedObject))||void 0===_getObject?void 0:_getObject.interactionData)};exports.getInteractionData=getInteractionData;exports.normalizeMouseEventObject=({object:object,instanceIndex:instanceIndex})=>{var _getInstanceObj,_ref,_instanceObject$inter,_ref2,_ref3,_instanceObject$inter2,_object$interactionDa;const instanceObject=null!==(_getInstanceObj=getInstanceObj(object,instanceIndex))&&void 0!==_getInstanceObj?_getInstanceObj:object,originalMessage=null!==(_ref=null===(_instanceObject$inter=instanceObject.interactionData)||void 0===_instanceObject$inter?void 0:_instanceObject$inter.originalMessage)&&void 0!==_ref?_ref:instanceObject,topic=null!==(_ref2=null!==(_ref3=null===(_instanceObject$inter2=instanceObject.interactionData)||void 0===_instanceObject$inter2?void 0:_instanceObject$inter2.topic)&&void 0!==_ref3?_ref3:null===(_object$interactionDa=object.interactionData)||void 0===_object$interactionDa?void 0:_object$interactionDa.topic)&&void 0!==_ref2?_ref2:"",parsedMessage=(0,_binaryObjects.isBobject)(originalMessage)?(0,_binaryObjects.deepParse)(originalMessage):originalMessage,interestingObjectFields={};for(const field of["id","ns"]){const value=(0,_binaryObjects.getField)(instanceObject,field);null!=value&&(interestingObjectFields[field]=value)}const interactionData={topic:topic,originalMessage:parsedMessage};return 102===instanceObject.type&&(interestingObjectFields.clickedPointDetails={color:(0,_selection.getClickedPointColor)(object,instanceIndex),decodedData:(0,_selection.decodeData)(instanceObject),index:instanceIndex}),{object:_objectSpread({},interestingObjectFields,{interactionData:interactionData})}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getReader=function(datatype,offset){switch(datatype){case _types.DATATYPE.float32:return new Float32Reader(offset);case _types.DATATYPE.uint8:return new Uint8Reader(offset);case _types.DATATYPE.uint16:return new Uint16Reader(offset);case _types.DATATYPE.int16:return new Int16Reader(offset);case _types.DATATYPE.int32:return new Int32Reader(offset);default:_logger.default.error("Unsupported datatype",datatype)}},exports.Uint8Reader=exports.Int16Reader=exports.Uint16Reader=exports.Int32Reader=exports.Float32Reader=void 0;var obj,_types=__webpack_require__(30),_logger=(obj=__webpack_require__(329))&&obj.__esModule?obj:{default:obj};function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const buffer=new ArrayBuffer(4),view=new DataView(buffer);class Float32Reader{constructor(offset){_defineProperty(this,"offset",void 0),this.offset=offset}read(data,index){return view.setUint8(0,data[index+this.offset]),view.setUint8(1,data[index+this.offset+1]),view.setUint8(2,data[index+this.offset+2]),view.setUint8(3,data[index+this.offset+3]),view.getFloat32(0,!0)}}exports.Float32Reader=Float32Reader;class Int32Reader{constructor(offset){_defineProperty(this,"offset",void 0),this.offset=offset}read(data,index){return view.setUint8(0,data[index+this.offset]),view.setUint8(1,data[index+this.offset+1]),view.setUint8(2,data[index+this.offset+2]),view.setUint8(3,data[index+this.offset+3]),view.getInt32(0,!0)}}exports.Int32Reader=Int32Reader;class Uint16Reader{constructor(offset){_defineProperty(this,"offset",void 0),this.offset=offset}read(data,index){return view.setUint8(0,data[index+this.offset]),view.setUint8(1,data[index+this.offset+1]),view.getUint16(0,!0)}}exports.Uint16Reader=Uint16Reader;class Int16Reader{constructor(offset){_defineProperty(this,"offset",void 0),this.offset=offset}read(data,index){return view.setUint8(0,data[index+this.offset]),view.setUint8(1,data[index+this.offset+1]),view.getInt16(0,!0)}}exports.Int16Reader=Int16Reader;class Uint8Reader{constructor(offset){_defineProperty(this,"offset",void 0),this.offset=offset}read(data,index){return data[index+this.offset]}}exports.Uint8Reader=Uint8Reader},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _lodash=__webpack_require__(7);const warn=(0,_lodash.throttle)((...args)=>console.warn(...args),1e3),error=(0,_lodash.throttle)((...args)=>console.error(...args),1e3),info=(0,_lodash.throttle)((...args)=>console.info(...args),1e3);var _default={debug:(0,_lodash.throttle)((...args)=>console.log(...args),1e3),info:info,warn:warn,error:error};exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=({data:data,fields:fields,pointCount:pointCount,stride:stride,sphericalRangeScale:sphericalRangeScale})=>{var _fields$azimuth,_fields$elevation,_fields$scaled_range;if(!fields.azimuth)return null;const azimuthReader=null===(_fields$azimuth=fields.azimuth)||void 0===_fields$azimuth?void 0:_fields$azimuth.reader,elevationReader=null===(_fields$elevation=fields.elevation)||void 0===_fields$elevation?void 0:_fields$elevation.reader,rangeReader=null===(_fields$scaled_range=fields.scaled_range)||void 0===_fields$scaled_range?void 0:_fields$scaled_range.reader,toRadians=centideg=>.01*centideg*Math.PI/180;if(azimuthReader&&elevationReader&&rangeReader){const COMPONENT_COUNT=3,buffer=new Float32Array(COMPONENT_COUNT*pointCount);for(let i=0;i<pointCount;i++){const pointStart=i*stride,azimuth=toRadians(azimuthReader.read(data,pointStart)),elevation=toRadians(elevationReader.read(data,pointStart)),range=(sphericalRangeScale||1)*rangeReader.read(data,pointStart),x=range*Math.cos(elevation)*Math.cos(azimuth),y=range*Math.cos(elevation)*Math.sin(azimuth),z=range*Math.sin(elevation),offset=i*COMPONENT_COUNT;buffer[offset+0]=x,buffer[offset+1]=y,buffer[offset+2]=z}return{buffer:buffer,offset:0,stride:COMPONENT_COUNT}}};exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function({playerId:playerId,sceneBuilder:sceneBuilder,transforms:transforms,staticallyAvailableNamespacesByTopic:staticallyAvailableNamespacesByTopic}){const hasChangedPlayerId=(0,_hooks.useChangeDetector)([playerId],!1),newAvailableTfs=transforms.values().map(({id:id})=>id).filter(Boolean),availableTfsRef=(0,_react.useRef)(newAvailableTfs);if(hasChangedPlayerId)availableTfsRef.current=newAvailableTfs;else{const tfsNotYetAdded=(0,_lodash.difference)(newAvailableTfs,availableTfsRef.current);tfsNotYetAdded.length&&(availableTfsRef.current=[...availableTfsRef.current,...tfsNotYetAdded])}const availableTfs=availableTfsRef.current,allNamespaces=sceneBuilder?sceneBuilder.allNamespaces:[],availableNamespacesByTopic=(0,_react.useMemo)(()=>{const result=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}({},staticallyAvailableNamespacesByTopic);for(const _ref of allNamespaces){const{name:name,topic:topic}=_ref;result[topic]=result[topic]||[],result[topic].push(name)}return availableTfs.length&&(result[_globalConstants.$TF]=availableTfs),result},[availableTfs,allNamespaces,staticallyAvailableNamespacesByTopic]),errorsByTopic=sceneBuilder?sceneBuilder.errorsByTopic:{},sceneErrorsByKey=(0,_react.useMemo)(()=>(0,_lodash.mapKeys)(errorsByTopic,(value,topicName)=>(0,_generateNodeKey.default)({topicName:topicName})),[errorsByTopic]),sceneErrorsByKeyMemo=(0,_hooks.useDeepMemo)(sceneErrorsByKey);return{availableNamespacesByTopic:availableNamespacesByTopic,sceneErrorsByKey:sceneErrorsByKeyMemo}};var obj,_lodash=__webpack_require__(7),_react=__webpack_require__(0),_generateNodeKey=(obj=__webpack_require__(332))&&obj.__esModule?obj:{default:obj},_globalConstants=__webpack_require__(13),_hooks=__webpack_require__(49);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function({topicName:topicName,name:name,namespace:namespace,isFeatureColumn:isFeatureColumn}){const prefixedTopicName=topicName?isFeatureColumn?`${_globalConstants.$WEBVIZ_SOURCE_2}${topicName}`:topicName:void 0;if(namespace){if(prefixedTopicName)return`ns:${prefixedTopicName}:${namespace}`;throw new Error("Incorrect input for generating the node key. If a namespace is present, then the topicName must be present")}if(prefixedTopicName)return"t:"+prefixedTopicName;if(name)return isFeatureColumn?"name_2:"+name:"name:"+name;throw new Error("Incorrect input for generating the node key. Either topicName or name must be present.")};var _globalConstants=__webpack_require__(13)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.getArrowToParentMarkers=void 0;var _glMatrix=__webpack_require__(26),_globalConstants=(function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj}(__webpack_require__(48)),__webpack_require__(13));function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const originPosition={x:0,y:0,z:0},originOrientation={x:0,y:0,z:0,w:1},defaultArrowMarker={id:"",header:{frame_id:"",stamp:{sec:0,nsec:0}},ns:"tf-axes",type:0,action:0},defaultArrowScale={x:.2,y:.02,z:.02},unitXVector=_glMatrix.vec3.fromValues(1,0,0),originAxes=[_objectSpread({},defaultArrowMarker,{scale:_objectSpread({},defaultArrowScale),pose:{position:_objectSpread({},originPosition),orientation:_objectSpread({},originOrientation)},id:"X",color:{r:1,g:0,b:0,a:1},unitVector:_glMatrix.vec3.fromValues(1,0,0)}),_objectSpread({},defaultArrowMarker,{scale:_objectSpread({},defaultArrowScale),pose:{position:_objectSpread({},originPosition),orientation:_objectSpread({},originOrientation)},id:"Y",color:{r:0,g:1,b:0,a:1},unitVector:_glMatrix.vec3.fromValues(0,1,0)}),_objectSpread({},defaultArrowMarker,{scale:_objectSpread({},defaultArrowScale),pose:{position:_objectSpread({},originPosition),orientation:_objectSpread({},originOrientation)},id:"Z",color:{r:0,g:0,b:1,a:1},unitVector:_glMatrix.vec3.fromValues(0,0,1)})],tempOrientation=[0,0,0,0],getAxesArrowMarkers=(id,transform,rootTransformID)=>originAxes.map(axis=>((id,transform,axis,rootTransformID)=>{const{unitVector:unitVector,id:axisId}=axis;_glMatrix.quat.rotationTo(tempOrientation,unitXVector,unitVector);const pose={position:_objectSpread({},originPosition),orientation:{x:tempOrientation[0],y:tempOrientation[1],z:tempOrientation[2],w:tempOrientation[3]}};return transform.apply(pose,pose,rootTransformID),_objectSpread({},axis,{id:`${id}-${axisId}axis`,name:`${id}-${axisId}axis`,pose:pose})})(id,transform,axis,rootTransformID)),getAxisTextMarker=(id,transform,rootTransformID)=>{const textPose={position:_objectSpread({},originPosition),orientation:_objectSpread({},originOrientation)};return transform.apply(textPose,textPose,rootTransformID),textPose.position.z=textPose.position.z-.02,{header:{frame_id:"",stamp:{sec:0,nsec:0}},ns:"tf-axes",action:0,scale:{x:1,y:1,z:1},color:{r:1,g:1,b:1,a:1},id:id+"-name",name:id+"-name",pose:textPose,type:_globalConstants.MARKER_MSG_TYPES.TEXT_VIEW_FACING,text:id}},tempTranslation=[0,0,0],throwawayQuat=_objectSpread({},originOrientation),getArrowToParentMarkers=(id,transform,rootTransformID)=>{const{parent:parent}=transform;if(!parent)return[];if(_glMatrix.mat4.getTranslation(tempTranslation,transform.matrix),_glMatrix.vec3.length(tempTranslation)<=0)return[];let childPose={position:_objectSpread({},originPosition),orientation:throwawayQuat};childPose=transform.apply(childPose,childPose,rootTransformID);let parentPose={position:_objectSpread({},originPosition),orientation:throwawayQuat};return parentPose=parent&&parent.apply(parentPose,parentPose,rootTransformID),childPose&&parentPose?[_objectSpread({},defaultArrowMarker,{pose:{position:_objectSpread({},originPosition),orientation:_objectSpread({},originOrientation)},id:id+"-childToParentArrow",color:{r:1,g:1,b:0,a:1},points:[childPose.position,parentPose.position],scale:{x:.02,y:.01,z:.05}})]:[]};exports.getArrowToParentMarkers=getArrowToParentMarkers;exports.default=class{constructor(){_defineProperty(this,"transforms",void 0),_defineProperty(this,"rootTransformID",void 0),_defineProperty(this,"selections",[]),_defineProperty(this,"setTransforms",(transforms,rootTransformID)=>{this.transforms=transforms,this.rootTransformID=rootTransformID}),_defineProperty(this,"renderMarkers",add=>{const{selections:selections,transforms:transforms}=this;if(transforms)for(const key of selections){const transform=this.transforms.get(key);transform.isValid(this.rootTransformID)&&this.addMarkersForTransform(add,key,transform,this.rootTransformID)}})}addMarkersForTransform(add,id,transform,rootTransformID){if(!transform.isChildOfTransform(rootTransformID))return;const markersForTransform=[...getAxesArrowMarkers(id,transform,rootTransformID),...getArrowToParentMarkers(id,transform,rootTransformID),getAxisTextMarker(id,transform,rootTransformID)];for(const marker of markersForTransform)switch(marker.type){case 0:add.arrow(marker);break;case 9:add.text(marker);break;default:console.warn("Marker for transform not supported",marker)}}setSelectedTransforms(selections){this.selections=selections}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,newObj}(__webpack_require__(0)),_index=__webpack_require__(6),_OverlayProjector=_interopRequireDefault(__webpack_require__(79)),_constants=__webpack_require__(50),_Crosshair=_interopRequireDefault(__webpack_require__(365)),_MeasureMarker=_interopRequireDefault(__webpack_require__(366)),_diffModeUtils=__webpack_require__(367),_searchTextUtils=__webpack_require__(368),_withWorldMarkerHighlights=_interopRequireDefault(__webpack_require__(369)),_WorldMarkers=_interopRequireDefault(__webpack_require__(394)),_inScreenshotTests=_interopRequireDefault(__webpack_require__(498)),_hooks=__webpack_require__(49);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function RenderSignalResolver({resolveRenderSignal:resolveRenderSignal}){const getResolveRenderSignal=(0,_hooks.useGetCurrentValue)(resolveRenderSignal),resolveLatestSignal=_react.default.useCallback(()=>{getResolveRenderSignal()()},[getResolveRenderSignal]),worldviewContext=_react.default.useContext(_index.WorldviewReactContext);return(0,_hooks.useChangeDetector)([resolveRenderSignal],!0)&&worldviewContext&&worldviewContext.onDirty(),_react.default.useEffect(()=>{if(worldviewContext)return worldviewContext.registerPaintCallback(resolveLatestSignal),()=>{worldviewContext.unregisterPaintCallback(resolveLatestSignal)}},[resolveLatestSignal,worldviewContext]),null}const WrappedWorldMarkers=(0,_withWorldMarkerHighlights.default)((0,_diffModeUtils.withDiffMode)(_WorldMarkers.default));var _default=(0,_react.forwardRef)((function({onClick:onClick,autoTextBackgroundColor:autoTextBackgroundColor,children:children,onCameraStateChange:onCameraStateChange,diffModeEnabled:diffModeEnabled,cameraState:cameraState,hooks:hooks,isPlaying:isPlaying,isDemoMode:isDemoMode,markerProviders:markerProviders,onDoubleClick:onDoubleClick,onMouseDown:onMouseDown,onMouseMove:onMouseMove,onMouseUp:onMouseUp,setSearchTextMatches:setSearchTextMatches,searchText:searchText,searchTextOpen:searchTextOpen,selectedMatchIndex:selectedMatchIndex,searchTextMatches:searchTextMatches,canvas:canvas,setOverlayIcons:setOverlayIcons,showCrosshair:showCrosshair,measurePoints:measurePoints,resolveRenderSignal:resolveRenderSignal,sphericalRangeScale:sphericalRangeScale},ref){const markersByType=function(markerProviders,hooks){const markers={arrow:[],cube:[],cubeList:[],cylinder:[],filledPolygon:[],glText:[],grid:[],instancedLineList:[],laserScan:[],linedConvexHull:[],lineList:[],lineStrip:[],overlayIcon:[],radarPointCluster:[],pointcloud:[],points:[],poseMarker:[],sphere:[],sphereList:[],text:[],triangleList:[]},collector={};return hooks.allSupportedMarkers.forEach(field=>{markers[field]||(markers[field]=[]),collector[field]=o=>markers[field].push(o)}),markerProviders.forEach(provider=>{provider&&provider.renderMarkers(collector)}),markers}(markerProviders,hooks),{text:text=[],overlayIcon:overlayIcon}=markersByType,processedMarkersByType=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}({},markersByType,{text:[],glText:_react.default.useMemo(()=>new _searchTextUtils.TextHighlighter(setSearchTextMatches),[setSearchTextMatches]).highlightText({text:text,searchText:searchText,searchTextOpen:searchTextOpen,selectedMatchIndex:selectedMatchIndex,searchTextMatches:searchTextMatches})}),cameraDistance=cameraState.distance||_index.DEFAULT_CAMERA_STATE.distance;return _react.default.createElement(_index.OffscreenWorldview,{cameraState:cameraState,enableStackedObjectEvents:!isPlaying,hideDebug:(0,_inScreenshotTests.default)(),onCameraStateChange:onCameraStateChange,disableHitmapForEvents:["onMouseDown","onMouseMove","onMouseUp"],onClick:onClick,onDoubleClick:onDoubleClick,onMouseDown:onMouseDown,onMouseMove:onMouseMove,onMouseUp:onMouseUp,resolutionScale:isDemoMode?2:1,ref:ref,contextAttributes:{preserveDrawingBuffer:!0},canvas:canvas,width:canvas.width,height:canvas.height,top:0,left:0},children,_react.default.createElement(RenderSignalResolver,{resolveRenderSignal:resolveRenderSignal}),_react.default.createElement(WrappedWorldMarkers,{autoTextBackgroundColor:autoTextBackgroundColor,markersByType:processedMarkersByType,layerIndex:_constants.LAYER_INDEX_DEFAULT_BASE,clearCachedMarkers:!1,diffModeEnabled:diffModeEnabled,hooks:hooks,sphericalRangeScale:sphericalRangeScale}),_react.default.createElement(_OverlayProjector.default,{setOverlayIcons:setOverlayIcons},overlayIcon),!cameraState.perspective&&showCrosshair&&_react.default.createElement(_Crosshair.default,{cameraState:cameraState,hooks:hooks}),_react.default.createElement(_MeasureMarker.default,{measurePoints:measurePoints,cameraDistance:cameraDistance}))}));exports.default=_default},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M9 7v10h2v-4h.8l1.2 4h2l-1.24-4.15C14.5 12.55 15 11.84 15 11V9a2 2 0 0 0-2-2H9m2 2h2v2h-2V9z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M9 7v2h2v8h2V9h2V7H9z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M19.92 12.08L12 20l-7.92-7.92 1.42-1.41 5.5 5.5V2h2v14.17l5.5-5.51 1.42 1.42M12 20H2v2h20v-2H12z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M11.92 19.92L4 12l7.92-7.92 1.41 1.42-5.5 5.5H22v2H7.83l5.51 5.5-1.42 1.42M4 12V2H2v20h2V12z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M12.08 4.08L20 12l-7.92 7.92-1.41-1.42 5.5-5.5H2v-2h14.17l-5.5-5.5 1.41-1.42M20 12v10h2V2h-2v10z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M4.08 11.92L12 4l7.92 7.92-1.42 1.41-5.5-5.5V22h-2V7.83l-5.5 5.5-1.42-1.41M12 4h10V2H2v2h10z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M11 5H8l4-4 4 4h-3v4.43c-.75.46-1.42 1.03-2 1.69V5m11 6l-4-4v3a6.747 6.747 0 0 0-7 6.17A3.006 3.006 0 0 0 9.17 20 3.006 3.006 0 0 0 13 21.83 3.01 3.01 0 0 0 14.83 18c-.3-.86-.98-1.53-1.83-1.83.47-4 4.47-4.2 4.95-4.2v3L22 11m-11.37.59A7.632 7.632 0 0 0 6 10V7l-4 4 4 4v-3c1.34.03 2.63.5 3.64 1.4.25-.64.58-1.25.99-1.81z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M19 17.59L17.59 19 7 8.41V15H5V5h10v2H8.41L19 17.59z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M5 17.59L15.59 7H9V5h10v10h-2V8.41L6.41 19 5 17.59z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M5 20.5A3.5 3.5 0 0 1 1.5 17 3.5 3.5 0 0 1 5 13.5 3.5 3.5 0 0 1 8.5 17 3.5 3.5 0 0 1 5 20.5M5 12a5 5 0 0 0-5 5 5 5 0 0 0 5 5 5 5 0 0 0 5-5 5 5 0 0 0-5-5m9.8-2H19V8.2h-3.2l-1.94-3.27c-.29-.5-.86-.83-1.46-.83-.47 0-.9.19-1.2.5L7.5 8.29C7.19 8.6 7 9 7 9.5c0 .63.33 1.16.85 1.47L11.2 13v5H13v-6.5l-2.25-1.65 2.32-2.35m5.93 13a3.5 3.5 0 0 1-3.5-3.5 3.5 3.5 0 0 1 3.5-3.5 3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m0-8.5a5 5 0 0 0-5 5 5 5 0 0 0 5 5 5 5 0 0 0 5-5 5 5 0 0 0-5-5m-3-7.2c1 0 1.8-.8 1.8-1.8S17 1.2 16 1.2 14.2 2 14.2 3 15 4.8 16 4.8z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M3 6c-1.11 0-2 .89-2 2v7h2a3 3 0 0 0 3 3 3 3 0 0 0 3-3h6a3 3 0 0 0 3 3 3 3 0 0 0 3-3h2v-3c0-1.11-.89-2-2-2h-2V8c0-1.11-.89-2-2-2H3m10.5 1.5h4V10h-4V7.5m-11 0h4V10h-4V7.5m5.5 0h4V10H8V7.5m-2 6A1.5 1.5 0 0 1 7.5 15 1.5 1.5 0 0 1 6 16.5 1.5 1.5 0 0 1 4.5 15 1.5 1.5 0 0 1 6 13.5m12 0a1.5 1.5 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5 1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M18 11H6V6h12m-1.5 11a1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5 1.5 1.5 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5m-9 0A1.5 1.5 0 0 1 6 15.5 1.5 1.5 0 0 1 7.5 14 1.5 1.5 0 0 1 9 15.5 1.5 1.5 0 0 1 7.5 17M4 16c0 .88.39 1.67 1 2.22V20a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1h8v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1.78c.61-.55 1-1.34 1-2.22V6c0-3.5-3.58-4-8-4s-8 .5-8 4v10z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M11 15h2v2h-2v-2m0-8h2v6h-2V7m1-4a9 9 0 0 0-9 9 9 9 0 0 0 9 9 9 9 0 0 0 9-9 9 9 0 0 0-9-9m0 16c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7m8.5 1.5c2.16-2.19 3.5-5.19 3.5-8.5 0-3.31-1.34-6.31-3.5-8.5l-1.08 1.08C21.32 6.5 22.5 9.11 22.5 12c0 2.9-1.18 5.5-3.08 7.42l1.08 1.08M4.58 19.42C2.68 17.5 1.5 14.9 1.5 12c0-2.89 1.18-5.5 3.08-7.42L3.5 3.5C1.34 5.69 0 8.69 0 12c0 3.31 1.34 6.31 3.5 8.5l1.08-1.08z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M7.3 9.2C8.1 9.6 9 10.5 9 12c0 1.5-.9 2.4-1.7 2.8-.4-1.4-.4-4.2 0-5.6M6.5 7c-2 0-2 10 0 10s4.5-1.9 4.5-5-2.5-5-4.5-5m10.2 2.2c.3 1.4.3 4.2 0 5.6-.8-.4-1.7-1.3-1.7-2.8 0-1.5.9-2.4 1.7-2.8m.8-2.2c-2 0-4.5 1.9-4.5 5s2.5 5 4.5 5 2-10 0-10M4.9 6.2L2.5 4.6 1.4 6.3 4 8c.2-.7.5-1.4.9-1.8M20 8l2.6-1.7-1.1-1.7-2.4 1.6c.3.4.7 1 .9 1.8M4 16l-2.6 1.7 1.1 1.7 2.4-1.6c-.3-.4-.7-1-.9-1.8m16.5-5v2H24v-2h-3.5m-1.4 6.8l2.4 1.6 1.1-1.7L20 16c-.2.7-.5 1.4-.9 1.8M3.5 12v-1H0v2h3.5v-1z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M5 11l1.5-4.5h11L19 11m-1.5 5a1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5 1.5 1.5 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5m-11 0A1.5 1.5 0 0 1 5 14.5 1.5 1.5 0 0 1 6.5 13 1.5 1.5 0 0 1 8 14.5 1.5 1.5 0 0 1 6.5 16M18.92 6c-.2-.58-.76-1-1.42-1h-11c-.66 0-1.22.42-1.42 1L3 12v8a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1h12v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-8l-2.08-6z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M21 16.5c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18-.21 0-.41-.06-.57-.18l-7.9-4.44A.991.991 0 0 1 3 16.5v-9c0-.38.21-.71.53-.88l7.9-4.44c.16-.12.36-.18.57-.18.21 0 .41.06.57.18l7.9 4.44c.32.17.53.5.53.88v9M12 4.15L6.04 7.5 12 10.85l5.96-3.35L12 4.15M5 15.91l6 3.38v-6.71L5 9.21v6.7m14 0v-6.7l-6 3.37v6.71l6-3.38z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M12 12l2.33 4H9.68L12 12m0-4L6.21 18H17.8L12 8m0-6L1 21h22L12 2m0 4l7.53 13H4.47L12 6z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M11 18h2v-2h-2v2m1-16A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14a4 4 0 0 0-4 4h2a2 2 0 0 1 2-2 2 2 0 0 1 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5a4 4 0 0 0-4-4z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M10 19h3v3h-3v-3m2-17c5.35.22 7.68 5.62 4.5 9.67-.83 1-2.17 1.66-2.83 2.5C13 15 13 16 13 17h-3c0-1.67 0-3.08.67-4.08.66-1 2-1.59 2.83-2.25C15.92 8.43 15.32 5.26 12 5a3 3 0 0 0-3 3H6a6 6 0 0 1 6-6z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M17.42 10l-4.01-4H9v2h3.59l2 2H6.5C4 10 2 12 2 14.5S4 19 6.5 19c2.22 0 4.06-1.62 4.42-3.73L13.04 14c-.04.17-.04.33-.04.5 0 2.5 2 4.5 4.5 4.5s4.5-2 4.5-4.5-2-4.5-4.5-4.5m-8.66 5.26C8.5 16.27 7.58 17 6.47 17a2.5 2.5 0 0 1 0-5c1.12 0 2.03.74 2.37 1.75H6v1.5l2.84.01M17.47 17a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M18.1 4.8c-.1-.5-.5-.8-1-.8H13l.2 3h-2.4l.2-3H6.8c-.5 0-.9.4-1 .8l-2.7 14c-.1.6.4 1.2 1 1.2H10l.3-5h3.4l.3 5h5.8c.6 0 1.1-.6 1-1.2l-2.7-14M10.4 13l.2-4h2.6l.2 4h-3z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M23 15v3c0 .5-.36.88-.83.97L20.2 17h.8v-1h-1.8l-.2-.2V14c0-2.76-2.24-5-5-5h-1.8l-2-2h.8V5.73c-.6-.34-1-.99-1-1.73 0-1.1.9-2 2-2s2 .9 2 2c0 .74-.4 1.39-1 1.73V7h1c3.87 0 7 3.13 7 7h1c.55 0 1 .45 1 1M8.5 13.5c-1.1 0-2 .9-2 2s.9 2 2 2 2-.89 2-2-.89-2-2-2m13.61 7.96l-1.27 1.27-.95-.95c-.27.14-.57.22-.89.22H5a2 2 0 0 1-2-2v-1H2c-.55 0-1-.45-1-1v-3c0-.55.45-1 1-1h1c0-2.47 1.29-4.64 3.22-5.89L1.11 3l1.28-1.27 19.72 19.73m-4-1.46l-2.51-2.5h-.1a2 2 0 0 1-2-2v-.1L7.7 9.59C6.1 10.42 5 12.08 5 14v2H3v1h2v3h13.11z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M17.5 15.5c0 1.11-.89 2-2 2s-2-.89-2-2 .9-2 2-2 2 .9 2 2m-9-2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.89 2-2-.89-2-2-2M23 15v3c0 .55-.45 1-1 1h-1v1c0 1.11-.89 2-2 2H5a2 2 0 0 1-2-2v-1H2c-.55 0-1-.45-1-1v-3c0-.55.45-1 1-1h1c0-3.87 3.13-7 7-7h1V5.73c-.6-.34-1-.99-1-1.73 0-1.1.9-2 2-2s2 .9 2 2c0 .74-.4 1.39-1 1.73V7h1c3.87 0 7 3.13 7 7h1c.55 0 1 .45 1 1m-2 1h-2v-2c0-2.76-2.24-5-5-5h-4c-2.76 0-5 2.24-5 5v2H3v1h2v3h14v-3h2v-1z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M18 3v13.18l3 3V3h-3M4.28 5L3 6.27 10.73 14H8v7h3v-6.73l2 2V21h3v-1.73L19.73 23 21 21.72 4.28 5M13 9v2.18l3 3V9h-3M3 18v3h3v-3H3z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M12 2c-4 0-8 .5-8 4v9.5A3.5 3.5 0 0 0 7.5 19L6 20.5v.5h2.23l2-2H14l2 2h2v-.5L16.5 19a3.5 3.5 0 0 0 3.5-3.5V6c0-3.5-3.58-4-8-4M7.5 17A1.5 1.5 0 0 1 6 15.5 1.5 1.5 0 0 1 7.5 14 1.5 1.5 0 0 1 9 15.5 1.5 1.5 0 0 1 7.5 17m3.5-7H6V6h5v4m2 0V6h5v4h-5m3.5 7a1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5 1.5 1.5 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M18 18.5a1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5 1.5 1.5 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5m1.5-9l1.96 2.5H17V9.5m-11 9A1.5 1.5 0 0 1 4.5 17 1.5 1.5 0 0 1 6 15.5 1.5 1.5 0 0 1 7.5 17 1.5 1.5 0 0 1 6 18.5M20 8h-3V4H3c-1.11 0-2 .89-2 2v11h2a3 3 0 0 0 3 3 3 3 0 0 0 3-3h6a3 3 0 0 0 3 3 3 3 0 0 0 3-3h2v-5l-3-4z"}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_exports__.default=_ref=>{let{styles:styles={}}=_ref,props=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M14.12 10H19V8.2h-3.62l-2-3.33c-.3-.5-.84-.84-1.46-.84-.18 0-.34.03-.5.08L6 5.8V11h1.8V7.33l2.11-.66L6 22h1.8l2.87-8.11L13 17v5h1.8v-6.41l-2.49-4.54.73-2.87M14 3.8c1 0 1.8-.8 1.8-1.8S15 .2 14 .2 12.2 1 12.2 2 13 3.8 14 3.8z"}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function({cameraState:cameraState,hooks:hooks}){const{target:target,targetOffset:targetOffset,distance:distance,thetaOffset:thetaOffset}=cameraState,targetHeading=_index.cameraStateSelectors.targetHeading(cameraState),crosshairPoint=[0,0,0];_glMatrix.vec3.add(crosshairPoint,_glMatrix.vec3.rotateZ(crosshairPoint,targetOffset,[0,0,0],-targetHeading),target);const length=.02*distance,orientation=[0,0,0,1],theta=targetHeading+thetaOffset;_glMatrix.quat.rotateZ(orientation,orientation,-theta);const crosshair=(z,extraThickness)=>{const thickness=.004*distance*(1+extraThickness);return{header:{frame_id:hooks.rootTransformFrame,stamp:{sec:0,nsec:0}},type:5,action:0,id:"",ns:"",pose:{position:{x:crosshairPoint[0],y:crosshairPoint[1],z:z},orientation:{x:orientation[0],y:orientation[1],z:orientation[2],w:orientation[3]}},points:[{x:-length*(1+.1*extraThickness),y:0,z:0},{x:length*(1+.1*extraThickness),y:0,z:0},{x:0,y:-length*(1+.1*extraThickness),z:0},{x:0,y:length*(1+.1*extraThickness),z:0}],scale:{x:thickness,y:thickness,z:thickness}}};return _react.default.createElement(_index.Lines,null,[_objectSpread({},crosshair(1e3,.6),{color:{r:0,g:0,b:0,a:1}}),_objectSpread({},crosshair(1001,0),{color:{r:1,g:1,b:1,a:1}})])};var obj,_glMatrix=__webpack_require__(26),_react=(obj=__webpack_require__(0))&&obj.__esModule?obj:{default:obj},_index=__webpack_require__(6);function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function({measurePoints:{start:start,end:end},cameraDistance:cameraDistance}){const{dimension:dimension}=_react.default.useContext(_index.WorldviewReactContext),sphere=_react.default.useMemo(()=>{const size=cameraDistance/dimension.height*13;return _objectSpread({},defaultSphere,{scale:{x:size,y:size,z:.1}})},[cameraDistance,dimension]),lineSize=sphere.scale.x/3,spheres=[],lines=[];if(start&&(spheres.push(_objectSpread({},sphere,{id:"_measure_start",pose:_objectSpread({position:start},defaultPose)})),end)){const endPoint=_objectSpread({},end);lines.push(_objectSpread({},sphere,{id:"_measure_line",points:[start,end],pose:_objectSpread({},defaultPose,{position:{x:0,y:0,z:0}}),scale:{x:lineSize,y:1,z:1},type:4})),spheres.push(_objectSpread({},sphere,{id:"_measure_end",pose:_objectSpread({position:endPoint},defaultPose)}))}return _react.default.createElement(_react.default.Fragment,null,lines.length>0&&_react.default.createElement(_index.Lines,null,lines),spheres.length>0&&_react.default.createElement(_index.Spheres,null,spheres))};var obj,_react=(obj=__webpack_require__(0))&&obj.__esModule?obj:{default:obj},_index=__webpack_require__(6);function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const defaultPose=Object.freeze({orientation:{x:0,y:0,z:0,w:1}}),defaultSphere=Object.freeze({type:2,action:0,color:{r:1,g:.2,b:0,a:.75}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDiffBySource=getDiffBySource,exports.withDiffMode=exports.SOURCE_2_COLOR_RGBA=exports.SOURCE_1_COLOR_RGBA=exports.BASE_COLOR_RGBA=exports.SOURCE_2_COLOR=exports.SOURCE_1_COLOR=exports.BASE_COLOR=void 0;var obj,_lodash=__webpack_require__(7),_react=(obj=__webpack_require__(0))&&obj.__esModule?obj:{default:obj},_index=__webpack_require__(6),_constants=__webpack_require__(50),_globalConstants=__webpack_require__(13);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const BASE_COLOR=[.5,.5,.5,1];exports.BASE_COLOR=BASE_COLOR;const SOURCE_1_COLOR=[1,0,1,1];exports.SOURCE_1_COLOR=SOURCE_1_COLOR;const SOURCE_2_COLOR=[0,1,1,1];exports.SOURCE_2_COLOR=SOURCE_2_COLOR;const BASE_COLOR_RGBA=(0,_index.vec4ToRGBA)(BASE_COLOR);exports.BASE_COLOR_RGBA=BASE_COLOR_RGBA;const SOURCE_1_COLOR_RGBA=(0,_index.vec4ToRGBA)(SOURCE_1_COLOR);exports.SOURCE_1_COLOR_RGBA=SOURCE_1_COLOR_RGBA;const SOURCE_2_COLOR_RGBA=(0,_index.vec4ToRGBA)(SOURCE_2_COLOR);function getDiffBySource(markers){const ret=[{},{},{}];for(const key of Object.keys(markers)){const value=markers[key],elems=Array.isArray(value)?value:[value],[source1,source2]=(0,_lodash.partition)(elems,m=>{const{interactionData:interactionData}=m;return!interactionData||!interactionData.topic.startsWith(_globalConstants.$WEBVIZ_SOURCE_2)});ret[0][key]=source1.map(m=>_objectSpread({},m,{colors:[],color:SOURCE_1_COLOR_RGBA,depth:{enable:!0,mask:!0},blend:{enable:!0,func:{src:"constant color",dst:"src alpha"},color:SOURCE_1_COLOR}})),ret[1][key]=source2.map(m=>_objectSpread({},m,{colors:[],color:BASE_COLOR_RGBA,depth:{enable:!1},blend:{enable:!0,func:{src:"constant color",dst:"zero"},color:BASE_COLOR}})),ret[2][key]=source2.map(m=>_objectSpread({},m,{colors:[],color:SOURCE_2_COLOR_RGBA,depth:{enable:!0},blend:{enable:!0,func:{src:"constant color",dst:"one"},color:SOURCE_2_COLOR}}))}return ret}exports.SOURCE_2_COLOR_RGBA=SOURCE_2_COLOR_RGBA;exports.withDiffMode=BaseWorldMarkers=>props=>{const{diffModeEnabled:diffModeEnabled}=props;return diffModeEnabled?_react.default.createElement(_react.default.Fragment,null,getDiffBySource(props.markersByType).map((markersByRenderPass,i)=>_react.default.createElement(BaseWorldMarkers,_extends({key:i},_objectSpread({},props,{clearCachedMarkers:!0,layerIndex:props.layerIndex+i*_constants.LAYER_INDEX_DIFF_MODE_BASE_PER_PASS,markersByType:markersByRenderPass}))))):_react.default.createElement(BaseWorldMarkers,props)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextHighlighter=exports.getHighlightedIndices=exports.ORANGE=exports.YELLOW=void 0;var _lodash=__webpack_require__(7);function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const YELLOW={r:1,b:0,g:1,a:1};exports.YELLOW=YELLOW;const ORANGE={r:.97,g:.58,b:.02,a:1};exports.ORANGE=ORANGE;const getHighlightedIndices=(text,searchText)=>{const highlightedIndicesSet=new Set;let match,startingIndex=0;const lowerCaseSearchText=searchText.toLowerCase(),lowerCaseText=text?text.toLowerCase():"";for(;-1!==(match=lowerCaseText.indexOf(lowerCaseSearchText,startingIndex));)(0,_lodash.range)(match,match+searchText.length).forEach(index=>{highlightedIndicesSet.add(index)}),startingIndex=match+1;return Array.from(highlightedIndicesSet)};exports.getHighlightedIndices=getHighlightedIndices;exports.TextHighlighter=class{constructor(setSearchTextMatches){_defineProperty(this,"_throttledSetSearchTextMatches",void 0),this._throttledSetSearchTextMatches=(0,_lodash.throttle)(setSearchTextMatches,200,{trailing:!0})}highlightText({text:text,searchText:searchText,searchTextOpen:searchTextOpen,selectedMatchIndex:selectedMatchIndex,searchTextMatches:searchTextMatches}){let numMatches=0;const glText=text.map(marker=>{const scale={x:marker.scale.z,y:marker.scale.z,z:marker.scale.z};if(!searchText||!searchTextOpen)return _objectSpread({},marker,{scale:scale});const highlightedIndices=getHighlightedIndices(marker.text,searchText);if(highlightedIndices.length){return numMatches+=1,_objectSpread({},marker,{scale:scale,highlightColor:selectedMatchIndex+1===numMatches?ORANGE:YELLOW,highlightedIndices:highlightedIndices})}return _objectSpread({},marker,{scale:scale})});if(searchTextOpen||searchTextMatches.length){const matches=glText.filter(marker=>marker.highlightedIndices&&marker.highlightedIndices.length);matches.length?this._throttledSetSearchTextMatches(matches):!matches.length&&searchTextMatches.length&&this._throttledSetSearchTextMatches([])}return glText}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _lodash=__webpack_require__(7),_react=_interopRequireDefault(__webpack_require__(0)),_Cover=_interopRequireDefault(__webpack_require__(370)),_constants=__webpack_require__(50);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _default=BaseWorldMarkers=>{const WorldMarkersWithHighlights=props=>{const{markersByType:markersByType}=props;let hasHighlightedMarkers=!1;const highlightedMarkersByType={},nonHighlightedMarkersByType={};return Object.keys(markersByType).forEach(type=>{const[highlightedMarkers,nonHighlightedMarkers]=(0,_lodash.partition)(markersByType[type],({interactionData:interactionData})=>null==interactionData?void 0:interactionData.highlighted);highlightedMarkersByType[type]=highlightedMarkers,nonHighlightedMarkersByType[type]=nonHighlightedMarkers,hasHighlightedMarkers=hasHighlightedMarkers||highlightedMarkers.length>0}),_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(BaseWorldMarkers,_objectSpread({},props,{markersByType:nonHighlightedMarkersByType})),_react.default.createElement(_Cover.default,{color:[0,0,0,hasHighlightedMarkers?.6:0],layerIndex:_constants.LAYER_INDEX_HIGHLIGHT_OVERLAY,overwriteDepthBuffer:!0}),_react.default.createElement(BaseWorldMarkers,_objectSpread({},props,{layerIndex:_constants.LAYER_INDEX_HIGHLIGHT_BASE,markersByType:highlightedMarkersByType})))};return WorldMarkersWithHighlights.displayName="WorldMarkersWithHighlights",WorldMarkersWithHighlights};exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function({color:color,layerIndex:layerIndex,overwriteDepthBuffer:overwriteDepthBuffer}){return _react.default.createElement(_index.Command,{reglCommand:makeReglCommand({overwriteDepthBuffer:overwriteDepthBuffer}),layerIndex:layerIndex},{color:color,points:[[-1,-1],[-1,1],[1,1],[-1,-1],[1,-1],[1,1]]})};var _memoize=_interopRequireDefault(__webpack_require__(138)),_react=_interopRequireDefault(__webpack_require__(0)),_index=__webpack_require__(6);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}const makeReglCommand=(0,_memoize.default)(({overwriteDepthBuffer:overwriteDepthBuffer})=>regl=>({vert:"\n      precision mediump float;\n      attribute vec2 position;\n      void main () {\n        gl_Position = vec4(position, 1, 1);\n      }\n    ",frag:"\n      precision mediump float;\n      uniform vec4 color;\n      void main () {\n        gl_FragColor = color;\n    }",attributes:{position:regl.prop("points")},uniforms:{color:regl.prop("color")},count:regl.prop("points.length"),blend:{enable:!0,func:{src:"src alpha",dst:"one minus src alpha"}},depth:{enable:null!=overwriteDepthBuffer&&overwriteDepthBuffer,func:"always"}}),(...args)=>JSON.stringify(args))},function(module,exports,__webpack_require__){var Hash=__webpack_require__(372),ListCache=__webpack_require__(52),Map=__webpack_require__(87);module.exports=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(373),hashDelete=__webpack_require__(380),hashGet=__webpack_require__(381),hashHas=__webpack_require__(382),hashSet=__webpack_require__(383);function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(51);module.exports=function(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(139),isMasked=__webpack_require__(377),isObject=__webpack_require__(86),toSource=__webpack_require__(141),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=function(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(32),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},function(module,exports){var nativeObjectToString=Object.prototype.toString;module.exports=function(value){return nativeObjectToString.call(value)}},function(module,exports,__webpack_require__){var uid,coreJsData=__webpack_require__(378),maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";module.exports=function(func){return!!maskSrcKey&&maskSrcKey in func}},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(14)["__core-js_shared__"];module.exports=coreJsData},function(module,exports){module.exports=function(object,key){return null==object?void 0:object[key]}},function(module,exports){module.exports=function(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(51),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(51),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(51);module.exports=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this}},function(module,exports){module.exports=function(){this.__data__=[],this.size=0}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(53),splice=Array.prototype.splice;module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(53);module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(53);module.exports=function(key){return assocIndexOf(this.__data__,key)>-1}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(53);module.exports=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(54);module.exports=function(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}},function(module,exports){module.exports=function(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(54);module.exports=function(key){return getMapData(this,key).get(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(54);module.exports=function(key){return getMapData(this,key).has(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(54);module.exports=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function({autoTextBackgroundColor:autoTextBackgroundColor,layerIndex:layerIndex,markersByType:markersByType,clearCachedMarkers:clearCachedMarkers,hooks:hooks,sphericalRangeScale:sphericalRangeScale}){const getChildrenForHitmap=(0,_react.useMemo)(()=>(0,_index.createInstancedGetChildrenForHitmap)(1),[]),{arrow:arrow,cube:cube,cubeList:cubeList,cylinder:cylinder,filledPolygon:filledPolygon,glText:glText,grid:grid,instancedLineList:instancedLineList,laserScan:laserScan,linedConvexHull:linedConvexHull,lineList:lineList,lineStrip:lineStrip,pointcloud:pointcloud,points:points,poseMarker:poseMarker,radarPointCluster:radarPointCluster,sphere:sphere,sphereList:sphereList,triangleList:triangleList}=markersByType,rest=function(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}(markersByType,["arrow","cube","cubeList","cylinder","filledPolygon","glText","grid","instancedLineList","laserScan","linedConvexHull","lineList","lineStrip","pointcloud","points","poseMarker","radarPointCluster","sphere","sphereList","triangleList"]),additionalMarkers=hooks.renderAdditionalMarkers(rest),[glTextAtlasInfo,setGlTextAtlasInfo]=(0,_react.useState)({status:"LOADING",glTextAtlas:void 0});(0,_react.useEffect)(()=>{let mounted=!0;return glTextAtlasPromise.then(atlas=>{mounted&&setGlTextAtlasInfo({status:"LOADED",glTextAtlas:atlas})}),()=>{mounted=!1}},[]);const groupedLines=(0,_groupingUtils.groupLinesIntoInstancedLineLists)([...lineList,...lineStrip]);return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_commands.OccupancyGrids,{layerIndex:layerIndex+_constants.LAYER_INDEX_OCCUPANCY_GRIDS,getMapPalette:hooks.getMapPalette},grid),additionalMarkers,_react.default.createElement(_commands.PointClouds,{sphericalRangeScale:sphericalRangeScale,layerIndex:layerIndex,clearCachedMarkers:clearCachedMarkers},pointcloud),_react.default.createElement(_index.Arrows,{layerIndex:layerIndex},arrow),_react.default.createElement(_index.Points,{layerIndex:layerIndex,useWorldSpaceSize:hooks.useWorldspacePointSize},points),_react.default.createElement(_index.Triangles,{layerIndex:layerIndex},triangleList),_react.default.createElement(_index.Spheres,{layerIndex:layerIndex},[...sphere,...sphereList]),_react.default.createElement(_index.Cylinders,{layerIndex:layerIndex},cylinder),_react.default.createElement(_index.Cubes,{layerIndex:layerIndex},[...cube,...cubeList]),_react.default.createElement(hooks.PoseMarkers,{layerIndex:layerIndex},poseMarker),_react.default.createElement(_commands.LaserScans,{layerIndex:layerIndex,laserScanVert:hooks.LaserScanVert},laserScan),"LOADED"===glTextAtlasInfo.status&&_react.default.createElement(_index.GLText,{layerIndex:layerIndex+_constants.LAYER_INDEX_TEXT,alphabet:ALPHABET,scaleInvariantFontSize:14,autoBackgroundColor:autoTextBackgroundColor,textAtlas:glTextAtlasInfo.glTextAtlas},glText),_react.default.createElement(_index.FilledPolygons,{layerIndex:layerIndex},filledPolygon),_react.default.createElement(_index.Lines,{getChildrenForHitmap:getChildrenForHitmap,layerIndex:layerIndex},[...instancedLineList,...groupedLines]),_react.default.createElement(_commands.LinedConvexHulls,{layerIndex:layerIndex},linedConvexHull),_react.default.createElement(_commands.RadarPointClusters,null,radarPointCluster))};var obj,_react=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,newObj}(__webpack_require__(0)),_index=__webpack_require__(6),_glTextAtlasLoader=(obj=__webpack_require__(395))&&obj.__esModule?obj:{default:obj},_groupingUtils=__webpack_require__(398),_commands=__webpack_require__(399),_constants=__webpack_require__(50);const ALPHABET=new Array(94).fill().map((_,i)=>String.fromCodePoint(32+i)),glTextAtlasPromise=(0,_glTextAtlasLoader.default)()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _lodash=__webpack_require__(7),_textAtlas=_interopRequireDefault(__webpack_require__(396)),_textureAtlasData=_interopRequireDefault(__webpack_require__(397));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const errorMessage="Error fetching /textureAtlasData for GLText, generating it client-side";var _default=(0,_lodash.memoize)((async function(){let textureData;try{const textureDataResponse=await fetch(_textureAtlasData.default);if(200===textureDataResponse.status){const buffer=await textureDataResponse.arrayBuffer();textureData=new Uint8Array(buffer,0,buffer.byteLength)}}catch(error){return void console.error(errorMessage,error)}if(!textureData)return void console.error(errorMessage);const expectedSize=_textAtlas.default.textureWidth*_textAtlas.default.textureHeight;if(textureData.length===expectedSize)return function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}({textureData:textureData},_textAtlas.default);console.error(`Expected texture size of ${expectedSize} but got ${textureData.length}`)}));exports.default=_default},function(module){module.exports=JSON.parse('{"charInfo":{"0":{"x":1380,"y":0,"width":88.984375},"1":{"x":1489,"y":0,"width":88.984375},"2":{"x":1598,"y":0,"width":88.984375},"3":{"x":1707,"y":0,"width":88.984375},"4":{"x":1816,"y":0,"width":88.984375},"5":{"x":1925,"y":0,"width":88.984375},"6":{"x":0,"y":180,"width":88.984375},"7":{"x":109,"y":180,"width":88.984375},"8":{"x":218,"y":180,"width":88.984375},"9":{"x":327,"y":180,"width":88.984375}," ":{"x":0,"y":0,"width":44.453125},"!":{"x":65,"y":0,"width":44.453125},"\\"":{"x":130,"y":0,"width":56.796875},"#":{"x":207,"y":0,"width":88.984375},"$":{"x":316,"y":0,"width":88.984375},"%":{"x":425,"y":0,"width":142.265625},"&":{"x":588,"y":0,"width":106.71875},"\'":{"x":715,"y":0,"width":30.546875},"(":{"x":766,"y":0,"width":53.28125},")":{"x":840,"y":0,"width":53.28125},"*":{"x":914,"y":0,"width":62.265625},"+":{"x":997,"y":0,"width":93.4375},",":{"x":1111,"y":0,"width":44.453125},"-":{"x":1176,"y":0,"width":53.28125},".":{"x":1250,"y":0,"width":44.453125},"/":{"x":1315,"y":0,"width":44.453125},":":{"x":436,"y":180,"width":44.453125},";":{"x":501,"y":180,"width":44.453125},"<":{"x":566,"y":180,"width":93.4375},"=":{"x":680,"y":180,"width":93.4375},">":{"x":794,"y":180,"width":93.4375},"?":{"x":908,"y":180,"width":88.984375},"@":{"x":1017,"y":180,"width":162.421875},"A":{"x":1200,"y":180,"width":106.71875},"B":{"x":1327,"y":180,"width":106.71875},"C":{"x":1454,"y":180,"width":115.546875},"D":{"x":1590,"y":180,"width":115.546875},"E":{"x":1726,"y":180,"width":106.71875},"F":{"x":1853,"y":180,"width":97.734375},"G":{"x":0,"y":360,"width":124.453125},"H":{"x":145,"y":360,"width":115.546875},"I":{"x":281,"y":360,"width":44.453125},"J":{"x":346,"y":360,"width":80},"K":{"x":446,"y":360,"width":106.71875},"L":{"x":573,"y":360,"width":88.984375},"M":{"x":682,"y":360,"width":133.28125},"N":{"x":836,"y":360,"width":115.546875},"O":{"x":972,"y":360,"width":124.453125},"P":{"x":1117,"y":360,"width":106.71875},"Q":{"x":1244,"y":360,"width":124.453125},"R":{"x":1389,"y":360,"width":115.546875},"S":{"x":1525,"y":360,"width":106.71875},"T":{"x":1652,"y":360,"width":97.734375},"U":{"x":1770,"y":360,"width":115.546875},"V":{"x":1906,"y":360,"width":106.71875},"W":{"x":0,"y":540,"width":151.015625},"X":{"x":172,"y":540,"width":106.71875},"Y":{"x":299,"y":540,"width":106.71875},"Z":{"x":426,"y":540,"width":97.734375},"[":{"x":544,"y":540,"width":44.453125},"\\\\":{"x":609,"y":540,"width":44.453125},"]":{"x":674,"y":540,"width":44.453125},"^":{"x":739,"y":540,"width":75.078125},"_":{"x":835,"y":540,"width":88.984375},"`":{"x":944,"y":540,"width":53.28125},"a":{"x":1018,"y":540,"width":88.984375},"b":{"x":1127,"y":540,"width":88.984375},"c":{"x":1236,"y":540,"width":80},"d":{"x":1336,"y":540,"width":88.984375},"e":{"x":1445,"y":540,"width":88.984375},"f":{"x":1554,"y":540,"width":44.453125},"g":{"x":1619,"y":540,"width":88.984375},"h":{"x":1728,"y":540,"width":88.984375},"i":{"x":1837,"y":540,"width":35.546875},"j":{"x":1893,"y":540,"width":35.546875},"k":{"x":0,"y":720,"width":80},"l":{"x":100,"y":720,"width":35.546875},"m":{"x":156,"y":720,"width":133.28125},"n":{"x":310,"y":720,"width":88.984375},"o":{"x":419,"y":720,"width":88.984375},"p":{"x":528,"y":720,"width":88.984375},"q":{"x":637,"y":720,"width":88.984375},"r":{"x":746,"y":720,"width":53.28125},"s":{"x":820,"y":720,"width":80},"t":{"x":920,"y":720,"width":44.453125},"u":{"x":985,"y":720,"width":88.984375},"v":{"x":1094,"y":720,"width":80},"w":{"x":1194,"y":720,"width":115.546875},"x":{"x":1330,"y":720,"width":80},"y":{"x":1430,"y":720,"width":80},"z":{"x":1530,"y":720,"width":80},"{":{"x":1630,"y":720,"width":53.4375},"|":{"x":1704,"y":720,"width":41.5625},"}":{"x":1766,"y":720,"width":53.4375}},"textureWidth":2034,"textureHeight":900}')},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"114539537aa79c4ea55b3a60823d6716.bin"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupLinesIntoInstancedLineLists=function(markers){const resultMarkers=[],groups=(0,_lodash.groupBy)(markers,({scale:scale,ns:ns,type:type})=>`ns:${ns}_type:${type}_scalex:${scale.x}_scaley:${scale.y}_scalez:${scale.z}`),INFINITE_POSITION={x:NaN,y:NaN,z:NaN},INFINITE_COLOR=_globalConstants.COLORS.CLEAR,INFINITE_POSE=(0,_Pose.emptyPose)(),INFINITE_METADATA={};for(const[id,messageList]of(0,_lodash.toPairs)(groups)){const baseMessage=messageList[0],isLineStrip=baseMessage.type===_globalConstants.MARKER_MSG_TYPES.LINE_STRIP,allColors=[],allPoints=[],metadataByIndex=[],poses=[];for(let messageIdx=0;messageIdx<messageList.length;messageIdx++){const message=messageList[messageIdx],points=message.points||[],colors=message.colors||[];if(0!==points.length)if(isLineStrip)messageIdx>0&&(allPoints.push(points[0]),allColors.push(INFINITE_COLOR),poses.push(INFINITE_POSE),metadataByIndex.push(INFINITE_METADATA)),extend(allPoints,points),extend(allColors,colors),fillExtend(allColors,message.color||_globalConstants.COLORS.WHITE,points.length-colors.length),message.poses&&message.poses.length>0&&extend(poses,message.poses),fillExtend(metadataByIndex,message,points.length),fillExtend(poses,message.pose,points.length-(message.poses?message.poses.length:0)),message.closed&&(allPoints.push(points[0]),allColors.push(colors.length>0?colors[0]:message.color||_globalConstants.COLORS.WHITE),metadataByIndex.push(message),poses.push(message.poses?message.poses[0]:message.pose)),messageIdx<messageList.length-1&&(allPoints.push(allPoints[allPoints.length-1],INFINITE_POSITION),allColors.push(INFINITE_COLOR,INFINITE_COLOR),poses.push(INFINITE_POSE,INFINITE_POSE),metadataByIndex.push(INFINITE_METADATA,INFINITE_METADATA));else{const lineListPoints=validateLineList(points),lineListColors=colors?validateLineList(colors):[];extend(allPoints,lineListPoints),extend(allColors,lineListColors),fillExtend(allColors,message.color||_globalConstants.COLORS.WHITE,lineListPoints.length-lineListColors.length);const posesPerInstance=Math.floor(lineListPoints.length/2);fillExtend(poses,message.pose,posesPerInstance),fillExtend(metadataByIndex,message,lineListPoints.length)}}isLineStrip&&(metadataByIndex.pop(),poses.pop());const{header:header,action:action,ns:ns,scale:scale,blend:blend,depth:depth}=baseMessage;resultMarkers.push({header:header,action:action,ns:ns,scale:scale,pose:(0,_Pose.emptyPose)(),colors:allColors,points:allPoints,poses:poses,blend:blend,depth:depth,metadataByIndex:metadataByIndex,id:id,type:isLineStrip?_globalConstants.MARKER_MSG_TYPES.LINE_STRIP:_globalConstants.MARKER_MSG_TYPES.INSTANCED_LINE_LIST,primitive:isLineStrip?"line strip":"lines"})}return resultMarkers};var _lodash=__webpack_require__(7),_globalConstants=__webpack_require__(13),_Pose=__webpack_require__(45);function extend(arr1,arr2){arr2.forEach(v=>arr1.push(v))}function fillExtend(arr,value,n){for(let i=0;i<n;++i)arr.push(value)}function validateLineList(points){return points.length%2!=0&&points.pop(),points}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"PoseMarkers",{enumerable:!0,get:function(){return _PoseMarkers.default}}),Object.defineProperty(exports,"LaserScans",{enumerable:!0,get:function(){return _LaserScans.default}}),Object.defineProperty(exports,"OccupancyGrids",{enumerable:!0,get:function(){return _OccupancyGrids.default}}),Object.defineProperty(exports,"PointClouds",{enumerable:!0,get:function(){return _PointClouds.default}}),Object.defineProperty(exports,"LinedConvexHulls",{enumerable:!0,get:function(){return _LinedConvexHulls.default}}),Object.defineProperty(exports,"OverlayProjector",{enumerable:!0,get:function(){return _OverlayProjector.default}}),Object.defineProperty(exports,"RadarPointClusters",{enumerable:!0,get:function(){return _RadarPointClusters.default}});var _PoseMarkers=_interopRequireDefault(__webpack_require__(143)),_LaserScans=_interopRequireDefault(__webpack_require__(402)),_OccupancyGrids=_interopRequireDefault(__webpack_require__(403)),_PointClouds=_interopRequireDefault(__webpack_require__(404)),_LinedConvexHulls=_interopRequireDefault(__webpack_require__(408)),_OverlayProjector=_interopRequireDefault(__webpack_require__(79)),_RadarPointClusters=_interopRequireDefault(__webpack_require__(497));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function({children:{pose:pose,alpha:alpha=1,scale:scale={x:.01,y:.01,z:.01},interactionData:interactionData},layerIndex:layerIndex}){return _react.default.createElement(_index.GLTFScene,{layerIndex:layerIndex,model:loadCarModel},{pose:pose,alpha:alpha,scale:scale,interactionData:interactionData})};var _glMatrix=__webpack_require__(26),_react=_interopRequireDefault(__webpack_require__(0)),_index=__webpack_require__(6),_carModel=_interopRequireDefault(__webpack_require__(401));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}async function loadCarModel(){const response=await fetch(_carModel.default);if(!response.ok)throw new Error("unable to load car model: "+response.status);const model=await(0,_index.parseGLB)(await response.arrayBuffer()),nodes=[...model.json.nodes],translation=[0,0,0];return _glMatrix.vec3.lerp(translation,model.json.accessors[1].min,model.json.accessors[1].max,.5),_glMatrix.vec3.scale(translation,translation,-nodes[0].scale[0]),translation[1]+=56.075834,translation[2]+=136.19549,nodes[0]=_objectSpread({},nodes[0],{translation:translation}),_objectSpread({},model,{json:_objectSpread({},model.json,{nodes:nodes,samplers:model.json.samplers.map(sampler=>_objectSpread({},sampler,{minFilter:WebGLRenderingContext.LINEAR}))})})}},function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"6a934943c1d8e69a6799d947c1987ac2.glb"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(props){const command=React.useMemo(()=>{return vert=props.laserScanVert,regl=>(0,_index.withPose)({primitive:"points",vert:vert,frag:"\n  precision mediump float;\n  varying vec4 vColor;\n  uniform bool isCircle;\n  void main () {\n    if (isCircle && length(gl_PointCoord * 2.0 - 1.0) > 1.0) {\n      discard;\n    }\n\n    gl_FragColor = vColor;\n  }\n  ",uniforms:{pointSize:(context,props)=>props.settings&&props.settings.pointSize||4,isCircle:(context,props)=>props.settings&&"circle"===props.settings.pointShape||!1,isHitmap:(context,props)=>!!props.color,angle_min:regl.prop("angle_min"),angle_increment:regl.prop("angle_increment"),range_min:regl.prop("range_min"),range_max:regl.prop("range_max"),color:(context,props)=>{var _props$settings;return(0,_index.toRGBA)((null===(_props$settings=props.settings)||void 0===_props$settings?void 0:_props$settings.overrideColor)||DEFAULT_FLAT_COLOR)}},attributes:{index:(context,props)=>(0,_lodash.range)(props.ranges.length),range:regl.prop("ranges"),intensity:(context,props)=>props.intensities.length===props.ranges.length?props.intensities:new Float32Array(props.ranges.length).fill(1),hitmapColor:(context,props)=>{let color=[0,0,0,1];return props.color&&(color=Array.isArray(props.color)?props.color:(0,_index.toRGBA)(props.color)),new Array(props.ranges.length).fill(color)}},count:regl.prop("ranges.length")});var vert},[props.laserScanVert]);return React.createElement(_index.Command,_extends({getChildrenForHitmap:_index.nonInstancedGetChildrenForHitmap},props,{reglCommand:command}))},exports.DEFAULT_FLAT_COLOR=void 0;var _lodash=__webpack_require__(7),React=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,newObj}(__webpack_require__(0)),_index=__webpack_require__(6);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const DEFAULT_FLAT_COLOR={r:.5,g:.5,b:1,a:1};exports.DEFAULT_FLAT_COLOR=DEFAULT_FLAT_COLOR},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(props){const command=React.useMemo(()=>{return getMapPalette=props.getMapPalette,regl=>{const positionBuffer=regl.buffer([0,1,0,1,1,0,0,0,0,1,0,0]),cache=new _utils.TextureCache(regl),paletteTextures=new Map;return(0,_index.withPose)({primitive:"triangle strip",vert:"\n    precision lowp float;\n\n    uniform mat4 projection, view;\n    uniform vec3 offset;\n    uniform vec4 orientation;\n    uniform float width, height, resolution, alpha;\n\n    attribute vec3 point;\n\n    #WITH_POSE\n\n    varying vec2 uv;\n    varying float vAlpha;\n\n    void main () {\n      // set the texture uv to the unscaled vertext point\n      uv = vec2(point.x, point.y);\n\n      // compute the plane vertex dimensions\n      float planeWidth = width * resolution;\n      float planeHeight = height * resolution;\n\n      // rotate the point by the ogrid orientation & scale the point by the plane vertex dimensions\n      vec3 position = rotate(point, orientation) * vec3(planeWidth, planeHeight, 1.);\n\n      // move the vertex by the marker offset\n      vec3 loc = applyPose(position + offset);\n      vAlpha = alpha;\n      gl_Position = projection * view * vec4(loc, 1);\n    }\n    ",frag:"\n    precision lowp float;\n\n    varying vec2 uv;\n    varying float vAlpha;\n\n    uniform sampler2D palette;\n    uniform sampler2D data;\n\n    void main () {\n      // look up the point in our data texture corresponding to\n      // the current point being shaded\n      vec4 point = texture2D(data, uv);\n\n      // vec2(point.a, 0.5) is similar to textelFetch for webGL 1.0\n      // it looks up a point along our 1 dimentional palette\n      // http://www.lighthouse3d.com/tutorials/glsl-tutorial/texture-coordinates/\n      gl_FragColor = texture2D(palette, vec2(point.a, 0.5));\n      gl_FragColor.a *= vAlpha;\n    }\n    ",blend:_index.defaultBlend,depth:{enable:!0,mask:!1},attributes:{point:positionBuffer},uniforms:{width:regl.prop("info.width"),height:regl.prop("info.height"),resolution:regl.prop("info.resolution"),alpha:(context,props)=>props.alpha||.5,offset:(context,props)=>(0,_index.pointToVec3)(props.info.origin.position),orientation:(context,props)=>{const{x:x,y:y,z:z,w:w}=props.info.origin.orientation;return[x,y,z,w]},palette:(context,props)=>{const palette=getMapPalette(props.map);let texture=paletteTextures.get(palette);return texture||(texture=regl.texture({format:"rgba",type:"uint8",mipmap:!1,data:palette,width:256,height:1}),paletteTextures.set(palette,texture),texture)},data:(context,props)=>cache.get(props)},count:4})};var getMapPalette},[props.getMapPalette]);return React.createElement(_index.Command,_extends({getChildrenForHitmap:null},props,{reglCommand:command}))};var React=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,newObj}(__webpack_require__(0)),_index=__webpack_require__(6),_utils=__webpack_require__(144);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){let{children:children,clearCachedMarkers:clearCachedMarkers,sphericalRangeScale:sphericalRangeScale}=_ref,rest=function(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}(_ref,["children","clearCachedMarkers","sphericalRangeScale"]);const[command]=(0,_react.useState)(()=>(()=>{const positionBufferCache=new _VertexBufferCache.default,colorBufferCache=new _VertexBufferCache.default;return regl=>{const getCachedBuffer=(cache,vertexBuffer)=>{const{buffer:buffer,offset:offset,stride:stride}=vertexBuffer;let memoized=cache.get(vertexBuffer);return memoized&&memoized.vertexBuffer.buffer===buffer&&memoized.offset===_buffers.FLOAT_SIZE*offset&&memoized.stride===_buffers.FLOAT_SIZE*stride||(memoized={vertexBuffer:vertexBuffer,buffer:regl.buffer(buffer),offset:_buffers.FLOAT_SIZE*offset,stride:_buffers.FLOAT_SIZE*stride,divisor:0},cache.set(vertexBuffer,memoized)),memoized},pointCloudCommand=(0,_index.withPose)({primitive:"points",vert:"\n      precision mediump float;\n\n      // this comes from the camera\n      uniform mat4 projection, view;\n\n      #WITH_POSE\n\n      attribute vec3 position;\n      attribute vec3 color; // color values in range [0-255]\n\n      uniform float pointSize;\n      uniform int colorMode;\n      uniform vec4 flatColor;\n      uniform vec4 minGradientColor;\n      uniform vec4 maxGradientColor;\n      uniform float minColorFieldValue;\n      uniform float maxColorFieldValue;\n\n      varying vec3 fragColor;\n\n      float getFieldValue() {\n        return color.x;\n      }\n\n      float getFieldValue_UNORM() {\n        float value = getFieldValue();\n        float colorFieldRange = maxColorFieldValue - minColorFieldValue;\n        if (abs(colorFieldRange) < 0.00001) {\n          return 0.0;\n        }\n        return max(0.0, min((value - minColorFieldValue) / colorFieldRange, 1.0));\n      }\n\n      vec3 gradientColor() {\n        float pct = getFieldValue_UNORM();\n        return mix(minGradientColor, maxGradientColor, pct).rgb;\n      }\n\n      // taken from http://docs.ros.org/jade/api/rviz/html/c++/point__cloud__transformers_8cpp_source.html\n      // line 47\n      vec3 rainbowColor() {\n        float pct = getFieldValue_UNORM();\n        float h = (1.0 - pct) * 5.0 + 1.0;\n        float i = floor(h);\n        float f = fract(h);\n        // if i is even\n        if (mod(i, 2.0) < 1.0) {\n          f = 1.0 - f;\n        }\n        float n = 1.0 - f;\n        vec3 ret = vec3(0);\n        if (i <= 1.0) {\n          ret = vec3(n, 0.0, 1.0);\n        } else if (i == 2.0) {\n          ret = vec3(0.0, n, 1.0);\n        } else if (i == 3.0) {\n          ret = vec3(0.0, 1.0, n);\n        } else if (i == 4.0) {\n          ret = vec3(n, 1.0, 0.0);\n        } else {\n          ret = vec3(1.0, n, 0.0);\n        }\n        return 255.0 * ret;\n      }\n\n      void main () {\n        gl_PointSize = pointSize;\n        vec3 p = applyPose(position);\n        gl_Position = projection * view * vec4(p, 1);\n\n        if (colorMode == 2) {\n          fragColor = gradientColor();\n        } else if (colorMode == 3) {\n          fragColor = rainbowColor();\n        } else if (colorMode == -1) {\n          fragColor = vec3(color.b, color.g, color.r);\n        } else if (colorMode == 1) {\n          fragColor = color;\n        } else {\n          fragColor = flatColor.rgb;\n        }\n      }\n    ",frag:"\n      precision mediump float;\n      varying vec3 fragColor;\n      uniform bool isCircle;\n      void main () {\n        if (isCircle) {\n          // gl_PointCoord give us the coordinate of this pixel relative to the current point's position\n          // In order to render a circle, we normalize and compute the distance from the current point.\n          // Discard any fragments that are too far away from the center\n          vec3 normal;\n          normal.xy = gl_PointCoord * 2.0 - 1.0;\n          float r2 = dot(normal.xy, normal.xy);\n          if (r2 > 1.0) {\n            discard;\n          }\n        }\n        gl_FragColor = vec4(fragColor / 255.0, 1.0);\n      }\n    ",attributes:{position:(context,props)=>getCachedBuffer(positionBufferCache,props.positionBuffer),color:(context,props)=>{const{hitmapColors:hitmapColors,settings:settings,blend:blend}=props,{colorMode:colorMode}=settings;if(hitmapColors)return hitmapColors;if(null==blend?void 0:blend.color)return getCachedBuffer(positionBufferCache,props.positionBuffer);const colorBuffer=colorMode&&"flat"!==colorMode.mode?props.colorBuffer:props.positionBuffer;return getCachedBuffer(colorBufferCache,colorBuffer)}},uniforms:{pointSize:(context,props)=>{var _props$settings;return(null===(_props$settings=props.settings)||void 0===_props$settings?void 0:_props$settings.pointSize)||2},isCircle:(context,props)=>{var _props$settings2,_props$settings3;return!(null===(_props$settings2=props.settings)||void 0===_props$settings2?void 0:_props$settings2.pointShape)||"circle"===(null===(_props$settings3=props.settings)||void 0===_props$settings3?void 0:_props$settings3.pointShape)},colorMode:(context,props)=>{const{settings:settings,is_bigendian:is_bigendian,hitmapColors:hitmapColors,blend:blend}=props;if(hitmapColors)return 1;if(null==blend?void 0:blend.color)return 0;const{colorMode:colorMode}=settings;return"flat"===colorMode.mode?0:"gradient"===colorMode.mode?2:"rainbow"===colorMode.mode?3:is_bigendian?1:-1},flatColor:(context,props)=>props.blend&&props.blend.color?(0,_selection.toRgba)((0,_index.vec4ToRGBA)(props.blend.color)):(0,_selection.toRgba)(props.settings.colorMode.flatColor||_types.DEFAULT_FLAT_COLOR),minGradientColor:(context,props)=>(0,_selection.toRgba)(props.settings.colorMode.minColor||_types.DEFAULT_MIN_COLOR),maxGradientColor:(context,props)=>(0,_selection.toRgba)(props.settings.colorMode.maxColor||_types.DEFAULT_MAX_COLOR),minColorFieldValue:(context,props)=>props.minColorValue,maxColorFieldValue:(context,props)=>props.maxColorValue},count:(context,props)=>props.pointCount}),command=regl(pointCloudCommand);return props=>{if(positionBufferCache.onPreRender(),colorBufferCache.onPreRender(),props.length>0){const{depth:depth,blend:blend}=props[0];depth||blend?regl(_objectSpread({},pointCloudCommand,{depth:depth,blend:blend}))(props):command(props)}positionBufferCache.onPostRender(),colorBufferCache.onPostRender()}}})()),markerCache=(0,_react.useRef)(new Map);markerCache.current=(0,_memoization.updateMarkerCache)(markerCache.current,children,sphericalRangeScale);const decodedMarkers=clearCachedMarkers?children.map(m=>(0,_decodeMarker.decodeMarker)(m,sphericalRangeScale)):[...markerCache.current.values()].map(decoded=>decoded.marker);return _react.default.createElement(_index.Command,_extends({getChildrenForHitmap:instancedGetChildrenForHitmap},rest,{reglCommand:command}),decodedMarkers)};var _react=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,newObj}(__webpack_require__(0)),_index=__webpack_require__(6),_buffers=__webpack_require__(84),_decodeMarker=__webpack_require__(145),_memoization=__webpack_require__(405),_types=__webpack_require__(30),_VertexBufferCache=_interopRequireDefault(__webpack_require__(406)),_filterMap=_interopRequireDefault(__webpack_require__(407)),_selection=__webpack_require__(137);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function instancedGetChildrenForHitmap(props,assignNextColors,excludedObjects){return(0,_filterMap.default)(props,prop=>{if(excludedObjects.find(({object:object})=>object===prop))return null;const hitmapProp=_objectSpread({},prop),{width:width,height:height}=prop;if(!width||!height)return null;const instanceCount=Math.ceil(width*height);if(instanceCount<1)return null;const idColors=assignNextColors(prop,instanceCount),allColors=[];return idColors.forEach(color=>{allColors.push(255*color[0]),allColors.push(255*color[1]),allColors.push(255*color[2])}),hitmapProp.hitmapColors=allColors,hitmapProp.settings=hitmapProp.settings?_objectSpread({},hitmapProp.settings):{},hitmapProp.settings.pointSize=5*(hitmapProp.settings.pointSize||2),hitmapProp})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateMarkerCache=function(existing,markers,sphericalRangeScale){const markerCache=new Map;return markers.forEach(marker=>{let decoded=existing.get(marker.data);decoded&&(0,_lodash.isEqual)(marker.settings,decoded.settings)&&marker.hitmapColors===decoded.hitmapColors||(decoded={marker:(0,_decodeMarker.decodeMarker)(marker,sphericalRangeScale),settings:marker.settings,hitmapColors:marker.hitmapColors}),markerCache.set(marker.data,decoded)}),markerCache},exports.memoizedMarker=function(cache,marker){var _cache$get;return null===(_cache$get=cache.get(marker.data))||void 0===_cache$get?void 0:_cache$get.marker};var _lodash=__webpack_require__(7),_decodeMarker=__webpack_require__(145)},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default=class{constructor(){_defineProperty(this,"_current",new Map),_defineProperty(this,"_previous",new Map)}onPreRender(){this._previous=this._current,this._current=new Map}get(key){const{buffer:buffer}=key;let existing=this._current.get(buffer);return existing||(existing=this._previous.get(buffer),existing?(this.set(key,existing),this._previous.delete(buffer),existing):null)}set(key,value){const existing=this._current.get(key.buffer);if(existing){if(existing===value)return;this._deleteBuffer(existing)}this._current.set(key.buffer,value)}onPostRender(){this._previous.forEach(this._deleteBuffer),this._previous.clear()}_deleteBuffer(cached){const{buffer:buffer}=cached;buffer?buffer.destroy():console.warn("Cannot destroy buffer",cached)}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(values,mapFn){const results=[];let index=0;for(const item of values){const mappedItem=mapFn(item,index++);mappedItem&&results.push(mappedItem)}return results}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(_ref){let{children:children}=_ref,rest=function(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}(_ref,["children"]);return React.createElement(React.Fragment,null,React.createElement(_index.Lines,_extends({getChildrenForHitmap:_index.nonInstancedGetChildrenForHitmap},rest),children),React.createElement(_index.Triangles,_extends({getChildrenForHitmap:getTriangleChildrenForHitmap},rest),children.map(line=>function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}({},line,{originalMarker:line,onlyRenderInHitmap:!0}))))};var _flatMap=_interopRequireDefault(__webpack_require__(409)),_uniqBy=_interopRequireDefault(__webpack_require__(468)),_quickhull3d=_interopRequireDefault(__webpack_require__(478)),React=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,newObj}(__webpack_require__(0)),_index=__webpack_require__(6);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function getTriangleChildrenForHitmap(props,assignNextColors,excludedObjects){const triangles=props.map(line=>{const points=(0,_uniqBy.default)(line.points.map(point=>(0,_index.shouldConvert)(point)?(0,_index.pointToVec3)(point):point),([x,y,z])=>`${x}:${y}:${z}`);if(points.length<4)return null;let faceIndices;try{faceIndices=(0,_quickhull3d.default)(points)}catch(error){return console.error(error),null}const trianglePoints=(0,_flatMap.default)(faceIndices,([index1,index2,index3])=>[points[index1],points[index2],points[index3]]),convertedColor="number"==typeof line.color.r?line.color:(0,_index.vec4ToRGBA)(line.color);return{pose:line.pose,scale:line.scale,color:convertedColor,points:trianglePoints,originalMarker:line.originalMarker}}).filter(Boolean);return(0,_index.getChildrenForHitmapWithOriginalMarker)(triangles,assignNextColors,excludedObjects)}},function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(410),map=__webpack_require__(413);module.exports=function(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(146),isFlattenable=__webpack_require__(411);module.exports=function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(32),isArguments=__webpack_require__(88),isArray=__webpack_require__(11),spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0;module.exports=function(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(31),isObjectLike=__webpack_require__(33);module.exports=function(value){return isObjectLike(value)&&"[object Arguments]"==baseGetTag(value)}},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(147),baseIteratee=__webpack_require__(148),baseMap=__webpack_require__(462),isArray=__webpack_require__(11);module.exports=function(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,baseIteratee(iteratee,3))}},function(module,exports,__webpack_require__){var baseIsMatch=__webpack_require__(415),getMatchData=__webpack_require__(448),matchesStrictComparable=__webpack_require__(159);module.exports=function(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(149),baseIsEqual=__webpack_require__(150);module.exports=function(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,3,customizer,stack):result))return!1}}return!0}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(52);module.exports=function(){this.__data__=new ListCache,this.size=0}},function(module,exports){module.exports=function(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}},function(module,exports){module.exports=function(key){return this.__data__.get(key)}},function(module,exports){module.exports=function(key){return this.__data__.has(key)}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(52),Map=__webpack_require__(87),MapCache=__webpack_require__(85);module.exports=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(149),equalArrays=__webpack_require__(151),equalByTag=__webpack_require__(425),equalObjects=__webpack_require__(428),getTag=__webpack_require__(444),isArray=__webpack_require__(11),isBuffer=__webpack_require__(154),isTypedArray=__webpack_require__(156),objectTag="[object Object]",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?"[object Array]":getTag(object),othTag=othIsArr?"[object Array]":getTag(other),objIsObj=(objTag="[object Arguments]"==objTag?objectTag:objTag)==objectTag,othIsObj=(othTag="[object Arguments]"==othTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}},function(module,exports){module.exports=function(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this}},function(module,exports){module.exports=function(value){return this.__data__.has(value)}},function(module,exports){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(32),Uint8Array=__webpack_require__(426),eq=__webpack_require__(142),equalArrays=__webpack_require__(151),mapToArray=__webpack_require__(427),setToArray=__webpack_require__(89),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case"[object DataView]":if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case"[object ArrayBuffer]":return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case"[object Boolean]":case"[object Date]":case"[object Number]":return eq(+object,+other);case"[object Error]":return object.name==other.name&&object.message==other.message;case"[object RegExp]":case"[object String]":return object==other+"";case"[object Map]":var convert=mapToArray;case"[object Set]":var isPartial=1&bitmask;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=2,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case"[object Symbol]":if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}},function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(14).Uint8Array;module.exports=Uint8Array},function(module,exports){module.exports=function(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}},function(module,exports,__webpack_require__){var getAllKeys=__webpack_require__(429),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(430),getSymbols=__webpack_require__(431),keys=__webpack_require__(90);module.exports=function(object){return baseGetAllKeys(object,keys,getSymbols)}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(146),isArray=__webpack_require__(11);module.exports=function(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(432),stubArray=__webpack_require__(433),propertyIsEnumerable=Object.prototype.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:stubArray;module.exports=getSymbols},function(module,exports){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}},function(module,exports){module.exports=function(){return[]}},function(module,exports,__webpack_require__){var baseTimes=__webpack_require__(435),isArguments=__webpack_require__(88),isArray=__webpack_require__(11),isBuffer=__webpack_require__(154),isIndex=__webpack_require__(155),isTypedArray=__webpack_require__(156),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}},function(module,exports){module.exports=function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}},function(module,exports){module.exports=function(){return!1}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(31),isLength=__webpack_require__(91),isObjectLike=__webpack_require__(33),typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1,module.exports=function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}},function(module,exports){module.exports=function(func){return function(value){return func(value)}}},function(module,exports,__webpack_require__){(function(module){var freeGlobal=__webpack_require__(140),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,freeProcess=freeModule&&freeModule.exports===freeExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil}).call(this,__webpack_require__(19)(module))},function(module,exports,__webpack_require__){var isPrototype=__webpack_require__(441),nativeKeys=__webpack_require__(442),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}},function(module,exports){var objectProto=Object.prototype;module.exports=function(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}},function(module,exports,__webpack_require__){var nativeKeys=__webpack_require__(443)(Object.keys,Object);module.exports=nativeKeys},function(module,exports){module.exports=function(func,transform){return function(arg){return func(transform(arg))}}},function(module,exports,__webpack_require__){var DataView=__webpack_require__(445),Map=__webpack_require__(87),Promise=__webpack_require__(446),Set=__webpack_require__(157),WeakMap=__webpack_require__(447),baseGetTag=__webpack_require__(31),toSource=__webpack_require__(141),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&"[object DataView]"!=getTag(new DataView(new ArrayBuffer(1)))||Map&&"[object Map]"!=getTag(new Map)||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&"[object Set]"!=getTag(new Set)||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return"[object Map]";case promiseCtorString:return"[object Promise]";case setCtorString:return"[object Set]";case weakMapCtorString:return"[object WeakMap]"}return result}),module.exports=getTag},function(module,exports,__webpack_require__){var DataView=__webpack_require__(25)(__webpack_require__(14),"DataView");module.exports=DataView},function(module,exports,__webpack_require__){var Promise=__webpack_require__(25)(__webpack_require__(14),"Promise");module.exports=Promise},function(module,exports,__webpack_require__){var WeakMap=__webpack_require__(25)(__webpack_require__(14),"WeakMap");module.exports=WeakMap},function(module,exports,__webpack_require__){var isStrictComparable=__webpack_require__(158),keys=__webpack_require__(90);module.exports=function(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}},function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(150),get=__webpack_require__(450),hasIn=__webpack_require__(455),isKey=__webpack_require__(93),isStrictComparable=__webpack_require__(158),matchesStrictComparable=__webpack_require__(159),toKey=__webpack_require__(55);module.exports=function(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,3)}}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(160);module.exports=function(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(452),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped((function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)})),result}));module.exports=stringToPath},function(module,exports,__webpack_require__){var memoize=__webpack_require__(138);module.exports=function(func){var result=memoize(func,(function(key){return 500===cache.size&&cache.clear(),key})),cache=result.cache;return result}},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(454);module.exports=function(value){return null==value?"":baseToString(value)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(32),arrayMap=__webpack_require__(147),isArray=__webpack_require__(11),isSymbol=__webpack_require__(94),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}},function(module,exports,__webpack_require__){var baseHasIn=__webpack_require__(456),hasPath=__webpack_require__(457);module.exports=function(object,path){return null!=object&&hasPath(object,path,baseHasIn)}},function(module,exports){module.exports=function(object,key){return null!=object&&key in Object(object)}},function(module,exports,__webpack_require__){var castPath=__webpack_require__(161),isArguments=__webpack_require__(88),isArray=__webpack_require__(11),isIndex=__webpack_require__(155),isLength=__webpack_require__(91),toKey=__webpack_require__(55);module.exports=function(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}},function(module,exports){module.exports=function(value){return value}},function(module,exports,__webpack_require__){var baseProperty=__webpack_require__(460),basePropertyDeep=__webpack_require__(461),isKey=__webpack_require__(93),toKey=__webpack_require__(55);module.exports=function(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}},function(module,exports){module.exports=function(key){return function(object){return null==object?void 0:object[key]}}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(160);module.exports=function(path){return function(object){return baseGet(object,path)}}},function(module,exports,__webpack_require__){var baseEach=__webpack_require__(463),isArrayLike=__webpack_require__(92);module.exports=function(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)})),result}},function(module,exports,__webpack_require__){var baseForOwn=__webpack_require__(464),baseEach=__webpack_require__(467)(baseForOwn);module.exports=baseEach},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(465),keys=__webpack_require__(90);module.exports=function(object,iteratee){return object&&baseFor(object,iteratee,keys)}},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(466)();module.exports=baseFor},function(module,exports){module.exports=function(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(92);module.exports=function(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}},function(module,exports,__webpack_require__){var baseIteratee=__webpack_require__(148),baseUniq=__webpack_require__(469);module.exports=function(array,iteratee){return array&&array.length?baseUniq(array,baseIteratee(iteratee,2)):[]}},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(152),arrayIncludes=__webpack_require__(470),arrayIncludesWith=__webpack_require__(475),cacheHas=__webpack_require__(153),createSet=__webpack_require__(476),setToArray=__webpack_require__(89);module.exports=function(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=200){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}},function(module,exports,__webpack_require__){var baseIndexOf=__webpack_require__(471);module.exports=function(array,value){return!!(null==array?0:array.length)&&baseIndexOf(array,value,0)>-1}},function(module,exports,__webpack_require__){var baseFindIndex=__webpack_require__(472),baseIsNaN=__webpack_require__(473),strictIndexOf=__webpack_require__(474);module.exports=function(array,value,fromIndex){return value==value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}},function(module,exports){module.exports=function(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}},function(module,exports){module.exports=function(value){return value!=value}},function(module,exports){module.exports=function(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}},function(module,exports){module.exports=function(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}},function(module,exports,__webpack_require__){var Set=__webpack_require__(157),noop=__webpack_require__(477),setToArray=__webpack_require__(89),createSet=Set&&1/setToArray(new Set([,-0]))[1]==1/0?function(values){return new Set(values)}:noop;module.exports=createSet},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(points){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},instance=new _QuickHull2.default(points);return instance.build(),instance.collectFaces(options.skipTriangulation)};var obj,_QuickHull=__webpack_require__(479),_QuickHull2=(obj=_QuickHull)&&obj.__esModule?obj:{default:obj};module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_pointLineDistance2=_interopRequireDefault(__webpack_require__(480)),_getPlaneNormal2=_interopRequireDefault(__webpack_require__(483)),_dot2=_interopRequireDefault(__webpack_require__(163)),_VertexList2=_interopRequireDefault(__webpack_require__(484)),_Vertex2=_interopRequireDefault(__webpack_require__(485)),_Face=__webpack_require__(486),_Face2=_interopRequireDefault(_Face);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var debug=__webpack_require__(97)("quickhull"),QuickHull=function(){function QuickHull(points){if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,QuickHull),!Array.isArray(points))throw TypeError("input is not a valid array");if(points.length<4)throw Error("cannot build a simplex out of <4 points");this.tolerance=-1,this.nFaces=0,this.nPoints=points.length,this.faces=[],this.newFaces=[],this.claimed=new _VertexList2.default,this.unclaimed=new _VertexList2.default,this.vertices=[];for(var i=0;i<points.length;i+=1)this.vertices.push(new _Vertex2.default(points[i],i));this.discardedFaces=[],this.vertexPointIndices=[]}return _createClass(QuickHull,[{key:"addVertexToFace",value:function(vertex,face){vertex.face=face,face.outside?this.claimed.insertBefore(face.outside,vertex):this.claimed.add(vertex),face.outside=vertex}},{key:"removeVertexFromFace",value:function(vertex,face){vertex===face.outside&&(vertex.next&&vertex.next.face===face?face.outside=vertex.next:face.outside=null),this.claimed.remove(vertex)}},{key:"removeAllVerticesFromFace",value:function(face){if(face.outside){for(var end=face.outside;end.next&&end.next.face===face;)end=end.next;return this.claimed.removeChain(face.outside,end),end.next=null,face.outside}}},{key:"deleteFaceVertices",value:function(face,absorbingFace){var faceVertices=this.removeAllVerticesFromFace(face);if(faceVertices)if(absorbingFace)for(var nextVertex=void 0,vertex=faceVertices;vertex;vertex=nextVertex){nextVertex=vertex.next,absorbingFace.distanceToPlane(vertex.point)>this.tolerance?this.addVertexToFace(vertex,absorbingFace):this.unclaimed.add(vertex)}else this.unclaimed.addAll(faceVertices)}},{key:"resolveUnclaimedPoints",value:function(newFaces){for(var vertexNext=this.unclaimed.first(),vertex=vertexNext;vertex;vertex=vertexNext){vertexNext=vertex.next;for(var maxDistance=this.tolerance,maxFace=void 0,i=0;i<newFaces.length;i+=1){var face=newFaces[i];if(face.mark===_Face.VISIBLE){var dist=face.distanceToPlane(vertex.point);if(dist>maxDistance&&(maxDistance=dist,maxFace=face),maxDistance>1e3*this.tolerance)break}}maxFace&&this.addVertexToFace(vertex,maxFace)}}},{key:"computeExtremes",value:function(){var min=[],max=[],minVertices=[],maxVertices=[],i=void 0,j=void 0;for(i=0;i<3;i+=1)minVertices[i]=maxVertices[i]=this.vertices[0];for(i=0;i<3;i+=1)min[i]=max[i]=this.vertices[0].point[i];for(i=1;i<this.vertices.length;i+=1){var vertex=this.vertices[i],point=vertex.point;for(j=0;j<3;j+=1)point[j]<min[j]&&(min[j]=point[j],minVertices[j]=vertex);for(j=0;j<3;j+=1)point[j]>max[j]&&(max[j]=point[j],maxVertices[j]=vertex)}return this.tolerance=3*Number.EPSILON*(Math.max(Math.abs(min[0]),Math.abs(max[0]))+Math.max(Math.abs(min[1]),Math.abs(max[1]))+Math.max(Math.abs(min[2]),Math.abs(max[2]))),debug.enabled&&debug("tolerance %d",this.tolerance),[minVertices,maxVertices]}},{key:"createInitialSimplex",value:function(){var v0,v1,vertices=this.vertices,_computeExtremes=this.computeExtremes(),_computeExtremes2=_slicedToArray(_computeExtremes,2),min=_computeExtremes2[0],max=_computeExtremes2[1],v2=void 0,v3=void 0,i=void 0,j=void 0,maxDistance=0,indexMax=0;for(i=0;i<3;i+=1){var distance=max[i].point[i]-min[i].point[i];distance>maxDistance&&(maxDistance=distance,indexMax=i)}for(v0=min[indexMax],v1=max[indexMax],maxDistance=0,i=0;i<this.vertices.length;i+=1){var vertex=this.vertices[i];if(vertex!==v0&&vertex!==v1){var _distance=(0,_pointLineDistance2.default)(vertex.point,v0.point,v1.point);_distance>maxDistance&&(maxDistance=_distance,v2=vertex)}}var normal=(0,_getPlaneNormal2.default)([],v0.point,v1.point,v2.point),distPO=(0,_dot2.default)(v0.point,normal);for(maxDistance=-1,i=0;i<this.vertices.length;i+=1){var _vertex=this.vertices[i];if(_vertex!==v0&&_vertex!==v1&&_vertex!==v2){var _distance2=Math.abs((0,_dot2.default)(normal,_vertex.point)-distPO);_distance2>maxDistance&&(maxDistance=_distance2,v3=_vertex)}}var faces=[];if((0,_dot2.default)(v3.point,normal)-distPO<0)for(faces.push(_Face2.default.createTriangle(v0,v1,v2),_Face2.default.createTriangle(v3,v1,v0),_Face2.default.createTriangle(v3,v2,v1),_Face2.default.createTriangle(v3,v0,v2)),i=0;i<3;i+=1){var _j=(i+1)%3;faces[i+1].getEdge(2).setOpposite(faces[0].getEdge(_j)),faces[i+1].getEdge(1).setOpposite(faces[_j+1].getEdge(0))}else for(faces.push(_Face2.default.createTriangle(v0,v2,v1),_Face2.default.createTriangle(v3,v0,v1),_Face2.default.createTriangle(v3,v1,v2),_Face2.default.createTriangle(v3,v2,v0)),i=0;i<3;i+=1){var _j2=(i+1)%3;faces[i+1].getEdge(2).setOpposite(faces[0].getEdge((3-i)%3)),faces[i+1].getEdge(0).setOpposite(faces[_j2+1].getEdge(1))}for(i=0;i<4;i+=1)this.faces.push(faces[i]);for(i=0;i<vertices.length;i+=1){var _vertex2=vertices[i];if(_vertex2!==v0&&_vertex2!==v1&&_vertex2!==v2&&_vertex2!==v3){maxDistance=this.tolerance;var maxFace=void 0;for(j=0;j<4;j+=1){var _distance3=faces[j].distanceToPlane(_vertex2.point);_distance3>maxDistance&&(maxDistance=_distance3,maxFace=faces[j])}maxFace&&this.addVertexToFace(_vertex2,maxFace)}}}},{key:"reindexFaceAndVertices",value:function(){for(var activeFaces=[],i=0;i<this.faces.length;i+=1){var face=this.faces[i];face.mark===_Face.VISIBLE&&activeFaces.push(face)}this.faces=activeFaces}},{key:"collectFaces",value:function(skipTriangulation){for(var faceIndices=[],i=0;i<this.faces.length;i+=1){if(this.faces[i].mark!==_Face.VISIBLE)throw Error("attempt to include a destroyed face in the hull");var indices=this.faces[i].collectIndices();if(skipTriangulation)faceIndices.push(indices);else for(var j=0;j<indices.length-2;j+=1)faceIndices.push([indices[0],indices[j+1],indices[j+2]])}return faceIndices}},{key:"nextVertexToAdd",value:function(){if(!this.claimed.isEmpty()){var eyeVertex=void 0,vertex=void 0,maxDistance=0,eyeFace=this.claimed.first().face;for(vertex=eyeFace.outside;vertex&&vertex.face===eyeFace;vertex=vertex.next){var distance=eyeFace.distanceToPlane(vertex.point);distance>maxDistance&&(maxDistance=distance,eyeVertex=vertex)}return eyeVertex}}},{key:"computeHorizon",value:function(eyePoint,crossEdge,face,horizon){this.deleteFaceVertices(face),face.mark=_Face.DELETED;var edge=void 0;edge=crossEdge?crossEdge.next:crossEdge=face.getEdge(0);do{var oppositeEdge=edge.opposite,oppositeFace=oppositeEdge.face;oppositeFace.mark===_Face.VISIBLE&&(oppositeFace.distanceToPlane(eyePoint)>this.tolerance?this.computeHorizon(eyePoint,oppositeEdge,oppositeFace,horizon):horizon.push(edge)),edge=edge.next}while(edge!==crossEdge)}},{key:"addAdjoiningFace",value:function(eyeVertex,horizonEdge){var face=_Face2.default.createTriangle(eyeVertex,horizonEdge.tail(),horizonEdge.head());return this.faces.push(face),face.getEdge(-1).setOpposite(horizonEdge.opposite),face.getEdge(0)}},{key:"addNewFaces",value:function(eyeVertex,horizon){this.newFaces=[];for(var firstSideEdge=void 0,previousSideEdge=void 0,i=0;i<horizon.length;i+=1){var horizonEdge=horizon[i],sideEdge=this.addAdjoiningFace(eyeVertex,horizonEdge);firstSideEdge?sideEdge.next.setOpposite(previousSideEdge):firstSideEdge=sideEdge,this.newFaces.push(sideEdge.face),previousSideEdge=sideEdge}firstSideEdge.next.setOpposite(previousSideEdge)}},{key:"oppositeFaceDistance",value:function(edge){return edge.face.distanceToPlane(edge.opposite.face.centroid)}},{key:"doAdjacentMerge",value:function(face,mergeType){var edge=face.edge,convex=!0,it=0;do{if(it>=face.nVertices)throw Error("merge recursion limit exceeded");var oppositeFace=edge.opposite.face,merge=!1;if(2===mergeType?(this.oppositeFaceDistance(edge)>-this.tolerance||this.oppositeFaceDistance(edge.opposite)>-this.tolerance)&&(merge=!0):face.area>oppositeFace.area?this.oppositeFaceDistance(edge)>-this.tolerance?merge=!0:this.oppositeFaceDistance(edge.opposite)>-this.tolerance&&(convex=!1):this.oppositeFaceDistance(edge.opposite)>-this.tolerance?merge=!0:this.oppositeFaceDistance(edge)>-this.tolerance&&(convex=!1),merge){debug("face merge");for(var discardedFaces=face.mergeAdjacentFaces(edge,[]),i=0;i<discardedFaces.length;i+=1)this.deleteFaceVertices(discardedFaces[i],face);return!0}edge=edge.next,it+=1}while(edge!==face.edge);return convex||(face.mark=_Face.NON_CONVEX),!1}},{key:"addVertexToHull",value:function(eyeVertex){var horizon=[];this.unclaimed.clear(),this.removeVertexFromFace(eyeVertex,eyeVertex.face),this.computeHorizon(eyeVertex.point,null,eyeVertex.face,horizon),debug.enabled&&debug("horizon %j",horizon.map((function(edge){return edge.head().index}))),this.addNewFaces(eyeVertex,horizon),debug("first merge");for(var i=0;i<this.newFaces.length;i+=1){var face=this.newFaces[i];if(face.mark===_Face.VISIBLE)for(;this.doAdjacentMerge(face,1););}debug("second merge");for(var _i=0;_i<this.newFaces.length;_i+=1){var _face=this.newFaces[_i];if(_face.mark===_Face.NON_CONVEX)for(_face.mark=_Face.VISIBLE;this.doAdjacentMerge(_face,2););}debug("reassigning points to newFaces"),this.resolveUnclaimedPoints(this.newFaces)}},{key:"build",value:function(){var iterations=0,eyeVertex=void 0;for(this.createInitialSimplex();eyeVertex=this.nextVertexToAdd();)debug("== iteration %j ==",iterations+=1),debug("next vertex to add = %d %j",eyeVertex.index,eyeVertex.point),this.addVertexToHull(eyeVertex),debug("end");this.reindexFaceAndVertices()}}]),QuickHull}();exports.default=QuickHull,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var distanceSquared=__webpack_require__(481);module.exports=function(point,a,b){return Math.sqrt(distanceSquared(point,a,b))}},function(module,exports,__webpack_require__){var subtract=__webpack_require__(95),cross=__webpack_require__(96),squaredLength=__webpack_require__(482),ab=[],ap=[],cr=[];module.exports=function(p,a,b){subtract(ab,b,a),subtract(ap,p,a);var area=squaredLength(cross(cr,ap,ab)),s=squaredLength(ab);if(0===s)throw Error("a and b are the same point");return area/s}},function(module,exports){module.exports=function(a){var x=a[0],y=a[1],z=a[2];return x*x+y*y+z*z}},function(module,exports,__webpack_require__){var normalize=__webpack_require__(162),sub=__webpack_require__(95),cross=__webpack_require__(96),tmp=[0,0,0];module.exports=function(out,point1,point2,point3){return sub(out,point1,point2),sub(tmp,point2,point3),cross(out,out,tmp),normalize(out,out)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var VertexList=function(){function VertexList(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VertexList),this.head=null,this.tail=null}return _createClass(VertexList,[{key:"clear",value:function(){this.head=this.tail=null}},{key:"insertBefore",value:function(target,node){node.prev=target.prev,node.next=target,node.prev?node.prev.next=node:this.head=node,target.prev=node}},{key:"insertAfter",value:function(target,node){node.prev=target,node.next=target.next,node.next?node.next.prev=node:this.tail=node,target.next=node}},{key:"add",value:function(node){this.head?this.tail.next=node:this.head=node,node.prev=this.tail,node.next=null,this.tail=node}},{key:"addAll",value:function(node){for(this.head?this.tail.next=node:this.head=node,node.prev=this.tail;node.next;)node=node.next;this.tail=node}},{key:"remove",value:function(node){node.prev?node.prev.next=node.next:this.head=node.next,node.next?node.next.prev=node.prev:this.tail=node.prev}},{key:"removeChain",value:function(a,b){a.prev?a.prev.next=b.next:this.head=b.next,b.next?b.next.prev=a.prev:this.tail=a.prev}},{key:"first",value:function(){return this.head}},{key:"isEmpty",value:function(){return!this.head}}]),VertexList}();exports.default=VertexList,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function Vertex(point,index){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Vertex),this.point=point,this.index=index,this.next=null,this.prev=null,this.face=null},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DELETED=exports.NON_CONVEX=exports.VISIBLE=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_dot2=_interopRequireDefault(__webpack_require__(163)),_add2=_interopRequireDefault(__webpack_require__(487)),_subtract2=_interopRequireDefault(__webpack_require__(95)),_cross2=_interopRequireDefault(__webpack_require__(96)),_copy2=_interopRequireDefault(__webpack_require__(488)),_length2=_interopRequireDefault(__webpack_require__(489)),_scale2=_interopRequireDefault(__webpack_require__(490)),_scaleAndAdd2=_interopRequireDefault(__webpack_require__(491)),_normalize2=_interopRequireDefault(__webpack_require__(162)),_HalfEdge2=_interopRequireDefault(__webpack_require__(492));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var debug=__webpack_require__(97)("face"),VISIBLE=exports.VISIBLE=0,DELETED=(exports.NON_CONVEX=1,exports.DELETED=2),Face=function(){function Face(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Face),this.normal=[],this.centroid=[],this.offset=0,this.outside=null,this.mark=VISIBLE,this.edge=null,this.nVertices=0}return _createClass(Face,[{key:"getEdge",value:function(i){if("number"!=typeof i)throw Error("requires a number");for(var it=this.edge;i>0;)it=it.next,i-=1;for(;i<0;)it=it.prev,i+=1;return it}},{key:"computeNormal",value:function(){var e0=this.edge,e1=e0.next,e2=e1.next,v2=(0,_subtract2.default)([],e1.head().point,e0.head().point),t=[],v1=[];for(this.nVertices=2,this.normal=[0,0,0];e2!==e0;)(0,_copy2.default)(v1,v2),(0,_subtract2.default)(v2,e2.head().point,e0.head().point),(0,_add2.default)(this.normal,this.normal,(0,_cross2.default)(t,v1,v2)),e2=e2.next,this.nVertices+=1;this.area=(0,_length2.default)(this.normal),this.normal=(0,_scale2.default)(this.normal,this.normal,1/this.area)}},{key:"computeNormalMinArea",value:function(minArea){if(this.computeNormal(),this.area<minArea){var maxEdge=void 0,maxSquaredLength=0,edge=this.edge;do{var lengthSquared=edge.lengthSquared();lengthSquared>maxSquaredLength&&(maxEdge=edge,maxSquaredLength=lengthSquared),edge=edge.next}while(edge!==this.edge);var p1=maxEdge.tail().point,p2=maxEdge.head().point,maxVector=(0,_subtract2.default)([],p2,p1),maxLength=Math.sqrt(maxSquaredLength);(0,_scale2.default)(maxVector,maxVector,1/maxLength);var maxProjection=(0,_dot2.default)(this.normal,maxVector);(0,_scaleAndAdd2.default)(this.normal,this.normal,maxVector,-maxProjection),(0,_normalize2.default)(this.normal,this.normal)}}},{key:"computeCentroid",value:function(){this.centroid=[0,0,0];var edge=this.edge;do{(0,_add2.default)(this.centroid,this.centroid,edge.head().point),edge=edge.next}while(edge!==this.edge);(0,_scale2.default)(this.centroid,this.centroid,1/this.nVertices)}},{key:"computeNormalAndCentroid",value:function(minArea){void 0!==minArea?this.computeNormalMinArea(minArea):this.computeNormal(),this.computeCentroid(),this.offset=(0,_dot2.default)(this.normal,this.centroid)}},{key:"distanceToPlane",value:function(point){return(0,_dot2.default)(this.normal,point)-this.offset}},{key:"connectHalfEdges",value:function(prev,next){var discardedFace=void 0;if(prev.opposite.face===next.opposite.face){var oppositeFace=next.opposite.face,oppositeEdge=void 0;prev===this.edge&&(this.edge=next),3===oppositeFace.nVertices?(oppositeEdge=next.opposite.prev.opposite,oppositeFace.mark=DELETED,discardedFace=oppositeFace):(oppositeEdge=next.opposite.next,oppositeFace.edge===oppositeEdge.prev&&(oppositeFace.edge=oppositeEdge),oppositeEdge.prev=oppositeEdge.prev.prev,oppositeEdge.prev.next=oppositeEdge),next.prev=prev.prev,next.prev.next=next,next.setOpposite(oppositeEdge),oppositeFace.computeNormalAndCentroid()}else prev.next=next,next.prev=prev;return discardedFace}},{key:"mergeAdjacentFaces",value:function(adjacentEdge,discardedFaces){var oppositeEdge=adjacentEdge.opposite,oppositeFace=oppositeEdge.face;discardedFaces.push(oppositeFace),oppositeFace.mark=DELETED;for(var adjacentEdgePrev=adjacentEdge.prev,adjacentEdgeNext=adjacentEdge.next,oppositeEdgePrev=oppositeEdge.prev,oppositeEdgeNext=oppositeEdge.next;adjacentEdgePrev.opposite.face===oppositeFace;)adjacentEdgePrev=adjacentEdgePrev.prev,oppositeEdgeNext=oppositeEdgeNext.next;for(;adjacentEdgeNext.opposite.face===oppositeFace;)adjacentEdgeNext=adjacentEdgeNext.next,oppositeEdgePrev=oppositeEdgePrev.prev;var edge=void 0;for(edge=oppositeEdgeNext;edge!==oppositeEdgePrev.next;edge=edge.next)edge.face=this;this.edge=adjacentEdgeNext;var discardedFace=void 0;return(discardedFace=this.connectHalfEdges(oppositeEdgePrev,adjacentEdgeNext))&&discardedFaces.push(discardedFace),(discardedFace=this.connectHalfEdges(adjacentEdgePrev,oppositeEdgeNext))&&discardedFaces.push(discardedFace),this.computeNormalAndCentroid(),discardedFaces}},{key:"collectIndices",value:function(){var indices=[],edge=this.edge;do{indices.push(edge.head().index),edge=edge.next}while(edge!==this.edge);return indices}}],[{key:"createTriangle",value:function(v0,v1,v2){var minArea=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,face=new Face,e0=new _HalfEdge2.default(v0,face),e1=new _HalfEdge2.default(v1,face),e2=new _HalfEdge2.default(v2,face);return e0.next=e2.prev=e1,e1.next=e0.prev=e2,e2.next=e1.prev=e0,face.edge=e0,face.computeNormalAndCentroid(minArea),debug.enabled&&debug("face created %j",face.collectIndices()),face}}]),Face}();exports.default=Face},function(module,exports){module.exports=function(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out}},function(module,exports){module.exports=function(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out}},function(module,exports){module.exports=function(a){var x=a[0],y=a[1],z=a[2];return Math.sqrt(x*x+y*y+z*z)}},function(module,exports){module.exports=function(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out}},function(module,exports){module.exports=function(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_distance2=_interopRequireDefault(__webpack_require__(493)),_squaredDistance2=_interopRequireDefault(__webpack_require__(494));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var debug=__webpack_require__(97)("halfedge"),HalfEdge=function(){function HalfEdge(vertex,face){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,HalfEdge),this.vertex=vertex,this.face=face,this.next=null,this.prev=null,this.opposite=null}return _createClass(HalfEdge,[{key:"head",value:function(){return this.vertex}},{key:"tail",value:function(){return this.prev?this.prev.vertex:null}},{key:"length",value:function(){return this.tail()?(0,_distance2.default)(this.tail().point,this.head().point):-1}},{key:"lengthSquared",value:function(){return this.tail()?(0,_squaredDistance2.default)(this.tail().point,this.head().point):-1}},{key:"setOpposite",value:function(edge){debug.enabled&&debug("opposite "+this.tail().index+" <--\x3e "+this.head().index+" between "+this.face.collectIndices()+", "+edge.face.collectIndices()),this.opposite=edge,edge.opposite=this}}]),HalfEdge}();exports.default=HalfEdge,module.exports=exports.default},function(module,exports){module.exports=function(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return Math.sqrt(x*x+y*y+z*z)}},function(module,exports){module.exports=function(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return x*x+y*y+z*z}},function(module,exports,__webpack_require__){"use strict";module.exports=function(env){function selectColor(namespace){for(var hash=0,i=0;i<namespace.length;i++)hash=(hash<<5)-hash+namespace.charCodeAt(i),hash|=0;return createDebug.colors[Math.abs(hash)%createDebug.colors.length]}function createDebug(namespace){var prevTime;function debug(){if(debug.enabled){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var self=debug,curr=Number(new Date),ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr,args[0]=createDebug.coerce(args[0]),"string"!=typeof args[0]&&args.unshift("%O");var index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,(function(match,format){if("%%"===match)return match;index++;var formatter=createDebug.formatters[format];if("function"==typeof formatter){var val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match})),createDebug.formatArgs.call(self,args);var logFn=self.log||createDebug.log;logFn.apply(self,args)}}return debug.namespace=namespace,debug.enabled=createDebug.enabled(namespace),debug.useColors=createDebug.useColors(),debug.color=selectColor(namespace),debug.destroy=destroy,debug.extend=extend,"function"==typeof createDebug.init&&createDebug.init(debug),createDebug.instances.push(debug),debug}function destroy(){var index=createDebug.instances.indexOf(this);return-1!==index&&(createDebug.instances.splice(index,1),!0)}function extend(namespace,delimiter){return createDebug(this.namespace+(void 0===delimiter?":":delimiter)+namespace)}return createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=function(val){if(val instanceof Error)return val.stack||val.message;return val},createDebug.disable=function(){createDebug.enable("")},createDebug.enable=function(namespaces){var i;createDebug.save(namespaces),createDebug.names=[],createDebug.skips=[];var split=("string"==typeof namespaces?namespaces:"").split(/[\s,]+/),len=split.length;for(i=0;i<len;i++)split[i]&&("-"===(namespaces=split[i].replace(/\*/g,".*?"))[0]?createDebug.skips.push(new RegExp("^"+namespaces.substr(1)+"$")):createDebug.names.push(new RegExp("^"+namespaces+"$")));for(i=0;i<createDebug.instances.length;i++){var instance=createDebug.instances[i];instance.enabled=createDebug.enabled(instance.namespace)}},createDebug.enabled=function(name){if("*"===name[name.length-1])return!0;var i,len;for(i=0,len=createDebug.skips.length;i<len;i++)if(createDebug.skips[i].test(name))return!1;for(i=0,len=createDebug.names.length;i<len;i++)if(createDebug.names[i].test(name))return!0;return!1},createDebug.humanize=__webpack_require__(496),Object.keys(env).forEach((function(key){createDebug[key]=env[key]})),createDebug.instances=[],createDebug.names=[],createDebug.skips=[],createDebug.formatters={},createDebug.selectColor=selectColor,createDebug.enable(createDebug.load()),createDebug}},function(module,exports){var s=1e3,m=6e4,h=60*m,d=24*h;function plural(ms,msAbs,n,name){var isPlural=msAbs>=1.5*n;return Math.round(ms/n)+" "+name+(isPlural?"s":"")}module.exports=function(val,options){options=options||{};var type=typeof val;if("string"===type&&val.length>0)return function(str){if((str=String(str)).length>100)return;var match=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);if(!match)return;var n=parseFloat(match[1]);switch((match[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(val);if("number"===type&&isFinite(val))return options.long?function(ms){var msAbs=Math.abs(ms);if(msAbs>=d)return plural(ms,msAbs,d,"day");if(msAbs>=h)return plural(ms,msAbs,h,"hour");if(msAbs>=m)return plural(ms,msAbs,m,"minute");if(msAbs>=s)return plural(ms,msAbs,s,"second");return ms+" ms"}(val):function(ms){var msAbs=Math.abs(ms);if(msAbs>=d)return Math.round(ms/d)+"d";if(msAbs>=h)return Math.round(ms/h)+"h";if(msAbs>=m)return Math.round(ms/m)+"m";if(msAbs>=s)return Math.round(ms/s)+"s";return ms+"ms"}(val);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(props){const propsWithColors=React.useMemo(()=>_objectSpread({},props,{children:props.children.map(child=>_objectSpread({},child,{colors:[]}))}),[props]);return React.createElement(_index.Command,_extends({getChildrenForHitmap:getChildrenForHitmap},propsWithColors,{reglCommand:radarPointCluster}))};var React=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,newObj}(__webpack_require__(0)),_index=__webpack_require__(6);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function mapMarker(marker){var _settings$channel,_settings$minPoint,_settings$maxPoint,_settings$pointShape,_settings$pointSize;const{points:points,pose:pose,settings:settings={}}=marker,channel=null!==(_settings$channel=settings.channel)&&void 0!==_settings$channel?_settings$channel:"radial_vel",minPoint=null!==(_settings$minPoint=settings.minPoint)&&void 0!==_settings$minPoint?_settings$minPoint:-10,maxPoint=null!==(_settings$maxPoint=settings.maxPoint)&&void 0!==_settings$maxPoint?_settings$maxPoint:10,pointShape=null!==(_settings$pointShape=settings.pointShape)&&void 0!==_settings$pointShape?_settings$pointShape:"circle",pointSize=null!==(_settings$pointSize=settings.pointSize)&&void 0!==_settings$pointSize?_settings$pointSize:4,ranges=new Float32Array(points.length),azimuths=new Float32Array(points.length),elevations=new Float32Array(points.length),vals=new Array(points.length);for(let i=0;i<points.length;i++)ranges[i]=points[i].range,azimuths[i]=points[i].azimuth_angle_0,elevations[i]=points[i].elevation_angle,vals[i]=points[i][channel];return{ranges:ranges,azimuths:azimuths,elevations:elevations,colors:marker.colors.length>0?marker.colors:vals.map(val=>{if(val<minPoint)return[1,0,0,1];if(val>maxPoint)return[1,0,1,1];const fraction=(val-minPoint)/(maxPoint-minPoint);return fraction<.333?[1-fraction,1,0,1]:fraction<.667?[0,1,fraction-.333,1]:[0,1.667-fraction,1,1]}),pose:pose,pointSize:pointSize,pointShape:pointShape,channel:channel,minPoint:minPoint,maxPoint:maxPoint}}const radarPointCluster=regl=>{const radarPointClusterCommand=(0,_index.withPose)({primitive:"points",vert:"\n      precision mediump float;\n\n      // this comes from the camera\n      uniform mat4 projection, view;\n\n      #WITH_POSE\n\n      attribute float range;\n      attribute float azimuth;\n      attribute float elevation;\n      attribute vec4 color;\n\n      uniform float pointSize;\n      uniform float minPoint;\n      uniform float maxPoint;\n      varying vec4 fragColor;\n\n      void main () {\n        gl_PointSize = pointSize;\n        vec3 p = applyPose(vec3(range * cos(azimuth)*cos(elevation), range * sin(azimuth), range * sin(elevation)));\n        gl_Position = projection * view * vec4(p, 1);\n        fragColor = color;\n      }\n  ",frag:"\n      precision mediump float;\n      varying vec4 fragColor;\n      uniform bool isCircle;\n      void main () {\n        if (isCircle) {\n          vec3 normal;\n          normal.xy = gl_PointCoord * 2.0 - 1.0;\n          float r2 = dot(normal.xy, normal.xy);\n\n          if (r2 > 1.0) {\n            discard;\n          }\n        }\n\n        gl_FragColor = fragColor;\n      }\n  ",attributes:{range:regl.prop("ranges"),azimuth:regl.prop("azimuths"),elevation:regl.prop("elevations"),color:regl.prop("colors")},uniforms:{pointSize:(context,{pointSize:pointSize})=>pointSize,isCircle:(context,{pointShape:pointShape})=>"circle"===pointShape,channel:(context,{channel:channel})=>channel,minPoint:(context,{minPoint:minPoint})=>minPoint,maxPoint:(context,{maxPoint:maxPoint})=>maxPoint},count:(context,props)=>props.ranges.length}),command=regl(radarPointClusterCommand);return props=>{const mapped=(Array.isArray(props)?props:[props]).map(mapMarker);command(mapped)}};function getChildrenForHitmap(props,assignNextIds,excludedObjects){const hitmapProps=(0,_index.nonInstancedGetChildrenForHitmap)(props,assignNextIds,excludedObjects);return hitmapProps.forEach(prop=>{prop.pointSize=5*(prop.pointSize||4)}),hitmapProps}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return navigator.userAgent.includes("PuppeteerTestingChrome")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useWorldContext=function(){const context=React.useContext(WorldContext);if(!context)throw new Error("Tried to use WorldContext outside a <WorldContext.Provider />");return context},exports.default=void 0;var React=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,newObj}(__webpack_require__(0));const WorldContext=React.createContext();var _default=WorldContext;exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_reactReconciler=(obj=__webpack_require__(501))&&obj.__esModule?obj:{default:obj};const NO_CONTEXT={},hostConfig={getRootHostContext:()=>NO_CONTEXT,getChildHostContext:()=>NO_CONTEXT,getPublicInstance:instance=>instance,createInstance:()=>({}),appendInitialChild(){},finalizeInitialChildren:()=>!1,prepareUpdate(){},shouldSetTextContent:()=>!1,createTextInstance:()=>({}),scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,prepareForCommit:()=>null,resetAfterCommit(){},now:Date.now,isPrimaryRenderer:!1,warnsIfNotActing:!0,supportsMutation:!0,supportsPersistence:!1,commitMount(){},commitUpdate(){},commitTextUpdate(){},appendChild(){},appendChildToContainer(){},insertBefore(){},insertInContainerBefore(){},removeChild(){},removeChildFromContainer(){},clearContainer(){},hideInstance(){},hideTextInstance(){},unhideInstance(){},unhideTextInstance(){},resetTextContent(){}},reconcilerInstance=(0,_reactReconciler.default)(hostConfig);var _default=(element,parentObject)=>{const container=reconcilerInstance.createContainer(parentObject,!0);reconcilerInstance.updateContainer(element,container,null)};exports.default=_default},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(502)},function(module,exports,__webpack_require__){(function(module){module.exports=function($$$hostConfig){var exports={},aa=__webpack_require__(503),ba=__webpack_require__(0),m=__webpack_require__(504);function q(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ca=ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,da=60103,ea=60106,fa=60107,ha=60108,ia=60114,ja=60109,ka=60110,la=60112,ma=60113,na=60120,oa=60115,pa=60116,qa=60121,ra=60129,sa=60130,ta=60131;if("function"==typeof Symbol&&Symbol.for){var r=Symbol.for;da=r("react.element"),ea=r("react.portal"),fa=r("react.fragment"),ha=r("react.strict_mode"),ia=r("react.profiler"),ja=r("react.provider"),ka=r("react.context"),la=r("react.forward_ref"),ma=r("react.suspense"),na=r("react.suspense_list"),oa=r("react.memo"),pa=r("react.lazy"),qa=r("react.block"),r("react.scope"),ra=r("react.debug_trace_mode"),sa=r("react.offscreen"),ta=r("react.legacy_hidden")}var ua="function"==typeof Symbol&&Symbol.iterator;function va(a){return null===a||"object"!=typeof a?null:"function"==typeof(a=ua&&a[ua]||a["@@iterator"])?a:null}function wa(a){if(null==a)return null;if("function"==typeof a)return a.displayName||a.name||null;if("string"==typeof a)return a;switch(a){case fa:return"Fragment";case ea:return"Portal";case ia:return"Profiler";case ha:return"StrictMode";case ma:return"Suspense";case na:return"SuspenseList"}if("object"==typeof a)switch(a.$$typeof){case ka:return(a.displayName||"Context")+".Consumer";case ja:return(a._context.displayName||"Context")+".Provider";case la:var b=a.render;return b=b.displayName||b.name||"",a.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef");case oa:return wa(a.type);case qa:return wa(a._render);case pa:b=a._payload,a=a._init;try{return wa(a(b))}catch(c){}}return null}function xa(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do{0!=(1026&(b=a).flags)&&(c=b.return),a=b.return}while(a)}return 3===b.tag?c:null}function ya(a){if(xa(a)!==a)throw Error(q(188))}function za(a){var b=a.alternate;if(!b){if(null===(b=xa(a)))throw Error(q(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){if(null!==(d=e.return)){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return ya(e),a;if(f===d)return ya(e),b;f=f.sibling}throw Error(q(188))}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0,c=e,d=f;break}if(h===d){g=!0,d=e,c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===c){g=!0,c=f,d=e;break}if(h===d){g=!0,d=f,c=e;break}h=h.sibling}if(!g)throw Error(q(189))}}if(c.alternate!==d)throw Error(q(190))}if(3!==c.tag)throw Error(q(188));return c.stateNode.current===c?a:b}function Aa(a){if(!(a=za(a)))return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}}return null}function Ca(a,b){for(var c=a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}var Qb,Da=$$$hostConfig.getPublicInstance,Ea=$$$hostConfig.getRootHostContext,Fa=$$$hostConfig.getChildHostContext,Ga=$$$hostConfig.prepareForCommit,Ha=$$$hostConfig.resetAfterCommit,Ia=$$$hostConfig.createInstance,Ja=$$$hostConfig.appendInitialChild,Ka=$$$hostConfig.finalizeInitialChildren,La=$$$hostConfig.prepareUpdate,Ma=$$$hostConfig.shouldSetTextContent,Na=$$$hostConfig.createTextInstance,Pa=$$$hostConfig.scheduleTimeout,Qa=$$$hostConfig.cancelTimeout,Ra=$$$hostConfig.noTimeout,Sa=$$$hostConfig.isPrimaryRenderer,Ta=$$$hostConfig.supportsMutation,Ua=$$$hostConfig.supportsPersistence,Va=$$$hostConfig.supportsHydration,Wa=$$$hostConfig.getInstanceFromNode,Xa=$$$hostConfig.makeOpaqueHydratingObject,Ya=$$$hostConfig.makeClientId,Za=$$$hostConfig.beforeActiveInstanceBlur,$a=$$$hostConfig.afterActiveInstanceBlur,ab=$$$hostConfig.preparePortalMount,bb=$$$hostConfig.supportsTestSelectors,cb=$$$hostConfig.findFiberRoot,db=$$$hostConfig.getBoundingRect,eb=$$$hostConfig.getTextContent,fb=$$$hostConfig.isHiddenSubtree,gb=$$$hostConfig.matchAccessibilityRole,hb=$$$hostConfig.setFocusIfFocusable,ib=$$$hostConfig.setupIntersectionObserver,jb=$$$hostConfig.appendChild,kb=$$$hostConfig.appendChildToContainer,lb=$$$hostConfig.commitTextUpdate,mb=$$$hostConfig.commitMount,nb=$$$hostConfig.commitUpdate,ob=$$$hostConfig.insertBefore,pb=$$$hostConfig.insertInContainerBefore,qb=$$$hostConfig.removeChild,rb=$$$hostConfig.removeChildFromContainer,sb=$$$hostConfig.resetTextContent,tb=$$$hostConfig.hideInstance,ub=$$$hostConfig.hideTextInstance,vb=$$$hostConfig.unhideInstance,wb=$$$hostConfig.unhideTextInstance,xb=$$$hostConfig.clearContainer,yb=$$$hostConfig.cloneInstance,zb=$$$hostConfig.createContainerChildSet,Ab=$$$hostConfig.appendChildToContainerChildSet,Bb=$$$hostConfig.finalizeContainerChildren,Cb=$$$hostConfig.replaceContainerChildren,Db=$$$hostConfig.cloneHiddenInstance,Eb=$$$hostConfig.cloneHiddenTextInstance,Fb=$$$hostConfig.canHydrateInstance,Gb=$$$hostConfig.canHydrateTextInstance,Hb=$$$hostConfig.isSuspenseInstancePending,Ib=$$$hostConfig.isSuspenseInstanceFallback,Jb=$$$hostConfig.getNextHydratableSibling,Kb=$$$hostConfig.getFirstHydratableChild,Lb=$$$hostConfig.hydrateInstance,Mb=$$$hostConfig.hydrateTextInstance,Nb=$$$hostConfig.getNextHydratableInstanceAfterSuspenseInstance,Ob=$$$hostConfig.commitHydratedContainer,Pb=$$$hostConfig.commitHydratedSuspenseInstance;function Rb(a){if(void 0===Qb)try{throw Error()}catch(c){var b=c.stack.trim().match(/\n( *(at )?)/);Qb=b&&b[1]||""}return"\n"+Qb+a}var Sb=!1;function Tb(a,b){if(!a||Sb)return"";Sb=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error()}catch(k){d=k}a()}}catch(k){if(k&&d&&"string"==typeof k.stack){for(var e=k.stack.split("\n"),f=d.stack.split("\n"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h)do{if(g--,0>--h||e[g]!==f[h])return"\n"+e[g].replace(" at new "," at ")}while(1<=g&&0<=h);break}}}finally{Sb=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:"")?Rb(a):""}var Ub=[],Vb=-1;function Wb(a){return{current:a}}function z(a){0>Vb||(a.current=Ub[Vb],Ub[Vb]=null,Vb--)}function A(a,b){Vb++,Ub[Vb]=a.current,a.current=b}var Xb={},B=Wb(Xb),D=Wb(!1),Yb=Xb;function Zb(a,b){var c=a.type.contextTypes;if(!c)return Xb;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var f,e={};for(f in c)e[f]=b[f];return d&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e),e}function E(a){return null!=(a=a.childContextTypes)}function $b(){z(D),z(B)}function ac(a,b,c){if(B.current!==Xb)throw Error(q(168));A(B,b),A(D,c)}function bc(a,b,c){var d=a.stateNode;if(a=b.childContextTypes,"function"!=typeof d.getChildContext)return c;for(var e in d=d.getChildContext())if(!(e in a))throw Error(q(108,wa(b)||"Unknown",e));return aa({},c,d)}function cc(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Xb,Yb=B.current,A(B,a),A(D,D.current),!0}function dc(a,b,c){var d=a.stateNode;if(!d)throw Error(q(169));c?(a=bc(a,b,Yb),d.__reactInternalMemoizedMergedChildContext=a,z(D),z(B),A(B,a)):z(D),A(D,c)}var ec=null,fc=null;(0,m.unstable_now)();var hc=0,F=8;function ic(a){if(0!=(1&a))return F=15,1;if(0!=(2&a))return F=14,2;if(0!=(4&a))return F=13,4;var b=24&a;return 0!==b?(F=12,b):0!=(32&a)?(F=11,32):0!==(b=192&a)?(F=10,b):0!=(256&a)?(F=9,256):0!==(b=3584&a)?(F=8,b):0!=(4096&a)?(F=7,4096):0!==(b=4186112&a)?(F=6,b):0!==(b=62914560&a)?(F=5,b):67108864&a?(F=4,67108864):0!=(134217728&a)?(F=3,134217728):0!==(b=805306368&a)?(F=2,b):0!=(1073741824&a)?(F=1,1073741824):(F=8,a)}function lc(a,b){var c=a.pendingLanes;if(0===c)return F=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=F=15;else if(0!==(f=134217727&c)){var k=f&~g;0!==k?(d=ic(k),e=F):0!==(h&=f)&&(d=ic(h),e=F)}else 0!==(f=c&~g)?(d=ic(f),e=F):0!==h&&(d=ic(h),e=F);if(0===d)return 0;if(d=c&((0>(d=31-mc(d))?0:1<<d)<<1)-1,0!==b&&b!==d&&0==(b&g)){if(ic(b),e<=F)return b;F=e}if(0!==(b=a.entangledLanes))for(a=a.entanglements,b&=d;0<b;)e=1<<(c=31-mc(b)),d|=a[c],b&=~e;return d}function nc(a){return 0!==(a=-1073741825&a.pendingLanes)?a:1073741824&a?1073741824:0}function oc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return 0===(a=pc(24&~b))?oc(10,b):a;case 10:return 0===(a=pc(192&~b))?oc(8,b):a;case 8:return 0===(a=pc(3584&~b))&&(0===(a=pc(4186112&~b))&&(a=512)),a;case 2:return 0===(b=pc(805306368&~b))&&(b=268435456),b}throw Error(q(358,a))}function pc(a){return a&-a}function qc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}function rc(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d,a.pingedLanes&=d,(a=a.eventTimes)[b=31-mc(b)]=c}var mc=Math.clz32?Math.clz32:function(a){return 0===a?32:31-(tc(a)/uc|0)|0},tc=Math.log,uc=Math.LN2;var vc=m.unstable_runWithPriority,wc=m.unstable_scheduleCallback,xc=m.unstable_cancelCallback,yc=m.unstable_shouldYield,zc=m.unstable_requestPaint,Ac=m.unstable_now,Bc=m.unstable_getCurrentPriorityLevel,Cc=m.unstable_ImmediatePriority,Dc=m.unstable_UserBlockingPriority,Ec=m.unstable_NormalPriority,Fc=m.unstable_LowPriority,Gc=m.unstable_IdlePriority,Hc={},Ic=void 0!==zc?zc:function(){},Jc=null,Kc=null,Lc=!1,Mc=Ac(),G=1e4>Mc?Ac:function(){return Ac()-Mc};function Nc(){switch(Bc()){case Cc:return 99;case Dc:return 98;case Ec:return 97;case Fc:return 96;case Gc:return 95;default:throw Error(q(332))}}function Oc(a){switch(a){case 99:return Cc;case 98:return Dc;case 97:return Ec;case 96:return Fc;case 95:return Gc;default:throw Error(q(332))}}function Pc(a,b){return a=Oc(a),vc(a,b)}function Qc(a,b,c){return a=Oc(a),wc(a,b,c)}function H(){if(null!==Kc){var a=Kc;Kc=null,xc(a)}Rc()}function Rc(){if(!Lc&&null!==Jc){Lc=!0;var a=0;try{var b=Jc;Pc(99,(function(){for(;a<b.length;a++){var c=b[a];do{c=c(!0)}while(null!==c)}})),Jc=null}catch(c){throw null!==Jc&&(Jc=Jc.slice(a+1)),wc(Cc,H),c}finally{Lc=!1}}}var Sc=ca.ReactCurrentBatchConfig;var I="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},Uc=Object.prototype.hasOwnProperty;function Vc(a,b){if(I(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Uc.call(b,c[d])||!I(a[c[d]],b[c[d]]))return!1;return!0}function Wc(a){switch(a.tag){case 5:return Rb(a.type);case 16:return Rb("Lazy");case 13:return Rb("Suspense");case 19:return Rb("SuspenseList");case 0:case 2:case 15:return a=Tb(a.type,!1);case 11:return a=Tb(a.type.render,!1);case 22:return a=Tb(a.type._render,!1);case 1:return a=Tb(a.type,!0);default:return""}}function Xc(a,b){if(a&&a.defaultProps){for(var c in b=aa({},b),a=a.defaultProps)void 0===b[c]&&(b[c]=a[c]);return b}return b}var Yc=Wb(null),Zc=null,$c=null,ad=null;function bd(){ad=$c=Zc=null}function cd(a,b){a=a.type._context,Sa?(A(Yc,a._currentValue),a._currentValue=b):(A(Yc,a._currentValue2),a._currentValue2=b)}function dd(a){var b=Yc.current;z(Yc),a=a.type._context,Sa?a._currentValue=b:a._currentValue2=b}function ed(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b){if(null===c||(c.childLanes&b)===b)break;c.childLanes|=b}else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}function fd(a,b){Zc=a,ad=$c=null,null!==(a=a.dependencies)&&null!==a.firstContext&&(0!=(a.lanes&b)&&(gd=!0),a.firstContext=null)}function J(a,b){if(ad!==a&&!1!==b&&0!==b)if("number"==typeof b&&1073741823!==b||(ad=a,b=1073741823),b={context:a,observedBits:b,next:null},null===$c){if(null===Zc)throw Error(q(308));$c=b,Zc.dependencies={lanes:0,firstContext:b,responders:null}}else $c=$c.next=b;return Sa?a._currentValue:a._currentValue2}var hd=!1;function id(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function jd(a,b){a=a.updateQueue,b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function kd(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function md(a,b){if(null!==(a=a.updateQueue)){var c=(a=a.shared).pending;null===c?b.next=b:(b.next=c.next,c.next=b),a.pending=b}}function nd(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&c===(d=d.updateQueue)){var e=null,f=null;if(null!==(c=c.firstBaseUpdate)){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g,c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;return c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects},void(a.updateQueue=c)}null===(a=c.lastBaseUpdate)?c.firstBaseUpdate=b:a.next=b,c.lastBaseUpdate=b}function od(a,b,c,d){var e=a.updateQueue;hd=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null,null===g?f=l:g.next=l,g=k;var n=a.alternate;if(null!==n){var t=(n=n.updateQueue).lastBaseUpdate;t!==g&&(null===t?n.firstBaseUpdate=l:t.next=l,n.lastBaseUpdate=k)}}if(null!==f){for(t=e.baseState,g=0,n=l=k=null;;){h=f.lane;var p=f.eventTime;if((d&h)===h){null!==n&&(n=n.next={eventTime:p,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});a:{var y=a,x=f;switch(h=b,p=c,x.tag){case 1:if("function"==typeof(y=x.payload)){t=y.call(p,t,h);break a}t=y;break a;case 3:y.flags=-4097&y.flags|64;case 0:if(null==(h="function"==typeof(y=x.payload)?y.call(p,t,h):y))break a;t=aa({},t,h);break a;case 2:hd=!0}}null!==f.callback&&(a.flags|=32,null===(h=e.effects)?e.effects=[f]:h.push(f))}else p={eventTime:p,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===n?(l=n=p,k=t):n=n.next=p,g|=h;if(null===(f=f.next)){if(null===(h=e.shared.pending))break;f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}}null===n&&(k=t),e.baseState=k,e.firstBaseUpdate=l,e.lastBaseUpdate=n,pd|=g,a.lanes=g,a.memoizedState=t}}function qd(a,b,c){if(a=b.effects,b.effects=null,null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){if(d.callback=null,d=c,"function"!=typeof e)throw Error(q(191,e));e.call(d)}}}var rd=(new ba.Component).refs;function sd(a,b,c,d){c=null==(c=c(d,b=a.memoizedState))?b:aa({},b,c),a.memoizedState=c,0===a.lanes&&(a.updateQueue.baseState=c)}var vd={isMounted:function(a){return!!(a=a._reactInternals)&&xa(a)===a},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=K(),e=td(a),f=kd(d,e);f.payload=b,null!=c&&(f.callback=c),md(a,f),ud(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=K(),e=td(a),f=kd(d,e);f.tag=1,f.payload=b,null!=c&&(f.callback=c),md(a,f),ud(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=K(),d=td(a),e=kd(c,d);e.tag=2,null!=b&&(e.callback=b),md(a,e),ud(a,d,c)}};function wd(a,b,c,d,e,f,g){return"function"==typeof(a=a.stateNode).shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):!b.prototype||!b.prototype.isPureReactComponent||(!Vc(c,d)||!Vc(e,f))}function xd(a,b,c){var d=!1,e=Xb,f=b.contextType;return"object"==typeof f&&null!==f?f=J(f):(e=E(b)?Yb:B.current,f=(d=null!=(d=b.contextTypes))?Zb(a,e):Xb),b=new b(c,f),a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null,b.updater=vd,a.stateNode=b,b._reactInternals=a,d&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f),b}function yd(a,b,c,d){a=b.state,"function"==typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d),"function"==typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d),b.state!==a&&vd.enqueueReplaceState(b,b.state,null)}function zd(a,b,c,d){var e=a.stateNode;e.props=c,e.state=a.memoizedState,e.refs=rd,id(a);var f=b.contextType;"object"==typeof f&&null!==f?e.context=J(f):(f=E(b)?Yb:B.current,e.context=Zb(a,f)),od(a,c,e,d),e.state=a.memoizedState,"function"==typeof(f=b.getDerivedStateFromProps)&&(sd(a,b,f,c),e.state=a.memoizedState),"function"==typeof b.getDerivedStateFromProps||"function"==typeof e.getSnapshotBeforeUpdate||"function"!=typeof e.UNSAFE_componentWillMount&&"function"!=typeof e.componentWillMount||(b=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&vd.enqueueReplaceState(e,e.state,null),od(a,c,e,d),e.state=a.memoizedState),"function"==typeof e.componentDidMount&&(a.flags|=4)}var Ad=Array.isArray;function Bd(a,b,c){if(null!==(a=c.ref)&&"function"!=typeof a&&"object"!=typeof a){if(c._owner){if(c=c._owner){if(1!==c.tag)throw Error(q(309));var d=c.stateNode}if(!d)throw Error(q(147,a));var e=""+a;return null!==b&&null!==b.ref&&"function"==typeof b.ref&&b.ref._stringRef===e?b.ref:((b=function(a){var b=d.refs;b===rd&&(b=d.refs={}),null===a?delete b[e]:b[e]=a})._stringRef=e,b)}if("string"!=typeof a)throw Error(q(284));if(!c._owner)throw Error(q(290,a))}return a}function Cd(a,b){if("textarea"!==a.type)throw Error(q(31,"[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+"}":b))}function Dd(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c,c.nextEffect=null,c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){return(a=Ed(a,b)).index=0,a.sibling=null,a}function f(b,c,d){return b.index=d,a?null!==(d=b.alternate)?(d=d.index)<c?(b.flags=2,c):d:(b.flags=2,c):c}function g(b){return a&&null===b.alternate&&(b.flags=2),b}function h(a,b,c,d){return null===b||6!==b.tag?((b=Fd(c,a.mode,d)).return=a,b):((b=e(b,c)).return=a,b)}function k(a,b,c,d){return null!==b&&b.elementType===c.type?((d=e(b,c.props)).ref=Bd(a,b,c),d.return=a,d):((d=Gd(c.type,c.key,c.props,null,a.mode,d)).ref=Bd(a,b,c),d.return=a,d)}function l(a,b,c,d){return null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation?((b=Hd(c,a.mode,d)).return=a,b):((b=e(b,c.children||[])).return=a,b)}function n(a,b,c,d,f){return null===b||7!==b.tag?((b=Id(c,a.mode,d,f)).return=a,b):((b=e(b,c)).return=a,b)}function t(a,b,c){if("string"==typeof b||"number"==typeof b)return(b=Fd(""+b,a.mode,c)).return=a,b;if("object"==typeof b&&null!==b){switch(b.$$typeof){case da:return(c=Gd(b.type,b.key,b.props,null,a.mode,c)).ref=Bd(a,null,b),c.return=a,c;case ea:return(b=Hd(b,a.mode,c)).return=a,b}if(Ad(b)||va(b))return(b=Id(b,a.mode,c,null)).return=a,b;Cd(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if("string"==typeof c||"number"==typeof c)return null!==e?null:h(a,b,""+c,d);if("object"==typeof c&&null!==c){switch(c.$$typeof){case da:return c.key===e?c.type===fa?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case ea:return c.key===e?l(a,b,c,d):null}if(Ad(c)||va(c))return null!==e?null:n(a,b,c,d,null);Cd(a,c)}return null}function y(a,b,c,d,e){if("string"==typeof d||"number"==typeof d)return h(b,a=a.get(c)||null,""+d,e);if("object"==typeof d&&null!==d){switch(d.$$typeof){case da:return a=a.get(null===d.key?c:d.key)||null,d.type===fa?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case ea:return l(b,a=a.get(null===d.key?c:d.key)||null,d,e)}if(Ad(d)||va(d))return n(b,a=a.get(c)||null,d,e,null);Cd(b,d)}return null}function x(e,g,h,k){for(var l=null,v=null,u=g,C=g=0,n=null;null!==u&&C<h.length;C++){u.index>C?(n=u,u=null):n=u.sibling;var w=p(e,u,h[C],k);if(null===w){null===u&&(u=n);break}a&&u&&null===w.alternate&&b(e,u),g=f(w,g,C),null===v?l=w:v.sibling=w,v=w,u=n}if(C===h.length)return c(e,u),l;if(null===u){for(;C<h.length;C++)null!==(u=t(e,h[C],k))&&(g=f(u,g,C),null===v?l=u:v.sibling=u,v=u);return l}for(u=d(e,u);C<h.length;C++)null!==(n=y(u,e,C,h[C],k))&&(a&&null!==n.alternate&&u.delete(null===n.key?C:n.key),g=f(n,g,C),null===v?l=n:v.sibling=n,v=n);return a&&u.forEach((function(a){return b(e,a)})),l}function Y(e,g,h,k){var l=va(h);if("function"!=typeof l)throw Error(q(150));if(null==(h=l.call(h)))throw Error(q(151));for(var u=l=null,v=g,n=g=0,C=null,w=h.next();null!==v&&!w.done;n++,w=h.next()){v.index>n?(C=v,v=null):C=v.sibling;var x=p(e,v,w.value,k);if(null===x){null===v&&(v=C);break}a&&v&&null===x.alternate&&b(e,v),g=f(x,g,n),null===u?l=x:u.sibling=x,u=x,v=C}if(w.done)return c(e,v),l;if(null===v){for(;!w.done;n++,w=h.next())null!==(w=t(e,w.value,k))&&(g=f(w,g,n),null===u?l=w:u.sibling=w,u=w);return l}for(v=d(e,v);!w.done;n++,w=h.next())null!==(w=y(v,e,n,w.value,k))&&(a&&null!==w.alternate&&v.delete(null===w.key?n:w.key),g=f(w,g,n),null===u?l=w:u.sibling=w,u=w);return a&&v.forEach((function(a){return b(e,a)})),l}return function(a,d,f,h){var k="object"==typeof f&&null!==f&&f.type===fa&&null===f.key;k&&(f=f.props.children);var l="object"==typeof f&&null!==f;if(l)switch(f.$$typeof){case da:a:{for(l=f.key,k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===fa){c(a,k.sibling),(d=e(k,f.props.children)).return=a,a=d;break a}break;default:if(k.elementType===f.type){c(a,k.sibling),(d=e(k,f.props)).ref=Bd(a,k,f),d.return=a,a=d;break a}}c(a,k);break}b(a,k),k=k.sibling}f.type===fa?((d=Id(f.props.children,a.mode,h,f.key)).return=a,a=d):((h=Gd(f.type,f.key,f.props,null,a.mode,h)).ref=Bd(a,d,f),h.return=a,a=h)}return g(a);case ea:a:{for(k=f.key;null!==d;){if(d.key===k){if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling),(d=e(d,f.children||[])).return=a,a=d;break a}c(a,d);break}b(a,d),d=d.sibling}(d=Hd(f,a.mode,h)).return=a,a=d}return g(a)}if("string"==typeof f||"number"==typeof f)return f=""+f,null!==d&&6===d.tag?(c(a,d.sibling),(d=e(d,f)).return=a,a=d):(c(a,d),(d=Fd(f,a.mode,h)).return=a,a=d),g(a);if(Ad(f))return x(a,d,f,h);if(va(f))return Y(a,d,f,h);if(l&&Cd(a,f),void 0===f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(q(152,wa(a.type)||"Component"))}return c(a,d)}}var Jd=Dd(!0),Kd=Dd(!1),Ld={},L=Wb(Ld),Md=Wb(Ld),Nd=Wb(Ld);function Od(a){if(a===Ld)throw Error(q(174));return a}function Pd(a,b){A(Nd,b),A(Md,a),A(L,Ld),a=Ea(b),z(L),A(L,a)}function Qd(){z(L),z(Md),z(Nd)}function Rd(a){var b=Od(Nd.current),c=Od(L.current);c!==(b=Fa(c,a.type,b))&&(A(Md,a),A(L,b))}function Sd(a){Md.current===a&&(z(L),z(Md))}var M=Wb(0);function Td(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(null===(c=c.dehydrated)||Hb(c)||Ib(c)))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!=(64&b.flags))return b}else if(null!==b.child){b.child.return=b,b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var Ud=null,Vd=null,Wd=!1;function Xd(a,b){var c=Yd(5,null,null,0);c.elementType="DELETED",c.type="DELETED",c.stateNode=b,c.return=a,c.flags=8,null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function Zd(a,b){switch(a.tag){case 5:return null!==(b=Fb(b,a.type,a.pendingProps))&&(a.stateNode=b,!0);case 6:return null!==(b=Gb(b,a.pendingProps))&&(a.stateNode=b,!0);case 13:default:return!1}}function $d(a){if(Wd){var b=Vd;if(b){var c=b;if(!Zd(a,b)){if(!(b=Jb(c))||!Zd(a,b))return a.flags=-1025&a.flags|2,Wd=!1,void(Ud=a);Xd(Ud,c)}Ud=a,Vd=Kb(b)}else a.flags=-1025&a.flags|2,Wd=!1,Ud=a}}function ae(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;Ud=a}function be(a){if(!Va||a!==Ud)return!1;if(!Wd)return ae(a),Wd=!0,!1;var b=a.type;if(5!==a.tag||"head"!==b&&"body"!==b&&!Ma(b,a.memoizedProps))for(b=Vd;b;)Xd(a,b),b=Jb(b);if(ae(a),13===a.tag){if(!Va)throw Error(q(316));if(!(a=null!==(a=a.memoizedState)?a.dehydrated:null))throw Error(q(317));Vd=Nb(a)}else Vd=Ud?Jb(a.stateNode):null;return!0}function ce(){Va&&(Vd=Ud=null,Wd=!1)}var de=[];function ee(){for(var a=0;a<de.length;a++){var b=de[a];Sa?b._workInProgressVersionPrimary=null:b._workInProgressVersionSecondary=null}de.length=0}var fe=ca.ReactCurrentDispatcher,ge=ca.ReactCurrentBatchConfig,he=0,N=null,O=null,P=null,ie=!1,je=!1;function Q(){throw Error(q(321))}function ke(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!I(a[c],b[c]))return!1;return!0}function le(a,b,c,d,e,f){if(he=f,N=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,fe.current=null===a||null===a.memoizedState?me:ne,a=c(d,e),je){f=0;do{if(je=!1,!(25>f))throw Error(q(301));f+=1,P=O=null,b.updateQueue=null,fe.current=oe,a=c(d,e)}while(je)}if(fe.current=pe,b=null!==O&&null!==O.next,he=0,P=O=N=null,ie=!1,b)throw Error(q(300));return a}function qe(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===P?N.memoizedState=P=a:P=P.next=a,P}function re(){if(null===O){var a=N.alternate;a=null!==a?a.memoizedState:null}else a=O.next;var b=null===P?N.memoizedState:P.next;if(null!==b)P=b,O=a;else{if(null===a)throw Error(q(310));a={memoizedState:(O=a).memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},null===P?N.memoizedState=P=a:P=P.next=a}return P}function se(a,b){return"function"==typeof b?b(a):b}function te(a){var b=re(),c=b.queue;if(null===c)throw Error(q(311));c.lastRenderedReducer=a;var d=O,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next,f.next=g}d.baseQueue=e=f,c.pending=null}if(null!==e){e=e.next,d=d.baseState;var h=g=f=null,k=e;do{var l=k.lane;if((he&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n,N.lanes|=l,pd|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g,I(d,b.memoizedState)||(gd=!0),b.memoizedState=d,b.baseState=f,b.baseQueue=h,c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}function ue(a){var b=re(),c=b.queue;if(null===c)throw Error(q(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do{f=a(f,g.action),g=g.next}while(g!==e);I(f,b.memoizedState)||(gd=!0),b.memoizedState=f,null===b.baseQueue&&(b.baseState=f),c.lastRenderedState=f}return[f,d]}function ve(a,b,c){var d=b._getVersion;d=d(b._source);var e=Sa?b._workInProgressVersionPrimary:b._workInProgressVersionSecondary;if(null!==e?a=e===d:(a=a.mutableReadLanes,(a=(he&a)===a)&&(Sa?b._workInProgressVersionPrimary=d:b._workInProgressVersionSecondary=d,de.push(b))),a)return c(b._source);throw de.push(b),Error(q(350))}function we(a,b,c,d){var e=R;if(null===e)throw Error(q(349));var f=b._getVersion,g=f(b._source),h=fe.current,k=h.useState((function(){return ve(e,b,c)})),l=k[1],n=k[0];k=P;var t=a.memoizedState,p=t.refs,y=p.getSnapshot,x=t.source;t=t.subscribe;var Y=N;return a.memoizedState={refs:p,source:b,subscribe:d},h.useEffect((function(){p.getSnapshot=c,p.setSnapshot=l;var a=f(b._source);if(!I(g,a)){a=c(b._source),I(n,a)||(l(a),a=td(Y),e.mutableReadLanes|=a&e.pendingLanes),a=e.mutableReadLanes,e.entangledLanes|=a;for(var d=e.entanglements,h=a;0<h;){var k=31-mc(h),t=1<<k;d[k]|=a,h&=~t}}}),[c,b,d]),h.useEffect((function(){return d(b._source,(function(){var a=p.getSnapshot,c=p.setSnapshot;try{c(a(b._source));var d=td(Y);e.mutableReadLanes|=d&e.pendingLanes}catch(Oa){c((function(){throw Oa}))}}))}),[b,d]),I(y,c)&&I(x,b)&&I(t,d)||((a={pending:null,dispatch:null,lastRenderedReducer:se,lastRenderedState:n}).dispatch=l=xe.bind(null,N,a),k.queue=a,k.baseQueue=null,n=ve(e,b,c),k.memoizedState=k.baseState=n),n}function ye(a,b,c){return we(re(),a,b,c)}function ze(a){var b=qe();return"function"==typeof a&&(a=a()),b.memoizedState=b.baseState=a,a=(a=b.queue={pending:null,dispatch:null,lastRenderedReducer:se,lastRenderedState:a}).dispatch=xe.bind(null,N,a),[b.memoizedState,a]}function Ae(a,b,c,d){return a={tag:a,create:b,destroy:c,deps:d,next:null},null===(b=N.updateQueue)?(b={lastEffect:null},N.updateQueue=b,b.lastEffect=a.next=a):null===(c=b.lastEffect)?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a),a}function Be(a){return a={current:a},qe().memoizedState=a}function Ce(){return re().memoizedState}function De(a,b,c,d){var e=qe();N.flags|=a,e.memoizedState=Ae(1|b,c,void 0,void 0===d?null:d)}function Ee(a,b,c,d){var e=re();d=void 0===d?null:d;var f=void 0;if(null!==O){var g=O.memoizedState;if(f=g.destroy,null!==d&&ke(d,g.deps))return void Ae(b,c,f,d)}N.flags|=a,e.memoizedState=Ae(1|b,c,f,d)}function Fe(a,b){return De(516,4,a,b)}function Ge(a,b){return Ee(516,4,a,b)}function He(a,b){return Ee(4,2,a,b)}function Ie(a,b){return"function"==typeof b?(a=a(),b(a),function(){b(null)}):null!=b?(a=a(),b.current=a,function(){b.current=null}):void 0}function Je(a,b,c){return c=null!=c?c.concat([a]):null,Ee(4,2,Ie.bind(null,b,a),c)}function Ke(){}function Le(a,b){var c=re();b=void 0===b?null:b;var d=c.memoizedState;return null!==d&&null!==b&&ke(b,d[1])?d[0]:(c.memoizedState=[a,b],a)}function Me(a,b){var c=re();b=void 0===b?null:b;var d=c.memoizedState;return null!==d&&null!==b&&ke(b,d[1])?d[0]:(a=a(),c.memoizedState=[a,b],a)}function Ne(a,b){var c=Nc();Pc(98>c?98:c,(function(){a(!0)})),Pc(97<c?97:c,(function(){var c=ge.transition;ge.transition=1;try{a(!1),b()}finally{ge.transition=c}}))}function xe(a,b,c){var d=K(),e=td(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;if(null===g?f.next=f:(f.next=g.next,g.next=f),b.pending=f,g=a.alternate,a===N||null!==g&&g===N)je=ie=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&null!==(g=b.lastRenderedReducer))try{var h=b.lastRenderedState,k=g(h,c);if(f.eagerReducer=g,f.eagerState=k,I(k,h))return}catch(l){}ud(a,e,d)}}var pe={readContext:J,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useOpaqueIdentifier:Q,unstable_isNewReconciler:!1},me={readContext:J,useCallback:function(a,b){return qe().memoizedState=[a,void 0===b?null:b],a},useContext:J,useEffect:Fe,useImperativeHandle:function(a,b,c){return c=null!=c?c.concat([a]):null,De(4,2,Ie.bind(null,b,a),c)},useLayoutEffect:function(a,b){return De(4,2,a,b)},useMemo:function(a,b){var c=qe();return b=void 0===b?null:b,a=a(),c.memoizedState=[a,b],a},useReducer:function(a,b,c){var d=qe();return b=void 0!==c?c(b):b,d.memoizedState=d.baseState=b,a=(a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b}).dispatch=xe.bind(null,N,a),[d.memoizedState,a]},useRef:Be,useState:ze,useDebugValue:Ke,useDeferredValue:function(a){var b=ze(a),c=b[0],d=b[1];return Fe((function(){var b=ge.transition;ge.transition=1;try{d(a)}finally{ge.transition=b}}),[a]),c},useTransition:function(){var a=ze(!1),b=a[0];return Be(a=Ne.bind(null,a[1])),[a,b]},useMutableSource:function(a,b,c){var d=qe();return d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c},we(d,a,b,c)},useOpaqueIdentifier:function(){if(Wd){var a=!1,b=Xa((function(){throw a||(a=!0,c(Ya())),Error(q(355))})),c=ze(b)[1];return 0==(2&N.mode)&&(N.flags|=516,Ae(5,(function(){c(Ya())}),void 0,null)),b}return ze(b=Ya()),b},unstable_isNewReconciler:!1},ne={readContext:J,useCallback:Le,useContext:J,useEffect:Ge,useImperativeHandle:Je,useLayoutEffect:He,useMemo:Me,useReducer:te,useRef:Ce,useState:function(){return te(se)},useDebugValue:Ke,useDeferredValue:function(a){var b=te(se),c=b[0],d=b[1];return Ge((function(){var b=ge.transition;ge.transition=1;try{d(a)}finally{ge.transition=b}}),[a]),c},useTransition:function(){var a=te(se)[0];return[Ce().current,a]},useMutableSource:ye,useOpaqueIdentifier:function(){return te(se)[0]},unstable_isNewReconciler:!1},oe={readContext:J,useCallback:Le,useContext:J,useEffect:Ge,useImperativeHandle:Je,useLayoutEffect:He,useMemo:Me,useReducer:ue,useRef:Ce,useState:function(){return ue(se)},useDebugValue:Ke,useDeferredValue:function(a){var b=ue(se),c=b[0],d=b[1];return Ge((function(){var b=ge.transition;ge.transition=1;try{d(a)}finally{ge.transition=b}}),[a]),c},useTransition:function(){var a=ue(se)[0];return[Ce().current,a]},useMutableSource:ye,useOpaqueIdentifier:function(){return ue(se)[0]},unstable_isNewReconciler:!1},Oe=ca.ReactCurrentOwner,gd=!1;function S(a,b,c,d){b.child=null===a?Kd(b,null,c,d):Jd(b,a.child,c,d)}function Pe(a,b,c,d,e){c=c.render;var f=b.ref;return fd(b,e),d=le(a,b,c,d,f,e),null===a||gd?(b.flags|=1,S(a,b,d,e),b.child):(b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,Re(a,b,e))}function Se(a,b,c,d,e,f){if(null===a){var g=c.type;return"function"!=typeof g||Te(g)||void 0!==g.defaultProps||null!==c.compare||void 0!==c.defaultProps?((a=Gd(c.type,null,d,b,b.mode,f)).ref=b.ref,a.return=b,b.child=a):(b.tag=15,b.type=g,Ue(a,b,g,d,e,f))}return g=a.child,0==(e&f)&&(e=g.memoizedProps,(c=null!==(c=c.compare)?c:Vc)(e,d)&&a.ref===b.ref)?Re(a,b,f):(b.flags|=1,(a=Ed(g,d)).ref=b.ref,a.return=b,b.child=a)}function Ue(a,b,c,d,e,f){if(null!==a&&Vc(a.memoizedProps,d)&&a.ref===b.ref){if(gd=!1,0==(f&e))return b.lanes=a.lanes,Re(a,b,f);0!=(16384&a.flags)&&(gd=!0)}return Ve(a,b,c,d,f)}function We(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if("hidden"===d.mode||"unstable-defer-without-hiding"===d.mode)if(0==(4&b.mode))b.memoizedState={baseLanes:0},Xe(b,c);else{if(0==(1073741824&c))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a},Xe(b,a),null;b.memoizedState={baseLanes:0},Xe(b,null!==f?f.baseLanes:c)}else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,Xe(b,d);return S(a,b,e,c),b.child}function Ye(a,b){var c=b.ref;(null===a&&null!==c||null!==a&&a.ref!==c)&&(b.flags|=128)}function Ve(a,b,c,d,e){var f=E(c)?Yb:B.current;return f=Zb(b,f),fd(b,e),c=le(a,b,c,d,f,e),null===a||gd?(b.flags|=1,S(a,b,c,e),b.child):(b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,Re(a,b,e))}function Ze(a,b,c,d,e){if(E(c)){var f=!0;cc(b)}else f=!1;if(fd(b,e),null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),xd(b,c,d),zd(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;"object"==typeof l&&null!==l?l=J(l):l=Zb(b,l=E(c)?Yb:B.current);var n=c.getDerivedStateFromProps,t="function"==typeof n||"function"==typeof g.getSnapshotBeforeUpdate;t||"function"!=typeof g.UNSAFE_componentWillReceiveProps&&"function"!=typeof g.componentWillReceiveProps||(h!==d||k!==l)&&yd(b,g,d,l),hd=!1;var p=b.memoizedState;g.state=p,od(b,d,g,e),k=b.memoizedState,h!==d||p!==k||D.current||hd?("function"==typeof n&&(sd(b,c,n,d),k=b.memoizedState),(h=hd||wd(b,c,h,d,p,k,l))?(t||"function"!=typeof g.UNSAFE_componentWillMount&&"function"!=typeof g.componentWillMount||("function"==typeof g.componentWillMount&&g.componentWillMount(),"function"==typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),"function"==typeof g.componentDidMount&&(b.flags|=4)):("function"==typeof g.componentDidMount&&(b.flags|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):("function"==typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode,jd(a,b),h=b.memoizedProps,l=b.type===b.elementType?h:Xc(b.type,h),g.props=l,t=b.pendingProps,p=g.context,"object"==typeof(k=c.contextType)&&null!==k?k=J(k):k=Zb(b,k=E(c)?Yb:B.current);var y=c.getDerivedStateFromProps;(n="function"==typeof y||"function"==typeof g.getSnapshotBeforeUpdate)||"function"!=typeof g.UNSAFE_componentWillReceiveProps&&"function"!=typeof g.componentWillReceiveProps||(h!==t||p!==k)&&yd(b,g,d,k),hd=!1,p=b.memoizedState,g.state=p,od(b,d,g,e);var x=b.memoizedState;h!==t||p!==x||D.current||hd?("function"==typeof y&&(sd(b,c,y,d),x=b.memoizedState),(l=hd||wd(b,c,l,d,p,x,k))?(n||"function"!=typeof g.UNSAFE_componentWillUpdate&&"function"!=typeof g.componentWillUpdate||("function"==typeof g.componentWillUpdate&&g.componentWillUpdate(d,x,k),"function"==typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,k)),"function"==typeof g.componentDidUpdate&&(b.flags|=4),"function"==typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):("function"!=typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),"function"!=typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=l):("function"!=typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),"function"!=typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),d=!1)}return $e(a,b,c,d,f,e)}function $e(a,b,c,d,e,f){Ye(a,b);var g=0!=(64&b.flags);if(!d&&!g)return e&&dc(b,c,!1),Re(a,b,f);d=b.stateNode,Oe.current=b;var h=g&&"function"!=typeof c.getDerivedStateFromError?null:d.render();return b.flags|=1,null!==a&&g?(b.child=Jd(b,a.child,null,f),b.child=Jd(b,null,h,f)):S(a,b,h,f),b.memoizedState=d.state,e&&dc(b,c,!0),b.child}function af(a){var b=a.stateNode;b.pendingContext?ac(0,b.pendingContext,b.pendingContext!==b.context):b.context&&ac(0,b.context,!1),Pd(a,b.containerInfo)}var mf,nf,of,pf,bf={dehydrated:null,retryLane:0};function cf(a,b,c){var g,d=b.pendingProps,e=M.current,f=!1;return(g=0!=(64&b.flags))||(g=(null===a||null!==a.memoizedState)&&0!=(2&e)),g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1),A(M,1&e),null===a?(void 0!==d.fallback&&$d(b),a=d.children,e=d.fallback,f?(a=df(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=bf,a):"number"==typeof d.unstable_expectedLoadTime?(a=df(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=bf,b.lanes=33554432,a):((c=ef({mode:"visible",children:a},b.mode,c,null)).return=b,b.child=c)):(a.memoizedState,f?(d=ff(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=bf,d):(c=gf(a,b,d.children,c),b.memoizedState=null,c))}function df(a,b,c,d){var e=a.mode,f=a.child;return b={mode:"hidden",children:b},0==(2&e)&&null!==f?(f.childLanes=0,f.pendingProps=b):f=ef(b,e,0,null),c=Id(c,e,d,null),f.return=a,c.return=a,f.sibling=c,a.child=f,c}function gf(a,b,c,d){var e=a.child;return a=e.sibling,c=Ed(e,{mode:"visible",children:c}),0==(2&b.mode)&&(c.lanes=d),c.return=b,c.sibling=null,null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a),b.child=c}function ff(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:"hidden",children:c};return 0==(2&f)&&b.child!==g?((c=b.child).childLanes=0,c.pendingProps=h,null!==(g=c.lastEffect)?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null):c=Ed(g,h),null!==a?d=Ed(a,d):(d=Id(d,f,e,null)).flags|=2,d.return=b,c.return=b,c.sibling=d,b.child=c,d}function hf(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b),ed(a.return,b)}function jf(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}function kf(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;if(S(a,b,d.children,c),0!=(2&(d=M.current)))d=1&d|2,b.flags|=64;else{if(null!==a&&0!=(64&a.flags))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&hf(a,c);else if(19===a.tag)hf(a,c);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}if(A(M,d),0==(2&b.mode))b.memoizedState=null;else switch(e){case"forwards":for(c=b.child,e=null;null!==c;)null!==(a=c.alternate)&&null===Td(a)&&(e=c),c=c.sibling;null===(c=e)?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null),jf(b,!1,e,c,f,b.lastEffect);break;case"backwards":for(c=null,e=b.child,b.child=null;null!==e;){if(null!==(a=e.alternate)&&null===Td(a)){b.child=e;break}a=e.sibling,e.sibling=c,c=e,e=a}jf(b,!0,c,null,f,b.lastEffect);break;case"together":jf(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}function Re(a,b,c){if(null!==a&&(b.dependencies=a.dependencies),pd|=b.lanes,0!=(c&b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(q(153));if(null!==b.child){for(c=Ed(a=b.child,a.pendingProps),b.child=c,c.return=b;null!==a.sibling;)a=a.sibling,(c=c.sibling=Ed(a,a.pendingProps)).return=b;c.sibling=null}return b.child}return null}function lf(a){a.flags|=4}if(Ta)mf=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)Ja(a,c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c,c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},nf=function(){},of=function(a,b,c,d,e){if((a=a.memoizedProps)!==d){var f=b.stateNode,g=Od(L.current);c=La(f,c,a,d,e,g),(b.updateQueue=c)&&lf(b)}},pf=function(a,b,c,d){c!==d&&lf(b)};else if(Ua){mf=function(a,b,c,d){for(var e=b.child;null!==e;){if(5===e.tag){var f=e.stateNode;c&&d&&(f=Db(f,e.type,e.memoizedProps,e)),Ja(a,f)}else if(6===e.tag)f=e.stateNode,c&&d&&(f=Eb(f,e.memoizedProps,e)),Ja(a,f);else if(4!==e.tag){if(13===e.tag&&0!=(4&e.flags)&&(f=null!==e.memoizedState)){var g=e.child;if(null!==g&&(null!==g.child&&(g.child.return=g,mf(a,g,!0,f)),null!==(f=g.sibling))){f.return=e,e=f;continue}}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===b)break;for(;null===e.sibling;){if(null===e.return||e.return===b)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};var qf=function(a,b,c,d){for(var e=b.child;null!==e;){if(5===e.tag){var f=e.stateNode;c&&d&&(f=Db(f,e.type,e.memoizedProps,e)),Ab(a,f)}else if(6===e.tag)f=e.stateNode,c&&d&&(f=Eb(f,e.memoizedProps,e)),Ab(a,f);else if(4!==e.tag){if(13===e.tag&&0!=(4&e.flags)&&(f=null!==e.memoizedState)){var g=e.child;if(null!==g&&(null!==g.child&&(g.child.return=g,qf(a,g,!0,f)),null!==(f=g.sibling))){f.return=e,e=f;continue}}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===b)break;for(;null===e.sibling;){if(null===e.return||e.return===b)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};nf=function(a){var b=a.stateNode;if(null!==a.firstEffect){var c=b.containerInfo,d=zb(c);qf(d,a,!1,!1),b.pendingChildren=d,lf(a),Bb(c,d)}},of=function(a,b,c,d,e){var f=a.stateNode,g=a.memoizedProps;if((a=null===b.firstEffect)&&g===d)b.stateNode=f;else{var h=b.stateNode,k=Od(L.current),l=null;g!==d&&(l=La(h,c,g,d,e,k)),a&&null===l?b.stateNode=f:(f=yb(f,l,c,g,d,b,a,h),Ka(f,c,d,e,k)&&lf(b),b.stateNode=f,a?lf(b):mf(f,b,!1,!1))}},pf=function(a,b,c,d){c!==d?(a=Od(Nd.current),c=Od(L.current),b.stateNode=Na(d,a,c,b),lf(b)):b.stateNode=a.stateNode}}else nf=function(){},of=function(){},pf=function(){};function rf(a,b){if(!Wd)switch(a.tailMode){case"hidden":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}function sf(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return E(b.type)&&$b(),null;case 3:return Qd(),z(D),z(B),ee(),(d=b.stateNode).pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),null!==a&&null!==a.child||(be(b)?lf(b):d.hydrate||(b.flags|=256)),nf(b),null;case 5:Sd(b);var e=Od(Nd.current);if(c=b.type,null!==a&&null!=b.stateNode)of(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===b.stateNode)throw Error(q(166));return null}if(a=Od(L.current),be(b)){if(!Va)throw Error(q(175));a=Lb(b.stateNode,b.type,b.memoizedProps,e,a,b),b.updateQueue=a,null!==a&&lf(b)}else{var f=Ia(c,d,e,a,b);mf(f,b,!1,!1),b.stateNode=f,Ka(f,c,d,e,a)&&lf(b)}null!==b.ref&&(b.flags|=128)}return null;case 6:if(a&&null!=b.stateNode)pf(a,b,a.memoizedProps,d);else{if("string"!=typeof d&&null===b.stateNode)throw Error(q(166));if(a=Od(Nd.current),e=Od(L.current),be(b)){if(!Va)throw Error(q(176));Mb(b.stateNode,b.memoizedProps,b)&&lf(b)}else b.stateNode=Na(d,a,e,b)}return null;case 13:return z(M),d=b.memoizedState,0!=(64&b.flags)?(b.lanes=c,b):(d=null!==d,e=!1,null===a?void 0!==b.memoizedProps.fallback&&be(b):e=null!==a.memoizedState,d&&!e&&0!=(2&b.mode)&&(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!=(1&M.current)?0===T&&(T=3):(0!==T&&3!==T||(T=4),null===R||0==(134217727&pd)&&0==(134217727&tf)||uf(R,U))),Ua&&d&&(b.flags|=4),Ta&&(d||e)&&(b.flags|=4),null);case 4:return Qd(),nf(b),null===a&&ab(b.stateNode.containerInfo),null;case 10:return dd(b),null;case 17:return E(b.type)&&$b(),null;case 19:if(z(M),null===(d=b.memoizedState))return null;if(e=0!=(64&b.flags),null===(f=d.rendering))if(e)rf(d,!1);else{if(0!==T||null!==a&&0!=(64&a.flags))for(a=b.child;null!==a;){if(null!==(f=Td(a))){for(b.flags|=64,rf(d,!1),null!==(a=f.updateQueue)&&(b.updateQueue=a,b.flags|=4),null===d.lastEffect&&(b.firstEffect=null),b.lastEffect=d.lastEffect,a=c,d=b.child;null!==d;)c=a,(e=d).flags&=2,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null,null===(f=e.alternate)?(e.childLanes=0,e.lanes=c,e.child=null,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=f.childLanes,e.lanes=f.lanes,e.child=f.child,e.memoizedProps=f.memoizedProps,e.memoizedState=f.memoizedState,e.updateQueue=f.updateQueue,e.type=f.type,c=f.dependencies,e.dependencies=null===c?null:{lanes:c.lanes,firstContext:c.firstContext}),d=d.sibling;return A(M,1&M.current|2),b.child}a=a.sibling}null!==d.tail&&G()>vf&&(b.flags|=64,e=!0,rf(d,!1),b.lanes=33554432)}else{if(!e)if(null!==(a=Td(f))){if(b.flags|=64,e=!0,null!==(a=a.updateQueue)&&(b.updateQueue=a,b.flags|=4),rf(d,!0),null===d.tail&&"hidden"===d.tailMode&&!f.alternate&&!Wd)return null!==(b=b.lastEffect=d.lastEffect)&&(b.nextEffect=null),null}else 2*G()-d.renderingStartTime>vf&&1073741824!==c&&(b.flags|=64,e=!0,rf(d,!1),b.lanes=33554432);d.isBackwards?(f.sibling=b.child,b.child=f):(null!==(a=d.last)?a.sibling=f:b.child=f,d.last=f)}return null!==d.tail?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=G(),a.sibling=null,b=M.current,A(M,e?1&b|2:1&b),a):null;case 23:case 24:return wf(),null!==a&&null!==a.memoizedState!=(null!==b.memoizedState)&&"unstable-defer-without-hiding"!==d.mode&&(b.flags|=4),null}throw Error(q(156,b.tag))}function xf(a){switch(a.tag){case 1:E(a.type)&&$b();var b=a.flags;return 4096&b?(a.flags=-4097&b|64,a):null;case 3:if(Qd(),z(D),z(B),ee(),0!=(64&(b=a.flags)))throw Error(q(285));return a.flags=-4097&b|64,a;case 5:return Sd(a),null;case 13:return z(M),4096&(b=a.flags)?(a.flags=-4097&b|64,a):null;case 19:return z(M),null;case 4:return Qd(),null;case 10:return dd(a),null;case 23:case 24:return wf(),null;default:return null}}function yf(a,b){try{var c="",d=b;do{c+=Wc(d),d=d.return}while(d);var e=c}catch(f){e="\nError generating stack: "+f.message+"\n"+f.stack}return{value:a,source:b,stack:e}}function zf(a,b){try{console.error(b.value)}catch(c){setTimeout((function(){throw c}))}}var Af="function"==typeof WeakMap?WeakMap:Map;function Bf(a,b,c){(c=kd(-1,c)).tag=3,c.payload={element:null};var d=b.value;return c.callback=function(){Cf||(Cf=!0,Df=d),zf(0,b)},c}function Ef(a,b,c){(c=kd(-1,c)).tag=3;var d=a.type.getDerivedStateFromError;if("function"==typeof d){var e=b.value;c.payload=function(){return zf(0,b),d(e)}}var f=a.stateNode;return null!==f&&"function"==typeof f.componentDidCatch&&(c.callback=function(){"function"!=typeof d&&(null===Ff?Ff=new Set([this]):Ff.add(this),zf(0,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:""})}),c}var Gf="function"==typeof WeakSet?WeakSet:Set;function Hf(a){var b=a.ref;if(null!==b)if("function"==typeof b)try{b(null)}catch(c){If(a,c)}else b.current=null}function Jf(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&b.flags&&null!==a){var c=a.memoizedProps,d=a.memoizedState;b=(a=b.stateNode).getSnapshotBeforeUpdate(b.elementType===b.type?c:Xc(b.type,c),d),a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:return void(Ta&&256&b.flags&&xb(b.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(q(163))}function Kf(a,b){if(null!==(b=null!==(b=b.updateQueue)?b.lastEffect:null)){var c=b=b.next;do{if((c.tag&a)===a){var d=c.destroy;c.destroy=void 0,void 0!==d&&d()}c=c.next}while(c!==b)}}function Lf(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:if(null!==(b=null!==(b=c.updateQueue)?b.lastEffect:null)){a=b=b.next;do{if(3==(3&a.tag)){var d=a.create;a.destroy=d()}a=a.next}while(a!==b)}if(null!==(b=null!==(b=c.updateQueue)?b.lastEffect:null)){a=b=b.next;do{var e=a;d=e.next,0!=(4&(e=e.tag))&&0!=(1&e)&&(Mf(c,a),Nf(c,a)),a=d}while(a!==b)}return;case 1:return a=c.stateNode,4&c.flags&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:Xc(c.type,b.memoizedProps),a.componentDidUpdate(d,b.memoizedState,a.__reactInternalSnapshotBeforeUpdate))),void(null!==(b=c.updateQueue)&&qd(c,b,a));case 3:if(null!==(b=c.updateQueue)){if(a=null,null!==c.child)switch(c.child.tag){case 5:a=Da(c.child.stateNode);break;case 1:a=c.child.stateNode}qd(c,b,a)}return;case 5:return a=c.stateNode,void(null===b&&4&c.flags&&mb(a,c.type,c.memoizedProps,c));case 6:case 4:case 12:return;case 13:return void(Va&&null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&Pb(c)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(q(163))}function Of(a,b){if(Ta)for(var c=a;;){if(5===c.tag){var d=c.stateNode;b?tb(d):vb(c.stateNode,c.memoizedProps)}else if(6===c.tag)d=c.stateNode,b?ub(d):wb(d,c.memoizedProps);else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c,c=c.child;continue}if(c===a)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}}function Pf(a,b){if(fc&&"function"==typeof fc.onCommitFiberUnmount)try{fc.onCommitFiberUnmount(ec,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(a=b.updateQueue)&&null!==(a=a.lastEffect)){var c=a=a.next;do{var d=c,e=d.destroy;if(d=d.tag,void 0!==e)if(0!=(4&d))Mf(b,c);else{d=b;try{e()}catch(f){If(d,f)}}c=c.next}while(c!==a)}break;case 1:if(Hf(b),"function"==typeof(a=b.stateNode).componentWillUnmount)try{a.props=b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){If(b,f)}break;case 5:Hf(b);break;case 4:Ta?Qf(a,b):Ua&&Ua&&(b=b.stateNode.containerInfo,a=zb(b),Cb(b,a))}}function Rf(a,b){for(var c=b;;)if(Pf(a,c),null===c.child||Ta&&4===c.tag){if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return,c=c.sibling}else c.child.return=c,c=c.child}function Sf(a){a.alternate=null,a.child=null,a.dependencies=null,a.firstEffect=null,a.lastEffect=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.return=null,a.updateQueue=null}function Tf(a){return 5===a.tag||3===a.tag||4===a.tag}function Uf(a){if(Ta){a:{for(var b=a.return;null!==b;){if(Tf(b))break a;b=b.return}throw Error(q(160))}var c=b;switch(b=c.stateNode,c.tag){case 5:var d=!1;break;case 3:case 4:b=b.containerInfo,d=!0;break;default:throw Error(q(161))}16&c.flags&&(sb(b),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||Tf(c.return)){c=null;break a}c=c.return}for(c.sibling.return=c.return,c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(2&c.flags)continue b;if(null===c.child||4===c.tag)continue b;c.child.return=c,c=c.child}if(!(2&c.flags)){c=c.stateNode;break a}}d?function Vf(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?pb(c,a,b):kb(c,a);else if(4!==d&&null!==(a=a.child))for(Vf(a,b,c),a=a.sibling;null!==a;)Vf(a,b,c),a=a.sibling}(a,c,b):function Wf(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?ob(c,a,b):jb(c,a);else if(4!==d&&null!==(a=a.child))for(Wf(a,b,c),a=a.sibling;null!==a;)Wf(a,b,c),a=a.sibling}(a,c,b)}}function Qf(a,b){for(var e,f,c=b,d=!1;;){if(!d){d=c.return;a:for(;;){if(null===d)throw Error(q(160));switch(e=d.stateNode,d.tag){case 5:f=!1;break a;case 3:case 4:e=e.containerInfo,f=!0;break a}d=d.return}d=!0}if(5===c.tag||6===c.tag)Rf(a,c),f?rb(e,c.stateNode):qb(e,c.stateNode);else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo,f=!0,c.child.return=c,c=c.child;continue}}else if(Pf(a,c),null!==c.child){c.child.return=c,c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;4===(c=c.return).tag&&(d=!1)}c.sibling.return=c.return,c=c.sibling}}function Xf(a,b){if(Ta){switch(b.tag){case 0:case 11:case 14:case 15:case 22:return void Kf(3,b);case 1:return;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps;a=null!==a?a.memoizedProps:d;var e=b.type,f=b.updateQueue;b.updateQueue=null,null!==f&&nb(c,f,e,a,d,b)}return;case 6:if(null===b.stateNode)throw Error(q(162));return c=b.memoizedProps,void lb(b.stateNode,null!==a?a.memoizedProps:c,c);case 3:return void(Va&&(b=b.stateNode,b.hydrate&&(b.hydrate=!1,Ob(b.containerInfo))));case 12:return;case 13:return Yf(b),void Zf(b);case 19:return void Zf(b);case 17:return;case 23:case 24:return void Of(b,null!==b.memoizedState)}throw Error(q(163))}switch(b.tag){case 0:case 11:case 14:case 15:case 22:return void Kf(3,b);case 12:return;case 13:return Yf(b),void Zf(b);case 19:return void Zf(b);case 3:Va&&((c=b.stateNode).hydrate&&(c.hydrate=!1,Ob(c.containerInfo)));break;case 23:case 24:return}a:if(Ua){switch(b.tag){case 1:case 5:case 6:case 20:break a;case 3:case 4:b=b.stateNode,Cb(b.containerInfo,b.pendingChildren);break a}throw Error(q(163))}}function Yf(a){null!==a.memoizedState&&($f=G(),Ta&&Of(a.child,!0))}function Zf(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Gf),b.forEach((function(b){var d=ag.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))}))}}function bg(a,b){return null!==a&&(null===(a=a.memoizedState)||null!==a.dehydrated)&&(null!==(b=b.memoizedState)&&null===b.dehydrated)}var cg=0,dg=1,eg=2,fg=3,gg=4;if("function"==typeof Symbol&&Symbol.for){var hg=Symbol.for;cg=hg("selector.component"),dg=hg("selector.has_pseudo_class"),eg=hg("selector.role"),fg=hg("selector.test_id"),gg=hg("selector.text")}function ig(a){var b=Wa(a);if(null!=b){if("string"!=typeof b.memoizedProps["data-testname"])throw Error(q(364));return b}if(null===(a=cb(a)))throw Error(q(362));return a.stateNode.current}function jg(a,b){switch(b.$$typeof){case cg:if(a.type===b.value)return!0;break;case dg:a:{b=b.value,a=[a,0];for(var c=0;c<a.length;){var d=a[c++],e=a[c++],f=b[e];if(5!==d.tag||!fb(d)){for(;null!=f&&jg(d,f);)f=b[++e];if(e===b.length){b=!0;break a}for(d=d.child;null!==d;)a.push(d,e),d=d.sibling}}b=!1}return b;case eg:if(5===a.tag&&gb(a.stateNode,b.value))return!0;break;case gg:if((5===a.tag||6===a.tag)&&(null!==(a=eb(a))&&0<=a.indexOf(b.value)))return!0;break;case fg:if(5===a.tag&&("string"==typeof(a=a.memoizedProps["data-testname"])&&a.toLowerCase()===b.value.toLowerCase()))return!0;break;default:throw Error(q(365,b))}return!1}function kg(a){switch(a.$$typeof){case cg:return"<"+(wa(a.value)||"Unknown")+">";case dg:return":has("+(kg(a)||"")+")";case eg:return'[role="'+a.value+'"]';case gg:return'"'+a.value+'"';case fg:return'[data-testname="'+a.value+'"]';default:throw Error(q(365,a))}}function lg(a,b){var c=[];a=[a,0];for(var d=0;d<a.length;){var e=a[d++],f=a[d++],g=b[f];if(5!==e.tag||!fb(e)){for(;null!=g&&jg(e,g);)g=b[++f];if(f===b.length)c.push(e);else for(e=e.child;null!==e;)a.push(e,f),e=e.sibling}}return c}function mg(a,b){if(!bb)throw Error(q(363));a=lg(a=ig(a),b),b=[],a=Array.from(a);for(var c=0;c<a.length;){var d=a[c++];if(5===d.tag)fb(d)||b.push(d.stateNode);else for(d=d.child;null!==d;)a.push(d),d=d.sibling}return b}var ng=null;var pg=Math.ceil,qg=ca.ReactCurrentDispatcher,rg=ca.ReactCurrentOwner,sg=ca.IsSomeRendererActing,V=0,R=null,W=null,U=0,tg=0,ug=Wb(0),T=0,vg=null,wg=0,pd=0,tf=0,xg=0,yg=null,$f=0,vf=1/0;function zg(){vf=G()+500}var gh,X=null,Cf=!1,Df=null,Ff=null,Ag=!1,Bg=null,Cg=90,Dg=[],Eg=[],Fg=null,Gg=0,Hg=null,Ig=-1,Jg=0,Kg=0,Lg=null,Mg=!1;function K(){return 0!=(48&V)?G():-1!==Ig?Ig:Ig=G()}function td(a){if(0==(2&(a=a.mode)))return 1;if(0==(4&a))return 99===Nc()?1:2;if(0===Jg&&(Jg=wg),0!==Sc.transition){0!==Kg&&(Kg=null!==yg?yg.pendingLanes:0),a=Jg;var b=4186112&~Kg;return 0===(b&=-b)&&(0===(b=(a=4186112&~a)&-a)&&(b=8192)),b}return a=Nc(),0!=(4&V)&&98===a?a=oc(12,Jg):a=oc(a=function(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(a),Jg),a}function ud(a,b,c){if(50<Gg)throw Gg=0,Hg=null,Error(q(185));if(null===(a=Ng(a,b)))return null;rc(a,b,c),a===R&&(tf|=b,4===T&&uf(a,U));var d=Nc();1===b?0!=(8&V)&&0==(48&V)?Og(a):(Z(a,c),0===V&&(zg(),H())):(0==(4&V)||98!==d&&99!==d||(null===Fg?Fg=new Set([a]):Fg.add(a)),Z(a,c)),yg=a}function Ng(a,b){a.lanes|=b;var c=a.alternate;for(null!==c&&(c.lanes|=b),c=a,a=a.return;null!==a;)a.childLanes|=b,null!==(c=a.alternate)&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}function Z(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-mc(g),k=1<<h,l=f[h];if(-1===l){if(0==(k&d)||0!=(k&e)){l=b,ic(k);var n=F;f[h]=10<=n?l+250:6<=n?l+5e3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}if(d=lc(a,a===R?U:0),b=F,0===d)null!==c&&(c!==Hc&&xc(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==Hc&&xc(c)}15===b?(c=Og.bind(null,a),null===Jc?(Jc=[c],Kc=wc(Cc,Rc)):Jc.push(c),c=Hc):14===b?c=Qc(99,Og.bind(null,a)):c=Qc(c=function(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(q(358,a))}}(b),Pg.bind(null,a)),a.callbackPriority=b,a.callbackNode=c}}function Pg(a){if(Ig=-1,Kg=Jg=0,0!=(48&V))throw Error(q(327));var b=a.callbackNode;if(Qg()&&a.callbackNode!==b)return null;var c=lc(a,a===R?U:0);if(0===c)return null;var d=c,e=V;V|=16;var f=Rg();for(R===a&&U===d||(zg(),Sg(a,d));;)try{Tg();break}catch(h){Ug(a,h)}if(bd(),qg.current=f,V=e,null!==W?d=0:(R=null,U=0,d=T),0!=(wg&tf))Sg(a,0);else if(0!==d){if(2===d&&(V|=64,a.hydrate&&(a.hydrate=!1,xb(a.containerInfo)),0!==(c=nc(a))&&(d=Vg(a,c))),1===d)throw b=vg,Sg(a,0),uf(a,c),Z(a,G()),b;switch(a.finishedWork=a.current.alternate,a.finishedLanes=c,d){case 0:case 1:throw Error(q(345));case 2:Zg(a);break;case 3:if(uf(a,c),(62914560&c)===c&&10<(d=$f+500-G())){if(0!==lc(a,0))break;if(((e=a.suspendedLanes)&c)!==c){K(),a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Pa(Zg.bind(null,a),d);break}Zg(a);break;case 4:if(uf(a,c),(4186112&c)===c)break;for(d=a.eventTimes,e=-1;0<c;){var g=31-mc(c);f=1<<g,(g=d[g])>e&&(e=g),c&=~f}if(c=e,10<(c=(120>(c=G()-c)?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*pg(c/1960))-c)){a.timeoutHandle=Pa(Zg.bind(null,a),c);break}Zg(a);break;case 5:Zg(a);break;default:throw Error(q(329))}}return Z(a,G()),a.callbackNode===b?Pg.bind(null,a):null}function uf(a,b){for(b&=~xg,b&=~tf,a.suspendedLanes|=b,a.pingedLanes&=~b,a=a.expirationTimes;0<b;){var c=31-mc(b),d=1<<c;a[c]=-1,b&=~d}}function Og(a){if(0!=(48&V))throw Error(q(327));if(Qg(),a===R&&0!=(a.expiredLanes&U)){var b=U,c=Vg(a,b);0!=(wg&tf)&&(c=Vg(a,b=lc(a,b)))}else c=Vg(a,b=lc(a,0));if(0!==a.tag&&2===c&&(V|=64,a.hydrate&&(a.hydrate=!1,xb(a.containerInfo)),0!==(b=nc(a))&&(c=Vg(a,b))),1===c)throw c=vg,Sg(a,0),uf(a,b),Z(a,G()),c;return a.finishedWork=a.current.alternate,a.finishedLanes=b,Zg(a),Z(a,G()),null}function ah(a,b){var c=V;V|=1;try{return a(b)}finally{0===(V=c)&&(zg(),H())}}function bh(a,b){var c=V;if(0!=(48&c))return a(b);V|=1;try{if(a)return Pc(99,a.bind(null,b))}finally{V=c,H()}}function Xe(a,b){A(ug,tg),tg|=b,wg|=b}function wf(){tg=ug.current,z(ug)}function Sg(a,b){a.finishedWork=null,a.finishedLanes=0;var c=a.timeoutHandle;if(c!==Ra&&(a.timeoutHandle=Ra,Qa(c)),null!==W)for(c=W.return;null!==c;){var d=c;switch(d.tag){case 1:null!=(d=d.type.childContextTypes)&&$b();break;case 3:Qd(),z(D),z(B),ee();break;case 5:Sd(d);break;case 4:Qd();break;case 13:case 19:z(M);break;case 10:dd(d);break;case 23:case 24:wf()}c=c.return}R=a,W=Ed(a.current,null),U=tg=wg=b,T=0,vg=null,xg=tf=pd=0}function Ug(a,b){for(;;){var c=W;try{if(bd(),fe.current=pe,ie){for(var d=N.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null),d=d.next}ie=!1}if(he=0,P=O=N=null,je=!1,rg.current=null,null===c||null===c.return){T=1,vg=b,W=null;break}a:{var f=a,g=c.return,h=c,k=b;if(b=U,h.flags|=2048,h.firstEffect=h.lastEffect=null,null!==k&&"object"==typeof k&&"function"==typeof k.then){var l=k;if(0==(2&h.mode)){var n=h.alternate;n?(h.updateQueue=n.updateQueue,h.memoizedState=n.memoizedState,h.lanes=n.lanes):(h.updateQueue=null,h.memoizedState=null)}var t=0!=(1&M.current),p=g;do{var y;if(y=13===p.tag){var x=p.memoizedState;if(null!==x)y=null!==x.dehydrated;else{var Y=p.memoizedProps;y=void 0!==Y.fallback&&(!0!==Y.unstable_avoidThisFallback||!t)}}if(y){var u=p.updateQueue;if(null===u){var v=new Set;v.add(l),p.updateQueue=v}else u.add(l);if(0==(2&p.mode)){if(p.flags|=64,h.flags|=16384,h.flags&=-2981,1===h.tag)if(null===h.alternate)h.tag=17;else{var C=kd(-1,1);C.tag=2,md(h,C)}h.lanes|=1;break a}k=void 0,h=b;var Oa=f.pingCache;if(null===Oa?(Oa=f.pingCache=new Af,k=new Set,Oa.set(l,k)):void 0===(k=Oa.get(l))&&(k=new Set,Oa.set(l,k)),!k.has(h)){k.add(h);var Qe=ch.bind(null,f,l,h);l.then(Qe,Qe)}p.flags|=4096,p.lanes=b;break a}p=p.return}while(null!==p);k=Error((wa(h.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==T&&(T=2),k=yf(k,h),p=g;do{switch(p.tag){case 3:f=k,p.flags|=4096,b&=-b,p.lanes|=b,nd(p,Bf(0,f,b));break a;case 1:f=k;var Xg=p.type,ld=p.stateNode;if(0==(64&p.flags)&&("function"==typeof Xg.getDerivedStateFromError||null!==ld&&"function"==typeof ld.componentDidCatch&&(null===Ff||!Ff.has(ld)))){p.flags|=4096,b&=-b,p.lanes|=b,nd(p,Ef(p,f,b));break a}}p=p.return}while(null!==p)}dh(c)}catch(w){b=w,W===c&&null!==c&&(W=c=c.return);continue}break}}function Rg(){var a=qg.current;return qg.current=pe,null===a?pe:a}function Vg(a,b){var c=V;V|=16;var d=Rg();for(R===a&&U===b||Sg(a,b);;)try{eh();break}catch(e){Ug(a,e)}if(bd(),V=c,qg.current=d,null!==W)throw Error(q(261));return R=null,U=0,T}function eh(){for(;null!==W;)fh(W)}function Tg(){for(;null!==W&&!yc();)fh(W)}function fh(a){var b=gh(a.alternate,a,tg);a.memoizedProps=a.pendingProps,null===b?dh(a):W=b,rg.current=null}function dh(a){var b=a;do{var c=b.alternate;if(a=b.return,0==(2048&b.flags)){if(null!==(c=sf(c,b,tg)))return void(W=c);if(24!==(c=b).tag&&23!==c.tag||null===c.memoizedState||0!=(1073741824&tg)||0==(4&c.mode)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&0==(2048&a.flags)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==a.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}else{if(null!==(c=xf(b)))return c.flags&=2047,void(W=c);null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}if(null!==(b=b.sibling))return void(W=b);W=b=a}while(null!==b);0===T&&(T=5)}function Zg(a){var b=Nc();return Pc(99,hh.bind(null,a,b)),null}function hh(a,b){do{Qg()}while(null!==Bg);if(0!=(48&V))throw Error(q(327));var c=a.finishedWork;if(null===c)return null;if(a.finishedWork=null,a.finishedLanes=0,c===a.current)throw Error(q(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=e,a.mutableReadLanes&=e,a.entangledLanes&=e,e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-mc(f),l=1<<k;e[k]=0,g[k]=-1,h[k]=-1,f&=~l}if(null!==Fg&&0==(24&d)&&Fg.has(a)&&Fg.delete(a),a===R&&(W=R=null,U=0),1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect,null!==d){e=V,V|=32,rg.current=null,Lg=Ga(a.containerInfo),Mg=!1,X=d;do{try{ih()}catch(v){if(null===X)throw Error(q(330));If(X,v),X=X.nextEffect}}while(null!==X);Lg=null,X=d;do{try{for(g=a;null!==X;){var n=X.flags;if(16&n&&Ta&&sb(X.stateNode),128&n){var t=X.alternate;if(null!==t){var p=t.ref;null!==p&&("function"==typeof p?p(null):p.current=null)}}switch(1038&n){case 2:Uf(X),X.flags&=-3;break;case 6:Uf(X),X.flags&=-3,Xf(X.alternate,X);break;case 1024:X.flags&=-1025;break;case 1028:X.flags&=-1025,Xf(X.alternate,X);break;case 4:Xf(X.alternate,X);break;case 8:h=g,f=X,Ta?Qf(h,f):Rf(h,f);var y=f.alternate;Sf(f),null!==y&&Sf(y)}X=X.nextEffect}}catch(v){if(null===X)throw Error(q(330));If(X,v),X=X.nextEffect}}while(null!==X);Mg&&$a(),Ha(a.containerInfo),a.current=c,X=d;do{try{for(n=a;null!==X;){var x=X.flags;if(36&x&&Lf(n,X.alternate,X),128&x){t=void 0;var Y=X.ref;if(null!==Y){var u=X.stateNode;switch(X.tag){case 5:t=Da(u);break;default:t=u}"function"==typeof Y?Y(t):Y.current=t}}X=X.nextEffect}}catch(v){if(null===X)throw Error(q(330));If(X,v),X=X.nextEffect}}while(null!==X);X=null,Ic(),V=e}else a.current=c;if(Ag)Ag=!1,Bg=a,Cg=b;else for(X=d;null!==X;)b=X.nextEffect,X.nextEffect=null,8&X.flags&&((x=X).sibling=null,x.stateNode=null),X=b;if(0===(d=a.pendingLanes)&&(Ff=null),1===d?a===Hg?Gg++:(Gg=0,Hg=a):Gg=0,c=c.stateNode,fc&&"function"==typeof fc.onCommitFiberRoot)try{fc.onCommitFiberRoot(ec,c,void 0,64==(64&c.current.flags))}catch(v){}if(Z(a,G()),Cf)throw Cf=!1,a=Df,Df=null,a;return 0!=(8&V)||H(),null}function ih(){for(;null!==X;){var a=X.alternate;Mg||null===Lg||(0!=(8&X.flags)?Ca(X,Lg)&&(Mg=!0,Za()):13===X.tag&&bg(a,X)&&Ca(X,Lg)&&(Mg=!0,Za()));var b=X.flags;0!=(256&b)&&Jf(a,X),0==(512&b)||Ag||(Ag=!0,Qc(97,(function(){return Qg(),null}))),X=X.nextEffect}}function Qg(){if(90!==Cg){var a=97<Cg?97:Cg;return Cg=90,Pc(a,jh)}return!1}function Nf(a,b){Dg.push(b,a),Ag||(Ag=!0,Qc(97,(function(){return Qg(),null})))}function Mf(a,b){Eg.push(b,a),Ag||(Ag=!0,Qc(97,(function(){return Qg(),null})))}function jh(){if(null===Bg)return!1;var a=Bg;if(Bg=null,0!=(48&V))throw Error(q(331));var b=V;V|=32;var c=Eg;Eg=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;if(e.destroy=void 0,"function"==typeof g)try{g()}catch(k){if(null===f)throw Error(q(330));If(f,k)}}for(c=Dg,Dg=[],d=0;d<c.length;d+=2){e=c[d],f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(q(330));If(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,h.nextEffect=null,8&h.flags&&(h.sibling=null,h.stateNode=null),h=a;return V=b,H(),!0}function kh(a,b,c){md(a,b=Bf(0,b=yf(c,b),1)),b=K(),null!==(a=Ng(a,1))&&(rc(a,1,b),Z(a,b))}function If(a,b){if(3===a.tag)kh(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){kh(c,a,b);break}if(1===c.tag){var d=c.stateNode;if("function"==typeof c.type.getDerivedStateFromError||"function"==typeof d.componentDidCatch&&(null===Ff||!Ff.has(d))){var e=Ef(c,a=yf(b,a),1);if(md(c,e),e=K(),null!==(c=Ng(c,1)))rc(c,1,e),Z(c,e);else if("function"==typeof d.componentDidCatch&&(null===Ff||!Ff.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}function ch(a,b,c){var d=a.pingCache;null!==d&&d.delete(b),b=K(),a.pingedLanes|=a.suspendedLanes&c,R===a&&(U&c)===c&&(4===T||3===T&&(62914560&U)===U&&500>G()-$f?Sg(a,0):xg|=c),Z(a,b)}function ag(a,b){var c=a.stateNode;null!==c&&c.delete(b),0===(b=0)&&(0==(2&(b=a.mode))?b=1:0==(4&b)?b=99===Nc()?1:2:(0===Jg&&(Jg=wg),0===(b=pc(62914560&~Jg))&&(b=4194304))),c=K(),null!==(a=Ng(a,b))&&(rc(a,b,c),Z(a,c))}gh=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||D.current)gd=!0;else{if(0==(c&d)){switch(gd=!1,b.tag){case 3:af(b),ce();break;case 5:Rd(b);break;case 1:E(b.type)&&cc(b);break;case 4:Pd(b,b.stateNode.containerInfo);break;case 10:cd(b,b.memoizedProps.value);break;case 13:if(null!==b.memoizedState)return 0!=(c&b.child.childLanes)?cf(a,b,c):(A(M,1&M.current),null!==(b=Re(a,b,c))?b.sibling:null);A(M,1&M.current);break;case 19:if(d=0!=(c&b.childLanes),0!=(64&a.flags)){if(d)return kf(a,b,c);b.flags|=64}var e=b.memoizedState;if(null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null),A(M,M.current),d)break;return null;case 23:case 24:return b.lanes=0,We(a,b,c)}return Re(a,b,c)}gd=0!=(16384&a.flags)}else gd=!1;switch(b.lanes=0,b.tag){case 2:if(d=b.type,null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),a=b.pendingProps,e=Zb(b,B.current),fd(b,c),e=le(null,b,d,a,e,c),b.flags|=1,"object"==typeof e&&null!==e&&"function"==typeof e.render&&void 0===e.$$typeof){if(b.tag=1,b.memoizedState=null,b.updateQueue=null,E(d)){var f=!0;cc(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,id(b);var g=d.getDerivedStateFromProps;"function"==typeof g&&sd(b,d,g,a),e.updater=vd,b.stateNode=e,e._reactInternals=b,zd(b,d,a,c),b=$e(null,b,d,!0,f,c)}else b.tag=0,S(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{switch(null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),a=b.pendingProps,e=(f=e._init)(e._payload),b.type=e,f=b.tag=function(a){if("function"==typeof a)return Te(a)?1:0;if(null!=a){if((a=a.$$typeof)===la)return 11;if(a===oa)return 14}return 2}(e),a=Xc(e,a),f){case 0:b=Ve(null,b,e,a,c);break a;case 1:b=Ze(null,b,e,a,c);break a;case 11:b=Pe(null,b,e,a,c);break a;case 14:b=Se(null,b,e,Xc(e.type,a),d,c);break a}throw Error(q(306,e,""))}return b;case 0:return d=b.type,e=b.pendingProps,Ve(a,b,d,e=b.elementType===d?e:Xc(d,e),c);case 1:return d=b.type,e=b.pendingProps,Ze(a,b,d,e=b.elementType===d?e:Xc(d,e),c);case 3:if(af(b),d=b.updateQueue,null===a||null===d)throw Error(q(282));if(d=b.pendingProps,e=null!==(e=b.memoizedState)?e.element:null,jd(a,b),od(b,d,null,c),(d=b.memoizedState.element)===e)ce(),b=Re(a,b,c);else{if((f=(e=b.stateNode).hydrate)&&(Va?(Vd=Kb(b.stateNode.containerInfo),Ud=b,f=Wd=!0):f=!1),f){if(Va&&null!=(a=e.mutableSourceEagerHydrationData))for(e=0;e<a.length;e+=2)f=a[e],g=a[e+1],Sa?f._workInProgressVersionPrimary=g:f._workInProgressVersionSecondary=g,de.push(f);for(c=Kd(b,null,d,c),b.child=c;c;)c.flags=-3&c.flags|1024,c=c.sibling}else S(a,b,d,c),ce();b=b.child}return b;case 5:return Rd(b),null===a&&$d(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ma(d,e)?g=null:null!==f&&Ma(d,f)&&(b.flags|=16),Ye(a,b),S(a,b,g,c),b.child;case 6:return null===a&&$d(b),null;case 13:return cf(a,b,c);case 4:return Pd(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Jd(b,null,d,c):S(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,Pe(a,b,d,e=b.elementType===d?e:Xc(d,e),c);case 7:return S(a,b,b.pendingProps,c),b.child;case 8:case 12:return S(a,b,b.pendingProps.children,c),b.child;case 10:a:{if(d=b.type._context,e=b.pendingProps,g=b.memoizedProps,cd(b,f=e.value),null!==g){var h=g.value;if(0===(f=I(h,f)?0:0|("function"==typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823))){if(g.children===e.children&&!D.current){b=Re(a,b,c);break a}}else for(null!==(h=b.child)&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=k.firstContext;null!==l;){if(l.context===d&&0!=(l.observedBits&f)){1===h.tag&&((l=kd(-1,c&-c)).tag=2,md(h,l)),h.lanes|=c,null!==(l=h.alternate)&&(l.lanes|=c),ed(h.return,c),k.lanes|=c;break}l=l.next}}else g=10===h.tag&&h.type===b.type?null:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}if(null!==(h=g.sibling)){h.return=g.return,g=h;break}g=g.return}h=g}}S(a,b,e.children,c),b=b.child}return b;case 9:return e=b.type,d=(f=b.pendingProps).children,fd(b,c),d=d(e=J(e,f.unstable_observedBits)),b.flags|=1,S(a,b,d,c),b.child;case 14:return f=Xc(e=b.type,b.pendingProps),Se(a,b,e,f=Xc(e.type,f),d,c);case 15:return Ue(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Xc(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,E(d)?(a=!0,cc(b)):a=!1,fd(b,c),xd(b,d,e),zd(b,d,e,c),$e(null,b,d,!0,a,c);case 19:return kf(a,b,c);case 23:case 24:return We(a,b,c)}throw Error(q(156,b.tag))};var mh={current:!1},nh=m.unstable_flushAllWithoutAsserting,oh="function"==typeof nh;function ph(){if(void 0!==nh)return nh();for(var a=!1;Qg();)a=!0;return a}function qh(a){try{ph(),function(a){if(null===ng)try{var b=("require"+Math.random()).slice(0,7);ng=(module&&module[b]).call(module,"timers").setImmediate}catch(c){ng=function(a){var b=new MessageChannel;b.port1.onmessage=a,b.port2.postMessage(void 0)}}ng(a)}((function(){ph()?qh(a):a()}))}catch(b){a(b)}}var rh=0,sh=!1;function th(a,b,c,d){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Yd(a,b,c,d){return new th(a,b,c,d)}function Te(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Ed(a,b){var c=a.alternate;return null===c?((c=Yd(a.tag,b,a.key,a.mode)).elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null),c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,b=a.dependencies,c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c}function Gd(a,b,c,d,e,f){var g=2;if(d=a,"function"==typeof a)Te(a)&&(g=1);else if("string"==typeof a)g=5;else a:switch(a){case fa:return Id(c.children,e,f,b);case ra:g=8,e|=16;break;case ha:g=8,e|=1;break;case ia:return(a=Yd(12,c,b,8|e)).elementType=ia,a.type=ia,a.lanes=f,a;case ma:return(a=Yd(13,c,b,e)).type=ma,a.elementType=ma,a.lanes=f,a;case na:return(a=Yd(19,c,b,e)).elementType=na,a.lanes=f,a;case sa:return ef(c,e,f,b);case ta:return(a=Yd(24,c,b,e)).elementType=ta,a.lanes=f,a;default:if("object"==typeof a&&null!==a)switch(a.$$typeof){case ja:g=10;break a;case ka:g=9;break a;case la:g=11;break a;case oa:g=14;break a;case pa:g=16,d=null;break a;case qa:g=22;break a}throw Error(q(130,null==a?a:typeof a,""))}return(b=Yd(g,c,b,e)).elementType=a,b.type=d,b.lanes=f,b}function Id(a,b,c,d){return(a=Yd(7,a,d,b)).lanes=c,a}function ef(a,b,c,d){return(a=Yd(23,a,d,b)).elementType=sa,a.lanes=c,a}function Fd(a,b,c){return(a=Yd(6,a,null,b)).lanes=c,a}function Hd(a,b,c){return(b=Yd(4,null!==a.children?a.children:[],a.key,b)).lanes=c,b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},b}function uh(a,b,c){this.tag=b,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ra,this.pendingContext=this.context=null,this.hydrate=c,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qc(0),this.expirationTimes=qc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qc(0),Va&&(this.mutableSourceEagerHydrationData=null)}function vh(a){var b=a._reactInternals;if(void 0===b){if("function"==typeof a.render)throw Error(q(188));throw Error(q(268,Object.keys(a)))}return null===(a=Aa(b))?null:a.stateNode}function wh(a,b){if(null!==(a=a.memoizedState)&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function xh(a,b){wh(a,b),(a=a.alternate)&&wh(a,b)}function yh(a){return null===(a=Aa(a))?null:a.stateNode}function zh(){return null}return exports.IsThisRendererActing=mh,exports.act=function(a){function b(){rh--,sg.current=c,mh.current=d}!1===sh&&(sh=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),rh++;var c=sg.current,d=mh.current;sg.current=!0,mh.current=!0;try{var e=ah(a)}catch(f){throw b(),f}if(null!==e&&"object"==typeof e&&"function"==typeof e.then)return{then:function(a,d){e.then((function(){1<rh||!0===oh&&!0===c?(b(),a()):qh((function(c){b(),c?d(c):a()}))}),(function(a){b(),d(a)}))}};try{1!==rh||!1!==oh&&!1!==c||ph(),b()}catch(f){throw b(),f}return{then:function(a){a()}}},exports.attemptContinuousHydration=function(a){13===a.tag&&(ud(a,67108864,K()),xh(a,67108864))},exports.attemptHydrationAtCurrentPriority=function(a){if(13===a.tag){var b=K(),c=td(a);ud(a,c,b),xh(a,c)}},exports.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.hydrate){var c=ic(b.pendingLanes);b.expiredLanes|=c&b.pendingLanes,Z(b,G()),0==(48&V)&&(zg(),H())}break;case 13:var d=K();bh((function(){return ud(a,1,d)})),xh(a,4)}},exports.attemptUserBlockingHydration=function(a){13===a.tag&&(ud(a,4,K()),xh(a,4))},exports.batchedEventUpdates=function(a,b){var c=V;V|=2;try{return a(b)}finally{0===(V=c)&&(zg(),H())}},exports.batchedUpdates=ah,exports.createComponentSelector=function(a){return{$$typeof:cg,value:a}},exports.createContainer=function(a,b,c){return a=new uh(a,b,c),b=Yd(3,null,null,2===b?7:1===b?3:0),a.current=b,b.stateNode=a,id(b),a},exports.createHasPsuedoClassSelector=function(a){return{$$typeof:dg,value:a}},exports.createPortal=function(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ea,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}},exports.createRoleSelector=function(a){return{$$typeof:eg,value:a}},exports.createTestNameSelector=function(a){return{$$typeof:fg,value:a}},exports.createTextSelector=function(a){return{$$typeof:gg,value:a}},exports.deferredUpdates=function(a){return Pc(97,a)},exports.discreteUpdates=function(a,b,c,d,e){var f=V;V|=4;try{return Pc(98,a.bind(null,b,c,d,e))}finally{0===(V=f)&&(zg(),H())}},exports.findAllNodes=mg,exports.findBoundingRects=function(a,b){if(!bb)throw Error(q(363));b=mg(a,b),a=[];for(var c=0;c<b.length;c++)a.push(db(b[c]));for(b=a.length-1;0<b;b--)for(var d=(c=a[b]).x,e=d+c.width,f=c.y,g=f+c.height,h=b-1;0<=h;h--)if(b!==h){var k=a[h],l=k.x,n=l+k.width,t=k.y,p=t+k.height;if(d>=l&&f>=t&&e<=n&&g<=p){a.splice(b,1);break}if(!(d!==l||c.width!==k.width||p<f||t>g)){t>f&&(k.height+=t-f,k.y=f),p<g&&(k.height=g-t),a.splice(b,1);break}if(!(f!==t||c.height!==k.height||n<d||l>e)){l>d&&(k.width+=l-d,k.x=d),n<e&&(k.width=e-l),a.splice(b,1);break}}return a},exports.findHostInstance=vh,exports.findHostInstanceWithNoPortals=function(a){return null===(a=function(a){if(!(a=za(a)))return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child&&4!==b.tag)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}}return null}(a))?null:20===a.tag?a.stateNode.instance:a.stateNode},exports.findHostInstanceWithWarning=function(a){return vh(a)},exports.flushControlled=function(a){var b=V;V|=1;try{Pc(99,a)}finally{0===(V=b)&&(zg(),H())}},exports.flushDiscreteUpdates=function(){0==(49&V)&&(function(){if(null!==Fg){var a=Fg;Fg=null,a.forEach((function(a){a.expiredLanes|=24&a.pendingLanes,Z(a,G())}))}H()}(),Qg())},exports.flushPassiveEffects=Qg,exports.flushSync=bh,exports.focusWithin=function(a,b){if(!bb)throw Error(q(363));for(b=lg(a=ig(a),b),b=Array.from(b),a=0;a<b.length;){var c=b[a++];if(!fb(c)){if(5===c.tag&&hb(c.stateNode))return!0;for(c=c.child;null!==c;)b.push(c),c=c.sibling}}return!1},exports.getCurrentUpdateLanePriority=function(){return hc},exports.getFindAllNodesFailureDescription=function(a,b){if(!bb)throw Error(q(363));var c=0,d=[];a=[ig(a),0];for(var e=0;e<a.length;){var f=a[e++],g=a[e++],h=b[g];if((5!==f.tag||!fb(f))&&(jg(f,h)&&(d.push(kg(h)),++g>c&&(c=g)),g<b.length))for(f=f.child;null!==f;)a.push(f,g),f=f.sibling}if(c<b.length){for(a=[];c<b.length;c++)a.push(kg(b[c]));return"findAllNodes was able to match part of the selector:\n  "+d.join(" > ")+"\n\nNo matching component was found for:\n  "+a.join(" > ")}return null},exports.getPublicRootInstance=function(a){if(!(a=a.current).child)return null;switch(a.child.tag){case 5:return Da(a.child.stateNode);default:return a.child.stateNode}},exports.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ca.ReactCurrentDispatcher,findHostInstanceByFiber:yh,findFiberByHostInstance:a.findFiberByHostInstance||zh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)a=!1;else{var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!b.isDisabled&&b.supportsFiber)try{ec=b.inject(a),fc=b}catch(c){}a=!0}return a},exports.observeVisibleRects=function(a,b,c,d){if(!bb)throw Error(q(363));a=mg(a,b);var e=ib(a,c,d).disconnect;return{disconnect:function(){e()}}},exports.registerMutableSourceForHydration=function(a,b){var c=b._getVersion;c=c(b._source),null==a.mutableSourceEagerHydrationData?a.mutableSourceEagerHydrationData=[b,c]:a.mutableSourceEagerHydrationData.push(b,c)},exports.runWithPriority=function(a,b){var c=hc;try{return hc=a,b()}finally{hc=c}},exports.shouldSuspend=function(){return!1},exports.unbatchedUpdates=function(a,b){var c=V;V&=-2,V|=8;try{return a(b)}finally{0===(V=c)&&(zg(),H())}},exports.updateContainer=function(a,b,c,d){var e=b.current,f=K(),g=td(e);a:if(c){b:{if(xa(c=c._reactInternals)!==c||1!==c.tag)throw Error(q(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(E(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(q(171))}if(1===c.tag){var k=c.type;if(E(k)){c=bc(c,k,h);break a}}c=h}else c=Xb;return null===b.context?b.context=c:b.pendingContext=c,(b=kd(f,g)).payload={element:a},null!==(d=void 0===d?null:d)&&(b.callback=d),md(e,b),ud(e,g,f),g},exports}}).call(this,__webpack_require__(19)(module))},function(module,exports,__webpack_require__){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}module.exports=function(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map((function(n){return test2[n]})).join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach((function(letter){test3[letter]=letter})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}()?Object.assign:function(target,source){for(var from,symbols,to=toObject(target),s=1;s<arguments.length;s++){for(var key in from=Object(arguments[s]))hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(505)},function(module,exports,__webpack_require__){"use strict";var f,g,h,k;if("object"==typeof performance&&"function"==typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var t=null,u=null,w=function(){if(null!==t)try{var a=exports.unstable_now();t(!0,a),t=null}catch(b){throw setTimeout(w,0),b}};f=function(a){null!==t?setTimeout(f,0,a):(t=a,setTimeout(w,0))},g=function(a,b){u=setTimeout(a,b)},h=function(){clearTimeout(u)},exports.unstable_shouldYield=function(){return!1},k=exports.unstable_forceFrameRate=function(){}}else{var x=window.setTimeout,y=window.clearTimeout;if("undefined"!=typeof console){var z=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof z&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var A=!1,B=null,C=-1,D=5,E=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=E},k=function(){},exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<a?Math.floor(1e3/a):5};var F=new MessageChannel,G=F.port2;F.port1.onmessage=function(){if(null!==B){var a=exports.unstable_now();E=a+D;try{B(!0,a)?G.postMessage(null):(A=!1,B=null)}catch(b){throw G.postMessage(null),b}}else A=!1},f=function(a){B=a,A||(A=!0,G.postMessage(null))},g=function(a,b){C=x((function(){a(exports.unstable_now())}),b)},h=function(){y(C),C=-1}}function H(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(!(void 0!==e&&0<I(e,b)))break a;a[d]=b,a[c]=e,c=d}}function J(a){return void 0===(a=a[0])?null:a}function K(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>I(n,c))void 0!==r&&0>I(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else{if(!(void 0!==r&&0>I(r,c)))break a;a[d]=r,a[v]=c,d=v}}}return b}return null}function I(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var L=[],M=[],N=1,O=null,P=3,Q=!1,R=!1,S=!1;function T(a){for(var b=J(M);null!==b;){if(null===b.callback)K(M);else{if(!(b.startTime<=a))break;K(M),b.sortIndex=b.expirationTime,H(L,b)}b=J(M)}}function U(a){if(S=!1,T(a),!R)if(null!==J(L))R=!0,f(V);else{var b=J(M);null!==b&&g(U,b.startTime-a)}}function V(a,b){R=!1,S&&(S=!1,h()),Q=!0;var c=P;try{for(T(b),O=J(L);null!==O&&(!(O.expirationTime>b)||a&&!exports.unstable_shouldYield());){var d=O.callback;if("function"==typeof d){O.callback=null,P=O.priorityLevel;var e=d(O.expirationTime<=b);b=exports.unstable_now(),"function"==typeof e?O.callback=e:O===J(L)&&K(L),T(b)}else K(L);O=J(L)}if(null!==O)var m=!0;else{var n=J(M);null!==n&&g(U,n.startTime-b),m=!1}return m}finally{O=null,P=c,Q=!1}}var W=k;exports.unstable_IdlePriority=5,exports.unstable_ImmediatePriority=1,exports.unstable_LowPriority=4,exports.unstable_NormalPriority=3,exports.unstable_Profiling=null,exports.unstable_UserBlockingPriority=2,exports.unstable_cancelCallback=function(a){a.callback=null},exports.unstable_continueExecution=function(){R||Q||(R=!0,f(V))},exports.unstable_getCurrentPriorityLevel=function(){return P},exports.unstable_getFirstCallbackNode=function(){return J(L)},exports.unstable_next=function(a){switch(P){case 1:case 2:case 3:var b=3;break;default:b=P}var c=P;P=b;try{return a()}finally{P=c}},exports.unstable_pauseExecution=function(){},exports.unstable_requestPaint=W,exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=P;P=a;try{return b()}finally{P=c}},exports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();switch("object"==typeof c&&null!==c?c="number"==typeof(c=c.delay)&&0<c?d+c:d:c=d,a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1e4;break;default:e=5e3}return a={id:N++,callback:b,priorityLevel:a,startTime:c,expirationTime:e=c+e,sortIndex:-1},c>d?(a.sortIndex=c,H(M,a),null===J(L)&&a===J(M)&&(S?h():S=!0,g(U,c-d))):(a.sortIndex=e,H(L,a),R||Q||(R=!0,f(V))),a},exports.unstable_wrapCallback=function(a){var b=P;return function(){var c=P;P=b;try{return a.apply(this,arguments)}finally{P=c}}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.setupSendReportNotificationHandler=setupSendReportNotificationHandler,exports.setupLogEventHandler=setupLogEventHandler,exports.setupWorker=function(rpc){setupSendReportNotificationHandler(rpc),setupLogEventHandler(rpc),(0,_overwriteFetch.default)()};var _overwriteFetch=_interopRequireDefault(__webpack_require__(507)),_logEvent=(_interopRequireDefault(__webpack_require__(47)),__webpack_require__(508)),_sendNotification=__webpack_require__(80);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function setupSendReportNotificationHandler(rpc){(0,_sendNotification.setNotificationHandler)((message,details,type,severity)=>{details instanceof Error||"string"==typeof details||(console.warn("Invalid Error type"),details=JSON.stringify(details)||"<<unknown error>>"),rpc.send("sendNotification",{message:message,details:details instanceof Error?details.toString():details,type:type,severity:severity})})}function setupLogEventHandler(rpc){(0,_logEvent.initializeLogEvent)({logEventAction:(...params)=>{rpc.send("logEvent",{type:"logEventAction",params:params})},logEventPerformance:(...params)=>{rpc.send("logEvent",{type:"logEventPerformance",params:params})},logEventNavigation:(...params)=>{rpc.send("logEvent",{type:"logEventNavigation",params:params})},logEventError:(...params)=>{rpc.send("logEvent",{type:"logEventError",params:params})}})}},function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){const originalFetch=global.fetch;global.fetch=function(url,init){const replacementError=new TypeError(`Failed to fetch: url: ${url} This likely means there was a CORS issue, which can happen when the server is down.`);return originalFetch(url,init).catch(error=>{if("Failed to fetch"===error.message)throw replacementError;throw error})},global.fetch.original=originalFetch}}).call(this,__webpack_require__(8))},function(module,exports,__webpack_require__){"use strict";function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEventInfos=function(){if(null==eventInfos)throw new Error("Tried to get event names before they were set or tried to get event names in a web worker");return eventInfos},exports.getEventTags=function(){if(null==eventTags)throw new Error("Tried to get event tags before they were set or tried to get event tags in a web worker");return eventTags},exports.initializeLogEvent=function(initialLogEvent,initialEventInfos,initialEventTags){if(logEventImpl||isLogEventDisabled)throw new Error("logEvent has already been set or disabled, it can only be set once");logEventImpl=initialLogEvent,initialEventInfos&&(eventInfos=initialEventInfos);initialEventTags&&(eventTags=initialEventTags)},exports.disableLogEvent=function(){if(logEventImpl||isLogEventDisabled)throw new Error("logEvent has already been set or disabled, it can only be set once");isLogEventDisabled=!0,eventInfos={},eventTags={}},exports.logEventAction=function(uniqueActionInfo,logData){if(isLogEventDisabled)return;if(!logEventImpl)throw new Error("logEventAction has been called but it has not yet been initialized");logEventImpl.logEventAction(uniqueActionInfo,getPath(),{},getQuery(),_objectSpread({},logData,DEFAULT_TAGS))},exports.logEventError=function(uniqueErrorInfo,logData){if(isLogEventDisabled)return;if(!logEventImpl)throw new Error("logEventError has been called but it has not yet been initialized");logEventImpl.logEventError(uniqueErrorInfo,getPath(),{},getQuery(),_objectSpread({},logData,DEFAULT_TAGS))},exports.logEventPerformance=function(uniquePerformanceInfo,eventDurationMs,logData){if(isLogEventDisabled)return;if(!logEventImpl)throw new Error("logEventPerformance has been called but it has not yet been initialized");logEventImpl.logEventPerformance(uniquePerformanceInfo,eventDurationMs,getPath(),{},getQuery(),_objectSpread({},logData,DEFAULT_TAGS))},exports.logEventNavigation=function(eventName,previousPath,previousPathParams,previousQuery,logData){if(isLogEventDisabled)return;if(!logEventImpl)throw new Error("logEventNavigation has been called but it has not yet been initialized");logEventImpl.logEventNavigation(getPath(),{},getQuery(),previousPath,previousPathParams,previousQuery,_objectSpread({},logData,DEFAULT_TAGS))},exports.logEventForRpc=function(type,args){if(isLogEventDisabled)return;if(!logEventImpl)throw new Error("logEventNavigation has been called but it has not yet been initialized");logEventImpl[type](...args)},exports.resetLogEventForTests=function(){logEventImpl=void 0,eventInfos={},eventTags={},isLogEventDisabled=!1},exports.eventCategories=exports.DEFAULT_TAGS=void 0;const DEFAULT_TAGS=Object.freeze({node_env:"production",git_sha:void 0!=={hash:"1cd4457e",dirty:!0}?"1cd4457e":"unknown"});exports.DEFAULT_TAGS=DEFAULT_TAGS;let eventInfos,eventTags,logEventImpl;exports.eventCategories={CLICK:"Click",SUBMIT:"Submit",PAGE:"Page",ERROR:"Error",USAGE:"Usage",TIMING:"Timing"};let isLogEventDisabled=!1;function getPath(){return location.pathname}function getQuery(){return location.search}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _PoseMarkers=_interopRequireDefault(__webpack_require__(143)),_utils=__webpack_require__(144),_LaserScanVert=_interopRequireDefault(__webpack_require__(510)),_globalConstants=__webpack_require__(13);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={getSelectionState:()=>{},getTopicsToRender:()=>new Set,consumeBobject:(topic,datatype,msg,consumeMethods,{errors:errors})=>{datatype!==_globalConstants.TF2_MSGS$TF_MESSAGE&&errors.topicsWithError.set(topic,"Unrecognized topic datatype for scene: "+datatype)},addMarkerToCollector:()=>!1,getSyntheticArrowMarkerColor:()=>({r:0,g:0,b:1,a:.5}),getFlattenedPose:()=>{},getOccupancyGridValues:_topic=>[.5,"map"],getMarkerColor:(topic,markerColor)=>markerColor,skipTransformFrame:null,MapComponent:null,renderAdditionalMarkers:()=>{},LaserScanVert:_LaserScanVert.default,getMapPalette:()=>_utils.defaultMapPalette,useWorldspacePointSize:!0,sphericalRangeScale:1,allSupportedMarkers:["arrow","cube","cubeList","cylinder","filledPolygon","grid","instancedLineList","laserScan","linedConvexHull","lineList","lineStrip","overlayIcon","radarPointCluster","pointcloud","points","poseMarker","sphere","sphereList","text","triangleList"],PoseMarkers:_PoseMarkers.default,rootTransformFrame:"map",getStaticallyAvailableNamespacesByTopic:()=>({})};exports.default=_default},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;exports.default="\n  precision mediump float;\n\n  uniform mat4 projection, view;\n\n  #WITH_POSE\n\n  uniform float pointSize;\n  uniform float angle_min;\n  uniform float angle_increment;\n  uniform float range_min;\n  uniform float range_max;\n  uniform bool isHitmap;\n  uniform vec4 color;\n\n  attribute float index;\n  attribute float range;\n  attribute float intensity;\n  attribute vec4 hitmapColor;\n\n  varying vec4 vColor;\n\n  void main () {\n    float angle = angle_min + index * angle_increment;\n    vec3 p = applyPose(vec3(range * cos(angle), range * sin(angle), 0));\n\n    gl_Position = projection * view * vec4(p, 1);\n    gl_PointSize = pointSize;\n\n    if (range < range_min || range > range_max || intensity == 0.0) {\n      gl_PointSize = 0.;\n    }\n    vColor = isHitmap ? hitmapColor : color;\n  }\n"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Severity",(function(){return severity.a})),__webpack_require__.d(__webpack_exports__,"Status",(function(){return esm_status.a})),__webpack_require__.d(__webpack_exports__,"addGlobalEventProcessor",(function(){return esm_scope.b})),__webpack_require__.d(__webpack_exports__,"addBreadcrumb",(function(){return addBreadcrumb})),__webpack_require__.d(__webpack_exports__,"captureException",(function(){return captureException})),__webpack_require__.d(__webpack_exports__,"captureEvent",(function(){return captureEvent})),__webpack_require__.d(__webpack_exports__,"captureMessage",(function(){return captureMessage})),__webpack_require__.d(__webpack_exports__,"configureScope",(function(){return configureScope})),__webpack_require__.d(__webpack_exports__,"getHubFromCarrier",(function(){return esm_hub.c})),__webpack_require__.d(__webpack_exports__,"getCurrentHub",(function(){return esm_hub.b})),__webpack_require__.d(__webpack_exports__,"Hub",(function(){return esm_hub.a})),__webpack_require__.d(__webpack_exports__,"Scope",(function(){return esm_scope.a})),__webpack_require__.d(__webpack_exports__,"setContext",(function(){return setContext})),__webpack_require__.d(__webpack_exports__,"setExtra",(function(){return setExtra})),__webpack_require__.d(__webpack_exports__,"setExtras",(function(){return setExtras})),__webpack_require__.d(__webpack_exports__,"setTag",(function(){return setTag})),__webpack_require__.d(__webpack_exports__,"setTags",(function(){return setTags})),__webpack_require__.d(__webpack_exports__,"setUser",(function(){return setUser})),__webpack_require__.d(__webpack_exports__,"withScope",(function(){return withScope})),__webpack_require__.d(__webpack_exports__,"BrowserClient",(function(){return client_BrowserClient})),__webpack_require__.d(__webpack_exports__,"defaultIntegrations",(function(){return sdk_defaultIntegrations})),__webpack_require__.d(__webpack_exports__,"forceLoad",(function(){return forceLoad})),__webpack_require__.d(__webpack_exports__,"init",(function(){return init})),__webpack_require__.d(__webpack_exports__,"lastEventId",(function(){return lastEventId})),__webpack_require__.d(__webpack_exports__,"onLoad",(function(){return onLoad})),__webpack_require__.d(__webpack_exports__,"showReportDialog",(function(){return showReportDialog})),__webpack_require__.d(__webpack_exports__,"flush",(function(){return flush})),__webpack_require__.d(__webpack_exports__,"close",(function(){return sdk_close})),__webpack_require__.d(__webpack_exports__,"wrap",(function(){return sdk_wrap})),__webpack_require__.d(__webpack_exports__,"SDK_NAME",(function(){return SDK_NAME})),__webpack_require__.d(__webpack_exports__,"SDK_VERSION",(function(){return SDK_VERSION})),__webpack_require__.d(__webpack_exports__,"Integrations",(function(){return INTEGRATIONS})),__webpack_require__.d(__webpack_exports__,"Transports",(function(){return transports_namespaceObject}));var integrations_namespaceObject={};__webpack_require__.r(integrations_namespaceObject),__webpack_require__.d(integrations_namespaceObject,"FunctionToString",(function(){return FunctionToString})),__webpack_require__.d(integrations_namespaceObject,"InboundFilters",(function(){return inboundfilters_InboundFilters}));var esm_integrations_namespaceObject={};__webpack_require__.r(esm_integrations_namespaceObject),__webpack_require__.d(esm_integrations_namespaceObject,"GlobalHandlers",(function(){return globalhandlers_GlobalHandlers})),__webpack_require__.d(esm_integrations_namespaceObject,"TryCatch",(function(){return trycatch_TryCatch})),__webpack_require__.d(esm_integrations_namespaceObject,"Breadcrumbs",(function(){return breadcrumbs_Breadcrumbs})),__webpack_require__.d(esm_integrations_namespaceObject,"LinkedErrors",(function(){return linkederrors_LinkedErrors})),__webpack_require__.d(esm_integrations_namespaceObject,"UserAgent",(function(){return useragent_UserAgent}));var transports_namespaceObject={};__webpack_require__.r(transports_namespaceObject),__webpack_require__.d(transports_namespaceObject,"BaseTransport",(function(){return base_BaseTransport})),__webpack_require__.d(transports_namespaceObject,"FetchTransport",(function(){return fetch_FetchTransport})),__webpack_require__.d(transports_namespaceObject,"XHRTransport",(function(){return xhr_XHRTransport}));var tslib_es6=__webpack_require__(1),severity=__webpack_require__(128),esm_status=__webpack_require__(129),esm_scope=__webpack_require__(56),esm_hub=__webpack_require__(513);function callOnHub(method){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var hub=Object(esm_hub.b)();if(hub&&hub[method])return hub[method].apply(hub,tslib_es6.d(args));throw new Error("No hub defined or "+method+" was not found on the hub, please open a bug report.")}function captureException(exception){var syntheticException;try{throw new Error("Sentry syntheticException")}catch(exception){syntheticException=exception}return callOnHub("captureException",exception,{originalException:exception,syntheticException:syntheticException})}function captureMessage(message,level){var syntheticException;try{throw new Error(message)}catch(exception){syntheticException=exception}return callOnHub("captureMessage",message,level,{originalException:message,syntheticException:syntheticException})}function captureEvent(event){return callOnHub("captureEvent",event)}function configureScope(callback){callOnHub("configureScope",callback)}function addBreadcrumb(breadcrumb){callOnHub("addBreadcrumb",breadcrumb)}function setContext(name,context){callOnHub("setContext",name,context)}function setExtras(extras){callOnHub("setExtras",extras)}function setTags(tags){callOnHub("setTags",tags)}function setExtra(key,extra){callOnHub("setExtra",key,extra)}function setTag(key,value){callOnHub("setTag",key,value)}function setUser(user){callOnHub("setUser",user)}function withScope(callback){callOnHub("withScope",callback)}var setPrototypeOf=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(obj,proto){return obj.__proto__=proto,obj}:function(obj,proto){for(var prop in proto)obj.hasOwnProperty(prop)||(obj[prop]=proto[prop]);return obj});var error_SentryError=function(_super){function SentryError(message){var _newTarget=this.constructor,_this=_super.call(this,message)||this;return _this.message=message,_this.name=_newTarget.prototype.constructor.name,setPrototypeOf(_this,_newTarget.prototype),_this}return tslib_es6.b(SentryError,_super),SentryError}(Error),DSN_REGEX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,dsn_Dsn=function(){function Dsn(from){"string"==typeof from?this._fromString(from):this._fromComponents(from),this._validate()}return Dsn.prototype.toString=function(withPassword){void 0===withPassword&&(withPassword=!1);var _a=this,host=_a.host,path=_a.path,pass=_a.pass,port=_a.port,projectId=_a.projectId;return _a.protocol+"://"+_a.user+(withPassword&&pass?":"+pass:"")+"@"+host+(port?":"+port:"")+"/"+(path?path+"/":path)+projectId},Dsn.prototype._fromString=function(str){var match=DSN_REGEX.exec(str);if(!match)throw new error_SentryError("Invalid Dsn");var _a=tslib_es6.c(match.slice(1),6),protocol=_a[0],user=_a[1],_b=_a[2],pass=void 0===_b?"":_b,host=_a[3],_c=_a[4],port=void 0===_c?"":_c,path="",projectId=_a[5],split=projectId.split("/");split.length>1&&(path=split.slice(0,-1).join("/"),projectId=split.pop()),this._fromComponents({host:host,pass:pass,path:path,projectId:projectId,port:port,protocol:protocol,user:user})},Dsn.prototype._fromComponents=function(components){this.protocol=components.protocol,this.user=components.user,this.pass=components.pass||"",this.host=components.host,this.port=components.port||"",this.path=components.path||"",this.projectId=components.projectId},Dsn.prototype._validate=function(){var _this=this;if(["protocol","user","host","projectId"].forEach((function(component){if(!_this[component])throw new error_SentryError("Invalid Dsn")})),"http"!==this.protocol&&"https"!==this.protocol)throw new error_SentryError("Invalid Dsn");if(this.port&&isNaN(parseInt(this.port,10)))throw new error_SentryError("Invalid Dsn")},Dsn}(),object=__webpack_require__(4),misc=__webpack_require__(2),api_API=function(){function API(dsn){this.dsn=dsn,this._dsnObject=new dsn_Dsn(dsn)}return API.prototype.getDsn=function(){return this._dsnObject},API.prototype.getStoreEndpoint=function(){return""+this._getBaseUrl()+this.getStoreEndpointPath()},API.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var auth={sentry_key:this._dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+Object(object.e)(auth)},API.prototype._getBaseUrl=function(){var dsn=this._dsnObject,protocol=dsn.protocol?dsn.protocol+":":"",port=dsn.port?":"+dsn.port:"";return protocol+"//"+dsn.host+port},API.prototype.getStoreEndpointPath=function(){var dsn=this._dsnObject;return(dsn.path?"/"+dsn.path:"")+"/api/"+dsn.projectId+"/store/"},API.prototype.getRequestHeaders=function(clientName,clientVersion){var dsn=this._dsnObject,header=["Sentry sentry_version=7"];return header.push("sentry_timestamp="+Object(misc.m)()),header.push("sentry_client="+clientName+"/"+clientVersion),header.push("sentry_key="+dsn.user),dsn.pass&&header.push("sentry_secret="+dsn.pass),{"Content-Type":"application/json","X-Sentry-Auth":header.join(", ")}},API.prototype.getReportDialogEndpoint=function(dialogOptions){void 0===dialogOptions&&(dialogOptions={});var dsn=this._dsnObject,endpoint=this._getBaseUrl()+(dsn.path?"/"+dsn.path:"")+"/api/embed/error-page/",encodedOptions=[];for(var key in encodedOptions.push("dsn="+dsn.toString()),dialogOptions)if("user"===key){if(!dialogOptions.user)continue;dialogOptions.user.name&&encodedOptions.push("name="+encodeURIComponent(dialogOptions.user.name)),dialogOptions.user.email&&encodedOptions.push("email="+encodeURIComponent(dialogOptions.user.email))}else encodedOptions.push(encodeURIComponent(key)+"="+encodeURIComponent(dialogOptions[key]));return encodedOptions.length?endpoint+"?"+encodedOptions.join("&"):endpoint},API}(),logger=__webpack_require__(20),is=__webpack_require__(5),syncpromise=__webpack_require__(34),string=__webpack_require__(98),installedIntegrations=[];function setupIntegrations(options){var integrations={};return function(options){var defaultIntegrations=options.defaultIntegrations&&tslib_es6.d(options.defaultIntegrations)||[],userIntegrations=options.integrations,integrations=[];if(Array.isArray(userIntegrations)){var userIntegrationsNames_1=userIntegrations.map((function(i){return i.name})),pickedIntegrationsNames_1=[];defaultIntegrations.forEach((function(defaultIntegration){-1===userIntegrationsNames_1.indexOf(defaultIntegration.name)&&-1===pickedIntegrationsNames_1.indexOf(defaultIntegration.name)&&(integrations.push(defaultIntegration),pickedIntegrationsNames_1.push(defaultIntegration.name))})),userIntegrations.forEach((function(userIntegration){-1===pickedIntegrationsNames_1.indexOf(userIntegration.name)&&(integrations.push(userIntegration),pickedIntegrationsNames_1.push(userIntegration.name))}))}else"function"==typeof userIntegrations?(integrations=userIntegrations(defaultIntegrations),integrations=Array.isArray(integrations)?integrations:[integrations]):integrations=tslib_es6.d(defaultIntegrations);var integrationsNames=integrations.map((function(i){return i.name}));return-1!==integrationsNames.indexOf("Debug")&&integrations.push.apply(integrations,tslib_es6.d(integrations.splice(integrationsNames.indexOf("Debug"),1))),integrations}(options).forEach((function(integration){integrations[integration.name]=integration,function(integration){-1===installedIntegrations.indexOf(integration.name)&&(integration.setupOnce(esm_scope.b,esm_hub.b),installedIntegrations.push(integration.name),logger.a.log("Integration installed: "+integration.name))}(integration)})),integrations}var baseclient_BaseClient=function(){function BaseClient(backendClass,options){this._integrations={},this._processing=!1,this._backend=new backendClass(options),this._options=options,options.dsn&&(this._dsn=new dsn_Dsn(options.dsn)),this._isEnabled()&&(this._integrations=setupIntegrations(this._options))}return BaseClient.prototype.captureException=function(exception,hint,scope){var _this=this,eventId=hint&&hint.event_id;return this._processing=!0,this._getBackend().eventFromException(exception,hint).then((function(event){return _this._processEvent(event,hint,scope)})).then((function(finalEvent){eventId=finalEvent&&finalEvent.event_id,_this._processing=!1})).then(null,(function(reason){logger.a.error(reason),_this._processing=!1})),eventId},BaseClient.prototype.captureMessage=function(message,level,hint,scope){var _this=this,eventId=hint&&hint.event_id;return this._processing=!0,(Object(is.i)(message)?this._getBackend().eventFromMessage(""+message,level,hint):this._getBackend().eventFromException(message,hint)).then((function(event){return _this._processEvent(event,hint,scope)})).then((function(finalEvent){eventId=finalEvent&&finalEvent.event_id,_this._processing=!1})).then(null,(function(reason){logger.a.error(reason),_this._processing=!1})),eventId},BaseClient.prototype.captureEvent=function(event,hint,scope){var _this=this,eventId=hint&&hint.event_id;return this._processing=!0,this._processEvent(event,hint,scope).then((function(finalEvent){eventId=finalEvent&&finalEvent.event_id,_this._processing=!1})).then(null,(function(reason){logger.a.error(reason),_this._processing=!1})),eventId},BaseClient.prototype.getDsn=function(){return this._dsn},BaseClient.prototype.getOptions=function(){return this._options},BaseClient.prototype.flush=function(timeout){var _this=this;return this._isClientProcessing(timeout).then((function(status){return clearInterval(status.interval),_this._getBackend().getTransport().close(timeout).then((function(transportFlushed){return status.ready&&transportFlushed}))}))},BaseClient.prototype.close=function(timeout){var _this=this;return this.flush(timeout).then((function(result){return _this.getOptions().enabled=!1,result}))},BaseClient.prototype.getIntegrations=function(){return this._integrations||{}},BaseClient.prototype.getIntegration=function(integration){try{return this._integrations[integration.id]||null}catch(_oO){return logger.a.warn("Cannot retrieve integration "+integration.id+" from the current Client"),null}},BaseClient.prototype._isClientProcessing=function(timeout){var _this=this;return new syncpromise.a((function(resolve){var ticked=0,interval=0;clearInterval(interval),interval=setInterval((function(){_this._processing?(ticked+=1,timeout&&ticked>=timeout&&resolve({interval:interval,ready:!1})):resolve({interval:interval,ready:!0})}),1)}))},BaseClient.prototype._getBackend=function(){return this._backend},BaseClient.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},BaseClient.prototype._prepareEvent=function(event,scope,hint){var _a=this.getOptions(),environment=_a.environment,release=_a.release,dist=_a.dist,_b=_a.maxValueLength,maxValueLength=void 0===_b?250:_b,prepared=tslib_es6.a({},event);void 0===prepared.environment&&void 0!==environment&&(prepared.environment=environment),void 0===prepared.release&&void 0!==release&&(prepared.release=release),void 0===prepared.dist&&void 0!==dist&&(prepared.dist=dist),prepared.message&&(prepared.message=Object(string.c)(prepared.message,maxValueLength));var exception=prepared.exception&&prepared.exception.values&&prepared.exception.values[0];exception&&exception.value&&(exception.value=Object(string.c)(exception.value,maxValueLength));var request=prepared.request;request&&request.url&&(request.url=Object(string.c)(request.url,maxValueLength)),void 0===prepared.event_id&&(prepared.event_id=Object(misc.n)()),this._addIntegrations(prepared.sdk);var result=syncpromise.a.resolve(prepared);return scope&&(result=scope.applyToEvent(prepared,hint)),result},BaseClient.prototype._addIntegrations=function(sdkInfo){var integrationsArray=Object.keys(this._integrations);sdkInfo&&integrationsArray.length>0&&(sdkInfo.integrations=integrationsArray)},BaseClient.prototype._processEvent=function(event,hint,scope){var _this=this,_a=this.getOptions(),beforeSend=_a.beforeSend,sampleRate=_a.sampleRate;return this._isEnabled()?"number"==typeof sampleRate&&Math.random()>sampleRate?syncpromise.a.reject("This event has been sampled, will not send event."):new syncpromise.a((function(resolve,reject){_this._prepareEvent(event,scope,hint).then((function(prepared){if(null!==prepared){var finalEvent=prepared;try{if(hint&&hint.data&&!0===hint.data.__sentry__||!beforeSend)return _this._getBackend().sendEvent(finalEvent),void resolve(finalEvent);var beforeSendResult=beforeSend(prepared,hint);if(void 0===beforeSendResult)logger.a.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(is.m)(beforeSendResult))_this._handleAsyncBeforeSend(beforeSendResult,resolve,reject);else{if(null===(finalEvent=beforeSendResult))return logger.a.log("`beforeSend` returned `null`, will not send event."),void resolve(null);_this._getBackend().sendEvent(finalEvent),resolve(finalEvent)}}catch(exception){_this.captureException(exception,{data:{__sentry__:!0},originalException:exception}),reject("`beforeSend` threw an error, will not send event.")}}else reject("An event processor returned null, will not send event.")})).then(null,(function(){reject("`beforeSend` threw an error, will not send event.")}))})):syncpromise.a.reject("SDK not enabled, will not send event.")},BaseClient.prototype._handleAsyncBeforeSend=function(beforeSend,resolve,reject){var _this=this;beforeSend.then((function(processedEvent){null!==processedEvent?(_this._getBackend().sendEvent(processedEvent),resolve(processedEvent)):reject("`beforeSend` returned `null`, will not send event.")})).then(null,(function(e){reject("beforeSend rejected with "+e)}))},BaseClient}(),noop_NoopTransport=function(){function NoopTransport(){}return NoopTransport.prototype.sendEvent=function(_){return syncpromise.a.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:esm_status.a.Skipped})},NoopTransport.prototype.close=function(_){return syncpromise.a.resolve(!0)},NoopTransport}(),basebackend_BaseBackend=function(){function BaseBackend(options){this._options=options,this._options.dsn||logger.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return BaseBackend.prototype._setupTransport=function(){return new noop_NoopTransport},BaseBackend.prototype.eventFromException=function(_exception,_hint){throw new error_SentryError("Backend has to implement `eventFromException` method")},BaseBackend.prototype.eventFromMessage=function(_message,_level,_hint){throw new error_SentryError("Backend has to implement `eventFromMessage` method")},BaseBackend.prototype.sendEvent=function(event){this._transport.sendEvent(event).then(null,(function(reason){logger.a.error("Error while sending event: "+reason)}))},BaseBackend.prototype.getTransport=function(){return this._transport},BaseBackend}();function supportsFetch(){if(!("fetch"in Object(misc.g)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function isNativeFetch(func){return func&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(func.toString())}function supportsReferrerPolicy(){if(!supportsFetch())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}var tracekit_chrome=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[-a-z]+:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,gecko=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,winjs=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,geckoEval=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,chromeEval=/\((\S*)(?::(\d+))(?::(\d+))\)/;function computeStackTrace(ex){var stack=null,popSize=ex&&ex.framesToPop;try{if(stack=function(ex){if(!ex||!ex.stacktrace)return null;for(var parts,stacktrace=ex.stacktrace,opera10Regex=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,opera11Regex=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,lines=stacktrace.split("\n"),stack=[],line=0;line<lines.length;line+=2){var element=null;(parts=opera10Regex.exec(lines[line]))?element={url:parts[2],func:parts[3],args:[],line:+parts[1],column:null}:(parts=opera11Regex.exec(lines[line]))&&(element={url:parts[6],func:parts[3]||parts[4],args:parts[5]?parts[5].split(","):[],line:+parts[1],column:+parts[2]}),element&&(!element.func&&element.line&&(element.func="?"),stack.push(element))}if(!stack.length)return null;return{message:extractMessage(ex),name:ex.name,stack:stack}}(ex))return popFrames(stack,popSize)}catch(e){}try{if(stack=function(ex){if(!ex||!ex.stack)return null;for(var submatch,parts,element,stack=[],lines=ex.stack.split("\n"),i=0;i<lines.length;++i){if(parts=tracekit_chrome.exec(lines[i])){var isNative=parts[2]&&0===parts[2].indexOf("native");parts[2]&&0===parts[2].indexOf("eval")&&(submatch=chromeEval.exec(parts[2]))&&(parts[2]=submatch[1],parts[3]=submatch[2],parts[4]=submatch[3]),element={url:parts[2],func:parts[1]||"?",args:isNative?[parts[2]]:[],line:parts[3]?+parts[3]:null,column:parts[4]?+parts[4]:null}}else if(parts=winjs.exec(lines[i]))element={url:parts[2],func:parts[1]||"?",args:[],line:+parts[3],column:parts[4]?+parts[4]:null};else{if(!(parts=gecko.exec(lines[i])))continue;parts[3]&&parts[3].indexOf(" > eval")>-1&&(submatch=geckoEval.exec(parts[3]))?(parts[1]=parts[1]||"eval",parts[3]=submatch[1],parts[4]=submatch[2],parts[5]=""):0!==i||parts[5]||void 0===ex.columnNumber||(stack[0].column=ex.columnNumber+1),element={url:parts[3],func:parts[1]||"?",args:parts[2]?parts[2].split(","):[],line:parts[4]?+parts[4]:null,column:parts[5]?+parts[5]:null}}!element.func&&element.line&&(element.func="?"),stack.push(element)}if(!stack.length)return null;return{message:extractMessage(ex),name:ex.name,stack:stack}}(ex))return popFrames(stack,popSize)}catch(e){}return{message:extractMessage(ex),name:ex&&ex.name,stack:[],failed:!0}}function popFrames(stacktrace,popSize){try{return tslib_es6.a({},stacktrace,{stack:stacktrace.stack.slice(popSize)})}catch(e){return stacktrace}}function extractMessage(ex){var message=ex&&ex.message;return message?message.error&&"string"==typeof message.error.message?message.error.message:message:"No error message"}function exceptionFromStacktrace(stacktrace){var frames=prepareFramesForEvent(stacktrace.stack),exception={type:stacktrace.name,value:stacktrace.message};return frames&&frames.length&&(exception.stacktrace={frames:frames}),void 0===exception.type&&""===exception.value&&(exception.value="Unrecoverable error caught"),exception}function eventFromStacktrace(stacktrace){return{exception:{values:[exceptionFromStacktrace(stacktrace)]}}}function prepareFramesForEvent(stack){if(!stack||!stack.length)return[];var localStack=stack,firstFrameFunction=localStack[0].func||"",lastFrameFunction=localStack[localStack.length-1].func||"";return-1===firstFrameFunction.indexOf("captureMessage")&&-1===firstFrameFunction.indexOf("captureException")||(localStack=localStack.slice(1)),-1!==lastFrameFunction.indexOf("sentryWrapped")&&(localStack=localStack.slice(0,-1)),localStack.map((function(frame){return{colno:null===frame.column?void 0:frame.column,filename:frame.url||localStack[0].url,function:frame.func||"?",in_app:!0,lineno:null===frame.line?void 0:frame.line}})).slice(0,50).reverse()}function eventFromUnknownInput(exception,syntheticException,options){var event;if(void 0===options&&(options={}),Object(is.e)(exception)&&exception.error)return event=eventFromStacktrace(computeStackTrace(exception=exception.error));if(Object(is.a)(exception)||Object(is.b)(exception)){var domException=exception,name_1=domException.name||(Object(is.a)(domException)?"DOMError":"DOMException"),message=domException.message?name_1+": "+domException.message:name_1;return event=eventFromString(message,syntheticException,options),Object(misc.b)(event,message),event}return Object(is.d)(exception)?event=eventFromStacktrace(computeStackTrace(exception)):Object(is.h)(exception)||Object(is.f)(exception)?(event=function(exception,syntheticException,rejection){var event={exception:{values:[{type:Object(is.f)(exception)?exception.constructor.name:rejection?"UnhandledRejection":"Error",value:"Non-Error "+(rejection?"promise rejection":"exception")+" captured with keys: "+Object(object.a)(exception)}]},extra:{__serialized__:Object(object.d)(exception)}};if(syntheticException){var frames_1=prepareFramesForEvent(computeStackTrace(syntheticException).stack);event.stacktrace={frames:frames_1}}return event}(exception,syntheticException,options.rejection),Object(misc.a)(event,{synthetic:!0}),event):(event=eventFromString(exception,syntheticException,options),Object(misc.b)(event,""+exception,void 0),Object(misc.a)(event,{synthetic:!0}),event)}function eventFromString(input,syntheticException,options){void 0===options&&(options={});var event={message:input};if(options.attachStacktrace&&syntheticException){var frames_1=prepareFramesForEvent(computeStackTrace(syntheticException).stack);event.stacktrace={frames:frames_1}}return event}var originalFunctionToString,promisebuffer_PromiseBuffer=function(){function PromiseBuffer(_limit){this._limit=_limit,this._buffer=[]}return PromiseBuffer.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},PromiseBuffer.prototype.add=function(task){var _this=this;return this.isReady()?(-1===this._buffer.indexOf(task)&&this._buffer.push(task),task.then((function(){return _this.remove(task)})).then(null,(function(){return _this.remove(task).then(null,(function(){}))})),task):syncpromise.a.reject(new error_SentryError("Not adding Promise due to buffer limit reached."))},PromiseBuffer.prototype.remove=function(task){return this._buffer.splice(this._buffer.indexOf(task),1)[0]},PromiseBuffer.prototype.length=function(){return this._buffer.length},PromiseBuffer.prototype.drain=function(timeout){var _this=this;return new syncpromise.a((function(resolve){var capturedSetTimeout=setTimeout((function(){timeout&&timeout>0&&resolve(!1)}),timeout);syncpromise.a.all(_this._buffer).then((function(){clearTimeout(capturedSetTimeout),resolve(!0)})).then(null,(function(){resolve(!0)}))}))},PromiseBuffer}(),base_BaseTransport=function(){function BaseTransport(options){this.options=options,this._buffer=new promisebuffer_PromiseBuffer(30),this.url=new api_API(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}return BaseTransport.prototype.sendEvent=function(_){throw new error_SentryError("Transport Class has to implement `sendEvent` method")},BaseTransport.prototype.close=function(timeout){return this._buffer.drain(timeout)},BaseTransport}(),fetch_global=Object(misc.g)(),fetch_FetchTransport=function(_super){function FetchTransport(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._disabledUntil=new Date(Date.now()),_this}return tslib_es6.b(FetchTransport,_super),FetchTransport.prototype.sendEvent=function(event){var _this=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:event,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var defaultOptions={body:JSON.stringify(event),method:"POST",referrerPolicy:supportsReferrerPolicy()?"origin":""};return void 0!==this.options.headers&&(defaultOptions.headers=this.options.headers),this._buffer.add(new syncpromise.a((function(resolve,reject){fetch_global.fetch(_this.url,defaultOptions).then((function(response){var status=esm_status.a.fromHttpCode(response.status);if(status!==esm_status.a.Success){if(status===esm_status.a.RateLimit){var now=Date.now();_this._disabledUntil=new Date(now+Object(misc.k)(now,response.headers.get("Retry-After"))),logger.a.warn("Too many requests, backing off till: "+_this._disabledUntil)}reject(response)}else resolve({status:status})})).catch(reject)})))},FetchTransport}(base_BaseTransport),xhr_XHRTransport=function(_super){function XHRTransport(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._disabledUntil=new Date(Date.now()),_this}return tslib_es6.b(XHRTransport,_super),XHRTransport.prototype.sendEvent=function(event){var _this=this;return new Date(Date.now())<this._disabledUntil?Promise.reject({event:event,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429}):this._buffer.add(new syncpromise.a((function(resolve,reject){var request=new XMLHttpRequest;for(var header in request.onreadystatechange=function(){if(4===request.readyState){var status=esm_status.a.fromHttpCode(request.status);if(status!==esm_status.a.Success){if(status===esm_status.a.RateLimit){var now=Date.now();_this._disabledUntil=new Date(now+Object(misc.k)(now,request.getResponseHeader("Retry-After"))),logger.a.warn("Too many requests, backing off till: "+_this._disabledUntil)}reject(request)}else resolve({status:status})}},request.open("POST",_this.url),_this.options.headers)_this.options.headers.hasOwnProperty(header)&&request.setRequestHeader(header,_this.options.headers[header]);request.send(JSON.stringify(event))})))},XHRTransport}(base_BaseTransport),backend_BrowserBackend=function(_super){function BrowserBackend(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_es6.b(BrowserBackend,_super),BrowserBackend.prototype._setupTransport=function(){if(!this._options.dsn)return _super.prototype._setupTransport.call(this);var transportOptions=tslib_es6.a({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(transportOptions):supportsFetch()?new fetch_FetchTransport(transportOptions):new xhr_XHRTransport(transportOptions)},BrowserBackend.prototype.eventFromException=function(exception,hint){var event=eventFromUnknownInput(exception,hint&&hint.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return Object(misc.a)(event,{handled:!0,type:"generic"}),event.level=severity.a.Error,hint&&hint.event_id&&(event.event_id=hint.event_id),syncpromise.a.resolve(event)},BrowserBackend.prototype.eventFromMessage=function(message,level,hint){void 0===level&&(level=severity.a.Info);var event=eventFromString(message,hint&&hint.syntheticException||void 0,{attachStacktrace:this._options.attachStacktrace});return event.level=level,hint&&hint.event_id&&(event.event_id=hint.event_id),syncpromise.a.resolve(event)},BrowserBackend}(basebackend_BaseBackend),SDK_NAME="sentry.javascript.browser",SDK_VERSION="5.11.0",client_BrowserClient=function(_super){function BrowserClient(options){return void 0===options&&(options={}),_super.call(this,backend_BrowserBackend,options)||this}return tslib_es6.b(BrowserClient,_super),BrowserClient.prototype._prepareEvent=function(event,scope,hint){return event.platform=event.platform||"javascript",event.sdk=tslib_es6.a({},event.sdk,{name:SDK_NAME,packages:tslib_es6.d(event.sdk&&event.sdk.packages||[],[{name:"npm:@sentry/browser",version:SDK_VERSION}]),version:SDK_VERSION}),_super.prototype._prepareEvent.call(this,event,scope,hint)},BrowserClient.prototype.showReportDialog=function(options){void 0===options&&(options={});var document=Object(misc.g)().document;if(document)if(this._isEnabled()){var dsn=options.dsn||this.getDsn();if(options.eventId)if(dsn){var script=document.createElement("script");script.async=!0,script.src=new api_API(dsn).getReportDialogEndpoint(options),options.onLoad&&(script.onload=options.onLoad),(document.head||document.body).appendChild(script)}else logger.a.error("Missing `Dsn` option in showReportDialog call");else logger.a.error("Missing `eventId` option in showReportDialog call")}else logger.a.error("Trying to call showReportDialog with Sentry Client is disabled")},BrowserClient}(baseclient_BaseClient),FunctionToString=function(){function FunctionToString(){this.name=FunctionToString.id}return FunctionToString.prototype.setupOnce=function(){originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var context=this.__sentry_original__||this;return originalFunctionToString.apply(context,args)}},FunctionToString.id="FunctionToString",FunctionToString}(),DEFAULT_IGNORE_ERRORS=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],inboundfilters_InboundFilters=function(){function InboundFilters(_options){void 0===_options&&(_options={}),this._options=_options,this.name=InboundFilters.id}return InboundFilters.prototype.setupOnce=function(){Object(esm_scope.b)((function(event){var hub=Object(esm_hub.b)();if(!hub)return event;var self=hub.getIntegration(InboundFilters);if(self){var client=hub.getClient(),clientOptions=client?client.getOptions():{},options=self._mergeOptions(clientOptions);if(self._shouldDropEvent(event,options))return null}return event}))},InboundFilters.prototype._shouldDropEvent=function(event,options){return this._isSentryError(event,options)?(logger.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(misc.e)(event)),!0):this._isIgnoredError(event,options)?(logger.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(misc.e)(event)),!0):this._isBlacklistedUrl(event,options)?(logger.a.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+Object(misc.e)(event)+".\nUrl: "+this._getEventFilterUrl(event)),!0):!this._isWhitelistedUrl(event,options)&&(logger.a.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+Object(misc.e)(event)+".\nUrl: "+this._getEventFilterUrl(event)),!0)},InboundFilters.prototype._isSentryError=function(event,options){if(void 0===options&&(options={}),!options.ignoreInternal)return!1;try{return event&&event.exception&&event.exception.values&&event.exception.values[0]&&"SentryError"===event.exception.values[0].type||!1}catch(_oO){return!1}},InboundFilters.prototype._isIgnoredError=function(event,options){return void 0===options&&(options={}),!(!options.ignoreErrors||!options.ignoreErrors.length)&&this._getPossibleEventMessages(event).some((function(message){return options.ignoreErrors.some((function(pattern){return Object(string.a)(message,pattern)}))}))},InboundFilters.prototype._isBlacklistedUrl=function(event,options){if(void 0===options&&(options={}),!options.blacklistUrls||!options.blacklistUrls.length)return!1;var url=this._getEventFilterUrl(event);return!!url&&options.blacklistUrls.some((function(pattern){return Object(string.a)(url,pattern)}))},InboundFilters.prototype._isWhitelistedUrl=function(event,options){if(void 0===options&&(options={}),!options.whitelistUrls||!options.whitelistUrls.length)return!0;var url=this._getEventFilterUrl(event);return!url||options.whitelistUrls.some((function(pattern){return Object(string.a)(url,pattern)}))},InboundFilters.prototype._mergeOptions=function(clientOptions){return void 0===clientOptions&&(clientOptions={}),{blacklistUrls:tslib_es6.d(this._options.blacklistUrls||[],clientOptions.blacklistUrls||[]),ignoreErrors:tslib_es6.d(this._options.ignoreErrors||[],clientOptions.ignoreErrors||[],DEFAULT_IGNORE_ERRORS),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:tslib_es6.d(this._options.whitelistUrls||[],clientOptions.whitelistUrls||[])}},InboundFilters.prototype._getPossibleEventMessages=function(event){if(event.message)return[event.message];if(event.exception)try{var _a=event.exception.values&&event.exception.values[0]||{},_b=_a.type,type=void 0===_b?"":_b,_c=_a.value,value=void 0===_c?"":_c;return[""+value,type+": "+value]}catch(oO){return logger.a.error("Cannot extract message for event "+Object(misc.e)(event)),[]}return[]},InboundFilters.prototype._getEventFilterUrl=function(event){try{if(event.stacktrace){var frames_1=event.stacktrace.frames;return frames_1&&frames_1[frames_1.length-1].filename||null}if(event.exception){var frames_2=event.exception.values&&event.exception.values[0].stacktrace&&event.exception.values[0].stacktrace.frames;return frames_2&&frames_2[frames_2.length-1].filename||null}return null}catch(oO){return logger.a.error("Cannot extract url for event "+Object(misc.e)(event)),null}},InboundFilters.id="InboundFilters",InboundFilters}();var ignoreOnError=0;function shouldIgnoreOnError(){return ignoreOnError>0}function ignoreNextOnError(){ignoreOnError+=1,setTimeout((function(){ignoreOnError-=1}))}function wrap(fn,options,before){if(void 0===options&&(options={}),"function"!=typeof fn)return fn;try{if(fn.__sentry__)return fn;if(fn.__sentry_wrapped__)return fn.__sentry_wrapped__}catch(e){return fn}var sentryWrapped=function(){var args=Array.prototype.slice.call(arguments);try{before&&"function"==typeof before&&before.apply(this,arguments);var wrappedArguments=args.map((function(arg){return wrap(arg,options)}));return fn.handleEvent?fn.handleEvent.apply(this,wrappedArguments):fn.apply(this,wrappedArguments)}catch(ex){throw ignoreNextOnError(),withScope((function(scope){scope.addEventProcessor((function(event){var processedEvent=tslib_es6.a({},event);return options.mechanism&&(Object(misc.b)(processedEvent,void 0,void 0),Object(misc.a)(processedEvent,options.mechanism)),processedEvent.extra=tslib_es6.a({},processedEvent.extra,{arguments:Object(object.c)(args,3)}),processedEvent})),captureException(ex)})),ex}};try{for(var property in fn)Object.prototype.hasOwnProperty.call(fn,property)&&(sentryWrapped[property]=fn[property])}catch(_oO){}fn.prototype=fn.prototype||{},sentryWrapped.prototype=fn.prototype,Object.defineProperty(fn,"__sentry_wrapped__",{enumerable:!1,value:sentryWrapped}),Object.defineProperties(sentryWrapped,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:fn}});try{Object.getOwnPropertyDescriptor(sentryWrapped,"name").configurable&&Object.defineProperty(sentryWrapped,"name",{get:function(){return fn.name}})}catch(_oO){}return sentryWrapped}var lastHref,trycatch_TryCatch=function(){function TryCatch(){this._ignoreOnError=0,this.name=TryCatch.id}return TryCatch.prototype._wrapTimeFunction=function(original){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var originalCallback=args[0];return args[0]=wrap(originalCallback,{mechanism:{data:{function:Object(misc.f)(original)},handled:!0,type:"instrument"}}),original.apply(this,args)}},TryCatch.prototype._wrapRAF=function(original){return function(callback){return original(wrap(callback,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(misc.f)(original)},handled:!0,type:"instrument"}}))}},TryCatch.prototype._wrapEventTarget=function(target){var global=Object(misc.g)(),proto=global[target]&&global[target].prototype;proto&&proto.hasOwnProperty&&proto.hasOwnProperty("addEventListener")&&(Object(object.b)(proto,"addEventListener",(function(original){return function(eventName,fn,options){try{"function"==typeof fn.handleEvent&&(fn.handleEvent=wrap(fn.handleEvent.bind(fn),{mechanism:{data:{function:"handleEvent",handler:Object(misc.f)(fn),target:target},handled:!0,type:"instrument"}}))}catch(err){}return original.call(this,eventName,wrap(fn,{mechanism:{data:{function:"addEventListener",handler:Object(misc.f)(fn),target:target},handled:!0,type:"instrument"}}),options)}})),Object(object.b)(proto,"removeEventListener",(function(original){return function(eventName,fn,options){var callback=fn;try{callback=callback&&(callback.__sentry_wrapped__||callback)}catch(e){}return original.call(this,eventName,callback,options)}})))},TryCatch.prototype._wrapXHR=function(originalSend){return function(){for(var _this=this,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var xhr=this,xmlHttpRequestProps=["onload","onerror","onprogress"];return xmlHttpRequestProps.forEach((function(prop){prop in _this&&"function"==typeof _this[prop]&&Object(object.b)(_this,prop,(function(original){return wrap(original,{mechanism:{data:{function:prop,handler:Object(misc.f)(original)},handled:!0,type:"instrument"}})}))})),"onreadystatechange"in xhr&&"function"==typeof xhr.onreadystatechange&&Object(object.b)(xhr,"onreadystatechange",(function(original){var wrapOptions={mechanism:{data:{function:"onreadystatechange",handler:Object(misc.f)(original)},handled:!0,type:"instrument"}};return original.__sentry_original__&&(wrapOptions.mechanism.data.handler=Object(misc.f)(original.__sentry_original__)),wrap(original,wrapOptions)})),originalSend.apply(this,args)}},TryCatch.prototype.setupOnce=function(){this._ignoreOnError=this._ignoreOnError;var global=Object(misc.g)();Object(object.b)(global,"setTimeout",this._wrapTimeFunction.bind(this)),Object(object.b)(global,"setInterval",this._wrapTimeFunction.bind(this)),Object(object.b)(global,"requestAnimationFrame",this._wrapRAF.bind(this)),"XMLHttpRequest"in global&&Object(object.b)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this._wrapEventTarget.bind(this))},TryCatch.id="TryCatch",TryCatch}(),instrument_global=Object(misc.g)(),handlers={},instrumented={};function instrument(type){if(!instrumented[type])switch(instrumented[type]=!0,type){case"console":!function(){if(!("console"in instrument_global))return;["debug","info","warn","error","log","assert"].forEach((function(level){level in instrument_global.console&&Object(object.b)(instrument_global.console,level,(function(originalConsoleLevel){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];triggerHandlers("console",{args:args,level:level}),originalConsoleLevel&&Function.prototype.apply.call(originalConsoleLevel,instrument_global.console,args)}}))}))}();break;case"dom":!function(){if(!("document"in instrument_global))return;instrument_global.document.addEventListener("click",domEventHandler("click",triggerHandlers.bind(null,"dom")),!1),instrument_global.document.addEventListener("keypress",keypressEventHandler(triggerHandlers.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(target){var proto=instrument_global[target]&&instrument_global[target].prototype;proto&&proto.hasOwnProperty&&proto.hasOwnProperty("addEventListener")&&(Object(object.b)(proto,"addEventListener",(function(original){return function(eventName,fn,options){return fn&&fn.handleEvent?("click"===eventName&&Object(object.b)(fn,"handleEvent",(function(innerOriginal){return function(event){return domEventHandler("click",triggerHandlers.bind(null,"dom"))(event),innerOriginal.call(this,event)}})),"keypress"===eventName&&Object(object.b)(fn,"handleEvent",(function(innerOriginal){return function(event){return keypressEventHandler(triggerHandlers.bind(null,"dom"))(event),innerOriginal.call(this,event)}}))):("click"===eventName&&domEventHandler("click",triggerHandlers.bind(null,"dom"),!0)(this),"keypress"===eventName&&keypressEventHandler(triggerHandlers.bind(null,"dom"))(this)),original.call(this,eventName,fn,options)}})),Object(object.b)(proto,"removeEventListener",(function(original){return function(eventName,fn,options){var callback=fn;try{callback=callback&&(callback.__sentry_wrapped__||callback)}catch(e){}return original.call(this,eventName,callback,options)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in instrument_global))return;var xhrproto=XMLHttpRequest.prototype;Object(object.b)(xhrproto,"open",(function(originalOpen){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var url=args[1];return this.__sentry_xhr__={method:Object(is.k)(args[0])?args[0].toUpperCase():args[0],url:args[1]},Object(is.k)(url)&&"POST"===this.__sentry_xhr__.method&&url.match(/sentry_key/)&&(this.__sentry_own_request__=!0),originalOpen.apply(this,args)}})),Object(object.b)(xhrproto,"send",(function(originalSend){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var xhr=this,commonHandlerData={args:args,startTimestamp:Date.now(),xhr:xhr};function onreadystatechangeHandler(){if(4===xhr.readyState){try{xhr.__sentry_xhr__&&(xhr.__sentry_xhr__.status_code=xhr.status)}catch(e){}triggerHandlers("xhr",tslib_es6.a({},commonHandlerData,{endTimestamp:Date.now()}))}}return triggerHandlers("xhr",tslib_es6.a({},commonHandlerData)),"onreadystatechange"in xhr&&"function"==typeof xhr.onreadystatechange?Object(object.b)(xhr,"onreadystatechange",(function(original){return function(){for(var readyStateArgs=[],_i=0;_i<arguments.length;_i++)readyStateArgs[_i]=arguments[_i];return onreadystatechangeHandler(),original.apply(xhr,readyStateArgs)}})):xhr.onreadystatechange=onreadystatechangeHandler,originalSend.apply(this,args)}}))}();break;case"fetch":!function(){if(!function(){if(!supportsFetch())return!1;var global=Object(misc.g)();if(isNativeFetch(global.fetch))return!0;var result=!1,doc=global.document;if(doc){var sandbox=doc.createElement("iframe");sandbox.hidden=!0;try{doc.head.appendChild(sandbox),sandbox.contentWindow&&sandbox.contentWindow.fetch&&(result=isNativeFetch(sandbox.contentWindow.fetch)),doc.head.removeChild(sandbox)}catch(err){logger.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",err)}}return result}())return;Object(object.b)(instrument_global,"fetch",(function(originalFetch){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var commonHandlerData={args:args,fetchData:{method:getFetchMethod(args),url:getFetchUrl(args)},startTimestamp:Date.now()};return triggerHandlers("fetch",tslib_es6.a({},commonHandlerData)),originalFetch.apply(instrument_global,args).then((function(response){return triggerHandlers("fetch",tslib_es6.a({},commonHandlerData,{endTimestamp:Date.now(),response:response})),response}),(function(error){throw triggerHandlers("fetch",tslib_es6.a({},commonHandlerData,{endTimestamp:Date.now(),error:error})),error}))}}))}();break;case"history":!function(){if(global=Object(misc.g)(),chrome=global.chrome,isChromePackagedApp=chrome&&chrome.app&&chrome.app.runtime,hasHistoryApi="history"in global&&!!global.history.pushState&&!!global.history.replaceState,isChromePackagedApp||!hasHistoryApi)return;var global,chrome,isChromePackagedApp,hasHistoryApi;var oldOnPopState=instrument_global.onpopstate;function historyReplacementFunction(originalHistoryFunction){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var url=args.length>2?args[2]:void 0;if(url){var from=lastHref,to=String(url);lastHref=to,triggerHandlers("history",{from:from,to:to})}return originalHistoryFunction.apply(this,args)}}instrument_global.onpopstate=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var to=instrument_global.location.href,from=lastHref;if(lastHref=to,triggerHandlers("history",{from:from,to:to}),oldOnPopState)return oldOnPopState.apply(this,args)},Object(object.b)(instrument_global.history,"pushState",historyReplacementFunction),Object(object.b)(instrument_global.history,"replaceState",historyReplacementFunction)}();break;default:logger.a.warn("unknown instrumentation type:",type)}}function addInstrumentationHandler(handler){handler&&"string"==typeof handler.type&&"function"==typeof handler.callback&&(handlers[handler.type]=handlers[handler.type]||[],handlers[handler.type].push(handler.callback),instrument(handler.type))}function triggerHandlers(type,data){var e_1,_a;if(type&&handlers[type])try{for(var _b=tslib_es6.e(handlers[type]||[]),_c=_b.next();!_c.done;_c=_b.next()){var handler=_c.value;try{handler(data)}catch(e){logger.a.error("Error while triggering instrumentation handler.\nType: "+type+"\nName: "+Object(misc.f)(handler)+"\nError: "+e)}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}}function getFetchMethod(fetchArgs){return void 0===fetchArgs&&(fetchArgs=[]),"Request"in instrument_global&&Object(is.g)(fetchArgs[0],Request)&&fetchArgs[0].method?String(fetchArgs[0].method).toUpperCase():fetchArgs[1]&&fetchArgs[1].method?String(fetchArgs[1].method).toUpperCase():"GET"}function getFetchUrl(fetchArgs){return void 0===fetchArgs&&(fetchArgs=[]),"string"==typeof fetchArgs[0]?fetchArgs[0]:"Request"in instrument_global&&Object(is.g)(fetchArgs[0],Request)?fetchArgs[0].url:String(fetchArgs[0])}var keypressTimeout,lastCapturedEvent,debounceTimer=0;function domEventHandler(name,handler,debounce){return void 0===debounce&&(debounce=!1),function(event){keypressTimeout=void 0,event&&lastCapturedEvent!==event&&(lastCapturedEvent=event,debounceTimer&&clearTimeout(debounceTimer),debounce?debounceTimer=setTimeout((function(){handler({event:event,name:name})})):handler({event:event,name:name}))}}function keypressEventHandler(handler){return function(event){var target;try{target=event.target}catch(e){return}var tagName=target&&target.tagName;tagName&&("INPUT"===tagName||"TEXTAREA"===tagName||target.isContentEditable)&&(keypressTimeout||domEventHandler("input",handler)(event),clearTimeout(keypressTimeout),keypressTimeout=setTimeout((function(){keypressTimeout=void 0}),1e3))}}var breadcrumbs_Breadcrumbs=function(){function Breadcrumbs(options){this.name=Breadcrumbs.id,this._options=tslib_es6.a({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},options)}return Breadcrumbs.prototype._consoleBreadcrumb=function(handlerData){var breadcrumb={category:"console",data:{extra:{arguments:Object(object.c)(handlerData.args,3)},logger:"console"},level:severity.a.fromString(handlerData.level),message:Object(string.b)(handlerData.args," ")};if("assert"===handlerData.level){if(!1!==handlerData.args[0])return;breadcrumb.message="Assertion failed: "+(Object(string.b)(handlerData.args.slice(1)," ")||"console.assert"),breadcrumb.data.extra.arguments=Object(object.c)(handlerData.args.slice(1),3)}Object(esm_hub.b)().addBreadcrumb(breadcrumb,{input:handlerData.args,level:handlerData.level})},Breadcrumbs.prototype._domBreadcrumb=function(handlerData){var target;try{target=handlerData.event.target?Object(misc.i)(handlerData.event.target):Object(misc.i)(handlerData.event)}catch(e){target="<unknown>"}0!==target.length&&Object(esm_hub.b)().addBreadcrumb({category:"ui."+handlerData.name,message:target},{event:event,name:handlerData.name})},Breadcrumbs.prototype._xhrBreadcrumb=function(handlerData){if(handlerData.endTimestamp){if(handlerData.xhr.__sentry_own_request__)return;Object(esm_hub.b)().addBreadcrumb({category:"xhr",data:handlerData.xhr.__sentry_xhr__,type:"http"},{xhr:handlerData.xhr})}else handlerData.xhr.__sentry_own_request__&&addSentryBreadcrumb(handlerData.args[0])},Breadcrumbs.prototype._fetchBreadcrumb=function(handlerData){if(handlerData.endTimestamp){var client=Object(esm_hub.b)().getClient(),dsn=client&&client.getDsn();if(dsn){var filterUrl=new api_API(dsn).getStoreEndpoint();if(filterUrl&&-1!==handlerData.fetchData.url.indexOf(filterUrl)&&"POST"===handlerData.fetchData.method&&handlerData.args[1]&&handlerData.args[1].body)return void addSentryBreadcrumb(handlerData.args[1].body)}handlerData.error?Object(esm_hub.b)().addBreadcrumb({category:"fetch",data:tslib_es6.a({},handlerData.fetchData,{status_code:handlerData.response.status}),level:severity.a.Error,type:"http"},{data:handlerData.error,input:handlerData.args}):Object(esm_hub.b)().addBreadcrumb({category:"fetch",data:tslib_es6.a({},handlerData.fetchData,{status_code:handlerData.response.status}),type:"http"},{input:handlerData.args,response:handlerData.response})}},Breadcrumbs.prototype._historyBreadcrumb=function(handlerData){var global=Object(misc.g)(),from=handlerData.from,to=handlerData.to,parsedLoc=Object(misc.l)(global.location.href),parsedFrom=Object(misc.l)(from),parsedTo=Object(misc.l)(to);parsedFrom.path||(parsedFrom=parsedLoc),parsedLoc.protocol===parsedTo.protocol&&parsedLoc.host===parsedTo.host&&(to=parsedTo.relative),parsedLoc.protocol===parsedFrom.protocol&&parsedLoc.host===parsedFrom.host&&(from=parsedFrom.relative),Object(esm_hub.b)().addBreadcrumb({category:"navigation",data:{from:from,to:to}})},Breadcrumbs.prototype.setupOnce=function(){var _this=this;this._options.console&&addInstrumentationHandler({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._consoleBreadcrumb.apply(_this,tslib_es6.d(args))},type:"console"}),this._options.dom&&addInstrumentationHandler({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._domBreadcrumb.apply(_this,tslib_es6.d(args))},type:"dom"}),this._options.xhr&&addInstrumentationHandler({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._xhrBreadcrumb.apply(_this,tslib_es6.d(args))},type:"xhr"}),this._options.fetch&&addInstrumentationHandler({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._fetchBreadcrumb.apply(_this,tslib_es6.d(args))},type:"fetch"}),this._options.history&&addInstrumentationHandler({callback:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this._historyBreadcrumb.apply(_this,tslib_es6.d(args))},type:"history"})},Breadcrumbs.id="Breadcrumbs",Breadcrumbs}();function addSentryBreadcrumb(serializedData){try{var event_1=JSON.parse(serializedData);Object(esm_hub.b)().addBreadcrumb({category:"sentry",event_id:event_1.event_id,level:event_1.level||severity.a.fromString("error"),message:Object(misc.e)(event_1)},{event:event_1})}catch(_oO){logger.a.error("Error while adding sentry type breadcrumb")}}var globalhandlers_GlobalHandlers=function(){function GlobalHandlers(options){this.name=GlobalHandlers.id,this._global=Object(misc.g)(),this._oldOnErrorHandler=null,this._oldOnUnhandledRejectionHandler=null,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=tslib_es6.a({onerror:!0,onunhandledrejection:!0},options)}return GlobalHandlers.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(logger.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(logger.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},GlobalHandlers.prototype._installGlobalOnErrorHandler=function(){if(!this._onErrorHandlerInstalled){var self=this;this._oldOnErrorHandler=this._global.onerror,this._global.onerror=function(msg,url,line,column,error){var currentHub=Object(esm_hub.b)(),hasIntegration=currentHub.getIntegration(GlobalHandlers),isFailedOwnDelivery=error&&!0===error.__sentry_own_request__;if(!hasIntegration||shouldIgnoreOnError()||isFailedOwnDelivery)return!!self._oldOnErrorHandler&&self._oldOnErrorHandler.apply(this,arguments);var client=currentHub.getClient(),event=Object(is.i)(error)?self._eventFromIncompleteOnError(msg,url,line,column):self._enhanceEventWithInitialFrame(eventFromUnknownInput(error,void 0,{attachStacktrace:client&&client.getOptions().attachStacktrace,rejection:!1}),url,line,column);return Object(misc.a)(event,{handled:!1,type:"onerror"}),currentHub.captureEvent(event,{originalException:error}),!!self._oldOnErrorHandler&&self._oldOnErrorHandler.apply(this,arguments)},this._onErrorHandlerInstalled=!0}},GlobalHandlers.prototype._installGlobalOnUnhandledRejectionHandler=function(){if(!this._onUnhandledRejectionHandlerInstalled){var self=this;this._oldOnUnhandledRejectionHandler=this._global.onunhandledrejection,this._global.onunhandledrejection=function(e){var error=e;try{error=e&&"reason"in e?e.reason:e}catch(_oO){}var currentHub=Object(esm_hub.b)(),hasIntegration=currentHub.getIntegration(GlobalHandlers),isFailedOwnDelivery=error&&!0===error.__sentry_own_request__;if(!hasIntegration||shouldIgnoreOnError()||isFailedOwnDelivery)return!self._oldOnUnhandledRejectionHandler||self._oldOnUnhandledRejectionHandler.apply(this,arguments);var client=currentHub.getClient(),event=Object(is.i)(error)?self._eventFromIncompleteRejection(error):eventFromUnknownInput(error,void 0,{attachStacktrace:client&&client.getOptions().attachStacktrace,rejection:!0});return event.level=severity.a.Error,Object(misc.a)(event,{handled:!1,type:"onunhandledrejection"}),currentHub.captureEvent(event,{originalException:error}),!self._oldOnUnhandledRejectionHandler||self._oldOnUnhandledRejectionHandler.apply(this,arguments)},this._onUnhandledRejectionHandlerInstalled=!0}},GlobalHandlers.prototype._eventFromIncompleteOnError=function(msg,url,line,column){var name,message=Object(is.e)(msg)?msg.message:msg;if(Object(is.k)(message)){var groups=message.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);groups&&(name=groups[1],message=groups[2])}var event={exception:{values:[{type:name||"Error",value:message}]}};return this._enhanceEventWithInitialFrame(event,url,line,column)},GlobalHandlers.prototype._eventFromIncompleteRejection=function(error){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+error}]}}},GlobalHandlers.prototype._enhanceEventWithInitialFrame=function(event,url,line,column){event.exception=event.exception||{},event.exception.values=event.exception.values||[],event.exception.values[0]=event.exception.values[0]||{},event.exception.values[0].stacktrace=event.exception.values[0].stacktrace||{},event.exception.values[0].stacktrace.frames=event.exception.values[0].stacktrace.frames||[];var colno=isNaN(parseInt(column,10))?void 0:column,lineno=isNaN(parseInt(line,10))?void 0:line,filename=Object(is.k)(url)&&url.length>0?url:Object(misc.h)();return 0===event.exception.values[0].stacktrace.frames.length&&event.exception.values[0].stacktrace.frames.push({colno:colno,filename:filename,function:"?",in_app:!0,lineno:lineno}),event},GlobalHandlers.id="GlobalHandlers",GlobalHandlers}(),linkederrors_LinkedErrors=function(){function LinkedErrors(options){void 0===options&&(options={}),this.name=LinkedErrors.id,this._key=options.key||"cause",this._limit=options.limit||5}return LinkedErrors.prototype.setupOnce=function(){Object(esm_scope.b)((function(event,hint){var self=Object(esm_hub.b)().getIntegration(LinkedErrors);return self?self._handler(event,hint):event}))},LinkedErrors.prototype._handler=function(event,hint){if(!(event.exception&&event.exception.values&&hint&&Object(is.g)(hint.originalException,Error)))return event;var linkedErrors=this._walkErrorTree(hint.originalException,this._key);return event.exception.values=tslib_es6.d(linkedErrors,event.exception.values),event},LinkedErrors.prototype._walkErrorTree=function(error,key,stack){if(void 0===stack&&(stack=[]),!Object(is.g)(error[key],Error)||stack.length+1>=this._limit)return stack;var exception=exceptionFromStacktrace(computeStackTrace(error[key]));return this._walkErrorTree(error[key],key,tslib_es6.d([exception],stack))},LinkedErrors.id="LinkedErrors",LinkedErrors}(),useragent_global=Object(misc.g)(),useragent_UserAgent=function(){function UserAgent(){this.name=UserAgent.id}return UserAgent.prototype.setupOnce=function(){Object(esm_scope.b)((function(event){if(Object(esm_hub.b)().getIntegration(UserAgent)){if(!useragent_global.navigator||!useragent_global.location)return event;var request=event.request||{};return request.url=request.url||useragent_global.location.href,request.headers=request.headers||{},request.headers["User-Agent"]=useragent_global.navigator.userAgent,tslib_es6.a({},event,{request:request})}return event}))},UserAgent.id="UserAgent",UserAgent}(),sdk_defaultIntegrations=[new integrations_namespaceObject.InboundFilters,new integrations_namespaceObject.FunctionToString,new trycatch_TryCatch,new breadcrumbs_Breadcrumbs,new globalhandlers_GlobalHandlers,new linkederrors_LinkedErrors,new useragent_UserAgent];function init(options){if(void 0===options&&(options={}),void 0===options.defaultIntegrations&&(options.defaultIntegrations=sdk_defaultIntegrations),void 0===options.release){var window_1=Object(misc.g)();window_1.SENTRY_RELEASE&&window_1.SENTRY_RELEASE.id&&(options.release=window_1.SENTRY_RELEASE.id)}!function(clientClass,options){!0===options.debug&&logger.a.enable(),Object(esm_hub.b)().bindClient(new clientClass(options))}(client_BrowserClient,options)}function showReportDialog(options){void 0===options&&(options={}),options.eventId||(options.eventId=Object(esm_hub.b)().lastEventId());var client=Object(esm_hub.b)().getClient();client&&client.showReportDialog(options)}function lastEventId(){return Object(esm_hub.b)().lastEventId()}function forceLoad(){}function onLoad(callback){callback()}function flush(timeout){var client=Object(esm_hub.b)().getClient();return client?client.flush(timeout):syncpromise.a.reject(!1)}function sdk_close(timeout){var client=Object(esm_hub.b)().getClient();return client?client.close(timeout):syncpromise.a.reject(!1)}function sdk_wrap(fn){return wrap(fn)()}var windowIntegrations={},_window=Object(misc.g)();_window.Sentry&&_window.Sentry.Integrations&&(windowIntegrations=_window.Sentry.Integrations);var INTEGRATIONS=tslib_es6.a({},windowIntegrations,integrations_namespaceObject,esm_integrations_namespaceObject)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"glMatrix",(function(){return common_namespaceObject})),__webpack_require__.d(__webpack_exports__,"mat2",(function(){return mat2_namespaceObject})),__webpack_require__.d(__webpack_exports__,"mat2d",(function(){return mat2d_namespaceObject})),__webpack_require__.d(__webpack_exports__,"mat3",(function(){return mat3_namespaceObject})),__webpack_require__.d(__webpack_exports__,"mat4",(function(){return mat4_namespaceObject})),__webpack_require__.d(__webpack_exports__,"quat",(function(){return quat_namespaceObject})),__webpack_require__.d(__webpack_exports__,"quat2",(function(){return quat2_namespaceObject})),__webpack_require__.d(__webpack_exports__,"vec2",(function(){return vec2_namespaceObject})),__webpack_require__.d(__webpack_exports__,"vec3",(function(){return vec3_namespaceObject})),__webpack_require__.d(__webpack_exports__,"vec4",(function(){return vec4_namespaceObject}));var common_namespaceObject={};__webpack_require__.r(common_namespaceObject),__webpack_require__.d(common_namespaceObject,"EPSILON",(function(){return EPSILON})),__webpack_require__.d(common_namespaceObject,"ARRAY_TYPE",(function(){return ARRAY_TYPE})),__webpack_require__.d(common_namespaceObject,"RANDOM",(function(){return RANDOM})),__webpack_require__.d(common_namespaceObject,"setMatrixArrayType",(function(){return setMatrixArrayType})),__webpack_require__.d(common_namespaceObject,"toRadian",(function(){return toRadian})),__webpack_require__.d(common_namespaceObject,"equals",(function(){return equals}));var mat2_namespaceObject={};__webpack_require__.r(mat2_namespaceObject),__webpack_require__.d(mat2_namespaceObject,"create",(function(){return create})),__webpack_require__.d(mat2_namespaceObject,"clone",(function(){return clone})),__webpack_require__.d(mat2_namespaceObject,"copy",(function(){return copy})),__webpack_require__.d(mat2_namespaceObject,"identity",(function(){return identity})),__webpack_require__.d(mat2_namespaceObject,"fromValues",(function(){return fromValues})),__webpack_require__.d(mat2_namespaceObject,"set",(function(){return set})),__webpack_require__.d(mat2_namespaceObject,"transpose",(function(){return transpose})),__webpack_require__.d(mat2_namespaceObject,"invert",(function(){return invert})),__webpack_require__.d(mat2_namespaceObject,"adjoint",(function(){return adjoint})),__webpack_require__.d(mat2_namespaceObject,"determinant",(function(){return determinant})),__webpack_require__.d(mat2_namespaceObject,"multiply",(function(){return multiply})),__webpack_require__.d(mat2_namespaceObject,"rotate",(function(){return rotate})),__webpack_require__.d(mat2_namespaceObject,"scale",(function(){return mat2_scale})),__webpack_require__.d(mat2_namespaceObject,"fromRotation",(function(){return fromRotation})),__webpack_require__.d(mat2_namespaceObject,"fromScaling",(function(){return fromScaling})),__webpack_require__.d(mat2_namespaceObject,"str",(function(){return str})),__webpack_require__.d(mat2_namespaceObject,"frob",(function(){return frob})),__webpack_require__.d(mat2_namespaceObject,"LDU",(function(){return LDU})),__webpack_require__.d(mat2_namespaceObject,"add",(function(){return add})),__webpack_require__.d(mat2_namespaceObject,"subtract",(function(){return subtract})),__webpack_require__.d(mat2_namespaceObject,"exactEquals",(function(){return exactEquals})),__webpack_require__.d(mat2_namespaceObject,"equals",(function(){return mat2_equals})),__webpack_require__.d(mat2_namespaceObject,"multiplyScalar",(function(){return multiplyScalar})),__webpack_require__.d(mat2_namespaceObject,"multiplyScalarAndAdd",(function(){return multiplyScalarAndAdd})),__webpack_require__.d(mat2_namespaceObject,"mul",(function(){return mul})),__webpack_require__.d(mat2_namespaceObject,"sub",(function(){return sub}));var mat2d_namespaceObject={};__webpack_require__.r(mat2d_namespaceObject),__webpack_require__.d(mat2d_namespaceObject,"create",(function(){return mat2d_create})),__webpack_require__.d(mat2d_namespaceObject,"clone",(function(){return mat2d_clone})),__webpack_require__.d(mat2d_namespaceObject,"copy",(function(){return mat2d_copy})),__webpack_require__.d(mat2d_namespaceObject,"identity",(function(){return mat2d_identity})),__webpack_require__.d(mat2d_namespaceObject,"fromValues",(function(){return mat2d_fromValues})),__webpack_require__.d(mat2d_namespaceObject,"set",(function(){return mat2d_set})),__webpack_require__.d(mat2d_namespaceObject,"invert",(function(){return mat2d_invert})),__webpack_require__.d(mat2d_namespaceObject,"determinant",(function(){return mat2d_determinant})),__webpack_require__.d(mat2d_namespaceObject,"multiply",(function(){return mat2d_multiply})),__webpack_require__.d(mat2d_namespaceObject,"rotate",(function(){return mat2d_rotate})),__webpack_require__.d(mat2d_namespaceObject,"scale",(function(){return mat2d_scale})),__webpack_require__.d(mat2d_namespaceObject,"translate",(function(){return translate})),__webpack_require__.d(mat2d_namespaceObject,"fromRotation",(function(){return mat2d_fromRotation})),__webpack_require__.d(mat2d_namespaceObject,"fromScaling",(function(){return mat2d_fromScaling})),__webpack_require__.d(mat2d_namespaceObject,"fromTranslation",(function(){return fromTranslation})),__webpack_require__.d(mat2d_namespaceObject,"str",(function(){return mat2d_str})),__webpack_require__.d(mat2d_namespaceObject,"frob",(function(){return mat2d_frob})),__webpack_require__.d(mat2d_namespaceObject,"add",(function(){return mat2d_add})),__webpack_require__.d(mat2d_namespaceObject,"subtract",(function(){return mat2d_subtract})),__webpack_require__.d(mat2d_namespaceObject,"multiplyScalar",(function(){return mat2d_multiplyScalar})),__webpack_require__.d(mat2d_namespaceObject,"multiplyScalarAndAdd",(function(){return mat2d_multiplyScalarAndAdd})),__webpack_require__.d(mat2d_namespaceObject,"exactEquals",(function(){return mat2d_exactEquals})),__webpack_require__.d(mat2d_namespaceObject,"equals",(function(){return mat2d_equals})),__webpack_require__.d(mat2d_namespaceObject,"mul",(function(){return mat2d_mul})),__webpack_require__.d(mat2d_namespaceObject,"sub",(function(){return mat2d_sub}));var mat3_namespaceObject={};__webpack_require__.r(mat3_namespaceObject),__webpack_require__.d(mat3_namespaceObject,"create",(function(){return mat3_create})),__webpack_require__.d(mat3_namespaceObject,"fromMat4",(function(){return fromMat4})),__webpack_require__.d(mat3_namespaceObject,"clone",(function(){return mat3_clone})),__webpack_require__.d(mat3_namespaceObject,"copy",(function(){return mat3_copy})),__webpack_require__.d(mat3_namespaceObject,"fromValues",(function(){return mat3_fromValues})),__webpack_require__.d(mat3_namespaceObject,"set",(function(){return mat3_set})),__webpack_require__.d(mat3_namespaceObject,"identity",(function(){return mat3_identity})),__webpack_require__.d(mat3_namespaceObject,"transpose",(function(){return mat3_transpose})),__webpack_require__.d(mat3_namespaceObject,"invert",(function(){return mat3_invert})),__webpack_require__.d(mat3_namespaceObject,"adjoint",(function(){return mat3_adjoint})),__webpack_require__.d(mat3_namespaceObject,"determinant",(function(){return mat3_determinant})),__webpack_require__.d(mat3_namespaceObject,"multiply",(function(){return mat3_multiply})),__webpack_require__.d(mat3_namespaceObject,"translate",(function(){return mat3_translate})),__webpack_require__.d(mat3_namespaceObject,"rotate",(function(){return mat3_rotate})),__webpack_require__.d(mat3_namespaceObject,"scale",(function(){return mat3_scale})),__webpack_require__.d(mat3_namespaceObject,"fromTranslation",(function(){return mat3_fromTranslation})),__webpack_require__.d(mat3_namespaceObject,"fromRotation",(function(){return mat3_fromRotation})),__webpack_require__.d(mat3_namespaceObject,"fromScaling",(function(){return mat3_fromScaling})),__webpack_require__.d(mat3_namespaceObject,"fromMat2d",(function(){return fromMat2d})),__webpack_require__.d(mat3_namespaceObject,"fromQuat",(function(){return fromQuat})),__webpack_require__.d(mat3_namespaceObject,"normalFromMat4",(function(){return normalFromMat4})),__webpack_require__.d(mat3_namespaceObject,"projection",(function(){return projection})),__webpack_require__.d(mat3_namespaceObject,"str",(function(){return mat3_str})),__webpack_require__.d(mat3_namespaceObject,"frob",(function(){return mat3_frob})),__webpack_require__.d(mat3_namespaceObject,"add",(function(){return mat3_add})),__webpack_require__.d(mat3_namespaceObject,"subtract",(function(){return mat3_subtract})),__webpack_require__.d(mat3_namespaceObject,"multiplyScalar",(function(){return mat3_multiplyScalar})),__webpack_require__.d(mat3_namespaceObject,"multiplyScalarAndAdd",(function(){return mat3_multiplyScalarAndAdd})),__webpack_require__.d(mat3_namespaceObject,"exactEquals",(function(){return mat3_exactEquals})),__webpack_require__.d(mat3_namespaceObject,"equals",(function(){return mat3_equals})),__webpack_require__.d(mat3_namespaceObject,"mul",(function(){return mat3_mul})),__webpack_require__.d(mat3_namespaceObject,"sub",(function(){return mat3_sub}));var mat4_namespaceObject={};__webpack_require__.r(mat4_namespaceObject),__webpack_require__.d(mat4_namespaceObject,"create",(function(){return mat4_create})),__webpack_require__.d(mat4_namespaceObject,"clone",(function(){return mat4_clone})),__webpack_require__.d(mat4_namespaceObject,"copy",(function(){return mat4_copy})),__webpack_require__.d(mat4_namespaceObject,"fromValues",(function(){return mat4_fromValues})),__webpack_require__.d(mat4_namespaceObject,"set",(function(){return mat4_set})),__webpack_require__.d(mat4_namespaceObject,"identity",(function(){return mat4_identity})),__webpack_require__.d(mat4_namespaceObject,"transpose",(function(){return mat4_transpose})),__webpack_require__.d(mat4_namespaceObject,"invert",(function(){return mat4_invert})),__webpack_require__.d(mat4_namespaceObject,"adjoint",(function(){return mat4_adjoint})),__webpack_require__.d(mat4_namespaceObject,"determinant",(function(){return mat4_determinant})),__webpack_require__.d(mat4_namespaceObject,"multiply",(function(){return mat4_multiply})),__webpack_require__.d(mat4_namespaceObject,"translate",(function(){return mat4_translate})),__webpack_require__.d(mat4_namespaceObject,"scale",(function(){return mat4_scale})),__webpack_require__.d(mat4_namespaceObject,"rotate",(function(){return mat4_rotate})),__webpack_require__.d(mat4_namespaceObject,"rotateX",(function(){return rotateX})),__webpack_require__.d(mat4_namespaceObject,"rotateY",(function(){return rotateY})),__webpack_require__.d(mat4_namespaceObject,"rotateZ",(function(){return rotateZ})),__webpack_require__.d(mat4_namespaceObject,"fromTranslation",(function(){return mat4_fromTranslation})),__webpack_require__.d(mat4_namespaceObject,"fromScaling",(function(){return mat4_fromScaling})),__webpack_require__.d(mat4_namespaceObject,"fromRotation",(function(){return mat4_fromRotation})),__webpack_require__.d(mat4_namespaceObject,"fromXRotation",(function(){return fromXRotation})),__webpack_require__.d(mat4_namespaceObject,"fromYRotation",(function(){return fromYRotation})),__webpack_require__.d(mat4_namespaceObject,"fromZRotation",(function(){return fromZRotation})),__webpack_require__.d(mat4_namespaceObject,"fromRotationTranslation",(function(){return fromRotationTranslation})),__webpack_require__.d(mat4_namespaceObject,"fromQuat2",(function(){return fromQuat2})),__webpack_require__.d(mat4_namespaceObject,"getTranslation",(function(){return getTranslation})),__webpack_require__.d(mat4_namespaceObject,"getScaling",(function(){return getScaling})),__webpack_require__.d(mat4_namespaceObject,"getRotation",(function(){return getRotation})),__webpack_require__.d(mat4_namespaceObject,"fromRotationTranslationScale",(function(){return fromRotationTranslationScale})),__webpack_require__.d(mat4_namespaceObject,"fromRotationTranslationScaleOrigin",(function(){return fromRotationTranslationScaleOrigin})),__webpack_require__.d(mat4_namespaceObject,"fromQuat",(function(){return mat4_fromQuat})),__webpack_require__.d(mat4_namespaceObject,"frustum",(function(){return frustum})),__webpack_require__.d(mat4_namespaceObject,"perspective",(function(){return perspective})),__webpack_require__.d(mat4_namespaceObject,"perspectiveFromFieldOfView",(function(){return perspectiveFromFieldOfView})),__webpack_require__.d(mat4_namespaceObject,"ortho",(function(){return ortho})),__webpack_require__.d(mat4_namespaceObject,"lookAt",(function(){return lookAt})),__webpack_require__.d(mat4_namespaceObject,"targetTo",(function(){return targetTo})),__webpack_require__.d(mat4_namespaceObject,"str",(function(){return mat4_str})),__webpack_require__.d(mat4_namespaceObject,"frob",(function(){return mat4_frob})),__webpack_require__.d(mat4_namespaceObject,"add",(function(){return mat4_add})),__webpack_require__.d(mat4_namespaceObject,"subtract",(function(){return mat4_subtract})),__webpack_require__.d(mat4_namespaceObject,"multiplyScalar",(function(){return mat4_multiplyScalar})),__webpack_require__.d(mat4_namespaceObject,"multiplyScalarAndAdd",(function(){return mat4_multiplyScalarAndAdd})),__webpack_require__.d(mat4_namespaceObject,"exactEquals",(function(){return mat4_exactEquals})),__webpack_require__.d(mat4_namespaceObject,"equals",(function(){return mat4_equals})),__webpack_require__.d(mat4_namespaceObject,"mul",(function(){return mat4_mul})),__webpack_require__.d(mat4_namespaceObject,"sub",(function(){return mat4_sub}));var vec3_namespaceObject={};__webpack_require__.r(vec3_namespaceObject),__webpack_require__.d(vec3_namespaceObject,"create",(function(){return vec3_create})),__webpack_require__.d(vec3_namespaceObject,"clone",(function(){return vec3_clone})),__webpack_require__.d(vec3_namespaceObject,"length",(function(){return vec3_length})),__webpack_require__.d(vec3_namespaceObject,"fromValues",(function(){return vec3_fromValues})),__webpack_require__.d(vec3_namespaceObject,"copy",(function(){return vec3_copy})),__webpack_require__.d(vec3_namespaceObject,"set",(function(){return vec3_set})),__webpack_require__.d(vec3_namespaceObject,"add",(function(){return vec3_add})),__webpack_require__.d(vec3_namespaceObject,"subtract",(function(){return vec3_subtract})),__webpack_require__.d(vec3_namespaceObject,"multiply",(function(){return vec3_multiply})),__webpack_require__.d(vec3_namespaceObject,"divide",(function(){return divide})),__webpack_require__.d(vec3_namespaceObject,"ceil",(function(){return ceil})),__webpack_require__.d(vec3_namespaceObject,"floor",(function(){return floor})),__webpack_require__.d(vec3_namespaceObject,"min",(function(){return min})),__webpack_require__.d(vec3_namespaceObject,"max",(function(){return max})),__webpack_require__.d(vec3_namespaceObject,"round",(function(){return round})),__webpack_require__.d(vec3_namespaceObject,"scale",(function(){return vec3_scale})),__webpack_require__.d(vec3_namespaceObject,"scaleAndAdd",(function(){return scaleAndAdd})),__webpack_require__.d(vec3_namespaceObject,"distance",(function(){return distance})),__webpack_require__.d(vec3_namespaceObject,"squaredDistance",(function(){return squaredDistance})),__webpack_require__.d(vec3_namespaceObject,"squaredLength",(function(){return squaredLength})),__webpack_require__.d(vec3_namespaceObject,"negate",(function(){return negate})),__webpack_require__.d(vec3_namespaceObject,"inverse",(function(){return inverse})),__webpack_require__.d(vec3_namespaceObject,"normalize",(function(){return normalize})),__webpack_require__.d(vec3_namespaceObject,"dot",(function(){return vec3_dot})),__webpack_require__.d(vec3_namespaceObject,"cross",(function(){return cross})),__webpack_require__.d(vec3_namespaceObject,"lerp",(function(){return lerp})),__webpack_require__.d(vec3_namespaceObject,"hermite",(function(){return hermite})),__webpack_require__.d(vec3_namespaceObject,"bezier",(function(){return bezier})),__webpack_require__.d(vec3_namespaceObject,"random",(function(){return random})),__webpack_require__.d(vec3_namespaceObject,"transformMat4",(function(){return transformMat4})),__webpack_require__.d(vec3_namespaceObject,"transformMat3",(function(){return transformMat3})),__webpack_require__.d(vec3_namespaceObject,"transformQuat",(function(){return transformQuat})),__webpack_require__.d(vec3_namespaceObject,"rotateX",(function(){return vec3_rotateX})),__webpack_require__.d(vec3_namespaceObject,"rotateY",(function(){return vec3_rotateY})),__webpack_require__.d(vec3_namespaceObject,"rotateZ",(function(){return vec3_rotateZ})),__webpack_require__.d(vec3_namespaceObject,"angle",(function(){return angle})),__webpack_require__.d(vec3_namespaceObject,"str",(function(){return vec3_str})),__webpack_require__.d(vec3_namespaceObject,"exactEquals",(function(){return vec3_exactEquals})),__webpack_require__.d(vec3_namespaceObject,"equals",(function(){return vec3_equals})),__webpack_require__.d(vec3_namespaceObject,"sub",(function(){return vec3_sub})),__webpack_require__.d(vec3_namespaceObject,"mul",(function(){return vec3_mul})),__webpack_require__.d(vec3_namespaceObject,"div",(function(){return div})),__webpack_require__.d(vec3_namespaceObject,"dist",(function(){return dist})),__webpack_require__.d(vec3_namespaceObject,"sqrDist",(function(){return sqrDist})),__webpack_require__.d(vec3_namespaceObject,"len",(function(){return vec3_len})),__webpack_require__.d(vec3_namespaceObject,"sqrLen",(function(){return sqrLen})),__webpack_require__.d(vec3_namespaceObject,"forEach",(function(){return forEach}));var vec4_namespaceObject={};__webpack_require__.r(vec4_namespaceObject),__webpack_require__.d(vec4_namespaceObject,"create",(function(){return vec4_create})),__webpack_require__.d(vec4_namespaceObject,"clone",(function(){return vec4_clone})),__webpack_require__.d(vec4_namespaceObject,"fromValues",(function(){return vec4_fromValues})),__webpack_require__.d(vec4_namespaceObject,"copy",(function(){return vec4_copy})),__webpack_require__.d(vec4_namespaceObject,"set",(function(){return vec4_set})),__webpack_require__.d(vec4_namespaceObject,"add",(function(){return vec4_add})),__webpack_require__.d(vec4_namespaceObject,"subtract",(function(){return vec4_subtract})),__webpack_require__.d(vec4_namespaceObject,"multiply",(function(){return vec4_multiply})),__webpack_require__.d(vec4_namespaceObject,"divide",(function(){return vec4_divide})),__webpack_require__.d(vec4_namespaceObject,"ceil",(function(){return vec4_ceil})),__webpack_require__.d(vec4_namespaceObject,"floor",(function(){return vec4_floor})),__webpack_require__.d(vec4_namespaceObject,"min",(function(){return vec4_min})),__webpack_require__.d(vec4_namespaceObject,"max",(function(){return vec4_max})),__webpack_require__.d(vec4_namespaceObject,"round",(function(){return vec4_round})),__webpack_require__.d(vec4_namespaceObject,"scale",(function(){return vec4_scale})),__webpack_require__.d(vec4_namespaceObject,"scaleAndAdd",(function(){return vec4_scaleAndAdd})),__webpack_require__.d(vec4_namespaceObject,"distance",(function(){return vec4_distance})),__webpack_require__.d(vec4_namespaceObject,"squaredDistance",(function(){return vec4_squaredDistance})),__webpack_require__.d(vec4_namespaceObject,"length",(function(){return vec4_length})),__webpack_require__.d(vec4_namespaceObject,"squaredLength",(function(){return vec4_squaredLength})),__webpack_require__.d(vec4_namespaceObject,"negate",(function(){return vec4_negate})),__webpack_require__.d(vec4_namespaceObject,"inverse",(function(){return vec4_inverse})),__webpack_require__.d(vec4_namespaceObject,"normalize",(function(){return vec4_normalize})),__webpack_require__.d(vec4_namespaceObject,"dot",(function(){return vec4_dot})),__webpack_require__.d(vec4_namespaceObject,"lerp",(function(){return vec4_lerp})),__webpack_require__.d(vec4_namespaceObject,"random",(function(){return vec4_random})),__webpack_require__.d(vec4_namespaceObject,"transformMat4",(function(){return vec4_transformMat4})),__webpack_require__.d(vec4_namespaceObject,"transformQuat",(function(){return vec4_transformQuat})),__webpack_require__.d(vec4_namespaceObject,"str",(function(){return vec4_str})),__webpack_require__.d(vec4_namespaceObject,"exactEquals",(function(){return vec4_exactEquals})),__webpack_require__.d(vec4_namespaceObject,"equals",(function(){return vec4_equals})),__webpack_require__.d(vec4_namespaceObject,"sub",(function(){return vec4_sub})),__webpack_require__.d(vec4_namespaceObject,"mul",(function(){return vec4_mul})),__webpack_require__.d(vec4_namespaceObject,"div",(function(){return vec4_div})),__webpack_require__.d(vec4_namespaceObject,"dist",(function(){return vec4_dist})),__webpack_require__.d(vec4_namespaceObject,"sqrDist",(function(){return vec4_sqrDist})),__webpack_require__.d(vec4_namespaceObject,"len",(function(){return vec4_len})),__webpack_require__.d(vec4_namespaceObject,"sqrLen",(function(){return vec4_sqrLen})),__webpack_require__.d(vec4_namespaceObject,"forEach",(function(){return vec4_forEach}));var quat_namespaceObject={};__webpack_require__.r(quat_namespaceObject),__webpack_require__.d(quat_namespaceObject,"create",(function(){return quat_create})),__webpack_require__.d(quat_namespaceObject,"identity",(function(){return quat_identity})),__webpack_require__.d(quat_namespaceObject,"setAxisAngle",(function(){return setAxisAngle})),__webpack_require__.d(quat_namespaceObject,"getAxisAngle",(function(){return getAxisAngle})),__webpack_require__.d(quat_namespaceObject,"multiply",(function(){return quat_multiply})),__webpack_require__.d(quat_namespaceObject,"rotateX",(function(){return quat_rotateX})),__webpack_require__.d(quat_namespaceObject,"rotateY",(function(){return quat_rotateY})),__webpack_require__.d(quat_namespaceObject,"rotateZ",(function(){return quat_rotateZ})),__webpack_require__.d(quat_namespaceObject,"calculateW",(function(){return calculateW})),__webpack_require__.d(quat_namespaceObject,"slerp",(function(){return slerp})),__webpack_require__.d(quat_namespaceObject,"random",(function(){return quat_random})),__webpack_require__.d(quat_namespaceObject,"invert",(function(){return quat_invert})),__webpack_require__.d(quat_namespaceObject,"conjugate",(function(){return conjugate})),__webpack_require__.d(quat_namespaceObject,"fromMat3",(function(){return fromMat3})),__webpack_require__.d(quat_namespaceObject,"fromEuler",(function(){return fromEuler})),__webpack_require__.d(quat_namespaceObject,"str",(function(){return quat_str})),__webpack_require__.d(quat_namespaceObject,"clone",(function(){return quat_clone})),__webpack_require__.d(quat_namespaceObject,"fromValues",(function(){return quat_fromValues})),__webpack_require__.d(quat_namespaceObject,"copy",(function(){return quat_copy})),__webpack_require__.d(quat_namespaceObject,"set",(function(){return quat_set})),__webpack_require__.d(quat_namespaceObject,"add",(function(){return quat_add})),__webpack_require__.d(quat_namespaceObject,"mul",(function(){return quat_mul})),__webpack_require__.d(quat_namespaceObject,"scale",(function(){return quat_scale})),__webpack_require__.d(quat_namespaceObject,"dot",(function(){return quat_dot})),__webpack_require__.d(quat_namespaceObject,"lerp",(function(){return quat_lerp})),__webpack_require__.d(quat_namespaceObject,"length",(function(){return quat_length})),__webpack_require__.d(quat_namespaceObject,"len",(function(){return quat_len})),__webpack_require__.d(quat_namespaceObject,"squaredLength",(function(){return quat_squaredLength})),__webpack_require__.d(quat_namespaceObject,"sqrLen",(function(){return quat_sqrLen})),__webpack_require__.d(quat_namespaceObject,"normalize",(function(){return quat_normalize})),__webpack_require__.d(quat_namespaceObject,"exactEquals",(function(){return quat_exactEquals})),__webpack_require__.d(quat_namespaceObject,"equals",(function(){return quat_equals})),__webpack_require__.d(quat_namespaceObject,"rotationTo",(function(){return rotationTo})),__webpack_require__.d(quat_namespaceObject,"sqlerp",(function(){return sqlerp})),__webpack_require__.d(quat_namespaceObject,"setAxes",(function(){return setAxes}));var quat2_namespaceObject={};__webpack_require__.r(quat2_namespaceObject),__webpack_require__.d(quat2_namespaceObject,"create",(function(){return quat2_create})),__webpack_require__.d(quat2_namespaceObject,"clone",(function(){return quat2_clone})),__webpack_require__.d(quat2_namespaceObject,"fromValues",(function(){return quat2_fromValues})),__webpack_require__.d(quat2_namespaceObject,"fromRotationTranslationValues",(function(){return fromRotationTranslationValues})),__webpack_require__.d(quat2_namespaceObject,"fromRotationTranslation",(function(){return quat2_fromRotationTranslation})),__webpack_require__.d(quat2_namespaceObject,"fromTranslation",(function(){return quat2_fromTranslation})),__webpack_require__.d(quat2_namespaceObject,"fromRotation",(function(){return quat2_fromRotation})),__webpack_require__.d(quat2_namespaceObject,"fromMat4",(function(){return quat2_fromMat4})),__webpack_require__.d(quat2_namespaceObject,"copy",(function(){return quat2_copy})),__webpack_require__.d(quat2_namespaceObject,"identity",(function(){return quat2_identity})),__webpack_require__.d(quat2_namespaceObject,"set",(function(){return quat2_set})),__webpack_require__.d(quat2_namespaceObject,"getReal",(function(){return getReal})),__webpack_require__.d(quat2_namespaceObject,"getDual",(function(){return getDual})),__webpack_require__.d(quat2_namespaceObject,"setReal",(function(){return setReal})),__webpack_require__.d(quat2_namespaceObject,"setDual",(function(){return setDual})),__webpack_require__.d(quat2_namespaceObject,"getTranslation",(function(){return quat2_getTranslation})),__webpack_require__.d(quat2_namespaceObject,"translate",(function(){return quat2_translate})),__webpack_require__.d(quat2_namespaceObject,"rotateX",(function(){return quat2_rotateX})),__webpack_require__.d(quat2_namespaceObject,"rotateY",(function(){return quat2_rotateY})),__webpack_require__.d(quat2_namespaceObject,"rotateZ",(function(){return quat2_rotateZ})),__webpack_require__.d(quat2_namespaceObject,"rotateByQuatAppend",(function(){return rotateByQuatAppend})),__webpack_require__.d(quat2_namespaceObject,"rotateByQuatPrepend",(function(){return rotateByQuatPrepend})),__webpack_require__.d(quat2_namespaceObject,"rotateAroundAxis",(function(){return rotateAroundAxis})),__webpack_require__.d(quat2_namespaceObject,"add",(function(){return quat2_add})),__webpack_require__.d(quat2_namespaceObject,"multiply",(function(){return quat2_multiply})),__webpack_require__.d(quat2_namespaceObject,"mul",(function(){return quat2_mul})),__webpack_require__.d(quat2_namespaceObject,"scale",(function(){return quat2_scale})),__webpack_require__.d(quat2_namespaceObject,"dot",(function(){return quat2_dot})),__webpack_require__.d(quat2_namespaceObject,"lerp",(function(){return quat2_lerp})),__webpack_require__.d(quat2_namespaceObject,"invert",(function(){return quat2_invert})),__webpack_require__.d(quat2_namespaceObject,"conjugate",(function(){return quat2_conjugate})),__webpack_require__.d(quat2_namespaceObject,"length",(function(){return quat2_length})),__webpack_require__.d(quat2_namespaceObject,"len",(function(){return quat2_len})),__webpack_require__.d(quat2_namespaceObject,"squaredLength",(function(){return quat2_squaredLength})),__webpack_require__.d(quat2_namespaceObject,"sqrLen",(function(){return quat2_sqrLen})),__webpack_require__.d(quat2_namespaceObject,"normalize",(function(){return quat2_normalize})),__webpack_require__.d(quat2_namespaceObject,"str",(function(){return quat2_str})),__webpack_require__.d(quat2_namespaceObject,"exactEquals",(function(){return quat2_exactEquals})),__webpack_require__.d(quat2_namespaceObject,"equals",(function(){return quat2_equals}));var vec2_namespaceObject={};__webpack_require__.r(vec2_namespaceObject),__webpack_require__.d(vec2_namespaceObject,"create",(function(){return vec2_create})),__webpack_require__.d(vec2_namespaceObject,"clone",(function(){return vec2_clone})),__webpack_require__.d(vec2_namespaceObject,"fromValues",(function(){return vec2_fromValues})),__webpack_require__.d(vec2_namespaceObject,"copy",(function(){return vec2_copy})),__webpack_require__.d(vec2_namespaceObject,"set",(function(){return vec2_set})),__webpack_require__.d(vec2_namespaceObject,"add",(function(){return vec2_add})),__webpack_require__.d(vec2_namespaceObject,"subtract",(function(){return vec2_subtract})),__webpack_require__.d(vec2_namespaceObject,"multiply",(function(){return vec2_multiply})),__webpack_require__.d(vec2_namespaceObject,"divide",(function(){return vec2_divide})),__webpack_require__.d(vec2_namespaceObject,"ceil",(function(){return vec2_ceil})),__webpack_require__.d(vec2_namespaceObject,"floor",(function(){return vec2_floor})),__webpack_require__.d(vec2_namespaceObject,"min",(function(){return vec2_min})),__webpack_require__.d(vec2_namespaceObject,"max",(function(){return vec2_max})),__webpack_require__.d(vec2_namespaceObject,"round",(function(){return vec2_round})),__webpack_require__.d(vec2_namespaceObject,"scale",(function(){return vec2_scale})),__webpack_require__.d(vec2_namespaceObject,"scaleAndAdd",(function(){return vec2_scaleAndAdd})),__webpack_require__.d(vec2_namespaceObject,"distance",(function(){return vec2_distance})),__webpack_require__.d(vec2_namespaceObject,"squaredDistance",(function(){return vec2_squaredDistance})),__webpack_require__.d(vec2_namespaceObject,"length",(function(){return vec2_length})),__webpack_require__.d(vec2_namespaceObject,"squaredLength",(function(){return vec2_squaredLength})),__webpack_require__.d(vec2_namespaceObject,"negate",(function(){return vec2_negate})),__webpack_require__.d(vec2_namespaceObject,"inverse",(function(){return vec2_inverse})),__webpack_require__.d(vec2_namespaceObject,"normalize",(function(){return vec2_normalize})),__webpack_require__.d(vec2_namespaceObject,"dot",(function(){return vec2_dot})),__webpack_require__.d(vec2_namespaceObject,"cross",(function(){return vec2_cross})),__webpack_require__.d(vec2_namespaceObject,"lerp",(function(){return vec2_lerp})),__webpack_require__.d(vec2_namespaceObject,"random",(function(){return vec2_random})),__webpack_require__.d(vec2_namespaceObject,"transformMat2",(function(){return transformMat2})),__webpack_require__.d(vec2_namespaceObject,"transformMat2d",(function(){return transformMat2d})),__webpack_require__.d(vec2_namespaceObject,"transformMat3",(function(){return vec2_transformMat3})),__webpack_require__.d(vec2_namespaceObject,"transformMat4",(function(){return vec2_transformMat4})),__webpack_require__.d(vec2_namespaceObject,"rotate",(function(){return vec2_rotate})),__webpack_require__.d(vec2_namespaceObject,"angle",(function(){return vec2_angle})),__webpack_require__.d(vec2_namespaceObject,"str",(function(){return vec2_str})),__webpack_require__.d(vec2_namespaceObject,"exactEquals",(function(){return vec2_exactEquals})),__webpack_require__.d(vec2_namespaceObject,"equals",(function(){return vec2_equals})),__webpack_require__.d(vec2_namespaceObject,"len",(function(){return vec2_len})),__webpack_require__.d(vec2_namespaceObject,"sub",(function(){return vec2_sub})),__webpack_require__.d(vec2_namespaceObject,"mul",(function(){return vec2_mul})),__webpack_require__.d(vec2_namespaceObject,"div",(function(){return vec2_div})),__webpack_require__.d(vec2_namespaceObject,"dist",(function(){return vec2_dist})),__webpack_require__.d(vec2_namespaceObject,"sqrDist",(function(){return vec2_sqrDist})),__webpack_require__.d(vec2_namespaceObject,"sqrLen",(function(){return vec2_sqrLen})),__webpack_require__.d(vec2_namespaceObject,"forEach",(function(){return vec2_forEach}));var EPSILON=1e-6,ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,RANDOM=Math.random;function setMatrixArrayType(type){ARRAY_TYPE=type}var degree=Math.PI/180;function toRadian(a){return a*degree}function equals(a,b){return Math.abs(a-b)<=EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}function create(){var out=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0),out[0]=1,out[3]=1,out}function clone(a){var out=new ARRAY_TYPE(4);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out}function fromValues(m00,m01,m10,m11){var out=new ARRAY_TYPE(4);return out[0]=m00,out[1]=m01,out[2]=m10,out[3]=m11,out}function set(out,m00,m01,m10,m11){return out[0]=m00,out[1]=m01,out[2]=m10,out[3]=m11,out}function transpose(out,a){if(out===a){var a1=a[1];out[1]=a[2],out[2]=a1}else out[0]=a[0],out[1]=a[2],out[2]=a[1],out[3]=a[3];return out}function invert(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],det=a0*a3-a2*a1;return det?(det=1/det,out[0]=a3*det,out[1]=-a1*det,out[2]=-a2*det,out[3]=a0*det,out):null}function adjoint(out,a){var a0=a[0];return out[0]=a[3],out[1]=-a[1],out[2]=-a[2],out[3]=a0,out}function determinant(a){return a[0]*a[3]-a[2]*a[1]}function multiply(out,a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=a0*b0+a2*b1,out[1]=a1*b0+a3*b1,out[2]=a0*b2+a2*b3,out[3]=a1*b2+a3*b3,out}function rotate(out,a,rad){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],s=Math.sin(rad),c=Math.cos(rad);return out[0]=a0*c+a2*s,out[1]=a1*c+a3*s,out[2]=a0*-s+a2*c,out[3]=a1*-s+a3*c,out}function mat2_scale(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],v0=v[0],v1=v[1];return out[0]=a0*v0,out[1]=a1*v0,out[2]=a2*v1,out[3]=a3*v1,out}function fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=-s,out[3]=c,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=v[1],out}function str(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))}function LDU(L,D,U,a){return L[2]=a[2]/a[0],U[0]=a[0],U[1]=a[1],U[3]=a[3]-L[2]*U[1],[L,D,U]}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function mat2_equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out}var mul=multiply,sub=subtract;function mat2d_create(){var out=new ARRAY_TYPE(6);return ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0,out[4]=0,out[5]=0),out[0]=1,out[3]=1,out}function mat2d_clone(a){var out=new ARRAY_TYPE(6);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out}function mat2d_copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out}function mat2d_identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out}function mat2d_fromValues(a,b,c,d,tx,ty){var out=new ARRAY_TYPE(6);return out[0]=a,out[1]=b,out[2]=c,out[3]=d,out[4]=tx,out[5]=ty,out}function mat2d_set(out,a,b,c,d,tx,ty){return out[0]=a,out[1]=b,out[2]=c,out[3]=d,out[4]=tx,out[5]=ty,out}function mat2d_invert(out,a){var aa=a[0],ab=a[1],ac=a[2],ad=a[3],atx=a[4],aty=a[5],det=aa*ad-ab*ac;return det?(det=1/det,out[0]=ad*det,out[1]=-ab*det,out[2]=-ac*det,out[3]=aa*det,out[4]=(ac*aty-ad*atx)*det,out[5]=(ab*atx-aa*aty)*det,out):null}function mat2d_determinant(a){return a[0]*a[3]-a[1]*a[2]}function mat2d_multiply(out,a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5];return out[0]=a0*b0+a2*b1,out[1]=a1*b0+a3*b1,out[2]=a0*b2+a2*b3,out[3]=a1*b2+a3*b3,out[4]=a0*b4+a2*b5+a4,out[5]=a1*b4+a3*b5+a5,out}function mat2d_rotate(out,a,rad){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],s=Math.sin(rad),c=Math.cos(rad);return out[0]=a0*c+a2*s,out[1]=a1*c+a3*s,out[2]=a0*-s+a2*c,out[3]=a1*-s+a3*c,out[4]=a4,out[5]=a5,out}function mat2d_scale(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],v0=v[0],v1=v[1];return out[0]=a0*v0,out[1]=a1*v0,out[2]=a2*v1,out[3]=a3*v1,out[4]=a4,out[5]=a5,out}function translate(out,a,v){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],v0=v[0],v1=v[1];return out[0]=a0,out[1]=a1,out[2]=a2,out[3]=a3,out[4]=a0*v0+a2*v1+a4,out[5]=a1*v0+a3*v1+a5,out}function mat2d_fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=-s,out[3]=c,out[4]=0,out[5]=0,out}function mat2d_fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=v[1],out[4]=0,out[5]=0,out}function fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=1,out[4]=v[0],out[5]=v[1],out}function mat2d_str(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"}function mat2d_frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)}function mat2d_add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out}function mat2d_subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out}function mat2d_multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out}function mat2d_multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out}function mat2d_exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]}function mat2d_equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))}var mat2d_mul=mat2d_multiply,mat2d_sub=mat2d_subtract;function mat3_create(){var out=new ARRAY_TYPE(9);return ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0,out[3]=0,out[5]=0,out[6]=0,out[7]=0),out[0]=1,out[4]=1,out[8]=1,out}function fromMat4(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[4],out[4]=a[5],out[5]=a[6],out[6]=a[8],out[7]=a[9],out[8]=a[10],out}function mat3_clone(a){var out=new ARRAY_TYPE(9);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function mat3_copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function mat3_fromValues(m00,m01,m02,m10,m11,m12,m20,m21,m22){var out=new ARRAY_TYPE(9);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out}function mat3_set(out,m00,m01,m02,m10,m11,m12,m20,m21,m22){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out}function mat3_identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function mat3_transpose(out,a){if(out===a){var a01=a[1],a02=a[2],a12=a[5];out[1]=a[3],out[2]=a[6],out[3]=a01,out[5]=a[7],out[6]=a02,out[7]=a12}else out[0]=a[0],out[1]=a[3],out[2]=a[6],out[3]=a[1],out[4]=a[4],out[5]=a[7],out[6]=a[2],out[7]=a[5],out[8]=a[8];return out}function mat3_invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b01=a22*a11-a12*a21,b11=-a22*a10+a12*a20,b21=a21*a10-a11*a20,det=a00*b01+a01*b11+a02*b21;return det?(det=1/det,out[0]=b01*det,out[1]=(-a22*a01+a02*a21)*det,out[2]=(a12*a01-a02*a11)*det,out[3]=b11*det,out[4]=(a22*a00-a02*a20)*det,out[5]=(-a12*a00+a02*a10)*det,out[6]=b21*det,out[7]=(-a21*a00+a01*a20)*det,out[8]=(a11*a00-a01*a10)*det,out):null}function mat3_adjoint(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return out[0]=a11*a22-a12*a21,out[1]=a02*a21-a01*a22,out[2]=a01*a12-a02*a11,out[3]=a12*a20-a10*a22,out[4]=a00*a22-a02*a20,out[5]=a02*a10-a00*a12,out[6]=a10*a21-a11*a20,out[7]=a01*a20-a00*a21,out[8]=a00*a11-a01*a10,out}function mat3_determinant(a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return a00*(a22*a11-a12*a21)+a01*(-a22*a10+a12*a20)+a02*(a21*a10-a11*a20)}function mat3_multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b00=b[0],b01=b[1],b02=b[2],b10=b[3],b11=b[4],b12=b[5],b20=b[6],b21=b[7],b22=b[8];return out[0]=b00*a00+b01*a10+b02*a20,out[1]=b00*a01+b01*a11+b02*a21,out[2]=b00*a02+b01*a12+b02*a22,out[3]=b10*a00+b11*a10+b12*a20,out[4]=b10*a01+b11*a11+b12*a21,out[5]=b10*a02+b11*a12+b12*a22,out[6]=b20*a00+b21*a10+b22*a20,out[7]=b20*a01+b21*a11+b22*a21,out[8]=b20*a02+b21*a12+b22*a22,out}function mat3_translate(out,a,v){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],x=v[0],y=v[1];return out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a10,out[4]=a11,out[5]=a12,out[6]=x*a00+y*a10+a20,out[7]=x*a01+y*a11+a21,out[8]=x*a02+y*a12+a22,out}function mat3_rotate(out,a,rad){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],s=Math.sin(rad),c=Math.cos(rad);return out[0]=c*a00+s*a10,out[1]=c*a01+s*a11,out[2]=c*a02+s*a12,out[3]=c*a10-s*a00,out[4]=c*a11-s*a01,out[5]=c*a12-s*a02,out[6]=a20,out[7]=a21,out[8]=a22,out}function mat3_scale(out,a,v){var x=v[0],y=v[1];return out[0]=x*a[0],out[1]=x*a[1],out[2]=x*a[2],out[3]=y*a[3],out[4]=y*a[4],out[5]=y*a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function mat3_fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=v[0],out[7]=v[1],out[8]=1,out}function mat3_fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=-s,out[4]=c,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function mat3_fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=v[1],out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function fromMat2d(out,a){return out[0]=a[0],out[1]=a[1],out[2]=0,out[3]=a[2],out[4]=a[3],out[5]=0,out[6]=a[4],out[7]=a[5],out[8]=1,out}function fromQuat(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[3]=yx-wz,out[6]=zx+wy,out[1]=yx+wz,out[4]=1-xx-zz,out[7]=zy-wx,out[2]=zx-wy,out[5]=zy+wx,out[8]=1-xx-yy,out}function normalFromMat4(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a12*b08-a10*b11-a13*b07)*det,out[2]=(a10*b10-a11*b08+a13*b06)*det,out[3]=(a02*b10-a01*b11-a03*b09)*det,out[4]=(a00*b11-a02*b08+a03*b07)*det,out[5]=(a01*b08-a00*b10-a03*b06)*det,out[6]=(a31*b05-a32*b04+a33*b03)*det,out[7]=(a32*b02-a30*b05-a33*b01)*det,out[8]=(a30*b04-a31*b02+a33*b00)*det,out):null}function projection(out,width,height){return out[0]=2/width,out[1]=0,out[2]=0,out[3]=0,out[4]=-2/height,out[5]=0,out[6]=-1,out[7]=1,out[8]=1,out}function mat3_str(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"}function mat3_frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))}function mat3_add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out}function mat3_subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out}function mat3_multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out}function mat3_multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out}function mat3_exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]}function mat3_equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))}var mat3_mul=mat3_multiply,mat3_sub=mat3_subtract;function mat4_create(){var out=new ARRAY_TYPE(16);return ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[11]=0,out[12]=0,out[13]=0,out[14]=0),out[0]=1,out[5]=1,out[10]=1,out[15]=1,out}function mat4_clone(a){var out=new ARRAY_TYPE(16);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function mat4_copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function mat4_fromValues(m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){var out=new ARRAY_TYPE(16);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,out}function mat4_set(out,m00,m01,m02,m03,m10,m11,m12,m13,m20,m21,m22,m23,m30,m31,m32,m33){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m03,out[4]=m10,out[5]=m11,out[6]=m12,out[7]=m13,out[8]=m20,out[9]=m21,out[10]=m22,out[11]=m23,out[12]=m30,out[13]=m31,out[14]=m32,out[15]=m33,out}function mat4_identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function mat4_transpose(out,a){if(out===a){var a01=a[1],a02=a[2],a03=a[3],a12=a[6],a13=a[7],a23=a[11];out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a01,out[6]=a[9],out[7]=a[13],out[8]=a02,out[9]=a12,out[11]=a[14],out[12]=a03,out[13]=a13,out[14]=a23}else out[0]=a[0],out[1]=a[4],out[2]=a[8],out[3]=a[12],out[4]=a[1],out[5]=a[5],out[6]=a[9],out[7]=a[13],out[8]=a[2],out[9]=a[6],out[10]=a[10],out[11]=a[14],out[12]=a[3],out[13]=a[7],out[14]=a[11],out[15]=a[15];return out}function mat4_invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a02*b10-a01*b11-a03*b09)*det,out[2]=(a31*b05-a32*b04+a33*b03)*det,out[3]=(a22*b04-a21*b05-a23*b03)*det,out[4]=(a12*b08-a10*b11-a13*b07)*det,out[5]=(a00*b11-a02*b08+a03*b07)*det,out[6]=(a32*b02-a30*b05-a33*b01)*det,out[7]=(a20*b05-a22*b02+a23*b01)*det,out[8]=(a10*b10-a11*b08+a13*b06)*det,out[9]=(a01*b08-a00*b10-a03*b06)*det,out[10]=(a30*b04-a31*b02+a33*b00)*det,out[11]=(a21*b02-a20*b04-a23*b00)*det,out[12]=(a11*b07-a10*b09-a12*b06)*det,out[13]=(a00*b09-a01*b07+a02*b06)*det,out[14]=(a31*b01-a30*b03-a32*b00)*det,out[15]=(a20*b03-a21*b01+a22*b00)*det,out):null}function mat4_adjoint(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return out[0]=a11*(a22*a33-a23*a32)-a21*(a12*a33-a13*a32)+a31*(a12*a23-a13*a22),out[1]=-(a01*(a22*a33-a23*a32)-a21*(a02*a33-a03*a32)+a31*(a02*a23-a03*a22)),out[2]=a01*(a12*a33-a13*a32)-a11*(a02*a33-a03*a32)+a31*(a02*a13-a03*a12),out[3]=-(a01*(a12*a23-a13*a22)-a11*(a02*a23-a03*a22)+a21*(a02*a13-a03*a12)),out[4]=-(a10*(a22*a33-a23*a32)-a20*(a12*a33-a13*a32)+a30*(a12*a23-a13*a22)),out[5]=a00*(a22*a33-a23*a32)-a20*(a02*a33-a03*a32)+a30*(a02*a23-a03*a22),out[6]=-(a00*(a12*a33-a13*a32)-a10*(a02*a33-a03*a32)+a30*(a02*a13-a03*a12)),out[7]=a00*(a12*a23-a13*a22)-a10*(a02*a23-a03*a22)+a20*(a02*a13-a03*a12),out[8]=a10*(a21*a33-a23*a31)-a20*(a11*a33-a13*a31)+a30*(a11*a23-a13*a21),out[9]=-(a00*(a21*a33-a23*a31)-a20*(a01*a33-a03*a31)+a30*(a01*a23-a03*a21)),out[10]=a00*(a11*a33-a13*a31)-a10*(a01*a33-a03*a31)+a30*(a01*a13-a03*a11),out[11]=-(a00*(a11*a23-a13*a21)-a10*(a01*a23-a03*a21)+a20*(a01*a13-a03*a11)),out[12]=-(a10*(a21*a32-a22*a31)-a20*(a11*a32-a12*a31)+a30*(a11*a22-a12*a21)),out[13]=a00*(a21*a32-a22*a31)-a20*(a01*a32-a02*a31)+a30*(a01*a22-a02*a21),out[14]=-(a00*(a11*a32-a12*a31)-a10*(a01*a32-a02*a31)+a30*(a01*a12-a02*a11)),out[15]=a00*(a11*a22-a12*a21)-a10*(a01*a22-a02*a21)+a20*(a01*a12-a02*a11),out}function mat4_determinant(a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15];return(a00*a11-a01*a10)*(a22*a33-a23*a32)-(a00*a12-a02*a10)*(a21*a33-a23*a31)+(a00*a13-a03*a10)*(a21*a32-a22*a31)+(a01*a12-a02*a11)*(a20*a33-a23*a30)-(a01*a13-a03*a11)*(a20*a32-a22*a30)+(a02*a13-a03*a12)*(a20*a31-a21*a30)}function mat4_multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return out[0]=b0*a00+b1*a10+b2*a20+b3*a30,out[1]=b0*a01+b1*a11+b2*a21+b3*a31,out[2]=b0*a02+b1*a12+b2*a22+b3*a32,out[3]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[4],b1=b[5],b2=b[6],b3=b[7],out[4]=b0*a00+b1*a10+b2*a20+b3*a30,out[5]=b0*a01+b1*a11+b2*a21+b3*a31,out[6]=b0*a02+b1*a12+b2*a22+b3*a32,out[7]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[8],b1=b[9],b2=b[10],b3=b[11],out[8]=b0*a00+b1*a10+b2*a20+b3*a30,out[9]=b0*a01+b1*a11+b2*a21+b3*a31,out[10]=b0*a02+b1*a12+b2*a22+b3*a32,out[11]=b0*a03+b1*a13+b2*a23+b3*a33,b0=b[12],b1=b[13],b2=b[14],b3=b[15],out[12]=b0*a00+b1*a10+b2*a20+b3*a30,out[13]=b0*a01+b1*a11+b2*a21+b3*a31,out[14]=b0*a02+b1*a12+b2*a22+b3*a32,out[15]=b0*a03+b1*a13+b2*a23+b3*a33,out}function mat4_translate(out,a,v){var x=v[0],y=v[1],z=v[2],a00=void 0,a01=void 0,a02=void 0,a03=void 0,a10=void 0,a11=void 0,a12=void 0,a13=void 0,a20=void 0,a21=void 0,a22=void 0,a23=void 0;return a===out?(out[12]=a[0]*x+a[4]*y+a[8]*z+a[12],out[13]=a[1]*x+a[5]*y+a[9]*z+a[13],out[14]=a[2]*x+a[6]*y+a[10]*z+a[14],out[15]=a[3]*x+a[7]*y+a[11]*z+a[15]):(a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a03,out[4]=a10,out[5]=a11,out[6]=a12,out[7]=a13,out[8]=a20,out[9]=a21,out[10]=a22,out[11]=a23,out[12]=a00*x+a10*y+a20*z+a[12],out[13]=a01*x+a11*y+a21*z+a[13],out[14]=a02*x+a12*y+a22*z+a[14],out[15]=a03*x+a13*y+a23*z+a[15]),out}function mat4_scale(out,a,v){var x=v[0],y=v[1],z=v[2];return out[0]=a[0]*x,out[1]=a[1]*x,out[2]=a[2]*x,out[3]=a[3]*x,out[4]=a[4]*y,out[5]=a[5]*y,out[6]=a[6]*y,out[7]=a[7]*y,out[8]=a[8]*z,out[9]=a[9]*z,out[10]=a[10]*z,out[11]=a[11]*z,out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15],out}function mat4_rotate(out,a,rad,axis){var s,c,t,a00,a01,a02,a03,a10,a11,a12,a13,a20,a21,a22,a23,b00,b01,b02,b10,b11,b12,b20,b21,b22,x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z);return len<EPSILON?null:(x*=len=1/len,y*=len,z*=len,s=Math.sin(rad),t=1-(c=Math.cos(rad)),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],b00=x*x*t+c,b01=y*x*t+z*s,b02=z*x*t-y*s,b10=x*y*t-z*s,b11=y*y*t+c,b12=z*y*t+x*s,b20=x*z*t+y*s,b21=y*z*t-x*s,b22=z*z*t+c,out[0]=a00*b00+a10*b01+a20*b02,out[1]=a01*b00+a11*b01+a21*b02,out[2]=a02*b00+a12*b01+a22*b02,out[3]=a03*b00+a13*b01+a23*b02,out[4]=a00*b10+a10*b11+a20*b12,out[5]=a01*b10+a11*b11+a21*b12,out[6]=a02*b10+a12*b11+a22*b12,out[7]=a03*b10+a13*b11+a23*b12,out[8]=a00*b20+a10*b21+a20*b22,out[9]=a01*b20+a11*b21+a21*b22,out[10]=a02*b20+a12*b21+a22*b22,out[11]=a03*b20+a13*b21+a23*b22,a!==out&&(out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out)}function rotateX(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[4]=a10*c+a20*s,out[5]=a11*c+a21*s,out[6]=a12*c+a22*s,out[7]=a13*c+a23*s,out[8]=a20*c-a10*s,out[9]=a21*c-a11*s,out[10]=a22*c-a12*s,out[11]=a23*c-a13*s,out}function rotateY(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a20=a[8],a21=a[9],a22=a[10],a23=a[11];return a!==out&&(out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c-a20*s,out[1]=a01*c-a21*s,out[2]=a02*c-a22*s,out[3]=a03*c-a23*s,out[8]=a00*s+a20*c,out[9]=a01*s+a21*c,out[10]=a02*s+a22*c,out[11]=a03*s+a23*c,out}function rotateZ(out,a,rad){var s=Math.sin(rad),c=Math.cos(rad),a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7];return a!==out&&(out[8]=a[8],out[9]=a[9],out[10]=a[10],out[11]=a[11],out[12]=a[12],out[13]=a[13],out[14]=a[14],out[15]=a[15]),out[0]=a00*c+a10*s,out[1]=a01*c+a11*s,out[2]=a02*c+a12*s,out[3]=a03*c+a13*s,out[4]=a10*c-a00*s,out[5]=a11*c-a01*s,out[6]=a12*c-a02*s,out[7]=a13*c-a03*s,out}function mat4_fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function mat4_fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=v[1],out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=v[2],out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function mat4_fromRotation(out,rad,axis){var s,c,t,x=axis[0],y=axis[1],z=axis[2],len=Math.sqrt(x*x+y*y+z*z);return len<EPSILON?null:(x*=len=1/len,y*=len,z*=len,s=Math.sin(rad),t=1-(c=Math.cos(rad)),out[0]=x*x*t+c,out[1]=y*x*t+z*s,out[2]=z*x*t-y*s,out[3]=0,out[4]=x*y*t-z*s,out[5]=y*y*t+c,out[6]=z*y*t+x*s,out[7]=0,out[8]=x*z*t+y*s,out[9]=y*z*t-x*s,out[10]=z*z*t+c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out)}function fromXRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=c,out[6]=s,out[7]=0,out[8]=0,out[9]=-s,out[10]=c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromYRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=0,out[2]=-s,out[3]=0,out[4]=0,out[5]=1,out[6]=0,out[7]=0,out[8]=s,out[9]=0,out[10]=c,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromZRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=0,out[4]=-s,out[5]=c,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=1,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function fromRotationTranslation(out,q,v){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-(yy+zz),out[1]=xy+wz,out[2]=xz-wy,out[3]=0,out[4]=xy-wz,out[5]=1-(xx+zz),out[6]=yz+wx,out[7]=0,out[8]=xz+wy,out[9]=yz-wx,out[10]=1-(xx+yy),out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function fromQuat2(out,a){var translation=new ARRAY_TYPE(3),bx=-a[0],by=-a[1],bz=-a[2],bw=a[3],ax=a[4],ay=a[5],az=a[6],aw=a[7],magnitude=bx*bx+by*by+bz*bz+bw*bw;return magnitude>0?(translation[0]=2*(ax*bw+aw*bx+ay*bz-az*by)/magnitude,translation[1]=2*(ay*bw+aw*by+az*bx-ax*bz)/magnitude,translation[2]=2*(az*bw+aw*bz+ax*by-ay*bx)/magnitude):(translation[0]=2*(ax*bw+aw*bx+ay*bz-az*by),translation[1]=2*(ay*bw+aw*by+az*bx-ax*bz),translation[2]=2*(az*bw+aw*bz+ax*by-ay*bx)),fromRotationTranslation(out,a,translation),out}function getTranslation(out,mat){return out[0]=mat[12],out[1]=mat[13],out[2]=mat[14],out}function getScaling(out,mat){var m11=mat[0],m12=mat[1],m13=mat[2],m21=mat[4],m22=mat[5],m23=mat[6],m31=mat[8],m32=mat[9],m33=mat[10];return out[0]=Math.sqrt(m11*m11+m12*m12+m13*m13),out[1]=Math.sqrt(m21*m21+m22*m22+m23*m23),out[2]=Math.sqrt(m31*m31+m32*m32+m33*m33),out}function getRotation(out,mat){var trace=mat[0]+mat[5]+mat[10],S=0;return trace>0?(S=2*Math.sqrt(trace+1),out[3]=.25*S,out[0]=(mat[6]-mat[9])/S,out[1]=(mat[8]-mat[2])/S,out[2]=(mat[1]-mat[4])/S):mat[0]>mat[5]&&mat[0]>mat[10]?(S=2*Math.sqrt(1+mat[0]-mat[5]-mat[10]),out[3]=(mat[6]-mat[9])/S,out[0]=.25*S,out[1]=(mat[1]+mat[4])/S,out[2]=(mat[8]+mat[2])/S):mat[5]>mat[10]?(S=2*Math.sqrt(1+mat[5]-mat[0]-mat[10]),out[3]=(mat[8]-mat[2])/S,out[0]=(mat[1]+mat[4])/S,out[1]=.25*S,out[2]=(mat[6]+mat[9])/S):(S=2*Math.sqrt(1+mat[10]-mat[0]-mat[5]),out[3]=(mat[1]-mat[4])/S,out[0]=(mat[8]+mat[2])/S,out[1]=(mat[6]+mat[9])/S,out[2]=.25*S),out}function fromRotationTranslationScale(out,q,v,s){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2,sx=s[0],sy=s[1],sz=s[2];return out[0]=(1-(yy+zz))*sx,out[1]=(xy+wz)*sx,out[2]=(xz-wy)*sx,out[3]=0,out[4]=(xy-wz)*sy,out[5]=(1-(xx+zz))*sy,out[6]=(yz+wx)*sy,out[7]=0,out[8]=(xz+wy)*sz,out[9]=(yz-wx)*sz,out[10]=(1-(xx+yy))*sz,out[11]=0,out[12]=v[0],out[13]=v[1],out[14]=v[2],out[15]=1,out}function fromRotationTranslationScaleOrigin(out,q,v,s,o){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,xy=x*y2,xz=x*z2,yy=y*y2,yz=y*z2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2,sx=s[0],sy=s[1],sz=s[2],ox=o[0],oy=o[1],oz=o[2],out0=(1-(yy+zz))*sx,out1=(xy+wz)*sx,out2=(xz-wy)*sx,out4=(xy-wz)*sy,out5=(1-(xx+zz))*sy,out6=(yz+wx)*sy,out8=(xz+wy)*sz,out9=(yz-wx)*sz,out10=(1-(xx+yy))*sz;return out[0]=out0,out[1]=out1,out[2]=out2,out[3]=0,out[4]=out4,out[5]=out5,out[6]=out6,out[7]=0,out[8]=out8,out[9]=out9,out[10]=out10,out[11]=0,out[12]=v[0]+ox-(out0*ox+out4*oy+out8*oz),out[13]=v[1]+oy-(out1*ox+out5*oy+out9*oz),out[14]=v[2]+oz-(out2*ox+out6*oy+out10*oz),out[15]=1,out}function mat4_fromQuat(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[1]=yx+wz,out[2]=zx-wy,out[3]=0,out[4]=yx-wz,out[5]=1-xx-zz,out[6]=zy+wx,out[7]=0,out[8]=zx+wy,out[9]=zy-wx,out[10]=1-xx-yy,out[11]=0,out[12]=0,out[13]=0,out[14]=0,out[15]=1,out}function frustum(out,left,right,bottom,top,near,far){var rl=1/(right-left),tb=1/(top-bottom),nf=1/(near-far);return out[0]=2*near*rl,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=2*near*tb,out[6]=0,out[7]=0,out[8]=(right+left)*rl,out[9]=(top+bottom)*tb,out[10]=(far+near)*nf,out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near*2*nf,out[15]=0,out}function perspective(out,fovy,aspect,near,far){var f=1/Math.tan(fovy/2),nf=void 0;return out[0]=f/aspect,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=f,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[11]=-1,out[12]=0,out[13]=0,out[15]=0,null!=far&&far!==1/0?(nf=1/(near-far),out[10]=(far+near)*nf,out[14]=2*far*near*nf):(out[10]=-1,out[14]=-2*near),out}function perspectiveFromFieldOfView(out,fov,near,far){var upTan=Math.tan(fov.upDegrees*Math.PI/180),downTan=Math.tan(fov.downDegrees*Math.PI/180),leftTan=Math.tan(fov.leftDegrees*Math.PI/180),rightTan=Math.tan(fov.rightDegrees*Math.PI/180),xScale=2/(leftTan+rightTan),yScale=2/(upTan+downTan);return out[0]=xScale,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=yScale,out[6]=0,out[7]=0,out[8]=-(leftTan-rightTan)*xScale*.5,out[9]=(upTan-downTan)*yScale*.5,out[10]=far/(near-far),out[11]=-1,out[12]=0,out[13]=0,out[14]=far*near/(near-far),out[15]=0,out}function ortho(out,left,right,bottom,top,near,far){var lr=1/(left-right),bt=1/(bottom-top),nf=1/(near-far);return out[0]=-2*lr,out[1]=0,out[2]=0,out[3]=0,out[4]=0,out[5]=-2*bt,out[6]=0,out[7]=0,out[8]=0,out[9]=0,out[10]=2*nf,out[11]=0,out[12]=(left+right)*lr,out[13]=(top+bottom)*bt,out[14]=(far+near)*nf,out[15]=1,out}function lookAt(out,eye,center,up){var x0=void 0,x1=void 0,x2=void 0,y0=void 0,y1=void 0,y2=void 0,z0=void 0,z1=void 0,z2=void 0,len=void 0,eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],centerx=center[0],centery=center[1],centerz=center[2];return Math.abs(eyex-centerx)<EPSILON&&Math.abs(eyey-centery)<EPSILON&&Math.abs(eyez-centerz)<EPSILON?mat4_identity(out):(z0=eyex-centerx,z1=eyey-centery,z2=eyez-centerz,x0=upy*(z2*=len=1/Math.sqrt(z0*z0+z1*z1+z2*z2))-upz*(z1*=len),x1=upz*(z0*=len)-upx*z2,x2=upx*z1-upy*z0,(len=Math.sqrt(x0*x0+x1*x1+x2*x2))?(x0*=len=1/len,x1*=len,x2*=len):(x0=0,x1=0,x2=0),y0=z1*x2-z2*x1,y1=z2*x0-z0*x2,y2=z0*x1-z1*x0,(len=Math.sqrt(y0*y0+y1*y1+y2*y2))?(y0*=len=1/len,y1*=len,y2*=len):(y0=0,y1=0,y2=0),out[0]=x0,out[1]=y0,out[2]=z0,out[3]=0,out[4]=x1,out[5]=y1,out[6]=z1,out[7]=0,out[8]=x2,out[9]=y2,out[10]=z2,out[11]=0,out[12]=-(x0*eyex+x1*eyey+x2*eyez),out[13]=-(y0*eyex+y1*eyey+y2*eyez),out[14]=-(z0*eyex+z1*eyey+z2*eyez),out[15]=1,out)}function targetTo(out,eye,target,up){var eyex=eye[0],eyey=eye[1],eyez=eye[2],upx=up[0],upy=up[1],upz=up[2],z0=eyex-target[0],z1=eyey-target[1],z2=eyez-target[2],len=z0*z0+z1*z1+z2*z2;len>0&&(z0*=len=1/Math.sqrt(len),z1*=len,z2*=len);var x0=upy*z2-upz*z1,x1=upz*z0-upx*z2,x2=upx*z1-upy*z0;return(len=x0*x0+x1*x1+x2*x2)>0&&(x0*=len=1/Math.sqrt(len),x1*=len,x2*=len),out[0]=x0,out[1]=x1,out[2]=x2,out[3]=0,out[4]=z1*x2-z2*x1,out[5]=z2*x0-z0*x2,out[6]=z0*x1-z1*x0,out[7]=0,out[8]=z0,out[9]=z1,out[10]=z2,out[11]=0,out[12]=eyex,out[13]=eyey,out[14]=eyez,out[15]=1,out}function mat4_str(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function mat4_frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))}function mat4_add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out[9]=a[9]+b[9],out[10]=a[10]+b[10],out[11]=a[11]+b[11],out[12]=a[12]+b[12],out[13]=a[13]+b[13],out[14]=a[14]+b[14],out[15]=a[15]+b[15],out}function mat4_subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out[9]=a[9]-b[9],out[10]=a[10]-b[10],out[11]=a[11]-b[11],out[12]=a[12]-b[12],out[13]=a[13]-b[13],out[14]=a[14]-b[14],out[15]=a[15]-b[15],out}function mat4_multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out[9]=a[9]*b,out[10]=a[10]*b,out[11]=a[11]*b,out[12]=a[12]*b,out[13]=a[13]*b,out[14]=a[14]*b,out[15]=a[15]*b,out}function mat4_multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out[9]=a[9]+b[9]*scale,out[10]=a[10]+b[10]*scale,out[11]=a[11]+b[11]*scale,out[12]=a[12]+b[12]*scale,out[13]=a[13]+b[13]*scale,out[14]=a[14]+b[14]*scale,out[15]=a[15]+b[15]*scale,out}function mat4_exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function mat4_equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],a9=a[9],a10=a[10],a11=a[11],a12=a[12],a13=a[13],a14=a[14],a15=a[15],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8],b9=b[9],b10=b[10],b11=b[11],b12=b[12],b13=b[13],b14=b[14],b15=b[15];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))&&Math.abs(a9-b9)<=EPSILON*Math.max(1,Math.abs(a9),Math.abs(b9))&&Math.abs(a10-b10)<=EPSILON*Math.max(1,Math.abs(a10),Math.abs(b10))&&Math.abs(a11-b11)<=EPSILON*Math.max(1,Math.abs(a11),Math.abs(b11))&&Math.abs(a12-b12)<=EPSILON*Math.max(1,Math.abs(a12),Math.abs(b12))&&Math.abs(a13-b13)<=EPSILON*Math.max(1,Math.abs(a13),Math.abs(b13))&&Math.abs(a14-b14)<=EPSILON*Math.max(1,Math.abs(a14),Math.abs(b14))&&Math.abs(a15-b15)<=EPSILON*Math.max(1,Math.abs(a15),Math.abs(b15))}var mat4_mul=mat4_multiply,mat4_sub=mat4_subtract;function vec3_create(){var out=new ARRAY_TYPE(3);return ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0),out}function vec3_clone(a){var out=new ARRAY_TYPE(3);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out}function vec3_length(a){var x=a[0],y=a[1],z=a[2];return Math.sqrt(x*x+y*y+z*z)}function vec3_fromValues(x,y,z){var out=new ARRAY_TYPE(3);return out[0]=x,out[1]=y,out[2]=z,out}function vec3_copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out}function vec3_set(out,x,y,z){return out[0]=x,out[1]=y,out[2]=z,out}function vec3_add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out}function vec3_subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out}function vec3_multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out}function ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out[2]=Math.ceil(a[2]),out}function floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out[2]=Math.floor(a[2]),out}function min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out}function max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out}function round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out[2]=Math.round(a[2]),out}function vec3_scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out}function scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return Math.sqrt(x*x+y*y+z*z)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return x*x+y*y+z*z}function squaredLength(a){var x=a[0],y=a[1],z=a[2];return x*x+y*y+z*z}function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out}function inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out}function normalize(out,a){var x=a[0],y=a[1],z=a[2],len=x*x+y*y+z*z;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len,out[2]=a[2]*len),out}function vec3_dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cross(out,a,b){var ax=a[0],ay=a[1],az=a[2],bx=b[0],by=b[1],bz=b[2];return out[0]=ay*bz-az*by,out[1]=az*bx-ax*bz,out[2]=ax*by-ay*bx,out}function lerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out}function hermite(out,a,b,c,d,t){var factorTimes2=t*t,factor1=factorTimes2*(2*t-3)+1,factor2=factorTimes2*(t-2)+t,factor3=factorTimes2*(t-1),factor4=factorTimes2*(3-2*t);return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out}function bezier(out,a,b,c,d,t){var inverseFactor=1-t,inverseFactorTimesTwo=inverseFactor*inverseFactor,factorTimes2=t*t,factor1=inverseFactorTimesTwo*inverseFactor,factor2=3*t*inverseFactorTimesTwo,factor3=3*factorTimes2*inverseFactor,factor4=factorTimes2*t;return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out}function random(out,scale){scale=scale||1;var r=2*RANDOM()*Math.PI,z=2*RANDOM()-1,zScale=Math.sqrt(1-z*z)*scale;return out[0]=Math.cos(r)*zScale,out[1]=Math.sin(r)*zScale,out[2]=z*scale,out}function transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=m[3]*x+m[7]*y+m[11]*z+m[15];return w=w||1,out[0]=(m[0]*x+m[4]*y+m[8]*z+m[12])/w,out[1]=(m[1]*x+m[5]*y+m[9]*z+m[13])/w,out[2]=(m[2]*x+m[6]*y+m[10]*z+m[14])/w,out}function transformMat3(out,a,m){var x=a[0],y=a[1],z=a[2];return out[0]=x*m[0]+y*m[3]+z*m[6],out[1]=x*m[1]+y*m[4]+z*m[7],out[2]=x*m[2]+y*m[5]+z*m[8],out}function transformQuat(out,a,q){var qx=q[0],qy=q[1],qz=q[2],qw=q[3],x=a[0],y=a[1],z=a[2],uvx=qy*z-qz*y,uvy=qz*x-qx*z,uvz=qx*y-qy*x,uuvx=qy*uvz-qz*uvy,uuvy=qz*uvx-qx*uvz,uuvz=qx*uvy-qy*uvx,w2=2*qw;return uvx*=w2,uvy*=w2,uvz*=w2,uuvx*=2,uuvy*=2,uuvz*=2,out[0]=x+uvx+uuvx,out[1]=y+uvy+uuvy,out[2]=z+uvz+uuvz,out}function vec3_rotateX(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0],r[1]=p[1]*Math.cos(c)-p[2]*Math.sin(c),r[2]=p[1]*Math.sin(c)+p[2]*Math.cos(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function vec3_rotateY(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[2]*Math.sin(c)+p[0]*Math.cos(c),r[1]=p[1],r[2]=p[2]*Math.cos(c)-p[0]*Math.sin(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function vec3_rotateZ(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0]*Math.cos(c)-p[1]*Math.sin(c),r[1]=p[0]*Math.sin(c)+p[1]*Math.cos(c),r[2]=p[2],out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function angle(a,b){var tempA=vec3_fromValues(a[0],a[1],a[2]),tempB=vec3_fromValues(b[0],b[1],b[2]);normalize(tempA,tempA),normalize(tempB,tempB);var cosine=vec3_dot(tempA,tempB);return cosine>1?0:cosine<-1?Math.PI:Math.acos(cosine)}function vec3_str(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"}function vec3_exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]}function vec3_equals(a,b){var a0=a[0],a1=a[1],a2=a[2],b0=b[0],b1=b[1],b2=b[2];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))}var vec,vec3_sub=vec3_subtract,vec3_mul=vec3_multiply,div=divide,dist=distance,sqrDist=squaredDistance,vec3_len=vec3_length,sqrLen=squaredLength,forEach=(vec=vec3_create(),function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=3),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2];return a});function vec4_create(){var out=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0,out[3]=0),out}function vec4_clone(a){var out=new ARRAY_TYPE(4);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function vec4_fromValues(x,y,z,w){var out=new ARRAY_TYPE(4);return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out}function vec4_copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out}function vec4_set(out,x,y,z,w){return out[0]=x,out[1]=y,out[2]=z,out[3]=w,out}function vec4_add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out}function vec4_subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out}function vec4_multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out[3]=a[3]*b[3],out}function vec4_divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out[3]=a[3]/b[3],out}function vec4_ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out[2]=Math.ceil(a[2]),out[3]=Math.ceil(a[3]),out}function vec4_floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out[2]=Math.floor(a[2]),out[3]=Math.floor(a[3]),out}function vec4_min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out[3]=Math.min(a[3],b[3]),out}function vec4_max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out[3]=Math.max(a[3],b[3]),out}function vec4_round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out[2]=Math.round(a[2]),out[3]=Math.round(a[3]),out}function vec4_scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out}function vec4_scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out}function vec4_distance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2],w=b[3]-a[3];return Math.sqrt(x*x+y*y+z*z+w*w)}function vec4_squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2],w=b[3]-a[3];return x*x+y*y+z*z+w*w}function vec4_length(a){var x=a[0],y=a[1],z=a[2],w=a[3];return Math.sqrt(x*x+y*y+z*z+w*w)}function vec4_squaredLength(a){var x=a[0],y=a[1],z=a[2],w=a[3];return x*x+y*y+z*z+w*w}function vec4_negate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=-a[3],out}function vec4_inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out[3]=1/a[3],out}function vec4_normalize(out,a){var x=a[0],y=a[1],z=a[2],w=a[3],len=x*x+y*y+z*z+w*w;return len>0&&(len=1/Math.sqrt(len),out[0]=x*len,out[1]=y*len,out[2]=z*len,out[3]=w*len),out}function vec4_dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function vec4_lerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2],aw=a[3];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out[3]=aw+t*(b[3]-aw),out}function vec4_random(out,scale){var v1,v2,v3,v4,s1,s2;scale=scale||1;do{s1=(v1=2*RANDOM()-1)*v1+(v2=2*RANDOM()-1)*v2}while(s1>=1);do{s2=(v3=2*RANDOM()-1)*v3+(v4=2*RANDOM()-1)*v4}while(s2>=1);var d=Math.sqrt((1-s1)/s2);return out[0]=scale*v1,out[1]=scale*v2,out[2]=scale*v3*d,out[3]=scale*v4*d,out}function vec4_transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=a[3];return out[0]=m[0]*x+m[4]*y+m[8]*z+m[12]*w,out[1]=m[1]*x+m[5]*y+m[9]*z+m[13]*w,out[2]=m[2]*x+m[6]*y+m[10]*z+m[14]*w,out[3]=m[3]*x+m[7]*y+m[11]*z+m[15]*w,out}function vec4_transformQuat(out,a,q){var x=a[0],y=a[1],z=a[2],qx=q[0],qy=q[1],qz=q[2],qw=q[3],ix=qw*x+qy*z-qz*y,iy=qw*y+qz*x-qx*z,iz=qw*z+qx*y-qy*x,iw=-qx*x-qy*y-qz*z;return out[0]=ix*qw+iw*-qx+iy*-qz-iz*-qy,out[1]=iy*qw+iw*-qy+iz*-qx-ix*-qz,out[2]=iz*qw+iw*-qz+ix*-qy-iy*-qx,out[3]=a[3],out}function vec4_str(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}function vec4_exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]}function vec4_equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],b0=b[0],b1=b[1],b2=b[2],b3=b[3];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))}var vec4_sub=vec4_subtract,vec4_mul=vec4_multiply,vec4_div=vec4_divide,vec4_dist=vec4_distance,vec4_sqrDist=vec4_squaredDistance,vec4_len=vec4_length,vec4_sqrLen=vec4_squaredLength,vec4_forEach=function(){var vec=vec4_create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=4),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],vec[3]=a[i+3],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2],a[i+3]=vec[3];return a}}();function quat_create(){var out=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0),out[3]=1,out}function quat_identity(out){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out}function setAxisAngle(out,axis,rad){rad*=.5;var s=Math.sin(rad);return out[0]=s*axis[0],out[1]=s*axis[1],out[2]=s*axis[2],out[3]=Math.cos(rad),out}function getAxisAngle(out_axis,q){var rad=2*Math.acos(q[3]),s=Math.sin(rad/2);return s>EPSILON?(out_axis[0]=q[0]/s,out_axis[1]=q[1]/s,out_axis[2]=q[2]/s):(out_axis[0]=1,out_axis[1]=0,out_axis[2]=0),rad}function quat_multiply(out,a,b){var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3];return out[0]=ax*bw+aw*bx+ay*bz-az*by,out[1]=ay*bw+aw*by+az*bx-ax*bz,out[2]=az*bw+aw*bz+ax*by-ay*bx,out[3]=aw*bw-ax*bx-ay*by-az*bz,out}function quat_rotateX(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+aw*bx,out[1]=ay*bw+az*bx,out[2]=az*bw-ay*bx,out[3]=aw*bw-ax*bx,out}function quat_rotateY(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],by=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw-az*by,out[1]=ay*bw+aw*by,out[2]=az*bw+ax*by,out[3]=aw*bw-ay*by,out}function quat_rotateZ(out,a,rad){rad*=.5;var ax=a[0],ay=a[1],az=a[2],aw=a[3],bz=Math.sin(rad),bw=Math.cos(rad);return out[0]=ax*bw+ay*bz,out[1]=ay*bw-ax*bz,out[2]=az*bw+aw*bz,out[3]=aw*bw-az*bz,out}function calculateW(out,a){var x=a[0],y=a[1],z=a[2];return out[0]=x,out[1]=y,out[2]=z,out[3]=Math.sqrt(Math.abs(1-x*x-y*y-z*z)),out}function slerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2],aw=a[3],bx=b[0],by=b[1],bz=b[2],bw=b[3],omega=void 0,cosom=void 0,sinom=void 0,scale0=void 0,scale1=void 0;return(cosom=ax*bx+ay*by+az*bz+aw*bw)<0&&(cosom=-cosom,bx=-bx,by=-by,bz=-bz,bw=-bw),1-cosom>EPSILON?(omega=Math.acos(cosom),sinom=Math.sin(omega),scale0=Math.sin((1-t)*omega)/sinom,scale1=Math.sin(t*omega)/sinom):(scale0=1-t,scale1=t),out[0]=scale0*ax+scale1*bx,out[1]=scale0*ay+scale1*by,out[2]=scale0*az+scale1*bz,out[3]=scale0*aw+scale1*bw,out}function quat_random(out){var u1=RANDOM(),u2=RANDOM(),u3=RANDOM(),sqrt1MinusU1=Math.sqrt(1-u1),sqrtU1=Math.sqrt(u1);return out[0]=sqrt1MinusU1*Math.sin(2*Math.PI*u2),out[1]=sqrt1MinusU1*Math.cos(2*Math.PI*u2),out[2]=sqrtU1*Math.sin(2*Math.PI*u3),out[3]=sqrtU1*Math.cos(2*Math.PI*u3),out}function quat_invert(out,a){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],dot=a0*a0+a1*a1+a2*a2+a3*a3,invDot=dot?1/dot:0;return out[0]=-a0*invDot,out[1]=-a1*invDot,out[2]=-a2*invDot,out[3]=a3*invDot,out}function conjugate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=a[3],out}function fromMat3(out,m){var fTrace=m[0]+m[4]+m[8],fRoot=void 0;if(fTrace>0)fRoot=Math.sqrt(fTrace+1),out[3]=.5*fRoot,fRoot=.5/fRoot,out[0]=(m[5]-m[7])*fRoot,out[1]=(m[6]-m[2])*fRoot,out[2]=(m[1]-m[3])*fRoot;else{var i=0;m[4]>m[0]&&(i=1),m[8]>m[3*i+i]&&(i=2);var j=(i+1)%3,k=(i+2)%3;fRoot=Math.sqrt(m[3*i+i]-m[3*j+j]-m[3*k+k]+1),out[i]=.5*fRoot,fRoot=.5/fRoot,out[3]=(m[3*j+k]-m[3*k+j])*fRoot,out[j]=(m[3*j+i]+m[3*i+j])*fRoot,out[k]=(m[3*k+i]+m[3*i+k])*fRoot}return out}function fromEuler(out,x,y,z){var halfToRad=.5*Math.PI/180;x*=halfToRad,y*=halfToRad,z*=halfToRad;var sx=Math.sin(x),cx=Math.cos(x),sy=Math.sin(y),cy=Math.cos(y),sz=Math.sin(z),cz=Math.cos(z);return out[0]=sx*cy*cz-cx*sy*sz,out[1]=cx*sy*cz+sx*cy*sz,out[2]=cx*cy*sz-sx*sy*cz,out[3]=cx*cy*cz+sx*sy*sz,out}function quat_str(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}var tmpvec3,xUnitVec3,yUnitVec3,temp1,temp2,matr,quat_clone=vec4_clone,quat_fromValues=vec4_fromValues,quat_copy=vec4_copy,quat_set=vec4_set,quat_add=vec4_add,quat_mul=quat_multiply,quat_scale=vec4_scale,quat_dot=vec4_dot,quat_lerp=vec4_lerp,quat_length=vec4_length,quat_len=quat_length,quat_squaredLength=vec4_squaredLength,quat_sqrLen=quat_squaredLength,quat_normalize=vec4_normalize,quat_exactEquals=vec4_exactEquals,quat_equals=vec4_equals,rotationTo=(tmpvec3=vec3_create(),xUnitVec3=vec3_fromValues(1,0,0),yUnitVec3=vec3_fromValues(0,1,0),function(out,a,b){var dot=vec3_dot(a,b);return dot<-.999999?(cross(tmpvec3,xUnitVec3,a),vec3_len(tmpvec3)<1e-6&&cross(tmpvec3,yUnitVec3,a),normalize(tmpvec3,tmpvec3),setAxisAngle(out,tmpvec3,Math.PI),out):dot>.999999?(out[0]=0,out[1]=0,out[2]=0,out[3]=1,out):(cross(tmpvec3,a,b),out[0]=tmpvec3[0],out[1]=tmpvec3[1],out[2]=tmpvec3[2],out[3]=1+dot,quat_normalize(out,out))}),sqlerp=(temp1=quat_create(),temp2=quat_create(),function(out,a,b,c,d,t){return slerp(temp1,a,d,t),slerp(temp2,b,c,t),slerp(out,temp1,temp2,2*t*(1-t)),out}),setAxes=(matr=mat3_create(),function(out,view,right,up){return matr[0]=right[0],matr[3]=right[1],matr[6]=right[2],matr[1]=up[0],matr[4]=up[1],matr[7]=up[2],matr[2]=-view[0],matr[5]=-view[1],matr[8]=-view[2],quat_normalize(out,fromMat3(out,matr))});function quat2_create(){var dq=new ARRAY_TYPE(8);return ARRAY_TYPE!=Float32Array&&(dq[0]=0,dq[1]=0,dq[2]=0,dq[4]=0,dq[5]=0,dq[6]=0,dq[7]=0),dq[3]=1,dq}function quat2_clone(a){var dq=new ARRAY_TYPE(8);return dq[0]=a[0],dq[1]=a[1],dq[2]=a[2],dq[3]=a[3],dq[4]=a[4],dq[5]=a[5],dq[6]=a[6],dq[7]=a[7],dq}function quat2_fromValues(x1,y1,z1,w1,x2,y2,z2,w2){var dq=new ARRAY_TYPE(8);return dq[0]=x1,dq[1]=y1,dq[2]=z1,dq[3]=w1,dq[4]=x2,dq[5]=y2,dq[6]=z2,dq[7]=w2,dq}function fromRotationTranslationValues(x1,y1,z1,w1,x2,y2,z2){var dq=new ARRAY_TYPE(8);dq[0]=x1,dq[1]=y1,dq[2]=z1,dq[3]=w1;var ax=.5*x2,ay=.5*y2,az=.5*z2;return dq[4]=ax*w1+ay*z1-az*y1,dq[5]=ay*w1+az*x1-ax*z1,dq[6]=az*w1+ax*y1-ay*x1,dq[7]=-ax*x1-ay*y1-az*z1,dq}function quat2_fromRotationTranslation(out,q,t){var ax=.5*t[0],ay=.5*t[1],az=.5*t[2],bx=q[0],by=q[1],bz=q[2],bw=q[3];return out[0]=bx,out[1]=by,out[2]=bz,out[3]=bw,out[4]=ax*bw+ay*bz-az*by,out[5]=ay*bw+az*bx-ax*bz,out[6]=az*bw+ax*by-ay*bx,out[7]=-ax*bx-ay*by-az*bz,out}function quat2_fromTranslation(out,t){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out[4]=.5*t[0],out[5]=.5*t[1],out[6]=.5*t[2],out[7]=0,out}function quat2_fromRotation(out,q){return out[0]=q[0],out[1]=q[1],out[2]=q[2],out[3]=q[3],out[4]=0,out[5]=0,out[6]=0,out[7]=0,out}function quat2_fromMat4(out,a){var outer=quat_create();getRotation(outer,a);var t=new ARRAY_TYPE(3);return getTranslation(t,a),quat2_fromRotationTranslation(out,outer,t),out}function quat2_copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out}function quat2_identity(out){return out[0]=0,out[1]=0,out[2]=0,out[3]=1,out[4]=0,out[5]=0,out[6]=0,out[7]=0,out}function quat2_set(out,x1,y1,z1,w1,x2,y2,z2,w2){return out[0]=x1,out[1]=y1,out[2]=z1,out[3]=w1,out[4]=x2,out[5]=y2,out[6]=z2,out[7]=w2,out}var getReal=quat_copy;function getDual(out,a){return out[0]=a[4],out[1]=a[5],out[2]=a[6],out[3]=a[7],out}var setReal=quat_copy;function setDual(out,q){return out[4]=q[0],out[5]=q[1],out[6]=q[2],out[7]=q[3],out}function quat2_getTranslation(out,a){var ax=a[4],ay=a[5],az=a[6],aw=a[7],bx=-a[0],by=-a[1],bz=-a[2],bw=a[3];return out[0]=2*(ax*bw+aw*bx+ay*bz-az*by),out[1]=2*(ay*bw+aw*by+az*bx-ax*bz),out[2]=2*(az*bw+aw*bz+ax*by-ay*bx),out}function quat2_translate(out,a,v){var ax1=a[0],ay1=a[1],az1=a[2],aw1=a[3],bx1=.5*v[0],by1=.5*v[1],bz1=.5*v[2],ax2=a[4],ay2=a[5],az2=a[6],aw2=a[7];return out[0]=ax1,out[1]=ay1,out[2]=az1,out[3]=aw1,out[4]=aw1*bx1+ay1*bz1-az1*by1+ax2,out[5]=aw1*by1+az1*bx1-ax1*bz1+ay2,out[6]=aw1*bz1+ax1*by1-ay1*bx1+az2,out[7]=-ax1*bx1-ay1*by1-az1*bz1+aw2,out}function quat2_rotateX(out,a,rad){var bx=-a[0],by=-a[1],bz=-a[2],bw=a[3],ax=a[4],ay=a[5],az=a[6],aw=a[7],ax1=ax*bw+aw*bx+ay*bz-az*by,ay1=ay*bw+aw*by+az*bx-ax*bz,az1=az*bw+aw*bz+ax*by-ay*bx,aw1=aw*bw-ax*bx-ay*by-az*bz;return quat_rotateX(out,a,rad),bx=out[0],by=out[1],bz=out[2],bw=out[3],out[4]=ax1*bw+aw1*bx+ay1*bz-az1*by,out[5]=ay1*bw+aw1*by+az1*bx-ax1*bz,out[6]=az1*bw+aw1*bz+ax1*by-ay1*bx,out[7]=aw1*bw-ax1*bx-ay1*by-az1*bz,out}function quat2_rotateY(out,a,rad){var bx=-a[0],by=-a[1],bz=-a[2],bw=a[3],ax=a[4],ay=a[5],az=a[6],aw=a[7],ax1=ax*bw+aw*bx+ay*bz-az*by,ay1=ay*bw+aw*by+az*bx-ax*bz,az1=az*bw+aw*bz+ax*by-ay*bx,aw1=aw*bw-ax*bx-ay*by-az*bz;return quat_rotateY(out,a,rad),bx=out[0],by=out[1],bz=out[2],bw=out[3],out[4]=ax1*bw+aw1*bx+ay1*bz-az1*by,out[5]=ay1*bw+aw1*by+az1*bx-ax1*bz,out[6]=az1*bw+aw1*bz+ax1*by-ay1*bx,out[7]=aw1*bw-ax1*bx-ay1*by-az1*bz,out}function quat2_rotateZ(out,a,rad){var bx=-a[0],by=-a[1],bz=-a[2],bw=a[3],ax=a[4],ay=a[5],az=a[6],aw=a[7],ax1=ax*bw+aw*bx+ay*bz-az*by,ay1=ay*bw+aw*by+az*bx-ax*bz,az1=az*bw+aw*bz+ax*by-ay*bx,aw1=aw*bw-ax*bx-ay*by-az*bz;return quat_rotateZ(out,a,rad),bx=out[0],by=out[1],bz=out[2],bw=out[3],out[4]=ax1*bw+aw1*bx+ay1*bz-az1*by,out[5]=ay1*bw+aw1*by+az1*bx-ax1*bz,out[6]=az1*bw+aw1*bz+ax1*by-ay1*bx,out[7]=aw1*bw-ax1*bx-ay1*by-az1*bz,out}function rotateByQuatAppend(out,a,q){var qx=q[0],qy=q[1],qz=q[2],qw=q[3],ax=a[0],ay=a[1],az=a[2],aw=a[3];return out[0]=ax*qw+aw*qx+ay*qz-az*qy,out[1]=ay*qw+aw*qy+az*qx-ax*qz,out[2]=az*qw+aw*qz+ax*qy-ay*qx,out[3]=aw*qw-ax*qx-ay*qy-az*qz,ax=a[4],ay=a[5],az=a[6],aw=a[7],out[4]=ax*qw+aw*qx+ay*qz-az*qy,out[5]=ay*qw+aw*qy+az*qx-ax*qz,out[6]=az*qw+aw*qz+ax*qy-ay*qx,out[7]=aw*qw-ax*qx-ay*qy-az*qz,out}function rotateByQuatPrepend(out,q,a){var qx=q[0],qy=q[1],qz=q[2],qw=q[3],bx=a[0],by=a[1],bz=a[2],bw=a[3];return out[0]=qx*bw+qw*bx+qy*bz-qz*by,out[1]=qy*bw+qw*by+qz*bx-qx*bz,out[2]=qz*bw+qw*bz+qx*by-qy*bx,out[3]=qw*bw-qx*bx-qy*by-qz*bz,bx=a[4],by=a[5],bz=a[6],bw=a[7],out[4]=qx*bw+qw*bx+qy*bz-qz*by,out[5]=qy*bw+qw*by+qz*bx-qx*bz,out[6]=qz*bw+qw*bz+qx*by-qy*bx,out[7]=qw*bw-qx*bx-qy*by-qz*bz,out}function rotateAroundAxis(out,a,axis,rad){if(Math.abs(rad)<EPSILON)return quat2_copy(out,a);var axisLength=Math.sqrt(axis[0]*axis[0]+axis[1]*axis[1]+axis[2]*axis[2]);rad*=.5;var s=Math.sin(rad),bx=s*axis[0]/axisLength,by=s*axis[1]/axisLength,bz=s*axis[2]/axisLength,bw=Math.cos(rad),ax1=a[0],ay1=a[1],az1=a[2],aw1=a[3];out[0]=ax1*bw+aw1*bx+ay1*bz-az1*by,out[1]=ay1*bw+aw1*by+az1*bx-ax1*bz,out[2]=az1*bw+aw1*bz+ax1*by-ay1*bx,out[3]=aw1*bw-ax1*bx-ay1*by-az1*bz;var ax=a[4],ay=a[5],az=a[6],aw=a[7];return out[4]=ax*bw+aw*bx+ay*bz-az*by,out[5]=ay*bw+aw*by+az*bx-ax*bz,out[6]=az*bw+aw*bz+ax*by-ay*bx,out[7]=aw*bw-ax*bx-ay*by-az*bz,out}function quat2_add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out}function quat2_multiply(out,a,b){var ax0=a[0],ay0=a[1],az0=a[2],aw0=a[3],bx1=b[4],by1=b[5],bz1=b[6],bw1=b[7],ax1=a[4],ay1=a[5],az1=a[6],aw1=a[7],bx0=b[0],by0=b[1],bz0=b[2],bw0=b[3];return out[0]=ax0*bw0+aw0*bx0+ay0*bz0-az0*by0,out[1]=ay0*bw0+aw0*by0+az0*bx0-ax0*bz0,out[2]=az0*bw0+aw0*bz0+ax0*by0-ay0*bx0,out[3]=aw0*bw0-ax0*bx0-ay0*by0-az0*bz0,out[4]=ax0*bw1+aw0*bx1+ay0*bz1-az0*by1+ax1*bw0+aw1*bx0+ay1*bz0-az1*by0,out[5]=ay0*bw1+aw0*by1+az0*bx1-ax0*bz1+ay1*bw0+aw1*by0+az1*bx0-ax1*bz0,out[6]=az0*bw1+aw0*bz1+ax0*by1-ay0*bx1+az1*bw0+aw1*bz0+ax1*by0-ay1*bx0,out[7]=aw0*bw1-ax0*bx1-ay0*by1-az0*bz1+aw1*bw0-ax1*bx0-ay1*by0-az1*bz0,out}var quat2_mul=quat2_multiply;function quat2_scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out}var quat2_dot=quat_dot;function quat2_lerp(out,a,b,t){var mt=1-t;return quat2_dot(a,b)<0&&(t=-t),out[0]=a[0]*mt+b[0]*t,out[1]=a[1]*mt+b[1]*t,out[2]=a[2]*mt+b[2]*t,out[3]=a[3]*mt+b[3]*t,out[4]=a[4]*mt+b[4]*t,out[5]=a[5]*mt+b[5]*t,out[6]=a[6]*mt+b[6]*t,out[7]=a[7]*mt+b[7]*t,out}function quat2_invert(out,a){var sqlen=quat2_squaredLength(a);return out[0]=-a[0]/sqlen,out[1]=-a[1]/sqlen,out[2]=-a[2]/sqlen,out[3]=a[3]/sqlen,out[4]=-a[4]/sqlen,out[5]=-a[5]/sqlen,out[6]=-a[6]/sqlen,out[7]=a[7]/sqlen,out}function quat2_conjugate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out[3]=a[3],out[4]=-a[4],out[5]=-a[5],out[6]=-a[6],out[7]=a[7],out}var quat2_length=quat_length,quat2_len=quat2_length,quat2_squaredLength=quat_squaredLength,quat2_sqrLen=quat2_squaredLength;function quat2_normalize(out,a){var magnitude=quat2_squaredLength(a);if(magnitude>0){magnitude=Math.sqrt(magnitude);var a0=a[0]/magnitude,a1=a[1]/magnitude,a2=a[2]/magnitude,a3=a[3]/magnitude,b0=a[4],b1=a[5],b2=a[6],b3=a[7],a_dot_b=a0*b0+a1*b1+a2*b2+a3*b3;out[0]=a0,out[1]=a1,out[2]=a2,out[3]=a3,out[4]=(b0-a0*a_dot_b)/magnitude,out[5]=(b1-a1*a_dot_b)/magnitude,out[6]=(b2-a2*a_dot_b)/magnitude,out[7]=(b3-a3*a_dot_b)/magnitude}return out}function quat2_str(a){return"quat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+")"}function quat2_exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]}function quat2_equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))}function vec2_create(){var out=new ARRAY_TYPE(2);return ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0),out}function vec2_clone(a){var out=new ARRAY_TYPE(2);return out[0]=a[0],out[1]=a[1],out}function vec2_fromValues(x,y){var out=new ARRAY_TYPE(2);return out[0]=x,out[1]=y,out}function vec2_copy(out,a){return out[0]=a[0],out[1]=a[1],out}function vec2_set(out,x,y){return out[0]=x,out[1]=y,out}function vec2_add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out}function vec2_subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out}function vec2_multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out}function vec2_divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out}function vec2_ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out}function vec2_floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out}function vec2_min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out}function vec2_max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out}function vec2_round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out}function vec2_scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out}function vec2_scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out}function vec2_distance(a,b){var x=b[0]-a[0],y=b[1]-a[1];return Math.sqrt(x*x+y*y)}function vec2_squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1];return x*x+y*y}function vec2_length(a){var x=a[0],y=a[1];return Math.sqrt(x*x+y*y)}function vec2_squaredLength(a){var x=a[0],y=a[1];return x*x+y*y}function vec2_negate(out,a){return out[0]=-a[0],out[1]=-a[1],out}function vec2_inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out}function vec2_normalize(out,a){var x=a[0],y=a[1],len=x*x+y*y;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len),out}function vec2_dot(a,b){return a[0]*b[0]+a[1]*b[1]}function vec2_cross(out,a,b){var z=a[0]*b[1]-a[1]*b[0];return out[0]=out[1]=0,out[2]=z,out}function vec2_lerp(out,a,b,t){var ax=a[0],ay=a[1];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out}function vec2_random(out,scale){scale=scale||1;var r=2*RANDOM()*Math.PI;return out[0]=Math.cos(r)*scale,out[1]=Math.sin(r)*scale,out}function transformMat2(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y,out[1]=m[1]*x+m[3]*y,out}function transformMat2d(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y+m[4],out[1]=m[1]*x+m[3]*y+m[5],out}function vec2_transformMat3(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[3]*y+m[6],out[1]=m[1]*x+m[4]*y+m[7],out}function vec2_transformMat4(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[4]*y+m[12],out[1]=m[1]*x+m[5]*y+m[13],out}function vec2_rotate(out,a,b,c){var p0=a[0]-b[0],p1=a[1]-b[1],sinC=Math.sin(c),cosC=Math.cos(c);return out[0]=p0*cosC-p1*sinC+b[0],out[1]=p0*sinC+p1*cosC+b[1],out}function vec2_angle(a,b){var x1=a[0],y1=a[1],x2=b[0],y2=b[1],len1=x1*x1+y1*y1;len1>0&&(len1=1/Math.sqrt(len1));var len2=x2*x2+y2*y2;len2>0&&(len2=1/Math.sqrt(len2));var cosine=(x1*x2+y1*y2)*len1*len2;return cosine>1?0:cosine<-1?Math.PI:Math.acos(cosine)}function vec2_str(a){return"vec2("+a[0]+", "+a[1]+")"}function vec2_exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]}function vec2_equals(a,b){var a0=a[0],a1=a[1],b0=b[0],b1=b[1];return Math.abs(a0-b0)<=EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))}var vec2_len=vec2_length,vec2_sub=vec2_subtract,vec2_mul=vec2_multiply,vec2_div=vec2_divide,vec2_dist=vec2_distance,vec2_sqrDist=vec2_squaredDistance,vec2_sqrLen=vec2_squaredLength,vec2_forEach=function(){var vec=vec2_create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=2),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1];return a}}()},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return Hub})),__webpack_require__.d(__webpack_exports__,"b",(function(){return getCurrentHub})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getHubFromCarrier}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_sentry_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_sentry_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20),_scope__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(56),Hub=function(){function Hub(client,scope,_version){void 0===scope&&(scope=new _scope__WEBPACK_IMPORTED_MODULE_3__.a),void 0===_version&&(_version=3),this._version=_version,this._stack=[],this._stack.push({client:client,scope:scope})}return Hub.prototype._invokeClient=function(method){for(var _a,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var top=this.getStackTop();top&&top.client&&top.client[method]&&(_a=top.client)[method].apply(_a,tslib__WEBPACK_IMPORTED_MODULE_0__.d(args,[top.scope]))},Hub.prototype.isOlderThan=function(version){return this._version<version},Hub.prototype.bindClient=function(client){this.getStackTop().client=client},Hub.prototype.pushScope=function(){var stack=this.getStack(),parentScope=stack.length>0?stack[stack.length-1].scope:void 0,scope=_scope__WEBPACK_IMPORTED_MODULE_3__.a.clone(parentScope);return this.getStack().push({client:this.getClient(),scope:scope}),scope},Hub.prototype.popScope=function(){return void 0!==this.getStack().pop()},Hub.prototype.withScope=function(callback){var scope=this.pushScope();try{callback(scope)}finally{this.popScope()}},Hub.prototype.getClient=function(){return this.getStackTop().client},Hub.prototype.getScope=function(){return this.getStackTop().scope},Hub.prototype.getStack=function(){return this._stack},Hub.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},Hub.prototype.captureException=function(exception,hint){var eventId=this._lastEventId=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.n)(),finalHint=hint;if(!hint){var syntheticException=void 0;try{throw new Error("Sentry syntheticException")}catch(exception){syntheticException=exception}finalHint={originalException:exception,syntheticException:syntheticException}}return this._invokeClient("captureException",exception,tslib__WEBPACK_IMPORTED_MODULE_0__.a({},finalHint,{event_id:eventId})),eventId},Hub.prototype.captureMessage=function(message,level,hint){var eventId=this._lastEventId=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.n)(),finalHint=hint;if(!hint){var syntheticException=void 0;try{throw new Error(message)}catch(exception){syntheticException=exception}finalHint={originalException:message,syntheticException:syntheticException}}return this._invokeClient("captureMessage",message,level,tslib__WEBPACK_IMPORTED_MODULE_0__.a({},finalHint,{event_id:eventId})),eventId},Hub.prototype.captureEvent=function(event,hint){var eventId=this._lastEventId=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.n)();return this._invokeClient("captureEvent",event,tslib__WEBPACK_IMPORTED_MODULE_0__.a({},hint,{event_id:eventId})),eventId},Hub.prototype.lastEventId=function(){return this._lastEventId},Hub.prototype.addBreadcrumb=function(breadcrumb,hint){var top=this.getStackTop();if(top.scope&&top.client){var _a=top.client.getOptions&&top.client.getOptions()||{},_b=_a.beforeBreadcrumb,beforeBreadcrumb=void 0===_b?null:_b,_c=_a.maxBreadcrumbs,maxBreadcrumbs=void 0===_c?100:_c;if(!(maxBreadcrumbs<=0)){var timestamp=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.m)(),mergedBreadcrumb=tslib__WEBPACK_IMPORTED_MODULE_0__.a({timestamp:timestamp},breadcrumb),finalBreadcrumb=beforeBreadcrumb?Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.c)((function(){return beforeBreadcrumb(mergedBreadcrumb,hint)})):mergedBreadcrumb;null!==finalBreadcrumb&&top.scope.addBreadcrumb(finalBreadcrumb,Math.min(maxBreadcrumbs,100))}}},Hub.prototype.setUser=function(user){var top=this.getStackTop();top.scope&&top.scope.setUser(user)},Hub.prototype.setTags=function(tags){var top=this.getStackTop();top.scope&&top.scope.setTags(tags)},Hub.prototype.setExtras=function(extras){var top=this.getStackTop();top.scope&&top.scope.setExtras(extras)},Hub.prototype.setTag=function(key,value){var top=this.getStackTop();top.scope&&top.scope.setTag(key,value)},Hub.prototype.setExtra=function(key,extra){var top=this.getStackTop();top.scope&&top.scope.setExtra(key,extra)},Hub.prototype.setContext=function(name,context){var top=this.getStackTop();top.scope&&top.scope.setContext(name,context)},Hub.prototype.configureScope=function(callback){var top=this.getStackTop();top.scope&&top.client&&callback(top.scope)},Hub.prototype.run=function(callback){var oldHub=makeMain(this);try{callback(this)}finally{makeMain(oldHub)}},Hub.prototype.getIntegration=function(integration){var client=this.getClient();if(!client)return null;try{return client.getIntegration(integration)}catch(_oO){return _sentry_utils__WEBPACK_IMPORTED_MODULE_2__.a.warn("Cannot retrieve integration "+integration.id+" from the current Hub"),null}},Hub.prototype.startSpan=function(spanOrSpanContext,forceNoChild){return void 0===forceNoChild&&(forceNoChild=!1),this._callExtensionMethod("startSpan",spanOrSpanContext,forceNoChild)},Hub.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},Hub.prototype._callExtensionMethod=function(method){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var carrier=getMainCarrier(),sentry=carrier.__SENTRY__;if(sentry&&sentry.extensions&&"function"==typeof sentry.extensions[method])return sentry.extensions[method].apply(this,args);_sentry_utils__WEBPACK_IMPORTED_MODULE_2__.a.warn("Extension method "+method+" couldn't be found, doing nothing.")},Hub}();function getMainCarrier(){var carrier=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.g)();return carrier.__SENTRY__=carrier.__SENTRY__||{extensions:{},hub:void 0},carrier}function makeMain(hub){var registry=getMainCarrier(),oldHub=getHubFromCarrier(registry);return setHubOnCarrier(registry,hub),oldHub}function getCurrentHub(){var registry=getMainCarrier();return hasHubOnCarrier(registry)&&!getHubFromCarrier(registry).isOlderThan(3)||setHubOnCarrier(registry,new Hub),Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.j)()?function(registry){try{var activeDomain=Object(_sentry_utils__WEBPACK_IMPORTED_MODULE_1__.d)(module,"domain").active;if(!activeDomain)return getHubFromCarrier(registry);if(!hasHubOnCarrier(activeDomain)||getHubFromCarrier(activeDomain).isOlderThan(3)){var registryHubTopStack=getHubFromCarrier(registry).getStackTop();setHubOnCarrier(activeDomain,new Hub(registryHubTopStack.client,_scope__WEBPACK_IMPORTED_MODULE_3__.a.clone(registryHubTopStack.scope)))}return getHubFromCarrier(activeDomain)}catch(_Oo){return getHubFromCarrier(registry)}}(registry):getHubFromCarrier(registry)}function hasHubOnCarrier(carrier){return!!(carrier&&carrier.__SENTRY__&&carrier.__SENTRY__.hub)}function getHubFromCarrier(carrier){return carrier&&carrier.__SENTRY__&&carrier.__SENTRY__.hub||(carrier.__SENTRY__=carrier.__SENTRY__||{},carrier.__SENTRY__.hub=new Hub),carrier.__SENTRY__.hub}function setHubOnCarrier(carrier,hub){return!!carrier&&(carrier.__SENTRY__=carrier.__SENTRY__||{},carrier.__SENTRY__.hub=hub,!0)}}).call(this,__webpack_require__(304)(module))}]);
//# sourceMappingURL=Layout.worker.js.map?1bec06f30be79ea1b5d2