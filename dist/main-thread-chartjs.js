(this["webpackJsonp"] = this["webpackJsonp"] || []).push([["main-thread-chartjs"],{

/***/ "./packages/webviz-core/src/components/ReactChartjs/ChartJSManager.js":
/*!****************************************************************************!*\
  !*** ./packages/webviz-core/src/components/ReactChartjs/ChartJSManager.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.printShortNumber = printShortNumber;\nexports.default = void 0;\n\nvar _chart = _interopRequireDefault(__webpack_require__(/*! chart.js */ \"./packages/webviz-core/node_modules/chart.js/dist/Chart.js\"));\n\nvar _keyBy = _interopRequireDefault(__webpack_require__(/*! lodash/keyBy */ \"./packages/webviz-core/node_modules/lodash/keyBy.js\"));\n\nvar _omit = _interopRequireDefault(__webpack_require__(/*! lodash/omit */ \"./packages/webviz-core/node_modules/lodash/omit.js\"));\n\nvar _zoomAndPanHelpers = __webpack_require__(/*! ./zoomAndPanHelpers */ \"./packages/webviz-core/src/components/ReactChartjs/zoomAndPanHelpers.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction hideAllTicksScaleCallback() {\n  return \"\";\n} // exported for tests\n\n\nfunction printShortNumber(value) {\n  if (value === 0) {\n    return \"0\";\n  }\n\n  if (Math.abs(value) >= 100000 || Math.abs(value) < 0.00001) {\n    // Force scientific notation for large and small numbers. Don't allow too many significant\n    // figures.\n    return Number.parseFloat(value.toPrecision(3)).toExponential().replace(\"+\", \"\"); // The \"+\" in \"1.0e+10\" just takes up space.\n  } // Truncate the decimal representation based on the length of the whole-number part.\n  // For implementation simplicity don't count an extra digit for a leading \"-\".\n\n\n  const truncatedLength = Math.trunc(Math.abs(value)).toString().length; // Values with length more than 6 will be in scientific notation, but clamp to zero just to be\n  // safe.\n\n  const decimalDigits = Math.max(0, 6 - truncatedLength);\n  return `${Math.round(value * 10 ** decimalDigits) / 10 ** decimalDigits}`;\n}\n\nfunction hideFirstAndLastTicksScaleCallback(value, index, values) {\n  if (index === 0 || index === values.length - 1) {\n    // First and last labels sometimes get super long rounding errors when zooming.\n    // This fixes that.\n    return \"\";\n  }\n\n  return printShortNumber(value);\n}\n\nfunction displayTicksInSecondsCallback(value) {\n  return `${Math.round(value * 1000) / 1000} s`;\n}\n\nfunction mapChartElementToEventElement(chartInstance, item) {\n  var _chartInstance$data$d;\n\n  return {\n    // It's annoying to have to rely on internal APIs like this, but there's literally no other way and the help\n    // documents themselves say to do this: https://www.chartjs.org/docs/latest/developers/api.html#getelementatevente\n    // eslint-disable-next-line no-underscore-dangle\n    data: (_chartInstance$data$d = chartInstance.data.datasets[item._datasetIndex]) === null || _chartInstance$data$d === void 0 ? void 0 : _chartInstance$data$d.data[item._index],\n    // eslint-disable-next-line no-underscore-dangle\n    view: item._view\n  };\n}\n\nconst datasetKeyProvider = d => d.label;\n\nclass ChartJSManager {\n  constructor({\n    id,\n    node,\n    type,\n    data,\n    options,\n    scaleOptions,\n    devicePixelRatio\n  }) {\n    _defineProperty(this, \"id\", void 0);\n\n    _defineProperty(this, \"_node\", void 0);\n\n    _defineProperty(this, \"_chartInstance\", void 0);\n\n    this.id = id;\n    this._node = node;\n    const plugins = {};\n    const chartInstance = new _chart.default(node, {\n      type,\n      data,\n      options: _objectSpread({}, this._addFunctionsToConfig(options, scaleOptions), {\n        devicePixelRatio\n      }),\n      plugins\n    });\n    this._chartInstance = chartInstance;\n  }\n\n  getScaleBounds() {\n    const chartInstance = this._chartInstance;\n\n    if (!chartInstance) {\n      return;\n    }\n\n    return (0, _zoomAndPanHelpers.getScaleBounds)(chartInstance);\n  }\n\n  doZoom({\n    zoomOptions,\n    percentZoomX,\n    percentZoomY,\n    focalPoint,\n    whichAxesParam\n  }) {\n    const chartInstance = this._chartInstance;\n\n    if (!chartInstance) {\n      return;\n    }\n\n    (0, _zoomAndPanHelpers.doZoom)(this.id, chartInstance, zoomOptions, percentZoomX, percentZoomY, focalPoint, whichAxesParam);\n    return (0, _zoomAndPanHelpers.getScaleBounds)(chartInstance);\n  }\n\n  resetZoomDelta() {\n    const chartInstance = this._chartInstance;\n\n    if (!chartInstance) {\n      return;\n    }\n\n    (0, _zoomAndPanHelpers.resetZoomDelta)(this.id);\n  }\n\n  doPan({\n    panOptions,\n    deltaX,\n    deltaY\n  }) {\n    const chartInstance = this._chartInstance;\n\n    if (!chartInstance) {\n      return;\n    }\n\n    (0, _zoomAndPanHelpers.doPan)(this.id, chartInstance, panOptions, deltaX, deltaY);\n    return (0, _zoomAndPanHelpers.getScaleBounds)(chartInstance);\n  }\n\n  resetPanDelta() {\n    (0, _zoomAndPanHelpers.resetPanDelta)(this.id);\n  }\n\n  update({\n    data,\n    options,\n    scaleOptions\n  }) {\n    const chartInstance = this._chartInstance;\n\n    if (!chartInstance) {\n      return;\n    }\n\n    if (options) {\n      options = this._addFunctionsToConfig(options, scaleOptions);\n      chartInstance.options = _chart.default.helpers.configMerge(chartInstance.options, options);\n    } // Pipe datasets to chart instance datasets enabling\n    // seamless transitions\n\n\n    const currentDatasets = this._getCurrentDatasets();\n\n    const nextDatasets = data && data.datasets || [];\n\n    this._checkDatasets(currentDatasets);\n\n    const currentDatasetsIndexed = (0, _keyBy.default)(currentDatasets, datasetKeyProvider); // We can safely replace the dataset array, as long as we retain the _meta property\n    // on each dataset.\n\n    chartInstance.config.data.datasets = nextDatasets.map(next => {\n      const current = currentDatasetsIndexed[datasetKeyProvider(next)];\n\n      if (current && current.type === next.type && next.data) {\n        // Be robust to no data. Relevant for other update mechanisms as in chartjs-plugin-streaming.\n        // The data array must be edited in place. As chart.js adds listeners to it.\n        current.data.splice(next.data.length);\n        next.data.forEach((point, pid) => {\n          current.data[pid] = next.data[pid];\n        });\n        const otherDatasetProps = (0, _omit.default)(next, \"data\"); // Merge properties. Notice a weakness here. If a property is removed\n        // from next, it will be retained by current and never disappears.\n        // Workaround is to set value to null or undefined in next.\n\n        return _objectSpread({}, current, otherDatasetProps);\n      }\n\n      return next;\n    });\n    const otherDataProps = (0, _omit.default)(data, \"datasets\");\n    chartInstance.config.data = _objectSpread({}, chartInstance.config.data, otherDataProps);\n    chartInstance.update();\n    return (0, _zoomAndPanHelpers.getScaleBounds)(chartInstance);\n  }\n\n  resetZoom() {\n    const chartInstance = this._chartInstance;\n\n    if (chartInstance) {\n      (0, _zoomAndPanHelpers.resetZoom)(this.id, chartInstance);\n    }\n\n    return (0, _zoomAndPanHelpers.getScaleBounds)(chartInstance);\n  }\n\n  destroy() {\n    const chartInstance = this._chartInstance;\n\n    if (chartInstance) {\n      chartInstance.destroy();\n    }\n\n    this._chartInstance = null;\n  } // Get the closest element at the same x-axis value as the cursor.\n  // This is a somewhat complex function because we attempt to copy the same behavior that the built-in tooltips have\n  // for Chart.js without a direct API for it.\n\n\n  getElementAtXAxis({\n    event\n  }) {\n    const chartInstance = this._chartInstance;\n\n    if (chartInstance) {\n      // Elements directly under the cursor.\n      const pointElements = chartInstance.getElementsAtEventForMode(event, \"point\");\n\n      if (pointElements.length) {\n        // If we have an element directly under the cursor, return it.\n        return mapChartElementToEventElement(chartInstance, pointElements[0]);\n      } // Elements near the x-axis position of the cursor.\n\n\n      const xAxisElements = chartInstance.getElementsAtEventForMode(event, \"x\", {\n        intersect: false\n      });\n\n      if (xAxisElements.length) {\n        // The nearest elements to the cursor, regardless of how close they are.\n        const nearestElements = chartInstance.getElementsAtEventForMode(event, \"nearest\", {\n          intersect: false\n        });\n        const nearestXAxisElement = nearestElements.find(item => // eslint-disable-next-line no-underscore-dangle\n        xAxisElements.some(item2 => item._index === item2._index && item._datasetIndex === item2._datasetIndex)); // If we have elements on the x-axis, return the nearest element if we can find it.\n\n        if (nearestXAxisElement) {\n          return mapChartElementToEventElement(chartInstance, nearestXAxisElement);\n        } // Otherwise just return the first element on the x-axis.\n\n\n        return mapChartElementToEventElement(chartInstance, xAxisElements[0]);\n      }\n    }\n  }\n\n  getDatalabelAtEvent({\n    event\n  }) {\n    const chartInstance = this._chartInstance;\n\n    if (chartInstance) {\n      const chartDatalabel = chartInstance.$datalabels.getLabelAtEvent(event);\n\n      if (chartDatalabel) {\n        const context = chartDatalabel.$context;\n        return context.dataset.data[context.dataIndex];\n      }\n    }\n  }\n\n  _addFunctionsToConfig(config, scaleOptions) {\n    if (config && config.plugins.datalabels) {\n      // This controls which datalabels are displayed. Only display labels for datapoints that include a \"label\"\n      // property.\n      config.plugins.datalabels.formatter = (value, _context) => {\n        const label = value === null || value === void 0 ? void 0 : value.label; // We have to return \"null\" if we don't want this label to be displayed. Returning \"undefined\" falls back to the\n        // default formatting.\n\n        return label != null ? label : null;\n      }; // Override color so that it can be set per-dataset.\n\n\n      const staticColor = config.plugins.datalabels.color || \"white\";\n\n      config.plugins.datalabels.color = context => {\n        const value = context.dataset.data[context.dataIndex];\n        return (value === null || value === void 0 ? void 0 : value.labelColor) || staticColor;\n      };\n    }\n\n    if (scaleOptions) {\n      for (const scale of config.scales.yAxes) {\n        if (scaleOptions.fixedYAxisWidth != null) {\n          scale.afterFit = scaleInstance => {\n            scaleInstance.width = scaleOptions.fixedYAxisWidth;\n          };\n        }\n\n        scale.ticks = scale.ticks || {};\n\n        if (scaleOptions.yAxisTicks === \"hide\") {\n          scale.ticks.callback = hideAllTicksScaleCallback;\n        } else if (scaleOptions.yAxisTicks === \"hideFirstAndLast\") {\n          scale.ticks.callback = hideFirstAndLastTicksScaleCallback;\n        }\n      }\n\n      for (const scale of config.scales.xAxes) {\n        scale.ticks = scale.ticks || {};\n\n        if (scaleOptions.xAxisTicks) {\n          if (scaleOptions.xAxisTicks === \"displayXAxesTicksInSeconds\") {\n            scale.ticks.callback = displayTicksInSecondsCallback;\n          } else {\n            scale.ticks.callback = hideFirstAndLastTicksScaleCallback;\n          }\n        }\n      }\n    }\n\n    return config;\n  }\n\n  _checkDatasets(datasets) {\n    const isDev =  true && \"development\" !== \"prod\";\n    const multipleDatasets = datasets.length > 1;\n\n    if (isDev && multipleDatasets) {\n      let shouldWarn = false;\n      datasets.forEach(dataset => {\n        if (!dataset.label) {\n          shouldWarn = true;\n        }\n      });\n\n      if (shouldWarn) {\n        console.error('[ChartJSManager] Warning: Each dataset needs a unique key. By default, the \"label\" property on each dataset is used.');\n      }\n    }\n  }\n\n  _getCurrentDatasets() {\n    return this._chartInstance && this._chartInstance.config.data && this._chartInstance.config.data.datasets || [];\n  }\n\n}\n\nexports.default = ChartJSManager;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy93ZWJ2aXotY29yZS9zcmMvY29tcG9uZW50cy9SZWFjdENoYXJ0anMvQ2hhcnRKU01hbmFnZXIuanMuanMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9jaHJpcy5oYXNzb24vRG9jdW1lbnRzL1dvcmtzcGFjZXMvb3Mtd2Vidml6L3BhY2thZ2VzL3dlYnZpei1jb3JlL3NyYy9jb21wb25lbnRzL1JlYWN0Q2hhcnRqcy9DaGFydEpTTWFuYWdlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZmxvd1xuLy9cbi8vICBDb3B5cmlnaHQgKGMpIDIwMTgtcHJlc2VudCwgQ3J1aXNlIExMQ1xuLy9cbi8vICBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAsXG4vLyAgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbi8vICBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5cbmltcG9ydCBDaGFydCBmcm9tIFwiY2hhcnQuanNcIjtcbmltcG9ydCBrZXlCeSBmcm9tIFwibG9kYXNoL2tleUJ5XCI7XG5pbXBvcnQgb21pdCBmcm9tIFwibG9kYXNoL29taXRcIjtcblxuaW1wb3J0IHtcbiAgdHlwZSBab29tT3B0aW9ucyxcbiAgdHlwZSBQYW5PcHRpb25zLFxuICBkb1pvb20sXG4gIGRvUGFuLFxuICByZXNldFBhbkRlbHRhLFxuICByZXNldFpvb21EZWx0YSxcbiAgcmVzZXRab29tLFxuICBnZXRTY2FsZUJvdW5kcyxcbn0gZnJvbSBcIi4vem9vbUFuZFBhbkhlbHBlcnNcIjtcblxudHlwZSBYQXhpc1RpY2tzID0gXCJmb2xsb3dcIiB8IFwiZGlzcGxheVhBeGVzVGlja3NJblNlY29uZHNcIjtcblxuLy8gVGhlc2UgYXJlIG9wdGlvbnMgdGhhdCB3ZSBwYXNzIG91ciB3b3JrZXIuIFdlIGhhdmUgdG8gcGFzcyB0aGlzIGFzIGEgc2VwYXJhdGUgb2JqZWN0IGluc3RlYWQgb2YgYXMgcGFydCBvZiB0aGVcbi8vIGNvbmZpZyBiZWNhdXNlIHRoZXkgY2FuIG9ubHkgYmUgc2V0IHVzaW5nIGEgY2FsbGJhY2sgZnVuY3Rpb24sIHdoaWNoIHdlIGNhbid0IHBhc3MgYWNyb3NzIHdvcmtlciBib3VuZGFyaWVzLlxuZXhwb3J0IHR5cGUgU2NhbGVPcHRpb25zID0ge3xcbiAgLy8gU2V0cyB5LWF4aXMgbGFiZWxzIHRvIGEgZml4ZWQgd2lkdGgsIHNvIHRoYXQgdmVydGljYWxseS1hbGlnbmVkIGNoYXJ0cyBjYW4gYmUgZGlyZWN0bHkgY29tcGFyZWQuXG4gIGZpeGVkWUF4aXNXaWR0aD86ID9udW1iZXIsXG4gIC8vIFdlIG1pZ2h0IHdhbnQgdG8gaGlkZSBqdXN0IHRoZSBmaXJzdCBhbmQgbGFzdCBiZWNhdXNlIHRoZXkgY2FuIG92ZXJsYXAgd2l0aCBvdGhlciBsYWJlbHMgb3IgaGF2ZSBsb25nIGRlY2ltYWxcbiAgLy8gcG9pbnRzLlxuICB5QXhpc1RpY2tzPzogXCJzaG93XCIgfCBcImhpZGVcIiB8IFwiaGlkZUZpcnN0QW5kTGFzdFwiLFxuICAvLyBEaXNwbGF5IHRoZSB4LWF4ZXMgd2l0aCBhIHNlY29uZHMgdW5pdCwgZWcgXCIxIHNcIlxuICB4QXhpc1RpY2tzPzogP1hBeGlzVGlja3MsXG58fTtcblxuZnVuY3Rpb24gaGlkZUFsbFRpY2tzU2NhbGVDYWxsYmFjaygpIHtcbiAgcmV0dXJuIFwiXCI7XG59XG5cbi8vIGV4cG9ydGVkIGZvciB0ZXN0c1xuZXhwb3J0IGZ1bmN0aW9uIHByaW50U2hvcnROdW1iZXIodmFsdWU6IG51bWJlcikge1xuICBpZiAodmFsdWUgPT09IDApIHtcbiAgICByZXR1cm4gXCIwXCI7XG4gIH1cbiAgaWYgKE1hdGguYWJzKHZhbHVlKSA+PSAxMDAwMDAgfHwgTWF0aC5hYnModmFsdWUpIDwgMC4wMDAwMSkge1xuICAgIC8vIEZvcmNlIHNjaWVudGlmaWMgbm90YXRpb24gZm9yIGxhcmdlIGFuZCBzbWFsbCBudW1iZXJzLiBEb24ndCBhbGxvdyB0b28gbWFueSBzaWduaWZpY2FudFxuICAgIC8vIGZpZ3VyZXMuXG4gICAgcmV0dXJuIE51bWJlci5wYXJzZUZsb2F0KHZhbHVlLnRvUHJlY2lzaW9uKDMpKVxuICAgICAgLnRvRXhwb25lbnRpYWwoKVxuICAgICAgLnJlcGxhY2UoXCIrXCIsIFwiXCIpOyAvLyBUaGUgXCIrXCIgaW4gXCIxLjBlKzEwXCIganVzdCB0YWtlcyB1cCBzcGFjZS5cbiAgfVxuICAvLyBUcnVuY2F0ZSB0aGUgZGVjaW1hbCByZXByZXNlbnRhdGlvbiBiYXNlZCBvbiB0aGUgbGVuZ3RoIG9mIHRoZSB3aG9sZS1udW1iZXIgcGFydC5cbiAgLy8gRm9yIGltcGxlbWVudGF0aW9uIHNpbXBsaWNpdHkgZG9uJ3QgY291bnQgYW4gZXh0cmEgZGlnaXQgZm9yIGEgbGVhZGluZyBcIi1cIi5cbiAgY29uc3QgdHJ1bmNhdGVkTGVuZ3RoID0gTWF0aC50cnVuYyhNYXRoLmFicyh2YWx1ZSkpLnRvU3RyaW5nKCkubGVuZ3RoO1xuICAvLyBWYWx1ZXMgd2l0aCBsZW5ndGggbW9yZSB0aGFuIDYgd2lsbCBiZSBpbiBzY2llbnRpZmljIG5vdGF0aW9uLCBidXQgY2xhbXAgdG8gemVybyBqdXN0IHRvIGJlXG4gIC8vIHNhZmUuXG4gIGNvbnN0IGRlY2ltYWxEaWdpdHMgPSBNYXRoLm1heCgwLCA2IC0gdHJ1bmNhdGVkTGVuZ3RoKTtcbiAgcmV0dXJuIGAke01hdGgucm91bmQodmFsdWUgKiAxMCAqKiBkZWNpbWFsRGlnaXRzKSAvIDEwICoqIGRlY2ltYWxEaWdpdHN9YDtcbn1cblxuZnVuY3Rpb24gaGlkZUZpcnN0QW5kTGFzdFRpY2tzU2NhbGVDYWxsYmFjayh2YWx1ZTogbnVtYmVyLCBpbmRleDogbnVtYmVyLCB2YWx1ZXM6IG51bWJlcltdKSB7XG4gIGlmIChpbmRleCA9PT0gMCB8fCBpbmRleCA9PT0gdmFsdWVzLmxlbmd0aCAtIDEpIHtcbiAgICAvLyBGaXJzdCBhbmQgbGFzdCBsYWJlbHMgc29tZXRpbWVzIGdldCBzdXBlciBsb25nIHJvdW5kaW5nIGVycm9ycyB3aGVuIHpvb21pbmcuXG4gICAgLy8gVGhpcyBmaXhlcyB0aGF0LlxuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIHJldHVybiBwcmludFNob3J0TnVtYmVyKHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheVRpY2tzSW5TZWNvbmRzQ2FsbGJhY2sodmFsdWU6IG51bWJlcikge1xuICByZXR1cm4gYCR7TWF0aC5yb3VuZCh2YWx1ZSAqIDEwMDApIC8gMTAwMH0gc2A7XG59XG5cbmZ1bmN0aW9uIG1hcENoYXJ0RWxlbWVudFRvRXZlbnRFbGVtZW50KGNoYXJ0SW5zdGFuY2UsIGl0ZW0pIHtcbiAgcmV0dXJuIHtcbiAgICAvLyBJdCdzIGFubm95aW5nIHRvIGhhdmUgdG8gcmVseSBvbiBpbnRlcm5hbCBBUElzIGxpa2UgdGhpcywgYnV0IHRoZXJlJ3MgbGl0ZXJhbGx5IG5vIG90aGVyIHdheSBhbmQgdGhlIGhlbHBcbiAgICAvLyBkb2N1bWVudHMgdGhlbXNlbHZlcyBzYXkgdG8gZG8gdGhpczogaHR0cHM6Ly93d3cuY2hhcnRqcy5vcmcvZG9jcy9sYXRlc3QvZGV2ZWxvcGVycy9hcGkuaHRtbCNnZXRlbGVtZW50YXRldmVudGVcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGVcbiAgICBkYXRhOiBjaGFydEluc3RhbmNlLmRhdGEuZGF0YXNldHNbaXRlbS5fZGF0YXNldEluZGV4XT8uZGF0YVtpdGVtLl9pbmRleF0sXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVyc2NvcmUtZGFuZ2xlXG4gICAgdmlldzogaXRlbS5fdmlldyxcbiAgfTtcbn1cblxuY29uc3QgZGF0YXNldEtleVByb3ZpZGVyID0gKGQpID0+IGQubGFiZWw7XG5cbnR5cGUgQ2hhcnRJbnN0YW5jZSA9IGFueTtcbi8vIFRoaXMgdHlwZSBpcyBub3QgeWV0IGluIEZsb3csIHNvIHRlbXBvcmFyaWx5IHR5cGUgaXQgdGhpcyB3YXkuXG50eXBlIE9mZnNjcmVlbkNhbnZhcyA9IEhUTUxDYW52YXNFbGVtZW50O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGFydEpTTWFuYWdlciB7XG4gIGlkOiBzdHJpbmc7XG4gIF9ub2RlOiBPZmZzY3JlZW5DYW52YXM7XG4gIF9jaGFydEluc3RhbmNlOiA/Q2hhcnRJbnN0YW5jZTtcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgaWQsXG4gICAgbm9kZSxcbiAgICB0eXBlLFxuICAgIGRhdGEsXG4gICAgb3B0aW9ucyxcbiAgICBzY2FsZU9wdGlvbnMsXG4gICAgZGV2aWNlUGl4ZWxSYXRpbyxcbiAgfToge1xuICAgIGlkOiBzdHJpbmcsXG4gICAgbm9kZTogT2Zmc2NyZWVuQ2FudmFzLFxuICAgIHR5cGU6IGFueSxcbiAgICBkYXRhOiBhbnksXG4gICAgb3B0aW9uczogYW55LFxuICAgIHNjYWxlT3B0aW9uczogP1NjYWxlT3B0aW9ucyxcbiAgICBkZXZpY2VQaXhlbFJhdGlvOiBudW1iZXIsXG4gIH0pIHtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy5fbm9kZSA9IG5vZGU7XG4gICAgY29uc3QgcGx1Z2lucyA9IHt9O1xuICAgIGNvbnN0IGNoYXJ0SW5zdGFuY2UgPSBuZXcgQ2hhcnQobm9kZSwge1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGEsXG4gICAgICBvcHRpb25zOiB7IC4uLnRoaXMuX2FkZEZ1bmN0aW9uc1RvQ29uZmlnKG9wdGlvbnMsIHNjYWxlT3B0aW9ucyksIGRldmljZVBpeGVsUmF0aW8gfSxcbiAgICAgIHBsdWdpbnMsXG4gICAgfSk7XG4gICAgdGhpcy5fY2hhcnRJbnN0YW5jZSA9IGNoYXJ0SW5zdGFuY2U7XG4gIH1cblxuICBnZXRTY2FsZUJvdW5kcygpIHtcbiAgICBjb25zdCBjaGFydEluc3RhbmNlID0gdGhpcy5fY2hhcnRJbnN0YW5jZTtcbiAgICBpZiAoIWNoYXJ0SW5zdGFuY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0U2NhbGVCb3VuZHMoY2hhcnRJbnN0YW5jZSk7XG4gIH1cblxuICBkb1pvb20oe1xuICAgIHpvb21PcHRpb25zLFxuICAgIHBlcmNlbnRab29tWCxcbiAgICBwZXJjZW50Wm9vbVksXG4gICAgZm9jYWxQb2ludCxcbiAgICB3aGljaEF4ZXNQYXJhbSxcbiAgfToge1xuICAgIHpvb21PcHRpb25zOiBab29tT3B0aW9ucyxcbiAgICBwZXJjZW50Wm9vbVg6IG51bWJlcixcbiAgICBwZXJjZW50Wm9vbVk6IG51bWJlcixcbiAgICBmb2NhbFBvaW50PzogeyB4OiBudW1iZXIsIHk6IG51bWJlciB9LFxuICAgIHdoaWNoQXhlc1BhcmFtPzogc3RyaW5nLFxuICB9KSB7XG4gICAgY29uc3QgY2hhcnRJbnN0YW5jZSA9IHRoaXMuX2NoYXJ0SW5zdGFuY2U7XG4gICAgaWYgKCFjaGFydEluc3RhbmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZG9ab29tKHRoaXMuaWQsIGNoYXJ0SW5zdGFuY2UsIHpvb21PcHRpb25zLCBwZXJjZW50Wm9vbVgsIHBlcmNlbnRab29tWSwgZm9jYWxQb2ludCwgd2hpY2hBeGVzUGFyYW0pO1xuICAgIHJldHVybiBnZXRTY2FsZUJvdW5kcyhjaGFydEluc3RhbmNlKTtcbiAgfVxuXG4gIHJlc2V0Wm9vbURlbHRhKCkge1xuICAgIGNvbnN0IGNoYXJ0SW5zdGFuY2UgPSB0aGlzLl9jaGFydEluc3RhbmNlO1xuICAgIGlmICghY2hhcnRJbnN0YW5jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlc2V0Wm9vbURlbHRhKHRoaXMuaWQpO1xuICB9XG5cbiAgZG9QYW4oeyBwYW5PcHRpb25zLCBkZWx0YVgsIGRlbHRhWSB9OiB7IHBhbk9wdGlvbnM6IFBhbk9wdGlvbnMsIGRlbHRhWDogbnVtYmVyLCBkZWx0YVk6IG51bWJlciB9KSB7XG4gICAgY29uc3QgY2hhcnRJbnN0YW5jZSA9IHRoaXMuX2NoYXJ0SW5zdGFuY2U7XG4gICAgaWYgKCFjaGFydEluc3RhbmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZG9QYW4odGhpcy5pZCwgY2hhcnRJbnN0YW5jZSwgcGFuT3B0aW9ucywgZGVsdGFYLCBkZWx0YVkpO1xuICAgIHJldHVybiBnZXRTY2FsZUJvdW5kcyhjaGFydEluc3RhbmNlKTtcbiAgfVxuXG4gIHJlc2V0UGFuRGVsdGEoKSB7XG4gICAgcmVzZXRQYW5EZWx0YSh0aGlzLmlkKTtcbiAgfVxuXG4gIHVwZGF0ZSh7IGRhdGEsIG9wdGlvbnMsIHNjYWxlT3B0aW9ucyB9OiB7IGRhdGE6IGFueSwgb3B0aW9uczogYW55LCBzY2FsZU9wdGlvbnM6ID9TY2FsZU9wdGlvbnMgfSkge1xuICAgIGNvbnN0IGNoYXJ0SW5zdGFuY2UgPSB0aGlzLl9jaGFydEluc3RhbmNlO1xuXG4gICAgaWYgKCFjaGFydEluc3RhbmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB0aGlzLl9hZGRGdW5jdGlvbnNUb0NvbmZpZyhvcHRpb25zLCBzY2FsZU9wdGlvbnMpO1xuICAgICAgY2hhcnRJbnN0YW5jZS5vcHRpb25zID0gQ2hhcnQuaGVscGVycy5jb25maWdNZXJnZShjaGFydEluc3RhbmNlLm9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8vIFBpcGUgZGF0YXNldHMgdG8gY2hhcnQgaW5zdGFuY2UgZGF0YXNldHMgZW5hYmxpbmdcbiAgICAvLyBzZWFtbGVzcyB0cmFuc2l0aW9uc1xuICAgIGNvbnN0IGN1cnJlbnREYXRhc2V0cyA9IHRoaXMuX2dldEN1cnJlbnREYXRhc2V0cygpO1xuICAgIGNvbnN0IG5leHREYXRhc2V0cyA9IChkYXRhICYmIGRhdGEuZGF0YXNldHMpIHx8IFtdO1xuICAgIHRoaXMuX2NoZWNrRGF0YXNldHMoY3VycmVudERhdGFzZXRzKTtcblxuICAgIGNvbnN0IGN1cnJlbnREYXRhc2V0c0luZGV4ZWQgPSBrZXlCeShjdXJyZW50RGF0YXNldHMsIGRhdGFzZXRLZXlQcm92aWRlcik7XG5cbiAgICAvLyBXZSBjYW4gc2FmZWx5IHJlcGxhY2UgdGhlIGRhdGFzZXQgYXJyYXksIGFzIGxvbmcgYXMgd2UgcmV0YWluIHRoZSBfbWV0YSBwcm9wZXJ0eVxuICAgIC8vIG9uIGVhY2ggZGF0YXNldC5cbiAgICBjaGFydEluc3RhbmNlLmNvbmZpZy5kYXRhLmRhdGFzZXRzID0gbmV4dERhdGFzZXRzLm1hcCgobmV4dCkgPT4ge1xuICAgICAgY29uc3QgY3VycmVudCA9IGN1cnJlbnREYXRhc2V0c0luZGV4ZWRbZGF0YXNldEtleVByb3ZpZGVyKG5leHQpXTtcblxuICAgICAgaWYgKGN1cnJlbnQgJiYgY3VycmVudC50eXBlID09PSBuZXh0LnR5cGUgJiYgbmV4dC5kYXRhKSB7XG4gICAgICAgIC8vIEJlIHJvYnVzdCB0byBubyBkYXRhLiBSZWxldmFudCBmb3Igb3RoZXIgdXBkYXRlIG1lY2hhbmlzbXMgYXMgaW4gY2hhcnRqcy1wbHVnaW4tc3RyZWFtaW5nLlxuICAgICAgICAvLyBUaGUgZGF0YSBhcnJheSBtdXN0IGJlIGVkaXRlZCBpbiBwbGFjZS4gQXMgY2hhcnQuanMgYWRkcyBsaXN0ZW5lcnMgdG8gaXQuXG4gICAgICAgIGN1cnJlbnQuZGF0YS5zcGxpY2UobmV4dC5kYXRhLmxlbmd0aCk7XG4gICAgICAgIG5leHQuZGF0YS5mb3JFYWNoKChwb2ludCwgcGlkKSA9PiB7XG4gICAgICAgICAgY3VycmVudC5kYXRhW3BpZF0gPSBuZXh0LmRhdGFbcGlkXTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG90aGVyRGF0YXNldFByb3BzID0gb21pdChuZXh0LCBcImRhdGFcIik7XG4gICAgICAgIC8vIE1lcmdlIHByb3BlcnRpZXMuIE5vdGljZSBhIHdlYWtuZXNzIGhlcmUuIElmIGEgcHJvcGVydHkgaXMgcmVtb3ZlZFxuICAgICAgICAvLyBmcm9tIG5leHQsIGl0IHdpbGwgYmUgcmV0YWluZWQgYnkgY3VycmVudCBhbmQgbmV2ZXIgZGlzYXBwZWFycy5cbiAgICAgICAgLy8gV29ya2Fyb3VuZCBpcyB0byBzZXQgdmFsdWUgdG8gbnVsbCBvciB1bmRlZmluZWQgaW4gbmV4dC5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5jdXJyZW50LFxuICAgICAgICAgIC4uLm90aGVyRGF0YXNldFByb3BzLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfSk7XG5cbiAgICBjb25zdCBvdGhlckRhdGFQcm9wcyA9IG9taXQoZGF0YSwgXCJkYXRhc2V0c1wiKTtcblxuICAgIGNoYXJ0SW5zdGFuY2UuY29uZmlnLmRhdGEgPSB7XG4gICAgICAuLi5jaGFydEluc3RhbmNlLmNvbmZpZy5kYXRhLFxuICAgICAgLi4ub3RoZXJEYXRhUHJvcHMsXG4gICAgfTtcblxuICAgIGNoYXJ0SW5zdGFuY2UudXBkYXRlKCk7XG5cbiAgICByZXR1cm4gZ2V0U2NhbGVCb3VuZHMoY2hhcnRJbnN0YW5jZSk7XG4gIH1cblxuICByZXNldFpvb20oKSB7XG4gICAgY29uc3QgY2hhcnRJbnN0YW5jZSA9IHRoaXMuX2NoYXJ0SW5zdGFuY2U7XG4gICAgaWYgKGNoYXJ0SW5zdGFuY2UpIHtcbiAgICAgIHJlc2V0Wm9vbSh0aGlzLmlkLCBjaGFydEluc3RhbmNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0U2NhbGVCb3VuZHMoY2hhcnRJbnN0YW5jZSk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIGNvbnN0IGNoYXJ0SW5zdGFuY2UgPSB0aGlzLl9jaGFydEluc3RhbmNlO1xuICAgIGlmIChjaGFydEluc3RhbmNlKSB7XG4gICAgICBjaGFydEluc3RhbmNlLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5fY2hhcnRJbnN0YW5jZSA9IG51bGw7XG4gIH1cblxuICAvLyBHZXQgdGhlIGNsb3Nlc3QgZWxlbWVudCBhdCB0aGUgc2FtZSB4LWF4aXMgdmFsdWUgYXMgdGhlIGN1cnNvci5cbiAgLy8gVGhpcyBpcyBhIHNvbWV3aGF0IGNvbXBsZXggZnVuY3Rpb24gYmVjYXVzZSB3ZSBhdHRlbXB0IHRvIGNvcHkgdGhlIHNhbWUgYmVoYXZpb3IgdGhhdCB0aGUgYnVpbHQtaW4gdG9vbHRpcHMgaGF2ZVxuICAvLyBmb3IgQ2hhcnQuanMgd2l0aG91dCBhIGRpcmVjdCBBUEkgZm9yIGl0LlxuICBnZXRFbGVtZW50QXRYQXhpcyh7IGV2ZW50IH06IHsgZXZlbnQ6IEV2ZW50IH0pIHtcbiAgICBjb25zdCBjaGFydEluc3RhbmNlID0gdGhpcy5fY2hhcnRJbnN0YW5jZTtcbiAgICBpZiAoY2hhcnRJbnN0YW5jZSkge1xuICAgICAgLy8gRWxlbWVudHMgZGlyZWN0bHkgdW5kZXIgdGhlIGN1cnNvci5cbiAgICAgIGNvbnN0IHBvaW50RWxlbWVudHMgPSBjaGFydEluc3RhbmNlLmdldEVsZW1lbnRzQXRFdmVudEZvck1vZGUoZXZlbnQsIFwicG9pbnRcIik7XG5cbiAgICAgIGlmIChwb2ludEVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGFuIGVsZW1lbnQgZGlyZWN0bHkgdW5kZXIgdGhlIGN1cnNvciwgcmV0dXJuIGl0LlxuICAgICAgICByZXR1cm4gbWFwQ2hhcnRFbGVtZW50VG9FdmVudEVsZW1lbnQoY2hhcnRJbnN0YW5jZSwgcG9pbnRFbGVtZW50c1swXSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEVsZW1lbnRzIG5lYXIgdGhlIHgtYXhpcyBwb3NpdGlvbiBvZiB0aGUgY3Vyc29yLlxuICAgICAgY29uc3QgeEF4aXNFbGVtZW50cyA9IGNoYXJ0SW5zdGFuY2UuZ2V0RWxlbWVudHNBdEV2ZW50Rm9yTW9kZShldmVudCwgXCJ4XCIsIHsgaW50ZXJzZWN0OiBmYWxzZSB9KTtcbiAgICAgIGlmICh4QXhpc0VsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAvLyBUaGUgbmVhcmVzdCBlbGVtZW50cyB0byB0aGUgY3Vyc29yLCByZWdhcmRsZXNzIG9mIGhvdyBjbG9zZSB0aGV5IGFyZS5cbiAgICAgICAgY29uc3QgbmVhcmVzdEVsZW1lbnRzID0gY2hhcnRJbnN0YW5jZS5nZXRFbGVtZW50c0F0RXZlbnRGb3JNb2RlKGV2ZW50LCBcIm5lYXJlc3RcIiwgeyBpbnRlcnNlY3Q6IGZhbHNlIH0pO1xuICAgICAgICBjb25zdCBuZWFyZXN0WEF4aXNFbGVtZW50ID0gbmVhcmVzdEVsZW1lbnRzLmZpbmQoKGl0ZW0pID0+XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVyc2NvcmUtZGFuZ2xlXG4gICAgICAgICAgeEF4aXNFbGVtZW50cy5zb21lKChpdGVtMikgPT4gaXRlbS5faW5kZXggPT09IGl0ZW0yLl9pbmRleCAmJiBpdGVtLl9kYXRhc2V0SW5kZXggPT09IGl0ZW0yLl9kYXRhc2V0SW5kZXgpXG4gICAgICAgICk7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgZWxlbWVudHMgb24gdGhlIHgtYXhpcywgcmV0dXJuIHRoZSBuZWFyZXN0IGVsZW1lbnQgaWYgd2UgY2FuIGZpbmQgaXQuXG4gICAgICAgIGlmIChuZWFyZXN0WEF4aXNFbGVtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIG1hcENoYXJ0RWxlbWVudFRvRXZlbnRFbGVtZW50KGNoYXJ0SW5zdGFuY2UsIG5lYXJlc3RYQXhpc0VsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE90aGVyd2lzZSBqdXN0IHJldHVybiB0aGUgZmlyc3QgZWxlbWVudCBvbiB0aGUgeC1heGlzLlxuICAgICAgICByZXR1cm4gbWFwQ2hhcnRFbGVtZW50VG9FdmVudEVsZW1lbnQoY2hhcnRJbnN0YW5jZSwgeEF4aXNFbGVtZW50c1swXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0RGF0YWxhYmVsQXRFdmVudCh7IGV2ZW50IH06IHsgZXZlbnQ6IEV2ZW50IH0pIHtcbiAgICBjb25zdCBjaGFydEluc3RhbmNlID0gdGhpcy5fY2hhcnRJbnN0YW5jZTtcbiAgICBpZiAoY2hhcnRJbnN0YW5jZSkge1xuICAgICAgY29uc3QgY2hhcnREYXRhbGFiZWwgPSBjaGFydEluc3RhbmNlLiRkYXRhbGFiZWxzLmdldExhYmVsQXRFdmVudChldmVudCk7XG4gICAgICBpZiAoY2hhcnREYXRhbGFiZWwpIHtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNoYXJ0RGF0YWxhYmVsLiRjb250ZXh0O1xuICAgICAgICByZXR1cm4gY29udGV4dC5kYXRhc2V0LmRhdGFbY29udGV4dC5kYXRhSW5kZXhdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9hZGRGdW5jdGlvbnNUb0NvbmZpZyhjb25maWc6IGFueSwgc2NhbGVPcHRpb25zOiA/U2NhbGVPcHRpb25zKSB7XG4gICAgaWYgKGNvbmZpZyAmJiBjb25maWcucGx1Z2lucy5kYXRhbGFiZWxzKSB7XG4gICAgICAvLyBUaGlzIGNvbnRyb2xzIHdoaWNoIGRhdGFsYWJlbHMgYXJlIGRpc3BsYXllZC4gT25seSBkaXNwbGF5IGxhYmVscyBmb3IgZGF0YXBvaW50cyB0aGF0IGluY2x1ZGUgYSBcImxhYmVsXCJcbiAgICAgIC8vIHByb3BlcnR5LlxuICAgICAgY29uZmlnLnBsdWdpbnMuZGF0YWxhYmVscy5mb3JtYXR0ZXIgPSAodmFsdWU6IGFueSwgX2NvbnRleHQ6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCBsYWJlbCA9IHZhbHVlPy5sYWJlbDtcbiAgICAgICAgLy8gV2UgaGF2ZSB0byByZXR1cm4gXCJudWxsXCIgaWYgd2UgZG9uJ3Qgd2FudCB0aGlzIGxhYmVsIHRvIGJlIGRpc3BsYXllZC4gUmV0dXJuaW5nIFwidW5kZWZpbmVkXCIgZmFsbHMgYmFjayB0byB0aGVcbiAgICAgICAgLy8gZGVmYXVsdCBmb3JtYXR0aW5nLlxuICAgICAgICByZXR1cm4gbGFiZWwgIT0gbnVsbCA/IGxhYmVsIDogbnVsbDtcbiAgICAgIH07XG4gICAgICAvLyBPdmVycmlkZSBjb2xvciBzbyB0aGF0IGl0IGNhbiBiZSBzZXQgcGVyLWRhdGFzZXQuXG4gICAgICBjb25zdCBzdGF0aWNDb2xvciA9IGNvbmZpZy5wbHVnaW5zLmRhdGFsYWJlbHMuY29sb3IgfHwgXCJ3aGl0ZVwiO1xuICAgICAgY29uZmlnLnBsdWdpbnMuZGF0YWxhYmVscy5jb2xvciA9IChjb250ZXh0OiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBjb250ZXh0LmRhdGFzZXQuZGF0YVtjb250ZXh0LmRhdGFJbmRleF07XG4gICAgICAgIHJldHVybiB2YWx1ZT8ubGFiZWxDb2xvciB8fCBzdGF0aWNDb2xvcjtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHNjYWxlT3B0aW9ucykge1xuICAgICAgZm9yIChjb25zdCBzY2FsZSBvZiBjb25maWcuc2NhbGVzLnlBeGVzKSB7XG4gICAgICAgIGlmIChzY2FsZU9wdGlvbnMuZml4ZWRZQXhpc1dpZHRoICE9IG51bGwpIHtcbiAgICAgICAgICBzY2FsZS5hZnRlckZpdCA9IChzY2FsZUluc3RhbmNlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHNjYWxlSW5zdGFuY2Uud2lkdGggPSBzY2FsZU9wdGlvbnMuZml4ZWRZQXhpc1dpZHRoO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgc2NhbGUudGlja3MgPSBzY2FsZS50aWNrcyB8fCB7fTtcbiAgICAgICAgaWYgKHNjYWxlT3B0aW9ucy55QXhpc1RpY2tzID09PSBcImhpZGVcIikge1xuICAgICAgICAgIHNjYWxlLnRpY2tzLmNhbGxiYWNrID0gaGlkZUFsbFRpY2tzU2NhbGVDYWxsYmFjaztcbiAgICAgICAgfSBlbHNlIGlmIChzY2FsZU9wdGlvbnMueUF4aXNUaWNrcyA9PT0gXCJoaWRlRmlyc3RBbmRMYXN0XCIpIHtcbiAgICAgICAgICBzY2FsZS50aWNrcy5jYWxsYmFjayA9IGhpZGVGaXJzdEFuZExhc3RUaWNrc1NjYWxlQ2FsbGJhY2s7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBzY2FsZSBvZiBjb25maWcuc2NhbGVzLnhBeGVzKSB7XG4gICAgICAgIHNjYWxlLnRpY2tzID0gc2NhbGUudGlja3MgfHwge307XG4gICAgICAgIGlmIChzY2FsZU9wdGlvbnMueEF4aXNUaWNrcykge1xuICAgICAgICAgIGlmIChzY2FsZU9wdGlvbnMueEF4aXNUaWNrcyA9PT0gXCJkaXNwbGF5WEF4ZXNUaWNrc0luU2Vjb25kc1wiKSB7XG4gICAgICAgICAgICBzY2FsZS50aWNrcy5jYWxsYmFjayA9IGRpc3BsYXlUaWNrc0luU2Vjb25kc0NhbGxiYWNrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzY2FsZS50aWNrcy5jYWxsYmFjayA9IGhpZGVGaXJzdEFuZExhc3RUaWNrc1NjYWxlQ2FsbGJhY2s7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfVxuXG4gIF9jaGVja0RhdGFzZXRzKGRhdGFzZXRzOiBhbnlbXSkge1xuICAgIGNvbnN0IGlzRGV2ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2RcIjtcbiAgICBjb25zdCBtdWx0aXBsZURhdGFzZXRzID0gZGF0YXNldHMubGVuZ3RoID4gMTtcblxuICAgIGlmIChpc0RldiAmJiBtdWx0aXBsZURhdGFzZXRzKSB7XG4gICAgICBsZXQgc2hvdWxkV2FybiA9IGZhbHNlO1xuICAgICAgZGF0YXNldHMuZm9yRWFjaCgoZGF0YXNldCkgPT4ge1xuICAgICAgICBpZiAoIWRhdGFzZXQubGFiZWwpIHtcbiAgICAgICAgICBzaG91bGRXYXJuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChzaG91bGRXYXJuKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ1tDaGFydEpTTWFuYWdlcl0gV2FybmluZzogRWFjaCBkYXRhc2V0IG5lZWRzIGEgdW5pcXVlIGtleS4gQnkgZGVmYXVsdCwgdGhlIFwibGFiZWxcIiBwcm9wZXJ0eSBvbiBlYWNoIGRhdGFzZXQgaXMgdXNlZC4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2dldEN1cnJlbnREYXRhc2V0cygpIHtcbiAgICByZXR1cm4gKHRoaXMuX2NoYXJ0SW5zdGFuY2UgJiYgdGhpcy5fY2hhcnRJbnN0YW5jZS5jb25maWcuZGF0YSAmJiB0aGlzLl9jaGFydEluc3RhbmNlLmNvbmZpZy5kYXRhLmRhdGFzZXRzKSB8fCBbXTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQVFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFnQkE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFhQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXBSQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/webviz-core/src/components/ReactChartjs/ChartJSManager.js\n");

/***/ }),

/***/ "./packages/webviz-core/src/components/ReactChartjs/ChartJSWorker.js":
/*!***************************************************************************!*\
  !*** ./packages/webviz-core/src/components/ReactChartjs/ChartJSWorker.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _chart = _interopRequireDefault(__webpack_require__(/*! chart.js */ \"./packages/webviz-core/node_modules/chart.js/dist/Chart.js\"));\n\nvar _ChartJSManager = _interopRequireDefault(__webpack_require__(/*! ./ChartJSManager */ \"./packages/webviz-core/src/components/ReactChartjs/ChartJSManager.js\"));\n\nvar _installChartjs = _interopRequireDefault(__webpack_require__(/*! ../../util/installChartjs */ \"./packages/webviz-core/src/util/installChartjs.js\"));\n\nvar _Rpc = _interopRequireDefault(__webpack_require__(/*! ../../util/Rpc */ \"./packages/webviz-core/src/util/Rpc.js\"));\n\nvar _RpcWorkerUtils = __webpack_require__(/*! ../../util/RpcWorkerUtils */ \"./packages/webviz-core/src/util/RpcWorkerUtils.js\");\n\nvar _workers = __webpack_require__(/*! ../../util/workers */ \"./packages/webviz-core/src/util/workers.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nlet hasInstalledChartjs = false;\n\nclass ChartJSWorker {\n  constructor(rpc) {\n    _defineProperty(this, \"_rpc\", void 0);\n\n    _defineProperty(this, \"_managersById\", void 0);\n\n    if (!hasInstalledChartjs) {\n      (0, _installChartjs.default)(_chart.default);\n      hasInstalledChartjs = true;\n    }\n\n    this._managersById = {};\n\n    if ( true && (0, _workers.inWebWorker)() && this._rpc instanceof _Rpc.default) {\n      (0, _RpcWorkerUtils.setupWorker)(this._rpc);\n    }\n\n    rpc.receive(\"initialize\", args => {\n      const manager = new _ChartJSManager.default(args);\n      this._managersById[args.id] = manager;\n      return this._managersById[args.id].getScaleBounds();\n    }); // $FlowFixMe flow doesn't like function calls in optional chains\n\n    rpc.receive(\"doZoom\", args => {\n      var _this$_managersById$a;\n\n      return (_this$_managersById$a = this._managersById[args.id]) === null || _this$_managersById$a === void 0 ? void 0 : _this$_managersById$a.doZoom(args);\n    }); // $FlowFixMe flow doesn't like function calls in optional chains\n\n    rpc.receive(\"resetZoomDelta\", args => {\n      var _this$_managersById$a2;\n\n      return (_this$_managersById$a2 = this._managersById[args.id]) === null || _this$_managersById$a2 === void 0 ? void 0 : _this$_managersById$a2.resetZoomDelta(args);\n    }); // $FlowFixMe flow doesn't like function calls in optional chains\n\n    rpc.receive(\"doPan\", args => {\n      var _this$_managersById$a3;\n\n      return (_this$_managersById$a3 = this._managersById[args.id]) === null || _this$_managersById$a3 === void 0 ? void 0 : _this$_managersById$a3.doPan(args);\n    }); // $FlowFixMe flow doesn't like function calls in optional chains\n\n    rpc.receive(\"resetPanDelta\", args => {\n      var _this$_managersById$a4;\n\n      return (_this$_managersById$a4 = this._managersById[args.id]) === null || _this$_managersById$a4 === void 0 ? void 0 : _this$_managersById$a4.resetPanDelta(args);\n    }); // $FlowFixMe flow doesn't like function calls in optional chains\n\n    rpc.receive(\"update\", args => {\n      var _this$_managersById$a5;\n\n      return (_this$_managersById$a5 = this._managersById[args.id]) === null || _this$_managersById$a5 === void 0 ? void 0 : _this$_managersById$a5.update(args);\n    }); // $FlowFixMe flow doesn't like function calls in optional chains\n\n    rpc.receive(\"resetZoom\", args => {\n      var _this$_managersById$a6;\n\n      return (_this$_managersById$a6 = this._managersById[args.id]) === null || _this$_managersById$a6 === void 0 ? void 0 : _this$_managersById$a6.resetZoom(args);\n    });\n    rpc.receive(\"destroy\", args => {\n      const manager = this._managersById[args.id];\n\n      if (manager) {\n        const result = manager.destroy(args);\n        delete this._managersById[args.id];\n        return result;\n      }\n    }); // $FlowFixMe flow doesn't like function calls in optional chains\n\n    rpc.receive(\"getElementAtXAxis\", args => {\n      var _this$_managersById$a7;\n\n      return (_this$_managersById$a7 = this._managersById[args.id]) === null || _this$_managersById$a7 === void 0 ? void 0 : _this$_managersById$a7.getElementAtXAxis(args);\n    }); // $FlowFixMe flow doesn't like function calls in optional chains\n\n    rpc.receive(\"getDatalabelAtEvent\", args => {\n      var _this$_managersById$a8;\n\n      return (_this$_managersById$a8 = this._managersById[args.id]) === null || _this$_managersById$a8 === void 0 ? void 0 : _this$_managersById$a8.getDatalabelAtEvent(args);\n    });\n  }\n\n}\n\nexports.default = ChartJSWorker;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy93ZWJ2aXotY29yZS9zcmMvY29tcG9uZW50cy9SZWFjdENoYXJ0anMvQ2hhcnRKU1dvcmtlci5qcy5qcyIsInNvdXJjZXMiOlsiL1VzZXJzL2NocmlzLmhhc3Nvbi9Eb2N1bWVudHMvV29ya3NwYWNlcy9vcy13ZWJ2aXovcGFja2FnZXMvd2Vidml6LWNvcmUvc3JjL2NvbXBvbmVudHMvUmVhY3RDaGFydGpzL0NoYXJ0SlNXb3JrZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcbi8vXG4vLyAgQ29weXJpZ2h0IChjKSAyMDE4LXByZXNlbnQsIENydWlzZSBMTENcbi8vXG4vLyAgVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wLFxuLy8gIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4vLyAgWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgQ2hhcnQgZnJvbSBcImNoYXJ0LmpzXCI7XG5cbmltcG9ydCBDaGFydEpTTWFuYWdlciBmcm9tIFwiLi9DaGFydEpTTWFuYWdlclwiO1xuaW1wb3J0IHR5cGUgeyBScGNMaWtlIH0gZnJvbSBcIndlYnZpei1jb3JlL3NyYy91dGlsL0Zha2VScGNcIjtcbmltcG9ydCBpbnN0YWxsQ2hhcnRqcyBmcm9tIFwid2Vidml6LWNvcmUvc3JjL3V0aWwvaW5zdGFsbENoYXJ0anNcIjtcbmltcG9ydCBScGMgZnJvbSBcIndlYnZpei1jb3JlL3NyYy91dGlsL1JwY1wiO1xuaW1wb3J0IHsgc2V0dXBXb3JrZXIgfSBmcm9tIFwid2Vidml6LWNvcmUvc3JjL3V0aWwvUnBjV29ya2VyVXRpbHNcIjtcbmltcG9ydCB7IGluV2ViV29ya2VyIH0gZnJvbSBcIndlYnZpei1jb3JlL3NyYy91dGlsL3dvcmtlcnNcIjtcblxubGV0IGhhc0luc3RhbGxlZENoYXJ0anMgPSBmYWxzZTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhcnRKU1dvcmtlciB7XG4gIF9ycGM6IFJwY0xpa2U7XG4gIF9tYW5hZ2Vyc0J5SWQ6IHsgW3N0cmluZ106IENoYXJ0SlNNYW5hZ2VyIH07XG5cbiAgY29uc3RydWN0b3IocnBjOiBScGNMaWtlKSB7XG4gICAgaWYgKCFoYXNJbnN0YWxsZWRDaGFydGpzKSB7XG4gICAgICBpbnN0YWxsQ2hhcnRqcyhDaGFydCk7XG4gICAgICBoYXNJbnN0YWxsZWRDaGFydGpzID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5fbWFuYWdlcnNCeUlkID0ge307XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwidGVzdFwiICYmIGluV2ViV29ya2VyKCkgJiYgdGhpcy5fcnBjIGluc3RhbmNlb2YgUnBjKSB7XG4gICAgICBzZXR1cFdvcmtlcih0aGlzLl9ycGMpO1xuICAgIH1cblxuICAgIHJwYy5yZWNlaXZlKFwiaW5pdGlhbGl6ZVwiLCAoYXJncykgPT4ge1xuICAgICAgY29uc3QgbWFuYWdlciA9IG5ldyBDaGFydEpTTWFuYWdlcihhcmdzKTtcbiAgICAgIHRoaXMuX21hbmFnZXJzQnlJZFthcmdzLmlkXSA9IG1hbmFnZXI7XG4gICAgICByZXR1cm4gdGhpcy5fbWFuYWdlcnNCeUlkW2FyZ3MuaWRdLmdldFNjYWxlQm91bmRzKCk7XG4gICAgfSk7XG4gICAgLy8gJEZsb3dGaXhNZSBmbG93IGRvZXNuJ3QgbGlrZSBmdW5jdGlvbiBjYWxscyBpbiBvcHRpb25hbCBjaGFpbnNcbiAgICBycGMucmVjZWl2ZShcImRvWm9vbVwiLCAoYXJncykgPT4gdGhpcy5fbWFuYWdlcnNCeUlkW2FyZ3MuaWRdPy5kb1pvb20oYXJncykpO1xuICAgIC8vICRGbG93Rml4TWUgZmxvdyBkb2Vzbid0IGxpa2UgZnVuY3Rpb24gY2FsbHMgaW4gb3B0aW9uYWwgY2hhaW5zXG4gICAgcnBjLnJlY2VpdmUoXCJyZXNldFpvb21EZWx0YVwiLCAoYXJncykgPT4gdGhpcy5fbWFuYWdlcnNCeUlkW2FyZ3MuaWRdPy5yZXNldFpvb21EZWx0YShhcmdzKSk7XG4gICAgLy8gJEZsb3dGaXhNZSBmbG93IGRvZXNuJ3QgbGlrZSBmdW5jdGlvbiBjYWxscyBpbiBvcHRpb25hbCBjaGFpbnNcbiAgICBycGMucmVjZWl2ZShcImRvUGFuXCIsIChhcmdzKSA9PiB0aGlzLl9tYW5hZ2Vyc0J5SWRbYXJncy5pZF0/LmRvUGFuKGFyZ3MpKTtcbiAgICAvLyAkRmxvd0ZpeE1lIGZsb3cgZG9lc24ndCBsaWtlIGZ1bmN0aW9uIGNhbGxzIGluIG9wdGlvbmFsIGNoYWluc1xuICAgIHJwYy5yZWNlaXZlKFwicmVzZXRQYW5EZWx0YVwiLCAoYXJncykgPT4gdGhpcy5fbWFuYWdlcnNCeUlkW2FyZ3MuaWRdPy5yZXNldFBhbkRlbHRhKGFyZ3MpKTtcbiAgICAvLyAkRmxvd0ZpeE1lIGZsb3cgZG9lc24ndCBsaWtlIGZ1bmN0aW9uIGNhbGxzIGluIG9wdGlvbmFsIGNoYWluc1xuICAgIHJwYy5yZWNlaXZlKFwidXBkYXRlXCIsIChhcmdzKSA9PiB0aGlzLl9tYW5hZ2Vyc0J5SWRbYXJncy5pZF0/LnVwZGF0ZShhcmdzKSk7XG4gICAgLy8gJEZsb3dGaXhNZSBmbG93IGRvZXNuJ3QgbGlrZSBmdW5jdGlvbiBjYWxscyBpbiBvcHRpb25hbCBjaGFpbnNcbiAgICBycGMucmVjZWl2ZShcInJlc2V0Wm9vbVwiLCAoYXJncykgPT4gdGhpcy5fbWFuYWdlcnNCeUlkW2FyZ3MuaWRdPy5yZXNldFpvb20oYXJncykpO1xuICAgIHJwYy5yZWNlaXZlKFwiZGVzdHJveVwiLCAoYXJncykgPT4ge1xuICAgICAgY29uc3QgbWFuYWdlciA9IHRoaXMuX21hbmFnZXJzQnlJZFthcmdzLmlkXTtcbiAgICAgIGlmIChtYW5hZ2VyKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG1hbmFnZXIuZGVzdHJveShhcmdzKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX21hbmFnZXJzQnlJZFthcmdzLmlkXTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyAkRmxvd0ZpeE1lIGZsb3cgZG9lc24ndCBsaWtlIGZ1bmN0aW9uIGNhbGxzIGluIG9wdGlvbmFsIGNoYWluc1xuICAgIHJwYy5yZWNlaXZlKFwiZ2V0RWxlbWVudEF0WEF4aXNcIiwgKGFyZ3MpID0+IHRoaXMuX21hbmFnZXJzQnlJZFthcmdzLmlkXT8uZ2V0RWxlbWVudEF0WEF4aXMoYXJncykpO1xuICAgIC8vICRGbG93Rml4TWUgZmxvdyBkb2Vzbid0IGxpa2UgZnVuY3Rpb24gY2FsbHMgaW4gb3B0aW9uYWwgY2hhaW5zXG4gICAgcnBjLnJlY2VpdmUoXCJnZXREYXRhbGFiZWxBdEV2ZW50XCIsIChhcmdzKSA9PiB0aGlzLl9tYW5hZ2Vyc0J5SWRbYXJncy5pZF0/LmdldERhdGFsYWJlbEF0RXZlbnQoYXJncykpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFDQTtBQTdDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./packages/webviz-core/src/components/ReactChartjs/ChartJSWorker.js\n");

/***/ }),

/***/ "./packages/webviz-core/src/util/installChartjs.js":
/*!*********************************************************!*\
  !*** ./packages/webviz-core/src/util/installChartjs.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = installChartjs;\n\nvar _chart = _interopRequireDefault(__webpack_require__(/*! chart.js */ \"./packages/webviz-core/node_modules/chart.js/dist/Chart.js\"));\n\nvar _multicolorLineChart = _interopRequireDefault(__webpack_require__(/*! ./multicolorLineChart */ \"./packages/webviz-core/src/util/multicolorLineChart.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//\n//  Copyright (c) 2018-present, Cruise LLC\n//\n//  This source code is licensed under the Apache License, Version 2.0,\n//  found in the LICENSE file in the root directory of this source tree.\n//  You may not use this file except in compliance with the License.\nfunction installChartjs(Chart = _chart.default) {\n  const annotationPlugin = __webpack_require__(/*! chartjs-plugin-annotation */ \"./packages/webviz-core/node_modules/chartjs-plugin-annotation/src/index.js\");\n\n  const datalabelPlugin = __webpack_require__(/*! chartjs-plugin-datalabels */ \"./packages/webviz-core/node_modules/chartjs-plugin-datalabels/dist/chartjs-plugin-datalabels.js\");\n\n  Chart.plugins.register(annotationPlugin);\n  Chart.plugins.register(datalabelPlugin);\n  (0, _multicolorLineChart.default)(Chart); // Otherwise we'd get labels everywhere.\n\n  Chart.defaults.global.plugins.datalabels = {};\n  Chart.defaults.global.plugins.datalabels.display = false;\n\n  if (Chart.plugins.count() !== 5) {\n    throw new Error(\"Incorrect number of Chart.js plugins; one probably has not loaded correctly (make sure we don't have duplicate chart.js instances when running `yarn list`.\");\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy93ZWJ2aXotY29yZS9zcmMvdXRpbC9pbnN0YWxsQ2hhcnRqcy5qcy5qcyIsInNvdXJjZXMiOlsiL1VzZXJzL2NocmlzLmhhc3Nvbi9Eb2N1bWVudHMvV29ya3NwYWNlcy9vcy13ZWJ2aXovcGFja2FnZXMvd2Vidml6LWNvcmUvc3JjL3V0aWwvaW5zdGFsbENoYXJ0anMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcbi8vXG4vLyAgQ29weXJpZ2h0IChjKSAyMDE4LXByZXNlbnQsIENydWlzZSBMTENcbi8vXG4vLyAgVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wLFxuLy8gIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4vLyAgWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgQ2hhcnRKU0NoYXJ0IGZyb20gXCJjaGFydC5qc1wiO1xuXG5pbXBvcnQgaW5zdGFsbE11bHRpY29sb3JMaW5lQ2hhcnQgZnJvbSBcIndlYnZpei1jb3JlL3NyYy91dGlsL211bHRpY29sb3JMaW5lQ2hhcnRcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5zdGFsbENoYXJ0anMoQ2hhcnQ6IGFueSA9IENoYXJ0SlNDaGFydCkge1xuICBjb25zdCBhbm5vdGF0aW9uUGx1Z2luID0gcmVxdWlyZShcImNoYXJ0anMtcGx1Z2luLWFubm90YXRpb25cIik7XG4gIGNvbnN0IGRhdGFsYWJlbFBsdWdpbiA9IHJlcXVpcmUoXCJjaGFydGpzLXBsdWdpbi1kYXRhbGFiZWxzXCIpO1xuICBDaGFydC5wbHVnaW5zLnJlZ2lzdGVyKGFubm90YXRpb25QbHVnaW4pO1xuICBDaGFydC5wbHVnaW5zLnJlZ2lzdGVyKGRhdGFsYWJlbFBsdWdpbik7XG4gIGluc3RhbGxNdWx0aWNvbG9yTGluZUNoYXJ0KENoYXJ0KTtcblxuICAvLyBPdGhlcndpc2Ugd2UnZCBnZXQgbGFiZWxzIGV2ZXJ5d2hlcmUuXG4gIENoYXJ0LmRlZmF1bHRzLmdsb2JhbC5wbHVnaW5zLmRhdGFsYWJlbHMgPSB7fTtcbiAgQ2hhcnQuZGVmYXVsdHMuZ2xvYmFsLnBsdWdpbnMuZGF0YWxhYmVscy5kaXNwbGF5ID0gZmFsc2U7XG5cbiAgaWYgKENoYXJ0LnBsdWdpbnMuY291bnQoKSAhPT0gNSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiSW5jb3JyZWN0IG51bWJlciBvZiBDaGFydC5qcyBwbHVnaW5zOyBvbmUgcHJvYmFibHkgaGFzIG5vdCBsb2FkZWQgY29ycmVjdGx5IChtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZSBkdXBsaWNhdGUgY2hhcnQuanMgaW5zdGFuY2VzIHdoZW4gcnVubmluZyBgeWFybiBsaXN0YC5cIlxuICAgICk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBOzs7QUFWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./packages/webviz-core/src/util/installChartjs.js\n");

/***/ }),

/***/ "./packages/webviz-core/src/util/multicolorLineChart.js":
/*!**************************************************************!*\
  !*** ./packages/webviz-core/src/util/multicolorLineChart.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = installMulticolorLineChart;\n\n//\n//  Copyright (c) 2018-present, Cruise LLC\n//\n//  This source code is licensed under the Apache License, Version 2.0,\n//  found in the LICENSE file in the root directory of this source tree.\n//  You may not use this file except in compliance with the License.\n\n/* eslint-disable no-underscore-dangle */\n// From https://github.com/chartjs/Chart.js/issues/4895#issuecomment-341874938\nfunction installMulticolorLineChart(Chart) {\n  Chart.defaults.multicolorLine = Chart.defaults.scatter;\n  Chart.controllers.multicolorLine = Chart.controllers.scatter.extend({\n    draw(ease) {\n      let startIndex = 0;\n      const meta = this.getMeta();\n      const points = meta.data || [];\n      const colors = this.getDataset().colors;\n      const area = this.chart.chartArea;\n      const {\n        multicolorLineYOffset\n      } = this.chart.options.plugins || {};\n\n      if (multicolorLineYOffset) {\n        meta.dataset._children.forEach(data => {\n          if (!data._view.originalY) {\n            data._view.originalY = data._view.y;\n          }\n\n          data._view.y = data._view.originalY + multicolorLineYOffset;\n        });\n      }\n\n      const originalDatasets = meta.dataset._children.filter(data => {\n        return !isNaN(data._view.y);\n      });\n\n      function setColor(newColor, {\n        dataset\n      }) {\n        dataset._view.borderColor = newColor;\n      }\n\n      if (!colors) {\n        Chart.controllers.scatter.prototype.draw.call(this, ease);\n        return;\n      }\n\n      for (let i = 2; i <= colors.length; i++) {\n        if (colors[i - 1] !== colors[i]) {\n          setColor(colors[i - 1], meta);\n          meta.dataset._children = originalDatasets.slice(startIndex, i);\n          meta.dataset.draw();\n          startIndex = i - 1;\n        }\n      }\n\n      meta.dataset._children = originalDatasets.slice(startIndex);\n      meta.dataset.draw();\n      meta.dataset._children = originalDatasets;\n      points.forEach(point => {\n        point.draw(area);\n      });\n    }\n\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWNrYWdlcy93ZWJ2aXotY29yZS9zcmMvdXRpbC9tdWx0aWNvbG9yTGluZUNoYXJ0LmpzLmpzIiwic291cmNlcyI6WyIvVXNlcnMvY2hyaXMuaGFzc29uL0RvY3VtZW50cy9Xb3Jrc3BhY2VzL29zLXdlYnZpei9wYWNrYWdlcy93ZWJ2aXotY29yZS9zcmMvdXRpbC9tdWx0aWNvbG9yTGluZUNoYXJ0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEBmbG93XG4vL1xuLy8gIENvcHlyaWdodCAoYykgMjAxOC1wcmVzZW50LCBDcnVpc2UgTExDXG4vL1xuLy8gIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCxcbi8vICBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuLy8gIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZXJzY29yZS1kYW5nbGUgKi9cbi8vIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL2NoYXJ0anMvQ2hhcnQuanMvaXNzdWVzLzQ4OTUjaXNzdWVjb21tZW50LTM0MTg3NDkzOFxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5zdGFsbE11bHRpY29sb3JMaW5lQ2hhcnQoQ2hhcnQ6IGFueSkge1xuICBDaGFydC5kZWZhdWx0cy5tdWx0aWNvbG9yTGluZSA9IENoYXJ0LmRlZmF1bHRzLnNjYXR0ZXI7XG4gIENoYXJ0LmNvbnRyb2xsZXJzLm11bHRpY29sb3JMaW5lID0gQ2hhcnQuY29udHJvbGxlcnMuc2NhdHRlci5leHRlbmQoe1xuICAgIGRyYXcoZWFzZSkge1xuICAgICAgbGV0IHN0YXJ0SW5kZXggPSAwO1xuICAgICAgY29uc3QgbWV0YSA9IHRoaXMuZ2V0TWV0YSgpO1xuICAgICAgY29uc3QgcG9pbnRzID0gbWV0YS5kYXRhIHx8IFtdO1xuICAgICAgY29uc3QgY29sb3JzID0gdGhpcy5nZXREYXRhc2V0KCkuY29sb3JzO1xuICAgICAgY29uc3QgYXJlYSA9IHRoaXMuY2hhcnQuY2hhcnRBcmVhO1xuICAgICAgY29uc3QgeyBtdWx0aWNvbG9yTGluZVlPZmZzZXQgfSA9IHRoaXMuY2hhcnQub3B0aW9ucy5wbHVnaW5zIHx8IHt9O1xuICAgICAgaWYgKG11bHRpY29sb3JMaW5lWU9mZnNldCkge1xuICAgICAgICBtZXRhLmRhdGFzZXQuX2NoaWxkcmVuLmZvckVhY2goKGRhdGEpID0+IHtcbiAgICAgICAgICBpZiAoIWRhdGEuX3ZpZXcub3JpZ2luYWxZKSB7XG4gICAgICAgICAgICBkYXRhLl92aWV3Lm9yaWdpbmFsWSA9IGRhdGEuX3ZpZXcueTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0YS5fdmlldy55ID0gZGF0YS5fdmlldy5vcmlnaW5hbFkgKyBtdWx0aWNvbG9yTGluZVlPZmZzZXQ7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3Qgb3JpZ2luYWxEYXRhc2V0cyA9IG1ldGEuZGF0YXNldC5fY2hpbGRyZW4uZmlsdGVyKChkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiAhaXNOYU4oZGF0YS5fdmlldy55KTtcbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiBzZXRDb2xvcihuZXdDb2xvciwgeyBkYXRhc2V0IH0pIHtcbiAgICAgICAgZGF0YXNldC5fdmlldy5ib3JkZXJDb2xvciA9IG5ld0NvbG9yO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWNvbG9ycykge1xuICAgICAgICBDaGFydC5jb250cm9sbGVycy5zY2F0dGVyLnByb3RvdHlwZS5kcmF3LmNhbGwodGhpcywgZWFzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPD0gY29sb3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChjb2xvcnNbaSAtIDFdICE9PSBjb2xvcnNbaV0pIHtcbiAgICAgICAgICBzZXRDb2xvcihjb2xvcnNbaSAtIDFdLCBtZXRhKTtcbiAgICAgICAgICBtZXRhLmRhdGFzZXQuX2NoaWxkcmVuID0gb3JpZ2luYWxEYXRhc2V0cy5zbGljZShzdGFydEluZGV4LCBpKTtcbiAgICAgICAgICBtZXRhLmRhdGFzZXQuZHJhdygpO1xuICAgICAgICAgIHN0YXJ0SW5kZXggPSBpIC0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZXRhLmRhdGFzZXQuX2NoaWxkcmVuID0gb3JpZ2luYWxEYXRhc2V0cy5zbGljZShzdGFydEluZGV4KTtcbiAgICAgIG1ldGEuZGF0YXNldC5kcmF3KCk7XG4gICAgICBtZXRhLmRhdGFzZXQuX2NoaWxkcmVuID0gb3JpZ2luYWxEYXRhc2V0cztcblxuICAgICAgcG9pbnRzLmZvckVhY2goKHBvaW50KSA9PiB7XG4gICAgICAgIHBvaW50LmRyYXcoYXJlYSk7XG4gICAgICB9KTtcbiAgICB9LFxuICB9KTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOUNBO0FBK0NBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./packages/webviz-core/src/util/multicolorLineChart.js\n");

/***/ })

}]);