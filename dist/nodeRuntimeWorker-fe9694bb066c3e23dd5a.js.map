{"version":3,"sources":["/home/circleci/project/webpack/bootstrap","/home/circleci/project/node_modules/webpack/buildin/global.js","/home/circleci/project/packages/webviz-core/src/players/UserNodePlayer/nodeRuntimeWorker/index.js","/home/circleci/project/packages/webviz-core/src/players/UserNodePlayer/nodeRuntimeWorker/registry.js","/home/circleci/project/node_modules/webpack/node_modules/path-browserify/index.js","/home/circleci/project/node_modules/webpack/node_modules/process/browser.js","/home/circleci/project/packages/webviz-core/src/util/globalConstants.js","/home/circleci/project/packages/webviz-core/src/util/sharedStyleConstants.js","/home/circleci/project/packages/webviz-core/node_modules/tinycolor2/tinycolor.js","/home/circleci/project/packages/webviz-core/src/util/Rpc.js","/home/circleci/project/packages/webviz-core/src/util/workers.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","g","this","Function","e","window","inSharedWorker","Error","global","onconnect","port","ports","rpc","Rpc","receive","enforceFetchIsBlocked","registerNode","processMessage","start","nodeCallback","containsFuncDeclaration","args","arg","values","stringifyFuncsInObject","newArg","entries","getArgsToPrint","map","JSON","stringify","requireImplementation","id","projectCode","requestedFile","path","join","DEFAULT_WEBVIZ_NODE_PREFIX","file","source","endsWith","sourceExports","require","reqId","nodeCode","userNodeLogs","userNodeDiagnostics","self","log","argsToPrint","push","nodeExports","default","error","toString","length","message","normalizeArray","parts","allowAboveRoot","up","last","splice","unshift","filter","xs","f","res","resolve","resolvedPath","resolvedAbsolute","arguments","process","cwd","TypeError","charAt","split","normalize","isAbsolute","trailingSlash","substr","paths","Array","slice","index","relative","from","to","trim","arr","end","fromParts","toParts","Math","min","samePartsLength","outputParts","concat","sep","delimiter","dirname","code","charCodeAt","hasRoot","matchedSlash","basename","ext","extname","startDot","startPart","preDotState","str","len","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","array","noop","nextTick","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","chdir","dir","umask","RED","b","a","BLUE","YELLOW","ORANGE","GREEN","GRAY","PURPLE","WHITE","PINK","LIGHT_RED","LIGHT_GREEN","LIGHT_BLUE","ARROW","CUBE","SPHERE","CYLINDER","LINE_STRIP","LINE_LIST","CUBE_LIST","SPHERE_LIST","POINTS","TEXT_VIEW_FACING","MESH_RESOURCE","TRIANGLE_LIST","INSTANCED_LINE_LIST","x","y","z","jsonTreeTheme","base00","base07","colors","BLUEL1","base0B","YELLOW1","base09","REDL1","base08","base0D","base03","DARK9","baseColors","DARK","DARK1","DARK2","DARK3","DARK4","DARK5","DARK6","DARK7","DARK8","LIGHT","LIGHT1","LIGHT2","GRAY2","MAGENTAL1","MAGENTA","MAGENTA1","PURPLEL1","PURPLE1","BLUE1","TEALL1","TEAL","TEAL1","GREENL1","GREEN1","LIMEL1","LIME","LIME1","YELLOWL1","ORANGEL1","ORANGE1","RED1","RED2","PRIMARY","TEXT_MUTED","HIGHLIGHT","HOVER_BACKGROUND_COLOR","setAlpha","toRgbString","DISABLED","TEXTL1","ACTION","TEXT","TOOLBAR","TOOLBARL1","BRIGHT_YELLOW","SMALL","NORMAL","LARGE","H5","H4","H3","H2","H1","PILL","CIRCLE","trimLeft","trimRight","tinyCounter","mathRound","round","mathMin","mathMax","max","mathRandom","random","tinycolor","color","opts","rgb","v","ok","format","replace","toLowerCase","match","named","names","matchers","exec","rgba","hsl","h","hsla","hsv","hsva","hex8","parseIntFromHex","convertHexToDecimal","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","bound01","String","convertToPercentage","floor","q","mod","hsvToRgb","hue2rgb","hslToRgb","boundAlpha","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","_format","_gradientType","gradientType","_ok","_tc_id","rgbToHsl","rgbToHsv","rgbToHex","allow3Char","hex","pad2","rgbaToArgbHex","convertDecimalToHex","desaturate","amount","toHsl","clamp01","saturate","greyscale","lighten","brighten","toRgb","darken","spin","hue","complement","triad","tetrad","splitcomplement","analogous","results","slices","part","ret","monochromatic","toHsv","modification","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getAlpha","getLuminance","RsRGB","GsRGB","BsRGB","pow","toHsvString","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","clone","_applyModification","fn","_applyCombination","fromRatio","newColor","equals","color1","color2","mix","rgb1","rgb2","readability","c1","c2","isReadable","wcag2","wcag2Parms","out","parms","level","size","toUpperCase","validateWCAG2Parms","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flipped","flip","parseFloat","isNaN","indexOf","isOnePointZero","processPercent","isPercentage","parseInt","abs","val","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","RegExp","local","onmessage","postMessage","data","transfer","ev","MessageEvent","remote","terminate","constructor","channel","Map","topic","_pendingCallbacks","Promise","reject","handler","_receivers","then","result","_channel","transferrables","catch","err","stack","_onChannelMessage","send","_messageId","info","has","set","WorkerGlobalScope","SharedWorkerGlobalScope","canFetch","fetch","async"],"mappings":";mBACE,IAAIA,iBAAmB,GAGvB,SAASC,oBAAoBC,UAG5B,GAAGF,iBAAiBE,UACnB,OAAOF,iBAAiBE,UAAUC,QAGnC,IAAIC,OAASJ,iBAAiBE,UAAY,CACzCG,EAAGH,SACHI,GAAG,EACHH,QAAS,IAUV,OANAI,QAAQL,UAAUM,KAAKJ,OAAOD,QAASC,OAAQA,OAAOD,QAASF,qBAG/DG,OAAOE,GAAI,EAGJF,OAAOD,QAKfF,oBAAoBQ,EAAIF,QAGxBN,oBAAoBS,EAAIV,iBAGxBC,oBAAoBU,EAAI,SAASR,QAASS,KAAMC,QAC3CZ,oBAAoBa,EAAEX,QAASS,OAClCG,OAAOC,eAAeb,QAASS,KAAM,CAAEK,YAAY,EAAMC,IAAKL,UAKhEZ,oBAAoBkB,EAAI,SAAShB,SACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,QAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,QAAS,aAAc,CAAEmB,OAAO,KAQvDrB,oBAAoBsB,EAAI,SAASD,MAAOE,MAEvC,GADU,EAAPA,OAAUF,MAAQrB,oBAAoBqB,QAC/B,EAAPE,KAAU,OAAOF,MACpB,GAAW,EAAPE,MAA8B,iBAAVF,OAAsBA,OAASA,MAAMG,WAAY,OAAOH,MAChF,IAAII,GAAKX,OAAOY,OAAO,MAGvB,GAFA1B,oBAAoBkB,EAAEO,IACtBX,OAAOC,eAAeU,GAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,QACtD,EAAPE,MAA4B,iBAATF,MAAmB,IAAI,IAAIM,OAAON,MAAOrB,oBAAoBU,EAAEe,GAAIE,IAAK,SAASA,KAAO,OAAON,MAAMM,MAAQC,KAAK,KAAMD,MAC9I,OAAOF,IAIRzB,oBAAoB6B,EAAI,SAAS1B,QAChC,IAAIS,OAAST,QAAUA,OAAOqB,WAC7B,WAAwB,OAAOrB,OAAgB,SAC/C,WAA8B,OAAOA,QAEtC,OADAH,oBAAoBU,EAAEE,OAAQ,IAAKA,QAC5BA,QAIRZ,oBAAoBa,EAAI,SAASiB,OAAQC,UAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,OAAQC,WAGzG/B,oBAAoBkC,EAAI,SAIjBlC,oBAAoBA,oBAAoBmC,EAAI,G,2BClFrD,IAAIC,EAGJA,EAAI,WACH,OAAOC,KADJ,GAIJ,IAECD,EAAIA,GAAK,IAAIE,SAAS,cAAb,GACR,MAAOC,GAEc,iBAAXC,SAAqBJ,EAAII,QAOrCrC,OAAOD,QAAUkC,G,4ECZjB,I,IAAA,iCACA,M,IAAA,yB,iCACA,gCAEA,KAAK,WAAAK,kBAOH,MAAM,IAAIC,MAAM,0BAGlBC,OAAOC,UAAaL,IAClB,MAAMM,KAAON,EAAEO,MAAM,GACfC,IAAM,IAAIC,aAAIH,MAEpBE,IAAIE,QAAQ,gBAAgB,WAAAC,uBAAsBC,yBAClDJ,IAAIE,QAAQ,iBAAkBG,0BAC9BP,KAAKQ,W,oSCpBP,I,IAAA,O,IAAA,yB,iCAGA,wC,oKAIA,IAAIC,aAA2C,OASxC,MAAMC,wBAA2BC,OACtC,IAAK,MAAMC,OAAOD,KAAM,CACtB,GAAmB,mBAARC,IACT,OAAO,EACF,GAAW,MAAPA,KAA8B,iBAARA,IAC/B,IAAK,MAAMpC,SAASP,OAAO4C,OAAOD,KAChC,GAAIF,wBAAwB,CAAClC,QAC3B,OAAO,EAKf,OAAO,G,wDAGF,MAAMsC,uBAA0BF,MACrC,GAAmB,mBAARA,IACT,MAAQ,GAAEA,IACL,GAAW,MAAPA,KAA8B,iBAARA,IAAkB,CACjD,MAAMG,O,8ZAAS,CAAH,GAAQH,KACpB,IAAK,MAAO9B,IAAKN,SAAUP,OAAO+C,QAAQJ,KACxCG,OAAOjC,KAAOgC,uBAAuBtC,OAEvC,OAAOuC,OAET,OAAOH,K,sDAGT,MAAMK,eAAkBN,MACfA,KAAKO,IAAIJ,wBAAwBI,IAAKN,KAAwB,iBAARA,IAAmBO,KAAKC,UAAUR,KAAOA,KAI3FS,sBAAwB,CAACC,GAAYC,eAChD,MAAMC,cAAmBC,cAAKC,KAAKC,4CAA4BL,IAAxC,MACvB,IAAK,MAAOM,KAAMC,UAAWN,YAAYP,UACvC,GAAIQ,cAAcM,SAASF,MAAO,CAChC,MAAMG,cAAgB,GAChBC,QAAWC,OAAkBZ,sBAAsBY,MAAOV,aAGhE,OADA,IAAI9B,SAAS,UAAW,UAAWoC,OAAnC,CAA2CE,cAAeC,SACnDD,cAGX,MAAM,IAAIlC,MAAO,uCAAsCyB,Q,yEAG7B,EAC1BY,kBACAX,4BAKA,MAAMY,aAAe,GACfC,oBAAsB,GAC5BC,KAAKC,IAAM,YAAY3B,MAErB,GAAID,wBAAwBC,MAAO,CACjC,MAAM4B,YAActB,eAAeN,MACnC,MAAM,IAAId,MAAO,qEAAoE0C,YAAYb,KAAK,UAExGS,aAAaK,QAAQ7B,KAAKO,IAAK1C,QAAD,CAAcqD,OAAQ,eAAgBrD,iBAGtE,IACE,MAAMiE,YAAc,GAEdT,QAAWV,IAAeD,sBAAsBC,GAAIC,aAM1D,OAFA,IAAI9B,SAAS,UAAW,UAAWyC,SAAnC,CAA6CO,YAAaT,SAC1DvB,aAAegC,YAAYC,QACpB,CACLC,MAAO,KACPR,0BACAC,yCAEF,MAAO1C,GACP,MAAMiD,MAAQjD,EAAEkD,WAChB,MAAO,CACLD,MAAOA,MAAME,OAASF,MAAS,mDAC/BR,0BACAC,2C,uBAKwB,EAAGU,oBAC/B,MAAMX,aAAe,GACfC,oBAAsB,GAC5BC,KAAKC,IAAM,YAAY3B,MAErB,GAAID,wBAAwBC,MAAO,CACjC,MAAM4B,YAActB,eAAeN,MACnC,MAAM,IAAId,MAAO,uEAAsE0C,YAAYb,KAAK,UAE1GS,aAAaK,QAAQ7B,KAAKO,IAAK1C,QAAD,CAAcqD,OAAQ,iBAAkBrD,iBAExE,IAEE,MAAO,CAAEsE,QADUrC,aAAaqC,SACFH,MAAO,KAAMR,0BAAcC,yCACzD,MAAO1C,GAEP,MAAMiD,MAAQjD,EAAEkD,WAChB,MAAO,CACLE,QAAS,KACTH,MAAOA,MAAME,OAASF,MAAQ,+CAC9BR,0BACAC,4C,8CCrIN,kBA4BA,SAASW,eAAeC,MAAOC,gBAG7B,IADA,IAAIC,GAAK,EACA3F,EAAIyF,MAAMH,OAAS,EAAGtF,GAAK,EAAGA,IAAK,CAC1C,IAAI4F,KAAOH,MAAMzF,GACJ,MAAT4F,KACFH,MAAMI,OAAO7F,EAAG,GACE,OAAT4F,MACTH,MAAMI,OAAO7F,EAAG,GAChB2F,MACSA,KACTF,MAAMI,OAAO7F,EAAG,GAChB2F,MAKJ,GAAID,eACF,KAAOC,KAAMA,GACXF,MAAMK,QAAQ,MAIlB,OAAOL,MA0OT,SAASM,OAAQC,GAAIC,GACjB,GAAID,GAAGD,OAAQ,OAAOC,GAAGD,OAAOE,GAEhC,IADA,IAAIC,IAAM,GACDlG,EAAI,EAAGA,EAAIgG,GAAGV,OAAQtF,IACvBiG,EAAED,GAAGhG,GAAIA,EAAGgG,KAAKE,IAAIjB,KAAKe,GAAGhG,IAErC,OAAOkG,IA3OXpG,QAAQqG,QAAU,WAIhB,IAHA,IAAIC,aAAe,GACfC,kBAAmB,EAEdrG,EAAIsG,UAAUhB,OAAS,EAAGtF,IAAM,IAAMqG,iBAAkBrG,IAAK,CACpE,IAAIkE,KAAQlE,GAAK,EAAKsG,UAAUtG,GAAKuG,QAAQC,MAG7C,GAAoB,iBAATtC,KACT,MAAM,IAAIuC,UAAU,6CACVvC,OAIZkC,aAAelC,KAAO,IAAMkC,aAC5BC,iBAAsC,MAAnBnC,KAAKwC,OAAO,IAWjC,OAASL,iBAAmB,IAAM,KAJlCD,aAAeZ,eAAeO,OAAOK,aAAaO,MAAM,MAAM,SAAS7E,GACrE,QAASA,MACNuE,kBAAkBlC,KAAK,OAE6B,KAK3DrE,QAAQ8G,UAAY,SAAS1C,MAC3B,IAAI2C,WAAa/G,QAAQ+G,WAAW3C,MAChC4C,cAAqC,MAArBC,OAAO7C,MAAO,GAclC,OAXAA,KAAOsB,eAAeO,OAAO7B,KAAKyC,MAAM,MAAM,SAAS7E,GACrD,QAASA,MACN+E,YAAY1C,KAAK,OAER0C,aACZ3C,KAAO,KAELA,MAAQ4C,gBACV5C,MAAQ,MAGF2C,WAAa,IAAM,IAAM3C,MAInCpE,QAAQ+G,WAAa,SAAS3C,MAC5B,MAA0B,MAAnBA,KAAKwC,OAAO,IAIrB5G,QAAQqE,KAAO,WACb,IAAI6C,MAAQC,MAAMrF,UAAUsF,MAAM/G,KAAKmG,UAAW,GAClD,OAAOxG,QAAQ8G,UAAUb,OAAOiB,OAAO,SAASlF,EAAGqF,OACjD,GAAiB,iBAANrF,EACT,MAAM,IAAI2E,UAAU,0CAEtB,OAAO3E,KACNqC,KAAK,OAMVrE,QAAQsH,SAAW,SAASC,KAAMC,IAIhC,SAASC,KAAKC,KAEZ,IADA,IAAIvE,MAAQ,EACLA,MAAQuE,IAAIlC,QACE,KAAfkC,IAAIvE,OADiBA,SAK3B,IADA,IAAIwE,IAAMD,IAAIlC,OAAS,EAChBmC,KAAO,GACK,KAAbD,IAAIC,KADOA,OAIjB,OAAIxE,MAAQwE,IAAY,GACjBD,IAAIN,MAAMjE,MAAOwE,IAAMxE,MAAQ,GAfxCoE,KAAOvH,QAAQqG,QAAQkB,MAAMN,OAAO,GACpCO,GAAKxH,QAAQqG,QAAQmB,IAAIP,OAAO,GAsBhC,IALA,IAAIW,UAAYH,KAAKF,KAAKV,MAAM,MAC5BgB,QAAUJ,KAAKD,GAAGX,MAAM,MAExBrB,OAASsC,KAAKC,IAAIH,UAAUpC,OAAQqC,QAAQrC,QAC5CwC,gBAAkBxC,OACbtF,EAAI,EAAGA,EAAIsF,OAAQtF,IAC1B,GAAI0H,UAAU1H,KAAO2H,QAAQ3H,GAAI,CAC/B8H,gBAAkB9H,EAClB,MAIJ,IAAI+H,YAAc,GAClB,IAAS/H,EAAI8H,gBAAiB9H,EAAI0H,UAAUpC,OAAQtF,IAClD+H,YAAY9C,KAAK,MAKnB,OAFA8C,YAAcA,YAAYC,OAAOL,QAAQT,MAAMY,mBAE5B3D,KAAK,MAG1BrE,QAAQmI,IAAM,IACdnI,QAAQoI,UAAY,IAEpBpI,QAAQqI,QAAU,SAAUjE,MAE1B,GADoB,iBAATA,OAAmBA,MAAc,IACxB,IAAhBA,KAAKoB,OAAc,MAAO,IAK9B,IAJA,IAAI8C,KAAOlE,KAAKmE,WAAW,GACvBC,QAAmB,KAATF,KACVX,KAAO,EACPc,cAAe,EACVvI,EAAIkE,KAAKoB,OAAS,EAAGtF,GAAK,IAAKA,EAEtC,GAAa,MADboI,KAAOlE,KAAKmE,WAAWrI,KAEnB,IAAKuI,aAAc,CACjBd,IAAMzH,EACN,YAIJuI,cAAe,EAInB,OAAa,IAATd,IAAmBa,QAAU,IAAM,IACnCA,SAAmB,IAARb,IAGN,IAEFvD,KAAKgD,MAAM,EAAGO,MAiCvB3H,QAAQ0I,SAAW,SAAUtE,KAAMuE,KACjC,IAAIxC,EA/BN,SAAkB/B,MACI,iBAATA,OAAmBA,MAAc,IAE5C,IAGIlE,EAHAiD,MAAQ,EACRwE,KAAO,EACPc,cAAe,EAGnB,IAAKvI,EAAIkE,KAAKoB,OAAS,EAAGtF,GAAK,IAAKA,EAClC,GAA2B,KAAvBkE,KAAKmE,WAAWrI,IAGhB,IAAKuI,aAAc,CACjBtF,MAAQjD,EAAI,EACZ,YAEgB,IAATyH,MAGXc,cAAe,EACfd,IAAMzH,EAAI,GAId,OAAa,IAATyH,IAAmB,GAChBvD,KAAKgD,MAAMjE,MAAOwE,KAMjBe,CAAStE,MAIjB,OAHIuE,KAAOxC,EAAEc,QAAQ,EAAI0B,IAAInD,UAAYmD,MACvCxC,EAAIA,EAAEc,OAAO,EAAGd,EAAEX,OAASmD,IAAInD,SAE1BW,GAGTnG,QAAQ4I,QAAU,SAAUxE,MACN,iBAATA,OAAmBA,MAAc,IAQ5C,IAPA,IAAIyE,UAAY,EACZC,UAAY,EACZnB,KAAO,EACPc,cAAe,EAGfM,YAAc,EACT7I,EAAIkE,KAAKoB,OAAS,EAAGtF,GAAK,IAAKA,EAAG,CACzC,IAAIoI,KAAOlE,KAAKmE,WAAWrI,GAC3B,GAAa,KAAToI,MASS,IAATX,MAGFc,cAAe,EACfd,IAAMzH,EAAI,GAEC,KAAToI,MAEkB,IAAdO,SACFA,SAAW3I,EACY,IAAhB6I,cACPA,YAAc,IACK,IAAdF,WAGTE,aAAe,QArBb,IAAKN,aAAc,CACjBK,UAAY5I,EAAI,EAChB,OAuBR,OAAkB,IAAd2I,WAA4B,IAATlB,KAEH,IAAhBoB,aAEgB,IAAhBA,aAAqBF,WAAalB,IAAM,GAAKkB,WAAaC,UAAY,EACjE,GAEF1E,KAAKgD,MAAMyB,SAAUlB,MAa9B,IAAIV,OAA6B,MAApB,KAAKA,QAAQ,GACpB,SAAU+B,IAAK7F,MAAO8F,KAAO,OAAOD,IAAI/B,OAAO9D,MAAO8F,MACtD,SAAUD,IAAK7F,MAAO8F,KAEpB,OADI9F,MAAQ,IAAGA,MAAQ6F,IAAIxD,OAASrC,OAC7B6F,IAAI/B,OAAO9D,MAAO8F,Q,4DC1SjC,IAOIC,iBACAC,mBARA1C,QAAUxG,OAAOD,QAAU,GAU/B,SAASoJ,mBACL,MAAM,IAAI5G,MAAM,mCAEpB,SAAS6G,sBACL,MAAM,IAAI7G,MAAM,qCAsBpB,SAAS8G,WAAWC,KAChB,GAAIL,mBAAqBM,WAErB,OAAOA,WAAWD,IAAK,GAG3B,IAAKL,mBAAqBE,mBAAqBF,mBAAqBM,WAEhE,OADAN,iBAAmBM,WACZA,WAAWD,IAAK,GAE3B,IAEI,OAAOL,iBAAiBK,IAAK,GAC/B,MAAMlH,GACJ,IAEI,OAAO6G,iBAAiB7I,KAAK,KAAMkJ,IAAK,GAC1C,MAAMlH,GAEJ,OAAO6G,iBAAiB7I,KAAK8B,KAAMoH,IAAK,MAvCnD,WACG,IAEQL,iBADsB,mBAAfM,WACYA,WAEAJ,iBAEzB,MAAO/G,GACL6G,iBAAmBE,iBAEvB,IAEQD,mBADwB,mBAAjBM,aACcA,aAEAJ,oBAE3B,MAAOhH,GACL8G,mBAAqBE,qBAjB7B,GAwEA,IAEIK,aAFAC,MAAQ,GACRC,UAAW,EAEXC,YAAc,EAElB,SAASC,kBACAF,UAAaF,eAGlBE,UAAW,EACPF,aAAalE,OACbmE,MAAQD,aAAaxB,OAAOyB,OAE5BE,YAAc,EAEdF,MAAMnE,QACNuE,cAIR,SAASA,aACL,IAAIH,SAAJ,CAGA,IAAII,QAAUV,WAAWQ,iBACzBF,UAAW,EAGX,IADA,IAAIX,IAAMU,MAAMnE,OACVyD,KAAK,CAGP,IAFAS,aAAeC,MACfA,MAAQ,KACCE,WAAaZ,KACdS,cACAA,aAAaG,YAAYI,MAGjCJ,YAAc,EACdZ,IAAMU,MAAMnE,OAEhBkE,aAAe,KACfE,UAAW,EAnEf,SAAyBM,QACrB,GAAIf,qBAAuBM,aAEvB,OAAOA,aAAaS,QAGxB,IAAKf,qBAAuBE,sBAAwBF,qBAAuBM,aAEvE,OADAN,mBAAqBM,aACdA,aAAaS,QAExB,IAEWf,mBAAmBe,QAC5B,MAAO7H,GACL,IAEI,OAAO8G,mBAAmB9I,KAAK,KAAM6J,QACvC,MAAO7H,GAGL,OAAO8G,mBAAmB9I,KAAK8B,KAAM+H,UAgD7CC,CAAgBH,UAiBpB,SAASI,KAAKb,IAAKc,OACflI,KAAKoH,IAAMA,IACXpH,KAAKkI,MAAQA,MAYjB,SAASC,QA5BT7D,QAAQ8D,SAAW,SAAUhB,KACzB,IAAIjG,KAAO,IAAI6D,MAAMX,UAAUhB,OAAS,GACxC,GAAIgB,UAAUhB,OAAS,EACnB,IAAK,IAAItF,EAAI,EAAGA,EAAIsG,UAAUhB,OAAQtF,IAClCoD,KAAKpD,EAAI,GAAKsG,UAAUtG,GAGhCyJ,MAAMxE,KAAK,IAAIiF,KAAKb,IAAKjG,OACJ,IAAjBqG,MAAMnE,QAAiBoE,UACvBN,WAAWS,aASnBK,KAAKtI,UAAUmI,IAAM,WACjB9H,KAAKoH,IAAIiB,MAAM,KAAMrI,KAAKkI,QAE9B5D,QAAQgE,MAAQ,UAChBhE,QAAQiE,SAAU,EAClBjE,QAAQkE,IAAM,GACdlE,QAAQmE,KAAO,GACfnE,QAAQoE,QAAU,GAClBpE,QAAQqE,SAAW,GAInBrE,QAAQsE,GAAKT,KACb7D,QAAQuE,YAAcV,KACtB7D,QAAQwE,KAAOX,KACf7D,QAAQyE,IAAMZ,KACd7D,QAAQ0E,eAAiBb,KACzB7D,QAAQ2E,mBAAqBd,KAC7B7D,QAAQ4E,KAAOf,KACf7D,QAAQ6E,gBAAkBhB,KAC1B7D,QAAQ8E,oBAAsBjB,KAE9B7D,QAAQ+E,UAAY,SAAU/K,MAAQ,MAAO,IAE7CgG,QAAQgF,QAAU,SAAUhL,MACxB,MAAM,IAAI+B,MAAM,qCAGpBiE,QAAQC,IAAM,WAAc,MAAO,KACnCD,QAAQiF,MAAQ,SAAUC,KACtB,MAAM,IAAInJ,MAAM,mCAEpBiE,QAAQmF,MAAQ,WAAa,OAAO,I,0nCChLpC,iD,iCAIwC,iB,mCACE,mB,0CACO,0B,yCACD,wB,uBAClB,O,0BACG,U,yBACD,S,6BACI,a,+BACE,e,uCACQ,c,mCACJ,mB,wBACX,Q,yCACiB,sC,kBACvB,Y,mCAEiB,gB,wBAEX,M,+BACO,a,yBACN,e,qBACJ,U,mBACF,uB,6BACU,mB,6BAEA,0B,8BACC,4B,4BACF,wB,oBACR,qB,0BAEM,sB,yBAOFnF,E,eAET,CACpBoF,IAAK,CAAE7K,EAAG,EAAKkB,EAAG,GAAK4J,EAAG,GAAKC,EAAG,GAClCC,KAAM,CAAEhL,EAAG,GAAKkB,EAAG,GAAK4J,EAAG,EAAKC,EAAG,GACnCE,OAAQ,CAAEjL,EAAG,GAAKkB,EAAG,EAAK4J,EAAG,GAAKC,EAAG,GACrCG,OAAQ,CAAElL,EAAG,EAAKkB,EAAG,GAAK4J,EAAG,GAAKC,EAAG,GACrCI,MAAO,CAAEnL,EAAG,GAAKkB,EAAG,GAAK4J,EAAG,GAAKC,EAAG,GACpCK,KAAM,CAAEpL,EAAG,GAAKkB,EAAG,GAAK4J,EAAG,GAAKC,EAAG,GACnCM,OAAQ,CAAErL,EAAG,EAAKkB,EAAG,GAAK4J,EAAG,EAAKC,EAAG,GACrCO,MAAO,CAAEtL,EAAG,EAAKkB,EAAG,EAAK4J,EAAG,EAAKC,EAAG,GACpCQ,KAAM,CAAEvL,EAAG,EAAKkB,EAAG,GAAK4J,EAAG,GAAKC,EAAG,GACnCS,UAAW,CAAExL,EAAG,GAAKkB,EAAG,GAAK4J,EAAG,GAAKC,EAAG,GACxCU,YAAa,CAAEzL,EAAG,GAAKkB,EAAG,GAAK4J,EAAG,GAAKC,EAAG,GAC1CW,WAAY,CAAE1L,EAAG,GAAKkB,EAAG,GAAK4J,EAAG,EAAGC,EAAG,I,yBAIT,CAC9BY,MAAO,EACPC,KAAM,EACNC,OAAQ,EACRC,SAAU,EACVC,WAAY,EACZC,UAAW,EACXC,UAAW,EACXC,YAAa,EACbC,OAAQ,EACRC,iBAAkB,EAClBC,cAAe,GACfC,cAAe,GACfC,oBAAqB,K,0BAGU,CAAEC,EAAG,EAAGC,EAAG,EAAGC,EAAG,I,4CAGC,O,4CACA,QAE5C,MAAMC,cAAgB,CAC3BC,OAAQ,cACRC,OAAQC,6BAAOC,OACfC,OAAQF,6BAAOG,QACfC,OAAQJ,6BAAOK,MACfC,OAAQN,6BAAOjC,IACfwC,OAAQP,6BAAOC,OACfO,OAAQR,6BAAOS,O,2DAGa,M,4CAEqB,mB,wKC3FnD,I,IAAA,Y,IAAA,yB,qMAEA,MAAMC,WAAa,CACjBC,KAAM,UACNC,MAAO,UACPC,MAAO,UACPC,MAAO,UACPC,MAAO,UACPC,MAAO,UACPC,MAAO,UACPC,MAAO,UACPC,MAAO,UACPV,MAAO,UAEPW,MAAO,UACPC,OAAQ,UACRC,OAAQ,UAERhD,KAAM,UACNiD,MAAO,UAEPC,UAAW,UACXC,QAAS,UACTC,SAAU,UAEVC,SAAU,UACVpD,OAAQ,UACRqD,QAAS,UAET3B,OAAQ,UACR/B,KAAM,UACN2D,MAAO,UAEPC,OAAQ,UACRC,KAAM,UACNC,MAAO,UAEPC,QAAS,UACT5D,MAAO,UACP6D,OAAQ,UAERC,OAAQ,UACRC,KAAM,UACNC,MAAO,UAEPC,SAAU,UACVnE,OAAQ,UACRgC,QAAS,UAEToC,SAAU,UACVnE,OAAQ,UACRoE,QAAS,UAETnC,MAAO,UACPtC,IAAK,UACL0E,KAAM,UACNC,KAAM,WAGK1C,O,8ZAAS,CAAH,GACdU,WADc,CAEjBiC,QAASjC,WAAWnC,OACpBqE,WAAYlC,WAAWpC,KACvBuE,UAAWnC,WAAWxC,KAEtB4E,wBAAwB,sBAAUpC,WAAWnC,QAC1CwE,SAAS,IACTC,cAEHC,SAAUvC,WAAWD,MACrByC,OAAQxC,WAAWY,OACnB6B,OAAQzC,WAAWxC,KACnBkF,KAAM1C,WAAWW,OACjBgC,QAAS3C,WAAWG,MACpByC,UAAW5C,WAAWK,MACtBwC,cAAe,Y,uCAGO,CACtBC,MAAO,OACPC,OAAQ,OACRC,MAAO,OACPC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,Q,gBAGiB,CACrBP,MAAO,MACPC,OAAQ,MACRC,MAAO,MACPM,KAAM,QACNC,OAAQ,Q,6CCtGV,mCAIA,SAAUjK,MAEV,IAAIkK,SAAW,OACXC,UAAY,OACZC,YAAc,EACdC,UAAYrK,KAAKsK,MACjBC,QAAUvK,KAAKC,IACfuK,QAAUxK,KAAKyK,IACfC,WAAa1K,KAAK2K,OAEtB,SAASC,UAAWC,MAAOC,MAMvB,GAHAA,KAAOA,MAAQ,IADfD,MAAQ,OAAkB,cAILD,UAClB,OAAOC,MAGV,KAAMxQ,gBAAgBuQ,WAClB,OAAO,IAAIA,UAAUC,MAAOC,MAGhC,IAAIC,IAoRR,SAAoBF,OAEhB,IAAIE,IAAM,CAAE7R,EAAG,EAAGkB,EAAG,EAAG4J,EAAG,GACvBC,EAAI,EACJ9J,EAAI,KACJ6Q,EAAI,KACJ3S,EAAI,KACJ4S,IAAK,EACLC,QAAS,EAEO,iBAATL,QACPA,MAywBR,SAA6BA,OAEzBA,MAAQA,MAAMM,QAAQjB,SAAS,IAAIiB,QAAQhB,UAAW,IAAIiB,cAC1D,IAaIC,MAbAC,OAAQ,EACZ,GAAIC,MAAMV,OACNA,MAAQU,MAAMV,OACdS,OAAQ,OAEP,GAAa,eAATT,MACL,MAAO,CAAE3R,EAAG,EAAGkB,EAAG,EAAG4J,EAAG,EAAGC,EAAG,EAAGiH,OAAQ,QAQ7C,GAAKG,MAAQG,SAAST,IAAIU,KAAKZ,OAC3B,MAAO,CAAE3R,EAAGmS,MAAM,GAAIjR,EAAGiR,MAAM,GAAIrH,EAAGqH,MAAM,IAEhD,GAAKA,MAAQG,SAASE,KAAKD,KAAKZ,OAC5B,MAAO,CAAE3R,EAAGmS,MAAM,GAAIjR,EAAGiR,MAAM,GAAIrH,EAAGqH,MAAM,GAAIpH,EAAGoH,MAAM,IAE7D,GAAKA,MAAQG,SAASG,IAAIF,KAAKZ,OAC3B,MAAO,CAAEe,EAAGP,MAAM,GAAIlR,EAAGkR,MAAM,GAAIhT,EAAGgT,MAAM,IAEhD,GAAKA,MAAQG,SAASK,KAAKJ,KAAKZ,OAC5B,MAAO,CAAEe,EAAGP,MAAM,GAAIlR,EAAGkR,MAAM,GAAIhT,EAAGgT,MAAM,GAAIpH,EAAGoH,MAAM,IAE7D,GAAKA,MAAQG,SAASM,IAAIL,KAAKZ,OAC3B,MAAO,CAAEe,EAAGP,MAAM,GAAIlR,EAAGkR,MAAM,GAAIL,EAAGK,MAAM,IAEhD,GAAKA,MAAQG,SAASO,KAAKN,KAAKZ,OAC5B,MAAO,CAAEe,EAAGP,MAAM,GAAIlR,EAAGkR,MAAM,GAAIL,EAAGK,MAAM,GAAIpH,EAAGoH,MAAM,IAE7D,GAAKA,MAAQG,SAASQ,KAAKP,KAAKZ,OAC5B,MAAO,CACH3R,EAAG+S,gBAAgBZ,MAAM,IACzBjR,EAAG6R,gBAAgBZ,MAAM,IACzBrH,EAAGiI,gBAAgBZ,MAAM,IACzBpH,EAAGiI,oBAAoBb,MAAM,IAC7BH,OAAQI,MAAQ,OAAS,QAGjC,GAAKD,MAAQG,SAASW,KAAKV,KAAKZ,OAC5B,MAAO,CACH3R,EAAG+S,gBAAgBZ,MAAM,IACzBjR,EAAG6R,gBAAgBZ,MAAM,IACzBrH,EAAGiI,gBAAgBZ,MAAM,IACzBH,OAAQI,MAAQ,OAAS,OAGjC,GAAKD,MAAQG,SAASY,KAAKX,KAAKZ,OAC5B,MAAO,CACH3R,EAAG+S,gBAAgBZ,MAAM,GAAK,GAAKA,MAAM,IACzCjR,EAAG6R,gBAAgBZ,MAAM,GAAK,GAAKA,MAAM,IACzCrH,EAAGiI,gBAAgBZ,MAAM,GAAK,GAAKA,MAAM,IACzCpH,EAAGiI,oBAAoBb,MAAM,GAAK,GAAKA,MAAM,IAC7CH,OAAQI,MAAQ,OAAS,QAGjC,GAAKD,MAAQG,SAASa,KAAKZ,KAAKZ,OAC5B,MAAO,CACH3R,EAAG+S,gBAAgBZ,MAAM,GAAK,GAAKA,MAAM,IACzCjR,EAAG6R,gBAAgBZ,MAAM,GAAK,GAAKA,MAAM,IACzCrH,EAAGiI,gBAAgBZ,MAAM,GAAK,GAAKA,MAAM,IACzCH,OAAQI,MAAQ,OAAS,OAIjC,OAAO,EA/0BKgB,CAAoBzB,QAGZ,iBAATA,QACH0B,eAAe1B,MAAM3R,IAAMqT,eAAe1B,MAAMzQ,IAAMmS,eAAe1B,MAAM7G,IAiDrE9K,EAhDS2R,MAAM3R,EAgDZkB,EAhDeyQ,MAAMzQ,EAgDlB4J,EAhDqB6G,MAAM7G,EAAvC+G,IAiDD,CACH7R,EAAqB,IAAlBsT,QAAQtT,EAAG,KACdkB,EAAqB,IAAlBoS,QAAQpS,EAAG,KACd4J,EAAqB,IAAlBwI,QAAQxI,EAAG,MAnDViH,IAAK,EACLC,OAAwC,MAA/BuB,OAAO5B,MAAM3R,GAAGiG,QAAQ,GAAa,OAAS,OAElDoN,eAAe1B,MAAMe,IAAMW,eAAe1B,MAAM1Q,IAAMoS,eAAe1B,MAAMG,IAChF7Q,EAAIuS,oBAAoB7B,MAAM1Q,GAC9B6Q,EAAI0B,oBAAoB7B,MAAMG,GAC9BD,IAoJX,SAAkBa,EAAGzR,EAAG6Q,GAErBY,EAAsB,EAAlBY,QAAQZ,EAAG,KACfzR,EAAIqS,QAAQrS,EAAG,KACf6Q,EAAIwB,QAAQxB,EAAG,KAEf,IAAI5S,EAAI4H,KAAK2M,MAAMf,GACfvN,EAAIuN,EAAIxT,EACR8B,EAAI8Q,GAAK,EAAI7Q,GACbyS,EAAI5B,GAAK,EAAI3M,EAAIlE,GACjBb,EAAI0R,GAAK,GAAK,EAAI3M,GAAKlE,GACvB0S,IAAMzU,EAAI,EAKd,MAAO,CAAEc,EAAO,IAJR,CAAC8R,EAAG4B,EAAG1S,EAAGA,EAAGZ,EAAG0R,GAAG6B,KAINzS,EAAO,IAHpB,CAACd,EAAG0R,EAAGA,EAAG4B,EAAG1S,EAAGA,GAAG2S,KAGM7I,EAAO,IAFhC,CAAC9J,EAAGA,EAAGZ,EAAG0R,EAAGA,EAAG4B,GAAGC,MAlKbC,CAASjC,MAAMe,EAAGzR,EAAG6Q,GAC3BC,IAAK,EACLC,OAAS,OAEJqB,eAAe1B,MAAMe,IAAMW,eAAe1B,MAAM1Q,IAAMoS,eAAe1B,MAAMxS,KAChF8B,EAAIuS,oBAAoB7B,MAAM1Q,GAC9B9B,EAAIqU,oBAAoB7B,MAAMxS,GAC9B0S,IA6EZ,SAAkBa,EAAGzR,EAAG9B,GACpB,IAAIa,EAAGkB,EAAG4J,EAMV,SAAS+I,QAAQ7S,EAAG0S,EAAGtT,GAGnB,OAFGA,EAAI,IAAGA,GAAK,GACZA,EAAI,IAAGA,GAAK,GACZA,EAAI,EAAE,EAAUY,EAAc,GAAT0S,EAAI1S,GAASZ,EAClCA,EAAI,GAAYsT,EAChBtT,EAAI,EAAE,EAAUY,GAAK0S,EAAI1S,IAAM,EAAE,EAAIZ,GAAK,EACtCY,EAGX,GAbA0R,EAAIY,QAAQZ,EAAG,KACfzR,EAAIqS,QAAQrS,EAAG,KACf9B,EAAImU,QAAQnU,EAAG,KAWN,IAAN8B,EACCjB,EAAIkB,EAAI4J,EAAI3L,MAEX,CACD,IAAIuU,EAAIvU,EAAI,GAAMA,GAAK,EAAI8B,GAAK9B,EAAI8B,EAAI9B,EAAI8B,EACxCD,EAAI,EAAI7B,EAAIuU,EAChB1T,EAAI6T,QAAQ7S,EAAG0S,EAAGhB,EAAI,EAAE,GACxBxR,EAAI2S,QAAQ7S,EAAG0S,EAAGhB,GAClB5H,EAAI+I,QAAQ7S,EAAG0S,EAAGhB,EAAI,EAAE,GAG5B,MAAO,CAAE1S,EAAO,IAAJA,EAASkB,EAAO,IAAJA,EAAS4J,EAAO,IAAJA,GAxGtBgJ,CAASnC,MAAMe,EAAGzR,EAAG9B,GAC3B4S,IAAK,EACLC,OAAS,OAGTL,MAAM5Q,eAAe,OACrBgK,EAAI4G,MAAM5G,IA4BtB,IAAkB/K,EAAGkB,EAAG4J,EAtBpB,OAFAC,EAAIgJ,WAAWhJ,GAER,CACHgH,GAAIA,GACJC,OAAQL,MAAMK,QAAUA,OACxBhS,EAAGqR,QAAQ,IAAKC,QAAQO,IAAI7R,EAAG,IAC/BkB,EAAGmQ,QAAQ,IAAKC,QAAQO,IAAI3Q,EAAG,IAC/B4J,EAAGuG,QAAQ,IAAKC,QAAQO,IAAI/G,EAAG,IAC/BC,EAAGA,GApUGiJ,CAAWrC,OACrBxQ,KAAK8S,eAAiBtC,MACtBxQ,KAAK+S,GAAKrC,IAAI7R,EACdmB,KAAKgT,GAAKtC,IAAI3Q,EACdC,KAAKiT,GAAKvC,IAAI/G,EACd3J,KAAKkT,GAAKxC,IAAI9G,EACd5J,KAAKmT,QAAUnD,UAAU,IAAIhQ,KAAKkT,IAAM,IACxClT,KAAKoT,QAAU3C,KAAKI,QAAUH,IAAIG,OAClC7Q,KAAKqT,cAAgB5C,KAAK6C,aAMtBtT,KAAK+S,GAAK,IAAK/S,KAAK+S,GAAK/C,UAAUhQ,KAAK+S,KACxC/S,KAAKgT,GAAK,IAAKhT,KAAKgT,GAAKhD,UAAUhQ,KAAKgT,KACxChT,KAAKiT,GAAK,IAAKjT,KAAKiT,GAAKjD,UAAUhQ,KAAKiT,KAE5CjT,KAAKuT,IAAM7C,IAAIE,GACf5Q,KAAKwT,OAASzD,cA6UlB,SAAS0D,SAAS5U,EAAGkB,EAAG4J,GAEpB9K,EAAIsT,QAAQtT,EAAG,KACfkB,EAAIoS,QAAQpS,EAAG,KACf4J,EAAIwI,QAAQxI,EAAG,KAEf,IACI4H,EAAGzR,EADHsQ,IAAMD,QAAQtR,EAAGkB,EAAG4J,GAAI/D,IAAMsK,QAAQrR,EAAGkB,EAAG4J,GACtC3L,GAAKoS,IAAMxK,KAAO,EAE5B,GAAGwK,KAAOxK,IACN2L,EAAIzR,EAAI,MAEP,CACD,IAAIzB,EAAI+R,IAAMxK,IAEd,OADA9F,EAAI9B,EAAI,GAAMK,GAAK,EAAI+R,IAAMxK,KAAOvH,GAAK+R,IAAMxK,KACxCwK,KACH,KAAKvR,EAAG0S,GAAKxR,EAAI4J,GAAKtL,GAAK0B,EAAI4J,EAAI,EAAI,GAAI,MAC3C,KAAK5J,EAAGwR,GAAK5H,EAAI9K,GAAKR,EAAI,EAAG,MAC7B,KAAKsL,EAAG4H,GAAK1S,EAAIkB,GAAK1B,EAAI,EAG9BkT,GAAK,EAGT,MAAO,CAAEA,EAAGA,EAAGzR,EAAGA,EAAG9B,EAAGA,GAyC5B,SAAS0V,SAAS7U,EAAGkB,EAAG4J,GAEpB9K,EAAIsT,QAAQtT,EAAG,KACfkB,EAAIoS,QAAQpS,EAAG,KACf4J,EAAIwI,QAAQxI,EAAG,KAEf,IACI4H,EAAGzR,EADHsQ,IAAMD,QAAQtR,EAAGkB,EAAG4J,GAAI/D,IAAMsK,QAAQrR,EAAGkB,EAAG4J,GACtCgH,EAAIP,IAEV/R,EAAI+R,IAAMxK,IAGd,GAFA9F,EAAY,IAARsQ,IAAY,EAAI/R,EAAI+R,IAErBA,KAAOxK,IACN2L,EAAI,MAEH,CACD,OAAOnB,KACH,KAAKvR,EAAG0S,GAAKxR,EAAI4J,GAAKtL,GAAK0B,EAAI4J,EAAI,EAAI,GAAI,MAC3C,KAAK5J,EAAGwR,GAAK5H,EAAI9K,GAAKR,EAAI,EAAG,MAC7B,KAAKsL,EAAG4H,GAAK1S,EAAIkB,GAAK1B,EAAI,EAE9BkT,GAAK,EAET,MAAO,CAAEA,EAAGA,EAAGzR,EAAGA,EAAG6Q,EAAGA,GA8B5B,SAASgD,SAAS9U,EAAGkB,EAAG4J,EAAGiK,YAEvB,IAAIC,IAAM,CACNC,KAAK9D,UAAUnR,GAAGuE,SAAS,KAC3B0Q,KAAK9D,UAAUjQ,GAAGqD,SAAS,KAC3B0Q,KAAK9D,UAAUrG,GAAGvG,SAAS,MAI/B,OAAIwQ,YAAcC,IAAI,GAAGpP,OAAO,IAAMoP,IAAI,GAAGpP,OAAO,IAAMoP,IAAI,GAAGpP,OAAO,IAAMoP,IAAI,GAAGpP,OAAO,IAAMoP,IAAI,GAAGpP,OAAO,IAAMoP,IAAI,GAAGpP,OAAO,GACzHoP,IAAI,GAAGpP,OAAO,GAAKoP,IAAI,GAAGpP,OAAO,GAAKoP,IAAI,GAAGpP,OAAO,GAGxDoP,IAAI3R,KAAK,IA2BpB,SAAS6R,cAAclV,EAAGkB,EAAG4J,EAAGC,GAS5B,MAPU,CACNkK,KAAKE,oBAAoBpK,IACzBkK,KAAK9D,UAAUnR,GAAGuE,SAAS,KAC3B0Q,KAAK9D,UAAUjQ,GAAGqD,SAAS,KAC3B0Q,KAAK9D,UAAUrG,GAAGvG,SAAS,MAGpBlB,KAAK,IAwBpB,SAAS+R,WAAWzD,MAAO0D,QACvBA,OAAqB,IAAXA,OAAgB,EAAKA,QAAU,GACzC,IAAI5C,IAAMf,UAAUC,OAAO2D,QAG3B,OAFA7C,IAAIxR,GAAKoU,OAAS,IAClB5C,IAAIxR,EAAIsU,QAAQ9C,IAAIxR,GACbyQ,UAAUe,KAGrB,SAAS+C,SAAS7D,MAAO0D,QACrBA,OAAqB,IAAXA,OAAgB,EAAKA,QAAU,GACzC,IAAI5C,IAAMf,UAAUC,OAAO2D,QAG3B,OAFA7C,IAAIxR,GAAKoU,OAAS,IAClB5C,IAAIxR,EAAIsU,QAAQ9C,IAAIxR,GACbyQ,UAAUe,KAGrB,SAASgD,UAAU9D,OACf,OAAOD,UAAUC,OAAOyD,WAAW,KAGvC,SAASM,QAAS/D,MAAO0D,QACrBA,OAAqB,IAAXA,OAAgB,EAAKA,QAAU,GACzC,IAAI5C,IAAMf,UAAUC,OAAO2D,QAG3B,OAFA7C,IAAItT,GAAKkW,OAAS,IAClB5C,IAAItT,EAAIoW,QAAQ9C,IAAItT,GACbuS,UAAUe,KAGrB,SAASkD,SAAShE,MAAO0D,QACrBA,OAAqB,IAAXA,OAAgB,EAAKA,QAAU,GACzC,IAAIxD,IAAMH,UAAUC,OAAOiE,QAI3B,OAHA/D,IAAI7R,EAAIsR,QAAQ,EAAGD,QAAQ,IAAKQ,IAAI7R,EAAImR,WAAmBkE,OAAS,IAAlB,OAClDxD,IAAI3Q,EAAIoQ,QAAQ,EAAGD,QAAQ,IAAKQ,IAAI3Q,EAAIiQ,WAAmBkE,OAAS,IAAlB,OAClDxD,IAAI/G,EAAIwG,QAAQ,EAAGD,QAAQ,IAAKQ,IAAI/G,EAAIqG,WAAmBkE,OAAS,IAAlB,OAC3C3D,UAAUG,KAGrB,SAASgE,OAAQlE,MAAO0D,QACpBA,OAAqB,IAAXA,OAAgB,EAAKA,QAAU,GACzC,IAAI5C,IAAMf,UAAUC,OAAO2D,QAG3B,OAFA7C,IAAItT,GAAKkW,OAAS,IAClB5C,IAAItT,EAAIoW,QAAQ9C,IAAItT,GACbuS,UAAUe,KAKrB,SAASqD,KAAKnE,MAAO0D,QACjB,IAAI5C,IAAMf,UAAUC,OAAO2D,QACvBS,KAAOtD,IAAIC,EAAI2C,QAAU,IAE7B,OADA5C,IAAIC,EAAIqD,IAAM,EAAI,IAAMA,IAAMA,IACvBrE,UAAUe,KAQrB,SAASuD,WAAWrE,OAChB,IAAIc,IAAMf,UAAUC,OAAO2D,QAE3B,OADA7C,IAAIC,GAAKD,IAAIC,EAAI,KAAO,IACjBhB,UAAUe,KAGrB,SAASwD,MAAMtE,OACX,IAAIc,IAAMf,UAAUC,OAAO2D,QACvB5C,EAAID,IAAIC,EACZ,MAAO,CACHhB,UAAUC,OACVD,UAAU,CAAEgB,GAAIA,EAAI,KAAO,IAAKzR,EAAGwR,IAAIxR,EAAG9B,EAAGsT,IAAItT,IACjDuS,UAAU,CAAEgB,GAAIA,EAAI,KAAO,IAAKzR,EAAGwR,IAAIxR,EAAG9B,EAAGsT,IAAItT,KAIzD,SAAS+W,OAAOvE,OACZ,IAAIc,IAAMf,UAAUC,OAAO2D,QACvB5C,EAAID,IAAIC,EACZ,MAAO,CACHhB,UAAUC,OACVD,UAAU,CAAEgB,GAAIA,EAAI,IAAM,IAAKzR,EAAGwR,IAAIxR,EAAG9B,EAAGsT,IAAItT,IAChDuS,UAAU,CAAEgB,GAAIA,EAAI,KAAO,IAAKzR,EAAGwR,IAAIxR,EAAG9B,EAAGsT,IAAItT,IACjDuS,UAAU,CAAEgB,GAAIA,EAAI,KAAO,IAAKzR,EAAGwR,IAAIxR,EAAG9B,EAAGsT,IAAItT,KAIzD,SAASgX,gBAAgBxE,OACrB,IAAIc,IAAMf,UAAUC,OAAO2D,QACvB5C,EAAID,IAAIC,EACZ,MAAO,CACHhB,UAAUC,OACVD,UAAU,CAAEgB,GAAIA,EAAI,IAAM,IAAKzR,EAAGwR,IAAIxR,EAAG9B,EAAGsT,IAAItT,IAChDuS,UAAU,CAAEgB,GAAIA,EAAI,KAAO,IAAKzR,EAAGwR,IAAIxR,EAAG9B,EAAGsT,IAAItT,KAIzD,SAASiX,UAAUzE,MAAO0E,QAASC,QAC/BD,QAAUA,SAAW,EACrBC,OAASA,QAAU,GAEnB,IAAI7D,IAAMf,UAAUC,OAAO2D,QACvBiB,KAAO,IAAMD,OACbE,IAAM,CAAC9E,UAAUC,QAErB,IAAKc,IAAIC,GAAMD,IAAIC,GAAK6D,KAAOF,SAAW,GAAM,KAAO,MAAOA,SAC1D5D,IAAIC,GAAKD,IAAIC,EAAI6D,MAAQ,IACzBC,IAAIrS,KAAKuN,UAAUe,MAEvB,OAAO+D,IAGX,SAASC,cAAc9E,MAAO0E,SAC1BA,QAAUA,SAAW,EAMrB,IALA,IAAIzD,IAAMlB,UAAUC,OAAO+E,QACvBhE,EAAIE,IAAIF,EAAGzR,EAAI2R,IAAI3R,EAAG6Q,EAAIc,IAAId,EAC9B0E,IAAM,GACNG,aAAe,EAAIN,QAEhBA,WACHG,IAAIrS,KAAKuN,UAAU,CAAEgB,EAAGA,EAAGzR,EAAGA,EAAG6Q,EAAGA,KACpCA,GAAKA,EAAI6E,cAAgB,EAG7B,OAAOH,IApoBX9E,UAAU5Q,UAAY,CAClB8V,OAAQ,WACJ,OAAOzV,KAAK0V,gBAAkB,KAElCC,QAAS,WACL,OAAQ3V,KAAKyV,UAEjBG,QAAS,WACL,OAAO5V,KAAKuT,KAEhBsC,iBAAkB,WAChB,OAAO7V,KAAK8S,gBAEdgD,UAAW,WACP,OAAO9V,KAAKoT,SAEhB2C,SAAU,WACN,OAAO/V,KAAKkT,IAEhBwC,cAAe,WAEX,IAAIhF,IAAM1Q,KAAKyU,QACf,OAAgB,IAAR/D,IAAI7R,EAAkB,IAAR6R,IAAI3Q,EAAkB,IAAR2Q,IAAI/G,GAAW,KAEvDqM,aAAc,WAEV,IACIC,MAAOC,MAAOC,MADdzF,IAAM1Q,KAAKyU,QASf,OAPAwB,MAAQvF,IAAI7R,EAAE,IACdqX,MAAQxF,IAAI3Q,EAAE,IACdoW,MAAQzF,IAAI/G,EAAE,IAKN,OAHJsM,OAAS,OAAcA,MAAQ,MAAkBtQ,KAAKyQ,KAAMH,MAAQ,MAAS,MAAQ,MAGlE,OAFnBC,OAAS,OAAcA,MAAQ,MAAkBvQ,KAAKyQ,KAAMF,MAAQ,MAAS,MAAQ,MAEnD,OADlCC,OAAS,OAAcA,MAAQ,MAAkBxQ,KAAKyQ,KAAMD,MAAQ,MAAS,MAAQ,OAG7FzH,SAAU,SAAS1P,OAGf,OAFAgB,KAAKkT,GAAKN,WAAW5T,OACrBgB,KAAKmT,QAAUnD,UAAU,IAAIhQ,KAAKkT,IAAM,IACjClT,MAEXuV,MAAO,WACH,IAAI9D,IAAMiC,SAAS1T,KAAK+S,GAAI/S,KAAKgT,GAAIhT,KAAKiT,IAC1C,MAAO,CAAE1B,EAAW,IAARE,IAAIF,EAASzR,EAAG2R,IAAI3R,EAAG6Q,EAAGc,IAAId,EAAG/G,EAAG5J,KAAKkT,KAEzDmD,YAAa,WACT,IAAI5E,IAAMiC,SAAS1T,KAAK+S,GAAI/S,KAAKgT,GAAIhT,KAAKiT,IACtC1B,EAAIvB,UAAkB,IAARyB,IAAIF,GAAUzR,EAAIkQ,UAAkB,IAARyB,IAAI3R,GAAU6Q,EAAIX,UAAkB,IAARyB,IAAId,GAC9E,OAAmB,GAAX3Q,KAAKkT,GACX,OAAU3B,EAAI,KAAOzR,EAAI,MAAQ6Q,EAAI,KACrC,QAAUY,EAAI,KAAOzR,EAAI,MAAQ6Q,EAAI,MAAO3Q,KAAKmT,QAAU,KAEjEgB,MAAO,WACH,IAAI7C,IAAMmC,SAASzT,KAAK+S,GAAI/S,KAAKgT,GAAIhT,KAAKiT,IAC1C,MAAO,CAAE1B,EAAW,IAARD,IAAIC,EAASzR,EAAGwR,IAAIxR,EAAG9B,EAAGsT,IAAItT,EAAG4L,EAAG5J,KAAKkT,KAEzDoD,YAAa,WACT,IAAIhF,IAAMmC,SAASzT,KAAK+S,GAAI/S,KAAKgT,GAAIhT,KAAKiT,IACtC1B,EAAIvB,UAAkB,IAARsB,IAAIC,GAAUzR,EAAIkQ,UAAkB,IAARsB,IAAIxR,GAAU9B,EAAIgS,UAAkB,IAARsB,IAAItT,GAC9E,OAAmB,GAAXgC,KAAKkT,GACX,OAAU3B,EAAI,KAAOzR,EAAI,MAAQ9B,EAAI,KACrC,QAAUuT,EAAI,KAAOzR,EAAI,MAAQ9B,EAAI,MAAOgC,KAAKmT,QAAU,KAEjEoD,MAAO,SAAS3C,YACZ,OAAOD,SAAS3T,KAAK+S,GAAI/S,KAAKgT,GAAIhT,KAAKiT,GAAIW,aAE/C4C,YAAa,SAAS5C,YAClB,MAAO,IAAM5T,KAAKuW,MAAM3C,aAE5B6C,OAAQ,SAASC,YACb,OA6YR,SAAmB7X,EAAGkB,EAAG4J,EAAGC,EAAG8M,YAE3B,IAAI7C,IAAM,CACNC,KAAK9D,UAAUnR,GAAGuE,SAAS,KAC3B0Q,KAAK9D,UAAUjQ,GAAGqD,SAAS,KAC3B0Q,KAAK9D,UAAUrG,GAAGvG,SAAS,KAC3B0Q,KAAKE,oBAAoBpK,KAI7B,GAAI8M,YAAc7C,IAAI,GAAGpP,OAAO,IAAMoP,IAAI,GAAGpP,OAAO,IAAMoP,IAAI,GAAGpP,OAAO,IAAMoP,IAAI,GAAGpP,OAAO,IAAMoP,IAAI,GAAGpP,OAAO,IAAMoP,IAAI,GAAGpP,OAAO,IAAMoP,IAAI,GAAGpP,OAAO,IAAMoP,IAAI,GAAGpP,OAAO,GACxK,OAAOoP,IAAI,GAAGpP,OAAO,GAAKoP,IAAI,GAAGpP,OAAO,GAAKoP,IAAI,GAAGpP,OAAO,GAAKoP,IAAI,GAAGpP,OAAO,GAGlF,OAAOoP,IAAI3R,KAAK,IA3ZLyU,CAAU3W,KAAK+S,GAAI/S,KAAKgT,GAAIhT,KAAKiT,GAAIjT,KAAKkT,GAAIwD,aAEzDE,aAAc,SAASF,YACnB,MAAO,IAAM1W,KAAKyW,OAAOC,aAE7BjC,MAAO,WACH,MAAO,CAAE5V,EAAGmR,UAAUhQ,KAAK+S,IAAKhT,EAAGiQ,UAAUhQ,KAAKgT,IAAKrJ,EAAGqG,UAAUhQ,KAAKiT,IAAKrJ,EAAG5J,KAAKkT,KAE1FvE,YAAa,WACT,OAAmB,GAAX3O,KAAKkT,GACX,OAAUlD,UAAUhQ,KAAK+S,IAAM,KAAO/C,UAAUhQ,KAAKgT,IAAM,KAAOhD,UAAUhQ,KAAKiT,IAAM,IACvF,QAAUjD,UAAUhQ,KAAK+S,IAAM,KAAO/C,UAAUhQ,KAAKgT,IAAM,KAAOhD,UAAUhQ,KAAKiT,IAAM,KAAOjT,KAAKmT,QAAU,KAEnH0D,gBAAiB,WACb,MAAO,CAAEhY,EAAGmR,UAAkC,IAAxBmC,QAAQnS,KAAK+S,GAAI,MAAc,IAAKhT,EAAGiQ,UAAkC,IAAxBmC,QAAQnS,KAAKgT,GAAI,MAAc,IAAKrJ,EAAGqG,UAAkC,IAAxBmC,QAAQnS,KAAKiT,GAAI,MAAc,IAAKrJ,EAAG5J,KAAKkT,KAExK4D,sBAAuB,WACnB,OAAmB,GAAX9W,KAAKkT,GACX,OAAUlD,UAAkC,IAAxBmC,QAAQnS,KAAK+S,GAAI,MAAc,MAAQ/C,UAAkC,IAAxBmC,QAAQnS,KAAKgT,GAAI,MAAc,MAAQhD,UAAkC,IAAxBmC,QAAQnS,KAAKiT,GAAI,MAAc,KACrJ,QAAUjD,UAAkC,IAAxBmC,QAAQnS,KAAK+S,GAAI,MAAc,MAAQ/C,UAAkC,IAAxBmC,QAAQnS,KAAKgT,GAAI,MAAc,MAAQhD,UAAkC,IAAxBmC,QAAQnS,KAAKiT,GAAI,MAAc,MAAQjT,KAAKmT,QAAU,KAElL4D,OAAQ,WACJ,OAAgB,IAAZ/W,KAAKkT,GACE,gBAGPlT,KAAKkT,GAAK,KAIP8D,SAASrD,SAAS3T,KAAK+S,GAAI/S,KAAKgT,GAAIhT,KAAKiT,IAAI,MAAU,IAElEgE,SAAU,SAASC,aACf,IAAIC,WAAa,IAAMpD,cAAc/T,KAAK+S,GAAI/S,KAAKgT,GAAIhT,KAAKiT,GAAIjT,KAAKkT,IACjEkE,iBAAmBD,WACnB7D,aAAetT,KAAKqT,cAAgB,qBAAuB,GAE/D,GAAI6D,YAAa,CACb,IAAIpX,EAAIyQ,UAAU2G,aAClBE,iBAAmB,IAAMrD,cAAcjU,EAAEiT,GAAIjT,EAAEkT,GAAIlT,EAAEmT,GAAInT,EAAEoT,IAG/D,MAAO,8CAA8CI,aAAa,iBAAiB6D,WAAW,gBAAgBC,iBAAiB,KAEnIhU,SAAU,SAASyN,QACf,IAAIwG,YAAcxG,OAClBA,OAASA,QAAU7Q,KAAKoT,QAExB,IAAIkE,iBAAkB,EAClBC,SAAWvX,KAAKkT,GAAK,GAAKlT,KAAKkT,IAAM,EAGzC,OAFwBmE,YAAaE,UAAwB,QAAX1G,QAA+B,SAAXA,QAAgC,SAAXA,QAAgC,SAAXA,QAAgC,SAAXA,QAAgC,SAAXA,QAU3I,QAAXA,SACAyG,gBAAkBtX,KAAK2O,eAEZ,SAAXkC,SACAyG,gBAAkBtX,KAAK8W,yBAEZ,QAAXjG,QAA+B,SAAXA,SACpByG,gBAAkBtX,KAAKwW,eAEZ,SAAX3F,SACAyG,gBAAkBtX,KAAKwW,aAAY,IAExB,SAAX3F,SACAyG,gBAAkBtX,KAAK4W,cAAa,IAEzB,SAAX/F,SACAyG,gBAAkBtX,KAAK4W,gBAEZ,SAAX/F,SACAyG,gBAAkBtX,KAAK+W,UAEZ,QAAXlG,SACAyG,gBAAkBtX,KAAKsW,eAEZ,QAAXzF,SACAyG,gBAAkBtX,KAAKqW,eAGpBiB,iBAAmBtX,KAAKwW,eAjCZ,SAAX3F,QAAiC,IAAZ7Q,KAAKkT,GACnBlT,KAAK+W,SAET/W,KAAK2O,eAgCpB6I,MAAO,WACH,OAAOjH,UAAUvQ,KAAKoD,aAG1BqU,mBAAoB,SAASC,GAAIvW,MAC7B,IAAIqP,MAAQkH,GAAGrP,MAAM,KAAM,CAACrI,MAAM+F,OAAO,GAAGd,MAAM/G,KAAKiD,QAKvD,OAJAnB,KAAK+S,GAAKvC,MAAMuC,GAChB/S,KAAKgT,GAAKxC,MAAMwC,GAChBhT,KAAKiT,GAAKzC,MAAMyC,GAChBjT,KAAK0O,SAAS8B,MAAM0C,IACblT,MAEXuU,QAAS,WACL,OAAOvU,KAAKyX,mBAAmBlD,QAASlQ,YAE5CmQ,SAAU,WACN,OAAOxU,KAAKyX,mBAAmBjD,SAAUnQ,YAE7CqQ,OAAQ,WACJ,OAAO1U,KAAKyX,mBAAmB/C,OAAQrQ,YAE3C4P,WAAY,WACR,OAAOjU,KAAKyX,mBAAmBxD,WAAY5P,YAE/CgQ,SAAU,WACN,OAAOrU,KAAKyX,mBAAmBpD,SAAUhQ,YAE7CiQ,UAAW,WACP,OAAOtU,KAAKyX,mBAAmBnD,UAAWjQ,YAE9CsQ,KAAM,WACF,OAAO3U,KAAKyX,mBAAmB9C,KAAMtQ,YAGzCsT,kBAAmB,SAASD,GAAIvW,MAC5B,OAAOuW,GAAGrP,MAAM,KAAM,CAACrI,MAAM+F,OAAO,GAAGd,MAAM/G,KAAKiD,SAEtD8T,UAAW,WACP,OAAOjV,KAAK2X,kBAAkB1C,UAAW5Q,YAE7CwQ,WAAY,WACR,OAAO7U,KAAK2X,kBAAkB9C,WAAYxQ,YAE9CiR,cAAe,WACX,OAAOtV,KAAK2X,kBAAkBrC,cAAejR,YAEjD2Q,gBAAiB,WACb,OAAOhV,KAAK2X,kBAAkB3C,gBAAiB3Q,YAEnDyQ,MAAO,WACH,OAAO9U,KAAK2X,kBAAkB7C,MAAOzQ,YAEzC0Q,OAAQ,WACJ,OAAO/U,KAAK2X,kBAAkB5C,OAAQ1Q,aAM9CkM,UAAUqH,UAAY,SAASpH,MAAOC,MAClC,GAAoB,iBAATD,MAAmB,CAC1B,IAAIqH,SAAW,GACf,IAAK,IAAI9Z,KAAKyS,MACNA,MAAM5Q,eAAe7B,KAEjB8Z,SAAS9Z,GADH,MAANA,EACcyS,MAAMzS,GAGNsU,oBAAoB7B,MAAMzS,KAIpDyS,MAAQqH,SAGZ,OAAOtH,UAAUC,MAAOC,OA0Q5BF,UAAUuH,OAAS,SAAUC,OAAQC,QACjC,SAAKD,SAAWC,SACTzH,UAAUwH,QAAQpJ,eAAiB4B,UAAUyH,QAAQrJ,eAGhE4B,UAAUD,OAAS,WACf,OAAOC,UAAUqH,UAAU,CACvB/Y,EAAGwR,aACHtQ,EAAGsQ,aACH1G,EAAG0G,gBA2IXE,UAAU0H,IAAM,SAASF,OAAQC,OAAQ9D,QACrCA,OAAqB,IAAXA,OAAgB,EAAKA,QAAU,GAEzC,IAAIgE,KAAO3H,UAAUwH,QAAQtD,QACzB0D,KAAO5H,UAAUyH,QAAQvD,QAEzB5U,EAAIqU,OAAS,IASjB,OAAO3D,UAPI,CACP1R,GAAKsZ,KAAKtZ,EAAIqZ,KAAKrZ,GAAKgB,EAAKqY,KAAKrZ,EAClCkB,GAAKoY,KAAKpY,EAAImY,KAAKnY,GAAKF,EAAKqY,KAAKnY,EAClC4J,GAAKwO,KAAKxO,EAAIuO,KAAKvO,GAAK9J,EAAKqY,KAAKvO,EAClCC,GAAKuO,KAAKvO,EAAIsO,KAAKtO,GAAK/J,EAAKqY,KAAKtO,KAa1C2G,UAAU6H,YAAc,SAASL,OAAQC,QACrC,IAAIK,GAAK9H,UAAUwH,QACfO,GAAK/H,UAAUyH,QACnB,OAAQrS,KAAKyK,IAAIiI,GAAGrC,eAAesC,GAAGtC,gBAAgB,MAASrQ,KAAKC,IAAIyS,GAAGrC,eAAesC,GAAGtC,gBAAgB,MAajHzF,UAAUgI,WAAa,SAASR,OAAQC,OAAQQ,OAC5C,IACIC,WAAYC,IADZN,YAAc7H,UAAU6H,YAAYL,OAAQC,QAMhD,OAHAU,KAAM,GAEND,WAkaJ,SAA4BE,OAGxB,IAAIC,MAAOC,KAEXD,QADAD,MAAQA,OAAS,CAAC,MAAQ,KAAM,KAAO,UACxBC,OAAS,MAAME,cAC9BD,MAAQF,MAAME,MAAQ,SAAS9H,cACjB,OAAV6H,OAA4B,QAAVA,QAClBA,MAAQ,MAEC,UAATC,MAA6B,UAATA,OACpBA,KAAO,SAEX,MAAO,CAAC,MAAQD,MAAO,KAAOC,MA/ajBE,CAAmBP,QACbI,MAAQH,WAAWI,MAClC,IAAK,UACL,IAAK,WACDH,IAAMN,aAAe,IACrB,MACJ,IAAK,UACDM,IAAMN,aAAe,EACrB,MACJ,IAAK,WACDM,IAAMN,aAAe,EAG7B,OAAOM,KAaXnI,UAAUyI,aAAe,SAASC,UAAWC,UAAW/X,MACpD,IAEIiX,YACAe,sBAAuBP,MAAOC,KAH9BO,UAAY,KACZC,UAAY,EAIhBF,uBADAhY,KAAOA,MAAQ,IACcgY,sBAC7BP,MAAQzX,KAAKyX,MACbC,KAAO1X,KAAK0X,KAEZ,IAAK,IAAI9a,EAAG,EAAGA,EAAImb,UAAU7V,OAAStF,KAClCqa,YAAc7H,UAAU6H,YAAYa,UAAWC,UAAUnb,KACvCsb,YACdA,UAAYjB,YACZgB,UAAY7I,UAAU2I,UAAUnb,KAIxC,OAAIwS,UAAUgI,WAAWU,UAAWG,UAAW,CAAC,MAAQR,MAAM,KAAOC,SAAWM,sBACrEC,WAGPjY,KAAKgY,uBAAsB,EACpB5I,UAAUyI,aAAaC,UAAU,CAAC,OAAQ,QAAQ9X,QAQjE,IAAI+P,MAAQX,UAAUW,MAAQ,CAC1BoI,UAAW,SACXC,aAAc,SACdC,KAAM,MACNC,WAAY,SACZC,MAAO,SACPC,MAAO,SACPC,OAAQ,SACRC,MAAO,MACPC,eAAgB,SAChBC,KAAM,MACNC,WAAY,SACZC,MAAO,SACPC,UAAW,SACXC,YAAa,SACbC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,MAAO,SACPC,eAAgB,SAChBC,SAAU,SACVC,QAAS,SACTC,KAAM,MACNC,SAAU,SACVC,SAAU,SACVC,cAAe,SACfC,SAAU,SACVC,UAAW,SACXC,SAAU,SACVC,UAAW,SACXC,YAAa,SACbC,eAAgB,SAChBC,WAAY,SACZC,WAAY,SACZC,QAAS,SACTC,WAAY,SACZC,aAAc,SACdC,cAAe,SACfC,cAAe,SACfC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,SAAU,SACVC,YAAa,SACbC,QAAS,SACTC,QAAS,SACTC,WAAY,SACZC,UAAW,SACXC,YAAa,SACbC,YAAa,SACbC,QAAS,MACTC,UAAW,SACXC,WAAY,SACZC,KAAM,SACNC,UAAW,SACXC,KAAM,SACNC,MAAO,SACPC,YAAa,SACbC,KAAM,SACNC,SAAU,SACVC,QAAS,SACTC,UAAW,SACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,SAAU,SACVC,cAAe,SACfC,UAAW,SACXC,aAAc,SACdC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,qBAAsB,SACtBC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,UAAW,SACXC,YAAa,SACbC,cAAe,SACfC,aAAc,SACdC,eAAgB,MAChBC,eAAgB,MAChBC,eAAgB,SAChBC,YAAa,SACbC,KAAM,MACNC,UAAW,SACXC,MAAO,SACPC,QAAS,MACTC,OAAQ,SACRC,iBAAkB,SAClBC,WAAY,SACZC,aAAc,SACdC,aAAc,SACdC,eAAgB,SAChBC,gBAAiB,SACjBC,kBAAmB,SACnBC,gBAAiB,SACjBC,gBAAiB,SACjBC,aAAc,SACdC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,YAAa,SACbC,KAAM,SACNC,QAAS,SACTC,MAAO,SACPC,UAAW,SACXC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,cAAe,SACfC,UAAW,SACXC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,WAAY,SACZC,OAAQ,SACRC,cAAe,SACfC,IAAK,MACLC,UAAW,SACXC,UAAW,SACXC,YAAa,SACbC,OAAQ,SACRC,WAAY,SACZC,SAAU,SACVC,SAAU,SACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,SACTC,UAAW,SACXC,UAAW,SACXC,UAAW,SACXC,KAAM,SACNC,YAAa,SACbC,UAAW,SACXC,IAAK,SACLC,KAAM,SACNC,QAAS,SACTC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,MACPC,WAAY,SACZC,OAAQ,MACRC,YAAa,UAIb1L,SAAWzG,UAAUyG,SAOzB,SAAcxY,GACV,IAAImkB,QAAU,GACd,IAAK,IAAI5kB,KAAKS,EACNA,EAAEoB,eAAe7B,KACjB4kB,QAAQnkB,EAAET,IAAMA,GAGxB,OAAO4kB,QAdyBC,CAAK1R,OAkBzC,SAAS0B,WAAWhJ,GAOhB,OANAA,EAAIiZ,WAAWjZ,IAEXkZ,MAAMlZ,IAAMA,EAAI,GAAKA,EAAI,KACzBA,EAAI,GAGDA,EAIX,SAASuI,QAAQ3S,EAAG4Q,MAgCpB,SAAwB5Q,GACpB,MAAmB,iBAALA,IAAoC,GAAnBA,EAAEujB,QAAQ,MAAgC,IAAlBF,WAAWrjB,IAhC9DwjB,CAAexjB,KAAMA,EAAI,QAE7B,IAAIyjB,eAkCR,SAAsBzjB,GAClB,MAAoB,iBAANA,IAAqC,GAAnBA,EAAEujB,QAAQ,KAnCrBG,CAAa1jB,GASlC,OARAA,EAAI0Q,QAAQE,IAAKD,QAAQ,EAAG0S,WAAWrjB,KAGnCyjB,iBACAzjB,EAAI2jB,SAAS3jB,EAAI4Q,IAAK,IAAM,KAI3BzK,KAAKyd,IAAI5jB,EAAI4Q,KAAO,KACd,EAIH5Q,EAAI4Q,IAAOyS,WAAWzS,KAIlC,SAASgE,QAAQiP,KACb,OAAOnT,QAAQ,EAAGC,QAAQ,EAAGkT,MAIjC,SAASzR,gBAAgByR,KACrB,OAAOF,SAASE,IAAK,IAezB,SAASvP,KAAK1V,GACV,OAAmB,GAAZA,EAAEiF,OAAc,IAAMjF,EAAI,GAAKA,EAI1C,SAASiU,oBAAoB7S,GAKzB,OAJIA,GAAK,IACLA,EAAS,IAAJA,EAAW,KAGbA,EAIX,SAASwU,oBAAoB3V,GACzB,OAAOsH,KAAKsK,MAAsB,IAAhB4S,WAAWxkB,IAAU+E,SAAS,IAGpD,SAASyO,oBAAoBN,GACzB,OAAQK,gBAAgBL,GAAK,IAGjC,IASQ+R,SAKAC,kBACAC,kBAfJrS,UAcIoS,kBAAoB,eALpBD,SAAW,8CAKoC,aAAeA,SAAW,aAAeA,SAAW,YACnGE,kBAAoB,cAAgBF,SAAW,aAAeA,SAAW,aAAeA,SAAW,aAAeA,SAAW,YAE1H,CACHA,SAAU,IAAIG,OAAOH,UACrB5S,IAAK,IAAI+S,OAAO,MAAQF,mBACxBlS,KAAM,IAAIoS,OAAO,OAASD,mBAC1BlS,IAAK,IAAImS,OAAO,MAAQF,mBACxB/R,KAAM,IAAIiS,OAAO,OAASD,mBAC1B/R,IAAK,IAAIgS,OAAO,MAAQF,mBACxB7R,KAAM,IAAI+R,OAAO,OAASD,mBAC1BxR,KAAM,uDACNF,KAAM,uDACNC,KAAM,uEACNJ,KAAM,yEAOd,SAASO,eAAe1B,OACpB,QAASW,SAASmS,SAASlS,KAAKZ,OAgGC1S,OAAOD,QACxCC,OAAOD,QAAU0S,eAIqB,KAAtC,yCAAoB,OAAOA,WAAW,kGA/pC1C,CAsqCG5K,O,kTC/oCI,WACL,MAAM+d,MAAqB,CACzBC,UAAW,KACXC,YAAYC,KAAWC,UACrB,MAAMC,GAAK,IAAIC,aAAa,UAAW,CAAEH,YAErCI,OAAON,WACTM,OAAON,UAAUI,KAGrBG,UAAW,QAGPD,OAAsB,CAC1BN,UAAW,KACXC,YAAYC,KAAWC,UACrB,MAAMC,GAAK,IAAIC,aAAa,UAAW,CAAEH,YACrCH,MAAMC,WACRD,MAAMC,UAAUI,KAGpBG,UAAW,QAEb,MAAO,CAAER,YAAOO,gB,uBAaH,MAAMtjB,IAOnBwjB,YAAYC,SAEV,GAF4B,0EAJT,GAIS,yCAHmB,IAGnB,kCAFU,IAAIC,KAEd,yCAQTN,KACnB,MAAM,GAAEjiB,GAAF,MAAMwiB,MAAN,KAAaT,MAAUE,GAAGF,KAChC,GAzDa,eAyDTS,MAGF,OAFAtkB,KAAKukB,kBAAkBziB,IAAIiiB,GAAGF,kBACvB7jB,KAAKukB,kBAAkBziB,IAIhC,IAAI0iB,QAAQ,CAACtgB,QAASugB,UACpB,MAAMC,QAAU1kB,KAAK2kB,WAAW/lB,IAAI0lB,OACpC,IAAKI,QACH,MAAM,IAAIrkB,MAAO,8BAA6BikB,OAGhDpgB,QAAQwgB,QAAQb,SAEfe,KAAMC,SACL,IAAKA,OACH,OAAO7kB,KAAK8kB,SAASlB,YAAY,CAAEU,MAzE5B,aAyE6CxiB,QAEtD,MAAMijB,eAAiBF,OAAOlkB,IAAIokB,uBAC3BF,OAAOlkB,IAAIokB,gBAClB,MAAMzhB,QAAU,CACdghB,MA9EO,aA+EPxiB,MACA+hB,KAAMgB,QAER7kB,KAAK8kB,SAASlB,YAAYtgB,QAASyhB,kBAEpCC,MAAOC,MACN,MAAM3hB,QAAU,CACdghB,MAtFO,aAuFPxiB,MACA+hB,KAAM,CACJ,SAAS,EACTvlB,KAAM2mB,IAAI3mB,KACVgF,QAAS2hB,IAAI3hB,QACb4hB,MAAOD,IAAIC,QAGfllB,KAAK8kB,SAASlB,YAAYtgB,aA/C9BtD,KAAK8kB,SAAWV,QACZpkB,KAAK8kB,SAASnB,UAChB,MAAM,IAAItjB,MAAM,gFAElBL,KAAK8kB,SAASnB,UAAY3jB,KAAKmlB,kBAkDjCC,KAAcd,MAAeT,KAAWC,UACtC,MAAMhiB,GAAK9B,KAAKqlB,aACV/hB,QAAU,CAAEghB,YAAOxiB,MAAI+hB,WACvBgB,OAAS,IAAIL,QAAQ,CAACtgB,QAASugB,UACnCzkB,KAAKukB,kBAAkBziB,IAAOwjB,OAC5B,GAAIA,KAAKzB,MAAQyB,KAAKzB,KAAL,QAAkB,CACjC,MAAM1gB,MAAQ,IAAI9C,MAAMilB,KAAKzB,KAAKvgB,SAClCH,MAAM7E,KAAOgnB,KAAKzB,KAAKvlB,KACvB6E,MAAM+hB,MAAQI,KAAKzB,KAAKqB,MACxBT,OAAOthB,YAEPe,QAAQohB,KAAKzB,SAKnB,OADA7jB,KAAK8kB,SAASlB,YAAYtgB,QAASwgB,UAC5Be,OAMTjkB,QAAiB0jB,MAAeI,SAC9B,GAAI1kB,KAAK2kB,WAAWY,IAAIjB,OACtB,MAAM,IAAIjkB,MAAO,0CAAyCikB,OAE5DtkB,KAAK2kB,WAAWa,IAAIlB,MAAOI,U,oCAxFV/jB,I,iBACK,qB,uOCvDC,IACzBL,OAAOsjB,aAA4C,oBAAtB6B,mBAAqC5iB,gBAAgB4iB,kB,uBAEtD,IACO,oBAA5BC,yBAA2C7iB,gBAAgB6iB,wB,8BAIlEhO,KAEA,MAAMiO,SACa,oBAAVC,OACPA,MAAM,aACHhB,KAAK,KAAM,GACXI,MAAM,KAAM,GACjB,OAAOa,SAAU1kB,QACf,SAAUwkB,SACR,MAAM,IAAItlB,MAAM,sCAElB,OAAOqX,MAAMvW,U","file":"nodeRuntimeWorker-fe9694bb066c3e23dd5a.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","// @flow\n//\n//  Copyright (c) 2019-present, Cruise LLC\n//\n//  This source code is licensed under the Apache License, Version 2.0,\n//  found in the LICENSE file in the root directory of this source tree.\n//  You may not use this file except in compliance with the License.\nimport { registerNode, processMessage } from \"webviz-core/src/players/UserNodePlayer/nodeRuntimeWorker/registry\";\nimport Rpc from \"webviz-core/src/util/Rpc\";\nimport { enforceFetchIsBlocked, inSharedWorker } from \"webviz-core/src/util/workers\";\n\nif (!inSharedWorker()) {\n  // In Chrome, web workers currently (as of March 2020) inherit their Content Security Policy from\n  // their associated page, ignoring any policy in the headers of their source file. SharedWorkers\n  // use the headers from their source files, though, and we use a CSP to prohibit node playground\n  // workers from making web requests (using enforceFetchIsBlocked, below.)\n  // TODO(steel): Change this back to a web worker if/when Chrome changes its behavior:\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=1012640\n  throw new Error(\"Not in a SharedWorker.\");\n}\n\nglobal.onconnect = (e) => {\n  const port = e.ports[0];\n  const rpc = new Rpc(port);\n  // Just check fetch is blocked on registration, don't slow down message processing.\n  rpc.receive(\"registerNode\", enforceFetchIsBlocked(registerNode));\n  rpc.receive(\"processMessage\", processMessage);\n  port.start();\n};\n","// @flow\n//\n//  Copyright (c) 2019-present, Cruise LLC\n//\n//  This source code is licensed under the Apache License, Version 2.0,\n//  found in the LICENSE file in the root directory of this source tree.\n//  You may not use this file except in compliance with the License.\nimport path from \"path\";\n\nimport type { ProcessMessageOutput, RegistrationOutput } from \"webviz-core/src/players/UserNodePlayer/types\";\nimport { DEFAULT_WEBVIZ_NODE_PREFIX } from \"webviz-core/src/util/globalConstants\";\n\n// Each node runtime worker runs one node at a time, hence why we have one\n// global declaration of 'nodeCallback'.\nlet nodeCallback: (message: {}) => void | {} = () => {};\n\nif (process.env.NODE_ENV === \"test\") {\n  // When in tests, clear out the callback between tests.\n  beforeEach(() => {\n    nodeCallback = () => {};\n  });\n}\n\nexport const containsFuncDeclaration = (args: any[]) => {\n  for (const arg of args) {\n    if (typeof arg === \"function\") {\n      return true;\n    } else if (arg != null && typeof arg === \"object\") {\n      for (const value of Object.values(arg)) {\n        if (containsFuncDeclaration([value])) {\n          return true;\n        }\n      }\n    }\n  }\n  return false;\n};\n\nexport const stringifyFuncsInObject = (arg: any) => {\n  if (typeof arg === \"function\") {\n    return `${arg}`;\n  } else if (arg != null && typeof arg === \"object\") {\n    const newArg = { ...arg };\n    for (const [key, value] of Object.entries(arg)) {\n      newArg[key] = stringifyFuncsInObject(value);\n    }\n    return newArg;\n  }\n  return arg;\n};\n\nconst getArgsToPrint = (args: any[]) => {\n  return args.map(stringifyFuncsInObject).map((arg) => (typeof arg === \"object\" ? JSON.stringify(arg) : arg));\n};\n\n// Exported for tests.\nexport const requireImplementation = (id: string, projectCode: Map<string, string>) => {\n  const requestedFile = `${path.join(DEFAULT_WEBVIZ_NODE_PREFIX, id)}.js`;\n  for (const [file, source] of projectCode.entries()) {\n    if (requestedFile.endsWith(file)) {\n      const sourceExports = {};\n      const require = (reqId: string) => requireImplementation(reqId, projectCode);\n      // $FlowFixMe\n      new Function(\"exports\", \"require\", source)(sourceExports, require); /* eslint-disable-line no-new-func */\n      return sourceExports;\n    }\n  }\n  throw new Error(`User node required unknown module: '${id}'`);\n};\n\nexport const registerNode = ({\n  nodeCode,\n  projectCode,\n}: {\n  nodeCode: string,\n  projectCode: Map<string, string>,\n}): RegistrationOutput => {\n  const userNodeLogs = [];\n  const userNodeDiagnostics = [];\n  self.log = function(...args) {\n    // recursively check that args do not contain a function declaration\n    if (containsFuncDeclaration(args)) {\n      const argsToPrint = getArgsToPrint(args);\n      throw new Error(`Cannot invoke log() with a function argument (registerNode) - log(${argsToPrint.join(\", \")})`);\n    }\n    userNodeLogs.push(...args.map((value) => ({ source: \"registerNode\", value })));\n  };\n  // TODO: Blacklist global methods.\n  try {\n    const nodeExports = {};\n\n    const require = (id: string) => requireImplementation(id, projectCode);\n\n    // Using new Function in order to execute user-input text in Node Playground as code\n    // $FlowFixMe\n    new Function(\"exports\", \"require\", nodeCode)(nodeExports, require); /* eslint-disable-line no-new-func */\n    nodeCallback = nodeExports.default;\n    return {\n      error: null,\n      userNodeLogs,\n      userNodeDiagnostics,\n    };\n  } catch (e) {\n    const error = e.toString();\n    return {\n      error: error.length ? error : `Unknown error encountered registering this node.`,\n      userNodeLogs,\n      userNodeDiagnostics,\n    };\n  }\n};\n\nexport const processMessage = ({ message }: { message: {} }): ProcessMessageOutput => {\n  const userNodeLogs = [];\n  const userNodeDiagnostics = [];\n  self.log = function(...args) {\n    // recursively check that args do not contain a function declaration\n    if (containsFuncDeclaration(args)) {\n      const argsToPrint = getArgsToPrint(args);\n      throw new Error(`Cannot invoke log() with a function argument (processMessage) - log(${argsToPrint.join(\", \")})`);\n    }\n    userNodeLogs.push(...args.map((value) => ({ source: \"processMessage\", value })));\n  };\n  try {\n    const newMessage = nodeCallback(message);\n    return { message: newMessage, error: null, userNodeLogs, userNodeDiagnostics };\n  } catch (e) {\n    // TODO: Be able to map line numbers from errors.\n    const error = e.toString();\n    return {\n      message: null,\n      error: error.length ? error : \"Unknown error encountered running this node.\",\n      userNodeLogs,\n      userNodeDiagnostics,\n    };\n  }\n};\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// @flow\n//\n//  Copyright (c) 2018-present, Cruise LLC\n//\n//  This source code is licensed under the Apache License, Version 2.0,\n//  found in the LICENSE file in the root directory of this source tree.\n//  You may not use this file except in compliance with the License.\nimport { colors } from \"webviz-core/src/util/sharedStyleConstants\";\n\n// URL params\n// DANGER: if you change this you break existing urls\nexport const REMOTE_BAG_URL_QUERY_KEY = \"remote-bag-url\";\nexport const REMOTE_BAG_URL_2_QUERY_KEY = \"remote-bag-url-2\";\nexport const ROSBRIDGE_WEBSOCKET_URL_QUERY_KEY = \"rosbridge-websocket-url\";\nexport const MEASURE_DATA_PROVIDERS_QUERY_KEY = \"_measureDataProviders\";\nexport const DEMO_QUERY_KEY = \"demo\";\nexport const SEEK_TO_QUERY_KEY = \"seek-to\";\nexport const LAYOUT_QUERY_KEY = \"layout\";\nexport const LAYOUT_URL_QUERY_KEY = \"layout-url\";\nexport const PATCH_LAYOUT_QUERY_KEY = \"layout-patch\";\nexport const OLD_GLOBAL_VARIABLES_QUERY_KEY = \"global-data\";\nexport const GLOBAL_VARIABLES_QUERY_KEY = \"global-variables\";\nexport const TITLE_QUERY_KEY = \"title\";\nexport const TEST_EVERYTHING_LAYOUT_QUERY_VAL = \"_integration-test-everything-layout\";\nexport const FRAMELESS = \"frameless\";\n\nexport const DEFAULT_WEBVIZ_NODE_PREFIX = \"/webviz_node/\";\n\nexport const TRANSFORM_TOPIC = \"/tf\";\nexport const TRANSFORM_STATIC_TOPIC = \"/tf_static\";\nexport const DIAGNOSTIC_TOPIC = \"/diagnostics\";\nexport const ROSOUT_TOPIC = \"/rosout\";\nexport const SOCKET_KEY = \"dataSource.websocket\";\nexport const SECOND_SOURCE_PREFIX = \"/webviz_source_2\";\n\nexport const POINT_CLOUD_DATATYPE = \"sensor_msgs/PointCloud2\";\nexport const POSE_STAMPED_DATATYPE = \"geometry_msgs/PoseStamped\";\nexport const LASER_SCAN_DATATYPE = \"sensor_msgs/LaserScan\";\nexport const TF_DATATYPE = \"tf2_msgs/TFMessage\";\n\nexport const USER_ERROR_PREFIX = \"[WEBVIZ USER ERROR]\";\n\n// In testing there seems to be a small (~4%) performance penalty to freezing messages, so for now\n// we only do it in development/testing. StackOverflow says that there should be no difference\n// though: https://stackoverflow.com/questions/8435080/any-performance-benefit-to-locking-down-javascript-objects\n// So maybe we want to always do the freezing at some point? Probably requires some more testing to\n// be sure.\nexport const FREEZE_MESSAGES = process.env.NODE_ENV !== \"production\";\n\nexport const COLORS = {\n  RED: { r: 1.0, g: 0.2, b: 0.2, a: 1.0 },\n  BLUE: { r: 0.4, g: 0.4, b: 1.0, a: 1.0 },\n  YELLOW: { r: 0.9, g: 1.0, b: 0.1, a: 1.0 },\n  ORANGE: { r: 1.0, g: 0.6, b: 0.2, a: 1.0 },\n  GREEN: { r: 0.1, g: 0.9, b: 0.3, a: 1.0 },\n  GRAY: { r: 0.4, g: 0.4, b: 0.4, a: 1.0 },\n  PURPLE: { r: 1.0, g: 0.2, b: 1.0, a: 1.0 },\n  WHITE: { r: 1.0, g: 1.0, b: 1.0, a: 1.0 },\n  PINK: { r: 1.0, g: 0.4, b: 0.6, a: 1.0 },\n  LIGHT_RED: { r: 0.9, g: 0.1, b: 0.1, a: 1.0 },\n  LIGHT_GREEN: { r: 0.4, g: 0.9, b: 0.4, a: 1.0 },\n  LIGHT_BLUE: { r: 0.4, g: 0.4, b: 1, a: 1.0 },\n};\n\n// http://docs.ros.org/melodic/api/visualization_msgs/html/msg/Marker.html\nexport const MARKER_MSG_TYPES = {\n  ARROW: 0,\n  CUBE: 1,\n  SPHERE: 2,\n  CYLINDER: 3,\n  LINE_STRIP: 4,\n  LINE_LIST: 5,\n  CUBE_LIST: 6,\n  SPHERE_LIST: 7,\n  POINTS: 8,\n  TEXT_VIEW_FACING: 9,\n  MESH_RESOURCE: 10,\n  TRIANGLE_LIST: 11,\n  INSTANCED_LINE_LIST: 108,\n};\n\nexport const POSE_MARKER_SCALE = { x: 2, y: 2, z: 0.1 };\n\n// Planning\nexport const MILES_PER_HOUR_TO_METERS_PER_SECOND = 0.44703;\nexport const METERS_PER_SECOND_TO_MILES_PER_HOUR = 2.23694;\n\nexport const jsonTreeTheme = {\n  base00: \"transparent\", // bg\n  base07: colors.BLUEL1, // text\n  base0B: colors.YELLOW1, // string & date, item string\n  base09: colors.REDL1, // # & boolean\n  base08: colors.RED, // null, undefined, function, & symbol\n  base0D: colors.BLUEL1, // label & arrow\n  base03: colors.DARK9, // item string expanded\n};\n\nexport const TAB_PANEL_TYPE = \"Tab\";\n\nexport const LINED_CONVEX_HULL_RENDERING_SETTING = \"LinedConvexHull\";\n","// @flow\n//\n//  Copyright (c) 2019-present, Cruise LLC\n//\n//  This source code is licensed under the Apache License, Version 2.0,\n//  found in the LICENSE file in the root directory of this source tree.\n//  You may not use this file except in compliance with the License.\n\nimport tinyColor from \"tinycolor2\";\n\nconst baseColors = {\n  DARK: \"#08080a\",\n  DARK1: \"#111114\",\n  DARK2: \"#1a1a1f\",\n  DARK3: \"#242429\",\n  DARK4: \"#2d2d33\",\n  DARK5: \"#36363d\",\n  DARK6: \"#404047\",\n  DARK7: \"#4b4b52\",\n  DARK8: \"#55555c\",\n  DARK9: \"#606066\",\n\n  LIGHT: \"#ffffff\",\n  LIGHT1: \"#f0f0f0\",\n  LIGHT2: \"#cacacc\",\n\n  GRAY: \"#9f9fa2\",\n  GRAY2: \"#2d2c33\",\n\n  MAGENTAL1: \"#e05ffa\",\n  MAGENTA: \"#c83deb\",\n  MAGENTA1: \"#b024d6\",\n\n  PURPLEL1: \"#9987ff\",\n  PURPLE: \"#7c6bff\",\n  PURPLE1: \"#6858f5\",\n\n  BLUEL1: \"#45a5ff\",\n  BLUE: \"#248eff\",\n  BLUE1: \"#0f71f2\",\n\n  TEALL1: \"#2abed1\",\n  TEAL: \"#00a8c2\",\n  TEAL1: \"#0090ad\",\n\n  GREENL1: \"#1abd89\",\n  GREEN: \"#00a375\",\n  GREEN1: \"#008768\",\n\n  LIMEL1: \"#6bd66f\",\n  LIME: \"#4ac252\",\n  LIME1: \"#31ad49\",\n\n  YELLOWL1: \"#f5d358\",\n  YELLOW: \"#f7be00\",\n  YELLOW1: \"#eba800\",\n\n  ORANGEL1: \"#fc8942\",\n  ORANGE: \"#f76c1b\",\n  ORANGE1: \"#e5540b\",\n\n  REDL1: \"#ff6b82\",\n  RED: \"#f54966\",\n  RED1: \"#db3553\",\n  RED2: \"#ff7c96\",\n};\n\nexport const colors = {\n  ...baseColors,\n  PRIMARY: baseColors.PURPLE,\n  TEXT_MUTED: baseColors.GRAY,\n  HIGHLIGHT: baseColors.BLUE,\n  // TODO:(Audrey): !!! need design review. Don't use these colors until TopicGrouping feature is finished.\n  HOVER_BACKGROUND_COLOR: tinyColor(baseColors.PURPLE)\n    .setAlpha(0.2)\n    .toRgbString(),\n\n  DISABLED: baseColors.DARK9,\n  TEXTL1: baseColors.LIGHT2,\n  ACTION: baseColors.BLUE,\n  TEXT: baseColors.LIGHT1,\n  TOOLBAR: baseColors.DARK2,\n  TOOLBARL1: baseColors.DARK4,\n  BRIGHT_YELLOW: \"#f6ff00\",\n};\n\nexport const textSize = {\n  SMALL: \"12px\",\n  NORMAL: \"14px\",\n  LARGE: \"16px\",\n  H5: \"20px\",\n  H4: \"24px\",\n  H3: \"32px\",\n  H2: \"48px\",\n  H1: \"64px\",\n};\n\nexport const rounded = {\n  SMALL: \"2px\",\n  NORMAL: \"4px\",\n  LARGE: \"8px\",\n  PILL: \"999px\",\n  CIRCLE: \"50%\",\n};\n","// TinyColor v1.4.1\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","// @flow\n//\n//  Copyright (c) 2018-present, Cruise LLC\n//\n//  This source code is licensed under the Apache License, Version 2.0,\n//  found in the LICENSE file in the root directory of this source tree.\n//  You may not use this file except in compliance with the License.\n\n// this type mirrors the MessageChannel and MessagePort APIs which are available on\n// instances of web-workers and shared-workers respectively, as well as avaiable on\n// 'global' within them.\nexport interface Channel {\n  postMessage(data: any, transfer?: any[]): void;\n  onmessage: null | ((ev: MessageEvent) => mixed);\n}\n\n// Flow complains when some variables are declared with the above interface type, but\n// not when given this non-interface type...\nexport type ChannelImpl = {\n  postMessage(data: any, transfer?: any[]): void,\n  onmessage: null | ((ev: MessageEvent) => mixed),\n};\n\nconst RESPONSE = \"$$RESPONSE\";\nconst ERROR = \"$$ERROR\";\n\n// helper function to create linked channels for testing\nexport function createLinkedChannels(): { local: Channel, remote: Channel } {\n  const local: ChannelImpl = {\n    onmessage: null,\n    postMessage(data: any, transfer?: Array<ArrayBuffer>) {\n      const ev = new MessageEvent(\"message\", { data });\n      // eslint-disable-next-line no-use-before-define\n      if (remote.onmessage) {\n        remote.onmessage(ev); // eslint-disable-line no-use-before-define\n      }\n    },\n    terminate: () => {},\n  };\n\n  const remote: ChannelImpl = {\n    onmessage: null,\n    postMessage(data: any, transfer?: Array<ArrayBuffer>) {\n      const ev = new MessageEvent(\"message\", { data });\n      if (local.onmessage) {\n        local.onmessage(ev);\n      }\n    },\n    terminate: () => {},\n  };\n  return { local, remote };\n}\n\n// This class allows you to hook up bi-directional async calls across web-worker\n// boundaries where a single call to or from a worker can 'wait' on the response.\n// Errors in receivers are propigated back to the caller as a rejection.\n// It also supports returning transferrables over the web-worker postMessage api,\n// which was the main shortcomming with the worker-rpc npm module.\n// To attach rpc to an instance of a worker in the main thread:\n//   const rpc = new Rpc(workerInstace);\n// To attach rpc within an a web worker:\n//   const rpc = new Rpc(global);\n// Check out the tests for more examples.\nexport default class Rpc {\n  static transferrables = \"$$TRANSFERRABLES\";\n  _channel: Channel;\n  _messageId: number = 0;\n  _pendingCallbacks: { [number]: (any) => void } = {};\n  _receivers: Map<string, (any) => any> = new Map();\n\n  constructor(channel: Channel) {\n    this._channel = channel;\n    if (this._channel.onmessage) {\n      throw new Error(\"channel.onmessage is already set. Can only use one Rpc instance per channel.\");\n    }\n    this._channel.onmessage = this._onChannelMessage;\n  }\n\n  _onChannelMessage = (ev: MessageEvent) => {\n    const { id, topic, data } = (ev.data: any);\n    if (topic === RESPONSE) {\n      this._pendingCallbacks[id](ev.data);\n      delete this._pendingCallbacks[id];\n      return;\n    }\n    // invoke the receive handler in a promise so if it throws synchronously we can reject\n    new Promise((resolve, reject) => {\n      const handler = this._receivers.get(topic);\n      if (!handler) {\n        throw new Error(`no receiver registered for ${topic}`);\n      }\n      // This works both when `handler` returns a value or a Promise.\n      resolve(handler(data));\n    })\n      .then((result) => {\n        if (!result) {\n          return this._channel.postMessage({ topic: RESPONSE, id });\n        }\n        const transferrables = result[Rpc.transferrables];\n        delete result[Rpc.transferrables];\n        const message = {\n          topic: RESPONSE,\n          id,\n          data: result,\n        };\n        this._channel.postMessage(message, transferrables);\n      })\n      .catch((err) => {\n        const message = {\n          topic: RESPONSE,\n          id,\n          data: {\n            [ERROR]: true,\n            name: err.name,\n            message: err.message,\n            stack: err.stack,\n          },\n        };\n        this._channel.postMessage(message);\n      });\n  };\n\n  // send a message across the rpc boundary to a receiver on the other side\n  // this returns a promise for the receiver's response.  If there is no registered\n  // receiver for the given topic, this method throws\n  send<TResult>(topic: string, data: any, transfer?: any[]): Promise<TResult> {\n    const id = this._messageId++;\n    const message = { topic, id, data };\n    const result = new Promise((resolve, reject) => {\n      this._pendingCallbacks[id] = (info) => {\n        if (info.data && info.data[ERROR]) {\n          const error = new Error(info.data.message);\n          error.name = info.data.name;\n          error.stack = info.data.stack;\n          reject(error);\n        } else {\n          resolve(info.data);\n        }\n      };\n    });\n    this._channel.postMessage(message, transfer);\n    return result;\n  }\n\n  // register a receiver for a given message on a topic\n  // only one receiver can be registered per topic and currently\n  // 'deregistering' a receiver is not supported since this is not common\n  receive<T, TOut>(topic: string, handler: (T) => TOut) {\n    if (this._receivers.has(topic)) {\n      throw new Error(`Receiver already registered for topic: ${topic}`);\n    }\n    this._receivers.set(topic, handler);\n  }\n}\n","// @flow\n//\n//  Copyright (c) 2019-present, Cruise LLC\n//\n//  This source code is licensed under the Apache License, Version 2.0,\n//  found in the LICENSE file in the root directory of this source tree.\n//  You may not use this file except in compliance with the License.\n\n/* eslint-disable no-undef */\nexport const inWebWorker = () =>\n  global.postMessage && typeof WorkerGlobalScope !== \"undefined\" && self instanceof WorkerGlobalScope;\n\nexport const inSharedWorker = () =>\n  typeof SharedWorkerGlobalScope !== \"undefined\" && self instanceof SharedWorkerGlobalScope;\n/* eslint-enable no-undef */\n\nexport const enforceFetchIsBlocked = <R, Args: $ReadOnlyArray<mixed>>(\n  fn: (...args: Args) => R\n): ((...args: Args) => Promise<R>) => {\n  const canFetch =\n    typeof fetch !== \"undefined\" &&\n    fetch(\"data:test\")\n      .then(() => true)\n      .catch(() => false);\n  return async (...args) => {\n    if (await canFetch) {\n      throw new Error(\"Content security policy too loose.\");\n    }\n    return fn(...args);\n  };\n};\n"],"sourceRoot":""}