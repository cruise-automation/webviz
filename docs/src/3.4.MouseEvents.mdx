import { MouseEvents, MouseEventsInstanced } from './jsx/allLiveEditors.js';


# MouseEvents

Currently Worldview supports the following mouse event handlers: `onDoubleClick`, `onMouseDown`, `onMouseUp`, `onMouseMove`, and `onClick`. When a supported DOM event is fired, the event handler will be triggered with the original event object and additional event information which can help build interactive views.

| Name            | type           | Default | Description                                                                                  |
| --------------- | -------------- | ------- | -------------------------------------------------------------------------------------------- |
| `onDoubleClick` | `MouseHandler` |         |                                                                                              |
| `onMouseDown`   | `MouseHandler` |         |                                                                                              |
| `onMouseUp`     | `MouseHandler` |         |                                                                                              |
| `onMouseMove`   | `MouseHandler` |         | only available if the `hitmapOnMouseMove` prop is set to `true` on the `Worldview` component |
| `onClick`       | `MouseHandler` |         |                                                                                              |

## Worldview Level Handler
- `ray`: the raw raycasting information including `dir` (direction), `origin`, and `point` (all in `Vec3` format).
- `objectId`: the `hitmapId` that you specified in the regl commands through `getHitmapId` mapping. Usually you'd use `getHitmapId={(marker) => marker.id}` to generate the hitmapId.

Sample usage:

```js
<Worldview onClick={(evt, { objectId }) => console.log("You clicked on", objectId)}>
  <Cubes getHitmapId={(marker) => marker.id}>{cubes}</Cubes>
  {/* Other command children */}
</Worldview>
```



## Command Component Level Handlers
- `ray`: the raw raycasting information including `dir` (direction), `origin`, and `point` (all in `Vec3` format).
- `object`: the object that you interacted with.

Sample usage:

```js
<Worldview>
  <Cubes
    getHitmapId={(marker) => marker.id}
    onClick={(evt, { object }) => console.log("You clicked on", object)}
  >
    {cubes}
  </Cubes>
</Worldview>
```

## Full Example

<MouseEvents />

## HitmapId Mapping for Instanced Objects
Usually using instanced objects can help improve rendering performance, e.g. an instanced sphere can contain thousands of spheres. When the user clicks a single sphere, the mapped instanceId (returned as `objectId`) which was generated through `getHitmapId` function will be returned from the event. A common way to generate the instanceId is:  `getHitmapId={(marker, pointIndex) => marker.id + pointIndex}`.

<MouseEventsInstanced />
